const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["js/index-D6N9UFmz.js","js/antd-Cg7VdY-o.js","js/react-BfGmP8I0.js","js/index-CnJGsdlq.js","js/index-NfaKkn0Z.js","js/index-B3rhn5qL.js"])))=>i.map(i=>d[i]);
var S6=Object.defineProperty,C6=Object.defineProperties;var w6=Object.getOwnPropertyDescriptors;var zx=Object.getOwnPropertySymbols;var oO=Object.prototype.hasOwnProperty,sO=Object.prototype.propertyIsEnumerable;var sp=(n,e)=>(e=Symbol[n])?e:Symbol.for("Symbol."+n),T6=n=>{throw TypeError(n)},lO=Math.pow,YT=(n,e,t)=>e in n?S6(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,qe=(n,e)=>{for(var t in e||(e={}))oO.call(e,t)&&YT(n,t,e[t]);if(zx)for(var t of zx(e))sO.call(e,t)&&YT(n,t,e[t]);return n},mn=(n,e)=>C6(n,w6(e));var lp=(n,e)=>{var t={};for(var r in n)oO.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&zx)for(var r of zx(n))e.indexOf(r)<0&&sO.call(n,r)&&(t[r]=n[r]);return t};var Mc=(n,e,t)=>YT(n,typeof e!="symbol"?e+"":e,t);var Bt=(n,e,t)=>new Promise((r,i)=>{var a=l=>{try{s(t.next(l))}catch(c){i(c)}},o=l=>{try{s(t.throw(l))}catch(c){i(c)}},s=l=>l.done?r(l.value):Promise.resolve(l.value).then(a,o);s((t=t.apply(n,e)).next())}),Yd=function(n,e){this[0]=n,this[1]=e},KT=(n,e,t)=>{var r=(o,s,l,c)=>{try{var d=t[o](s),h=(s=d.value)instanceof Yd,m=d.done;Promise.resolve(h?s[0]:s).then(v=>h?r(o==="return"?o:"next",s[1]?{done:v.done,value:v.value}:v,l,c):l({value:v,done:m})).catch(v=>r("throw",v,l,c))}catch(v){c(v)}},i=o=>a[o]=s=>new Promise((l,c)=>r(o,s,l,c)),a={};return t=t.apply(n,e),a[sp("asyncIterator")]=()=>a,i("next"),i("throw"),i("return"),a},ZT=n=>{var e=n[sp("asyncIterator")],t=!1,r,i={};return e==null?(e=n[sp("iterator")](),r=a=>i[a]=o=>e[a](o)):(e=e.call(n),r=a=>i[a]=o=>{if(t){if(t=!1,a==="throw")throw o;return o}return t=!0,{done:!1,value:new Yd(new Promise(s=>{var l=e[a](o);l instanceof Object||T6("Object expected"),s(l)}),1)}}),i[sp("iterator")]=()=>i,r("next"),"throw"in e?r("throw"):i.throw=a=>{throw a},"return"in e&&r("return"),i},cO=(n,e,t)=>(e=n[sp("asyncIterator")])?e.call(n):(n=n[sp("iterator")](),e={},t=(r,i)=>(i=n[r])&&(e[r]=a=>new Promise((o,s,l)=>(a=i.call(n,a),l=a.done,Promise.resolve(a.value).then(c=>o({value:c,done:l}),s)))),t("next"),t("return"),e);import{g as ri,r as P,R as Oe,b as r3,c as da,a as R0,d as uO,e as M6,u as BR,f as bC,O as xC,h as zR,i as E6,j as A6,k as i3,L as Qp,N as WE,l as R6,m as P6}from"./react-BfGmP8I0.js";import{_ as R,a as Xt,b as qu,c as Xu,d as ne,e as Dt,f as at,m as P0,g as gr,s as O6,h as F6,i as I6,j as Pn,u as D6,r as L6,t as bs,C as Lt,l as N6,k as JT,n as U6,o as B6,p as z6,q as H6,v as Rn,B as lr,w as _C,x as SC,y as Ll,R as k6,A as j6,z as $6,D as V6,E as G6,F as W6,G as q6,H as X6,I as Y6,J as K6,K as Z6,L as J6,M as Q6,N as eV,O as tV,P as nV,Q as rV,S as iV,T as aV,U as oV,V as sV,W as lV,X as cV,Y as uV,Z as dV,$ as fV,a0 as hV,a1 as pV,a2 as mV,a3 as gV,a4 as vV,a5 as yV,a6 as bV,a7 as xV,a8 as _V,a9 as qc,aa as my,ab as pn,ac as vo,ad as Kf,ae as SV,af as QT,ag as CV,ah as Ra,ai as Xs,aj as wV,ak as $n,al as TV,am as zi,an as hn,ao as ku,ap as MV,aq as yS,ar as ei,as as Yu,at as EV,au as a3,av as AV,aw as lm,ax as o3,ay as Nf,az as RV,aA as PV,aB as OV,aC as dO,aD as FV,aE as IV,aF as DV,aG as qE,aH as LV,aI as NV,aJ as UV,aK as BV,aL as s3,aM as zV,aN as cm,aO as bS,aP as xS,aQ as HV,aR as kV,aS as Uf,aT as jV,aU as l3,aV as HR,aW as Ai,aX as Hx,aY as eM,aZ as $V,a_ as fO,a$ as VV,b0 as GV}from"./antd-Cg7VdY-o.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var c3={exports:{}},CC={};/**
* @license React
* react-jsx-runtime.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var WV=Symbol.for("react.transitional.element"),qV=Symbol.for("react.fragment");function u3(n,e,t){var r=null;if(t!==void 0&&(r=""+t),e.key!==void 0&&(r=""+e.key),"key"in e){t={};for(var i in e)i!=="key"&&(t[i]=e[i])}else t=e;return e=t.ref,{$$typeof:WV,type:n,key:r,ref:e!==void 0?e:null,props:t}}CC.Fragment=qV;CC.jsx=u3;CC.jsxs=u3;c3.exports=CC;var w=c3.exports,XV=typeof Element!="undefined",YV=typeof Map=="function",KV=typeof Set=="function",ZV=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function eS(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;var t,r,i;if(Array.isArray(n)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(!eS(n[r],e[r]))return!1;return!0}var a;if(YV&&n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(a=n.entries();!(r=a.next()).done;)if(!e.has(r.value[0]))return!1;for(a=n.entries();!(r=a.next()).done;)if(!eS(r.value[1],e.get(r.value[0])))return!1;return!0}if(KV&&n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(a=n.entries();!(r=a.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(ZV&&ArrayBuffer.isView(n)&&ArrayBuffer.isView(e)){if(t=n.length,t!=e.length)return!1;for(r=t;r--!==0;)if(n[r]!==e[r])return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf&&typeof n.valueOf=="function"&&typeof e.valueOf=="function")return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString&&typeof n.toString=="function"&&typeof e.toString=="function")return n.toString()===e.toString();if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(XV&&n instanceof Element)return!1;for(r=t;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&n.$$typeof)&&!eS(n[i[r]],e[i[r]]))return!1;return!0}return n!==n&&e!==e}var JV=function(e,t){try{return eS(e,t)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const QV=ri(JV);var e8=function(n,e,t,r,i,a,o,s){if(!n){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[t,r,i,a,o,s],d=0;l=new Error(e.replace(/%s/g,function(){return c[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},t8=e8;const hO=ri(t8);var n8=function(e,t,r,i){var a=r?r.call(i,e,t):void 0;if(a!==void 0)return!!a;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(t),c=0;c<o.length;c++){var d=o[c];if(!l(d))return!1;var h=e[d],m=t[d];if(a=r?r.call(i,h,m,d):void 0,a===!1||a===void 0&&h!==m)return!1}return!0};const r8=ri(n8);var d3=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(d3||{}),tM={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},pO=Object.values(d3),kR={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},i8=Object.entries(kR).reduce((n,[e,t])=>(n[t]=e,n),{}),nl="data-rh",em={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},tm=(n,e)=>{for(let t=n.length-1;t>=0;t-=1){const r=n[t];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},a8=n=>{let e=tm(n,"title");const t=tm(n,em.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const r=tm(n,em.DEFAULT_TITLE);return e||r||void 0},o8=n=>tm(n,em.ON_CHANGE_CLIENT_STATE)||(()=>{}),nM=(n,e)=>e.filter(t=>typeof t[n]!="undefined").map(t=>t[n]).reduce((t,r)=>qe(qe({},t),r),{}),s8=(n,e)=>e.filter(t=>typeof t.base!="undefined").map(t=>t.base).reverse().reduce((t,r)=>{if(!t.length){const i=Object.keys(r);for(let a=0;a<i.length;a+=1){const s=i[a].toLowerCase();if(n.indexOf(s)!==-1&&r[s])return t.concat(r)}}return t},[]),l8=n=>console&&typeof console.warn=="function"&&console.warn(n),Pv=(n,e,t)=>{const r={};return t.filter(i=>Array.isArray(i[n])?!0:(typeof i[n]!="undefined"&&l8(`Helmet: ${n} should be of type "Array". Instead found type "${typeof i[n]}"`),!1)).map(i=>i[n]).reverse().reduce((i,a)=>{const o={};a.filter(l=>{let c;const d=Object.keys(l);for(let m=0;m<d.length;m+=1){const v=d[m],g=v.toLowerCase();e.indexOf(g)!==-1&&!(c==="rel"&&l[c].toLowerCase()==="canonical")&&!(g==="rel"&&l[g].toLowerCase()==="stylesheet")&&(c=g),e.indexOf(v)!==-1&&(v==="innerHTML"||v==="cssText"||v==="itemprop")&&(c=v)}if(!c||!l[c])return!1;const h=l[c].toLowerCase();return r[c]||(r[c]={}),o[c]||(o[c]={}),r[c][h]?!1:(o[c][h]=!0,!0)}).reverse().forEach(l=>i.push(l));const s=Object.keys(o);for(let l=0;l<s.length;l+=1){const c=s[l],d=qe(qe({},r[c]),o[c]);r[c]=d}return i},[]).reverse()},c8=(n,e)=>{if(Array.isArray(n)&&n.length){for(let t=0;t<n.length;t+=1)if(n[t][e])return!0}return!1},u8=n=>({baseTag:s8(["href"],n),bodyAttributes:nM("bodyAttributes",n),defer:tm(n,em.DEFER),encode:tm(n,em.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:nM("htmlAttributes",n),linkTags:Pv("link",["rel","href"],n),metaTags:Pv("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:Pv("noscript",["innerHTML"],n),onChangeClientState:o8(n),scriptTags:Pv("script",["src","innerHTML"],n),styleTags:Pv("style",["cssText"],n),title:a8(n),titleAttributes:nM("titleAttributes",n),prioritizeSeoTags:c8(n,em.PRIORITIZE_SEO_TAGS)}),f3=n=>Array.isArray(n)?n.join(""):n,d8=(n,e)=>{const t=Object.keys(n);for(let r=0;r<t.length;r+=1)if(e[t[r]]&&e[t[r]].includes(n[t[r]]))return!0;return!1},rM=(n,e)=>Array.isArray(n)?n.reduce((t,r)=>(d8(r,e)?t.priority.push(r):t.default.push(r),t),{priority:[],default:[]}):{default:n,priority:[]},mO=(n,e)=>mn(qe({},n),{[e]:void 0}),f8=["noscript","script","style"],XE=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),h3=n=>Object.keys(n).reduce((e,t)=>{const r=typeof n[t]!="undefined"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${r}`:r},""),h8=(n,e,t,r)=>{const i=h3(t),a=f3(e);return i?`<${n} ${nl}="true" ${i}>${XE(a,r)}</${n}>`:`<${n} ${nl}="true">${XE(a,r)}</${n}>`},p8=(n,e,t=!0)=>e.reduce((r,i)=>{const a=i,o=Object.keys(a).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,d)=>{const h=typeof a[d]=="undefined"?d:`${d}="${XE(a[d],t)}"`;return c?`${c} ${h}`:h},""),s=a.innerHTML||a.cssText||"",l=f8.indexOf(n)===-1;return`${r}<${n} ${nl}="true" ${o}${l?"/>":`>${s}</${n}>`}`},""),p3=(n,e={})=>Object.keys(n).reduce((t,r)=>{const i=kR[r];return t[i||r]=n[r],t},e),m8=(n,e,t)=>{const r={key:e,[nl]:!0},i=p3(t,r);return[Oe.createElement("title",i,e)]},tS=(n,e)=>e.map((t,r)=>{const i={key:r,[nl]:!0};return Object.keys(t).forEach(a=>{const s=kR[a]||a;if(s==="innerHTML"||s==="cssText"){const l=t.innerHTML||t.cssText;i.dangerouslySetInnerHTML={__html:l}}else i[s]=t[a]}),Oe.createElement(n,i)}),ys=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>m8(n,e.title,e.titleAttributes),toString:()=>h8(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>p3(e),toString:()=>h3(e)};default:return{toComponent:()=>tS(n,e),toString:()=>p8(n,e,t)}}},g8=({metaTags:n,linkTags:e,scriptTags:t,encode:r})=>{const i=rM(n,tM.meta),a=rM(e,tM.link),o=rM(t,tM.script);return{priorityMethods:{toComponent:()=>[...tS("meta",i.priority),...tS("link",a.priority),...tS("script",o.priority)],toString:()=>`${ys("meta",i.priority,r)} ${ys("link",a.priority,r)} ${ys("script",o.priority,r)}`},metaTags:i.default,linkTags:a.default,scriptTags:o.default}},v8=n=>{const{baseTag:e,bodyAttributes:t,encode:r=!0,htmlAttributes:i,noscriptTags:a,styleTags:o,title:s="",titleAttributes:l,prioritizeSeoTags:c}=n;let{linkTags:d,metaTags:h,scriptTags:m}=n,v={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:v,linkTags:d,metaTags:h,scriptTags:m}=g8(n)),{priority:v,base:ys("base",e,r),bodyAttributes:ys("bodyAttributes",t,r),htmlAttributes:ys("htmlAttributes",i,r),link:ys("link",d,r),meta:ys("meta",h,r),noscript:ys("noscript",a,r),script:ys("script",m,r),style:ys("style",o,r),title:ys("title",{title:s,titleAttributes:l},r)}},YE=v8,kx=[],m3=!!(typeof window!="undefined"&&window.document&&window.document.createElement),KE=class{constructor(n,e){Mc(this,"instances",[]);Mc(this,"canUseDOM",m3);Mc(this,"context");Mc(this,"value",{setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?kx:this.instances,add:n=>{(this.canUseDOM?kx:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?kx:this.instances).indexOf(n);(this.canUseDOM?kx:this.instances).splice(e,1)}}});this.context=n,this.canUseDOM=e||!1,e||(n.helmet=YE({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},y8={},g3=Oe.createContext(y8),Pf,v3=(Pf=class extends P.Component{constructor(t){super(t);Mc(this,"helmetData");this.helmetData=new KE(this.props.context||{},Pf.canUseDOM)}render(){return Oe.createElement(g3.Provider,{value:this.helmetData.value},this.props.children)}},Mc(Pf,"canUseDOM",m3),Pf),cp=(n,e)=>{const t=document.head||document.querySelector("head"),r=t.querySelectorAll(`${n}[${nl}]`),i=[].slice.call(r),a=[];let o;return e&&e.length&&e.forEach(s=>{const l=document.createElement(n);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c))if(c==="innerHTML")l.innerHTML=s.innerHTML;else if(c==="cssText")l.styleSheet?l.styleSheet.cssText=s.cssText:l.appendChild(document.createTextNode(s.cssText));else{const d=c,h=typeof s[d]=="undefined"?"":s[d];l.setAttribute(c,h)}l.setAttribute(nl,"true"),i.some((c,d)=>(o=d,l.isEqualNode(c)))?i.splice(o,1):a.push(l)}),i.forEach(s=>{var l;return(l=s.parentNode)==null?void 0:l.removeChild(s)}),a.forEach(s=>t.appendChild(s)),{oldTags:i,newTags:a}},ZE=(n,e)=>{const t=document.getElementsByTagName(n)[0];if(!t)return;const r=t.getAttribute(nl),i=r?r.split(","):[],a=[...i],o=Object.keys(e);for(const s of o){const l=e[s]||"";t.getAttribute(s)!==l&&t.setAttribute(s,l),i.indexOf(s)===-1&&i.push(s);const c=a.indexOf(s);c!==-1&&a.splice(c,1)}for(let s=a.length-1;s>=0;s-=1)t.removeAttribute(a[s]);i.length===a.length?t.removeAttribute(nl):t.getAttribute(nl)!==o.join(",")&&t.setAttribute(nl,o.join(","))},b8=(n,e)=>{typeof n!="undefined"&&document.title!==n&&(document.title=f3(n)),ZE("title",e)},gO=(n,e)=>{const{baseTag:t,bodyAttributes:r,htmlAttributes:i,linkTags:a,metaTags:o,noscriptTags:s,onChangeClientState:l,scriptTags:c,styleTags:d,title:h,titleAttributes:m}=n;ZE("body",r),ZE("html",i),b8(h,m);const v={baseTag:cp("base",t),linkTags:cp("link",a),metaTags:cp("meta",o),noscriptTags:cp("noscript",s),scriptTags:cp("script",c),styleTags:cp("style",d)},g={},x={};Object.keys(v).forEach(b=>{const{newTags:_,oldTags:C}=v[b];_.length&&(g[b]=_),C.length&&(x[b]=v[b].oldTags)}),e&&e(),l(n,g,x)},Ov=null,x8=n=>{Ov&&cancelAnimationFrame(Ov),n.defer?Ov=requestAnimationFrame(()=>{gO(n,()=>{Ov=null})}):(gO(n),Ov=null)},_8=x8,vO=class extends P.Component{constructor(){super(...arguments);Mc(this,"rendered",!1)}shouldComponentUpdate(e){return!r8(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const i=u8(e.get().map(a=>{const o=qe({},a.props);return delete o.context,o}));v3.canUseDOM?_8(i):YE&&(r=YE(i)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},GE,eNe=(GE=class extends P.Component{shouldComponentUpdate(n){return!QV(mO(this.props,"helmetData"),mO(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,t,r){return mn(qe({},e),{[n.type]:[...e[n.type]||[],qe(qe({},t),this.mapNestedChildrenToProps(n,r))]})}mapObjectTypeChildren(n,e,t,r){switch(n.type){case"title":return mn(qe({},e),{[n.type]:r,titleAttributes:qe({},t)});case"body":return mn(qe({},e),{bodyAttributes:qe({},t)});case"html":return mn(qe({},e),{htmlAttributes:qe({},t)});default:return mn(qe({},e),{[n.type]:qe({},t)})}}mapArrayTypeChildrenToProps(n,e){let t=qe({},e);return Object.keys(n).forEach(r=>{t=mn(qe({},t),{[r]:n[r]})}),t}warnOnInvalidChildren(n,e){return hO(pO.some(t=>n.type===t),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${pO.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),hO(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let t={};return Oe.Children.forEach(n,r=>{if(!r||!r.props)return;const l=r.props,{children:i}=l,a=lp(l,["children"]),o=Object.keys(a).reduce((c,d)=>(c[i8[d]||d]=a[d],c),{});let{type:s}=r;switch(typeof s=="symbol"?s=s.toString():this.warnOnInvalidChildren(r,i),s){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(r,t,o,i);break;default:e=this.mapObjectTypeChildren(r,e,o,i);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const i=this.props,{children:n}=i,e=lp(i,["children"]);let t=qe({},e),{helmetData:r}=e;if(n&&(t=this.mapChildrenToProps(n,t)),r&&!(r instanceof KE)){const a=r;r=new KE(a.context,!0),delete t.helmetData}return r?Oe.createElement(vO,mn(qe({},t),{context:r.value})):Oe.createElement(g3.Consumer,null,a=>Oe.createElement(vO,mn(qe({},t),{context:a})))}},Mc(GE,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),GE);let S8=class extends Oe.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){console.error(e,t)}render(){return this.state.hasError?this.props.fallback?this.props.fallback:w.jsx("h2",{children:"Something went wrong."}):this.props.children}};function gy(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}function C8(n,e){if(!n)return!1;if(n.contains)return n.contains(e);for(var t=e;t;){if(t===n)return!0;t=t.parentNode}return!1}var yO="data-rc-order",bO="data-rc-priority",w8="rc-util-key",JE=new Map;function y3(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.mark;return e?e.startsWith("data-")?e:"data-".concat(e):w8}function wC(n){if(n.attachTo)return n.attachTo;var e=document.querySelector("head");return e||document.body}function T8(n){return n==="queue"?"prependQueue":n?"prepend":"append"}function jR(n){return Array.from((JE.get(n)||n).children).filter(function(e){return e.tagName==="STYLE"})}function b3(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!gy())return null;var t=e.csp,r=e.prepend,i=e.priority,a=i===void 0?0:i,o=T8(r),s=o==="prependQueue",l=document.createElement("style");l.setAttribute(yO,o),s&&a&&l.setAttribute(bO,"".concat(a)),t!=null&&t.nonce&&(l.nonce=t==null?void 0:t.nonce),l.innerHTML=n;var c=wC(e),d=c.firstChild;if(r){if(s){var h=(e.styles||jR(c)).filter(function(m){if(!["prepend","prependQueue"].includes(m.getAttribute(yO)))return!1;var v=Number(m.getAttribute(bO)||0);return a>=v});if(h.length)return c.insertBefore(l,h[h.length-1].nextSibling),l}c.insertBefore(l,d)}else c.appendChild(l);return l}function x3(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=wC(e);return(e.styles||jR(t)).find(function(r){return r.getAttribute(y3(e))===n})}function M8(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=x3(n,e);if(t){var r=wC(e);r.removeChild(t)}}function E8(n,e){var t=JE.get(n);if(!t||!C8(document,t)){var r=b3("",e),i=r.parentNode;JE.set(n,i),n.removeChild(r)}}function c0(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=wC(t),i=jR(r),a=R(R({},t),{},{styles:i});E8(r,a);var o=x3(e,a);if(o){var s,l;if((s=a.csp)!==null&&s!==void 0&&s.nonce&&o.nonce!==((l=a.csp)===null||l===void 0?void 0:l.nonce)){var c;o.nonce=(c=a.csp)===null||c===void 0?void 0:c.nonce}return o.innerHTML!==n&&(o.innerHTML=n),o}var d=b3(n,a);return d.setAttribute(y3(a),e),d}function _3(n,e,t){var r=P.useRef({});return(!("value"in r.current)||t(r.current.condition,e))&&(r.current.value=n(),r.current.condition=e),r.current.value}var QE={},A8=function(e){};function R8(n,e){}function P8(n,e){}function O8(){QE={}}function S3(n,e,t){!e&&!QE[t]&&(n(!1,t),QE[t]=!0)}function Ko(n,e){S3(R8,n,e)}function ma(n,e){S3(P8,n,e)}Ko.preMessage=A8;Ko.resetWarned=O8;Ko.noteOnce=ma;function _S(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=new Set;function i(a,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=r.has(a);if(Ko(!l,"Warning: There may be circular references"),l)return!1;if(a===o)return!0;if(t&&s>1)return!1;r.add(a);var c=s+1;if(Array.isArray(a)){if(!Array.isArray(o)||a.length!==o.length)return!1;for(var d=0;d<a.length;d++)if(!i(a[d],o[d],c))return!1;return!0}if(a&&o&&Xt(a)==="object"&&Xt(o)==="object"){var h=Object.keys(a);return h.length!==Object.keys(o).length?!1:h.every(function(m){return i(a[m],o[m],c)})}return!1}return i(n,e)}var F8="%";function eA(n){return n.join(F8)}var I8=function(){function n(e){Xu(this,n),ne(this,"instanceId",void 0),ne(this,"cache",new Map),ne(this,"extracted",new Set),this.instanceId=e}return qu(n,[{key:"get",value:function(t){return this.opGet(eA(t))}},{key:"opGet",value:function(t){return this.cache.get(t)||null}},{key:"update",value:function(t,r){return this.opUpdate(eA(t),r)}},{key:"opUpdate",value:function(t,r){var i=this.cache.get(t),a=r(i);a===null?this.cache.delete(t):this.cache.set(t,a)}}]),n}(),D8=["children"],O0="data-token-hash",jc="data-css-hash",_f="__cssinjs_instance__";function C3(){var n=Math.random().toString(12).slice(2);if(typeof document!="undefined"&&document.head&&document.body){var e=document.body.querySelectorAll("style[".concat(jc,"]"))||[],t=document.head.firstChild;Array.from(e).forEach(function(i){i[_f]=i[_f]||n,i[_f]===n&&document.head.insertBefore(i,t)});var r={};Array.from(document.querySelectorAll("style[".concat(jc,"]"))).forEach(function(i){var a=i.getAttribute(jc);if(r[a]){if(i[_f]===n){var o;(o=i.parentNode)===null||o===void 0||o.removeChild(i)}}else r[a]=!0})}return new I8(n)}var F0=P.createContext({hashPriority:"low",cache:C3(),defaultCache:!0}),L8=function(e){var t=e.children,r=Dt(e,D8),i=P.useContext(F0),a=_3(function(){var o=R({},i);Object.keys(r).forEach(function(l){var c=r[l];r[l]!==void 0&&(o[l]=c)});var s=r.cache;return o.cache=o.cache||C3(),o.defaultCache=!s&&i.defaultCache,o},[i,r],function(o,s){return!_S(o[0],s[0],!0)||!_S(o[1],s[1],!0)});return P.createElement(F0.Provider,{value:a},t)};function N8(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}var $R=function(){function n(){Xu(this,n),ne(this,"cache",void 0),ne(this,"keys",void 0),ne(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return qu(n,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(t){var r,i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o={map:this.cache};return t.forEach(function(s){if(!o)o=void 0;else{var l;o=(l=o)===null||l===void 0||(l=l.map)===null||l===void 0?void 0:l.get(s)}}),(r=o)!==null&&r!==void 0&&r.value&&a&&(o.value[1]=this.cacheCallTimes++),(i=o)===null||i===void 0?void 0:i.value}},{key:"get",value:function(t){var r;return(r=this.internalGet(t,!0))===null||r===void 0?void 0:r[0]}},{key:"has",value:function(t){return!!this.internalGet(t)}},{key:"set",value:function(t,r){var i=this;if(!this.has(t)){if(this.size()+1>n.MAX_CACHE_SIZE+n.MAX_CACHE_OFFSET){var a=this.keys.reduce(function(c,d){var h=at(c,2),m=h[1];return i.internalGet(d)[1]<m?[d,i.internalGet(d)[1]]:c},[this.keys[0],this.cacheCallTimes]),o=at(a,1),s=o[0];this.delete(s)}this.keys.push(t)}var l=this.cache;t.forEach(function(c,d){if(d===t.length-1)l.set(c,{value:[r,i.cacheCallTimes++]});else{var h=l.get(c);h?h.map||(h.map=new Map):l.set(c,{map:new Map}),l=l.get(c).map}})}},{key:"deleteByPath",value:function(t,r){var i=t.get(r[0]);if(r.length===1){var a;return i.map?t.set(r[0],{map:i.map}):t.delete(r[0]),(a=i.value)===null||a===void 0?void 0:a[0]}var o=this.deleteByPath(i.map,r.slice(1));return(!i.map||i.map.size===0)&&!i.value&&t.delete(r[0]),o}},{key:"delete",value:function(t){if(this.has(t))return this.keys=this.keys.filter(function(r){return!N8(r,t)}),this.deleteByPath(this.cache,t)}}]),n}();ne($R,"MAX_CACHE_SIZE",20);ne($R,"MAX_CACHE_OFFSET",5);var xO=0,w3=function(){function n(e){Xu(this,n),ne(this,"derivatives",void 0),ne(this,"id",void 0),this.derivatives=Array.isArray(e)?e:[e],this.id=xO,e.length===0&&(e.length>0,void 0),xO+=1}return qu(n,[{key:"getDerivativeToken",value:function(t){return this.derivatives.reduce(function(r,i){return i(t,r)},void 0)}}]),n}(),iM=new $R;function U8(n){var e=Array.isArray(n)?n:[n];return iM.has(e)||iM.set(e,new w3(e)),iM.get(e)}var B8=new WeakMap,aM={};function z8(n,e){for(var t=B8,r=0;r<e.length;r+=1){var i=e[r];t.has(i)||t.set(i,new WeakMap),t=t.get(i)}return t.has(aM)||t.set(aM,n()),t.get(aM)}var _O=new WeakMap;function u0(n){var e=_O.get(n)||"";return e||(Object.keys(n).forEach(function(t){var r=n[t];e+=t,r instanceof w3?e+=r.id:r&&Xt(r)==="object"?e+=u0(r):e+=r}),e=P0(e),_O.set(n,e)),e}function SO(n,e){return P0("".concat(e,"_").concat(u0(n)))}var CO=gy();function SS(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(i)return n;var a=R(R({},r),{},ne(ne({},O0,e),jc,t)),o=Object.keys(a).map(function(s){var l=a[s];return l?"".concat(s,'="').concat(l,'"'):null}).filter(function(s){return s}).join(" ");return"<style ".concat(o,">").concat(n,"</style>")}var H8=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(t?"".concat(t,"-"):"").concat(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},k8=function(e,t,r){return Object.keys(e).length?".".concat(t).concat(r!=null&&r.scope?".".concat(r.scope):"","{").concat(Object.entries(e).map(function(i){var a=at(i,2),o=a[0],s=a[1];return"".concat(o,":").concat(s,";")}).join(""),"}"):""},j8=function(e,t,r){var i={},a={};return Object.entries(e).forEach(function(o){var s,l,c=at(o,2),d=c[0],h=c[1];if(r!=null&&(s=r.preserve)!==null&&s!==void 0&&s[d])a[d]=h;else if((typeof h=="string"||typeof h=="number")&&!(r!=null&&(l=r.ignore)!==null&&l!==void 0&&l[d])){var m,v=H8(d,r==null?void 0:r.prefix);i[v]=typeof h=="number"&&!(r!=null&&(m=r.unitless)!==null&&m!==void 0&&m[d])?"".concat(h,"px"):String(h),a[d]="var(".concat(v,")")}}),[a,k8(i,t,{scope:r==null?void 0:r.scope})]},wO=gy()?P.useLayoutEffect:P.useEffect,T3=function(e,t){var r=P.useRef(!0);wO(function(){return e(r.current)},t),wO(function(){return r.current=!1,function(){r.current=!0}},[])},TO=function(e,t){T3(function(r){if(!r)return e()},t)},$8=R({},r3),MO=$8.useInsertionEffect,V8=function(e,t,r){P.useMemo(e,r),T3(function(){return t(!0)},r)},G8=MO?function(n,e,t){return MO(function(){return n(),e()},t)}:V8,W8=R({},r3),q8=W8.useInsertionEffect,X8=function(e){var t=[],r=!1;function i(a){r||t.push(a)}return P.useEffect(function(){return r=!1,function(){r=!0,t.length&&t.forEach(function(a){return a()})}},e),i},Y8=function(){return function(e){e()}},K8=typeof q8!="undefined"?X8:Y8;function M3(n,e,t,r,i){var a=P.useContext(F0),o=a.cache,s=[n].concat(gr(e)),l=eA(s),c=K8([l]),d=function(g){o.opUpdate(l,function(x){var b=x||[void 0,void 0],_=at(b,2),C=_[0],T=C===void 0?0:C,M=_[1],O=M,I=O||t(),U=[T,I];return g?g(U):U})};P.useMemo(function(){d()},[l]);var h=o.opGet(l),m=h[1];return G8(function(){i==null||i(m)},function(v){return d(function(g){var x=at(g,2),b=x[0],_=x[1];return v&&b===0&&(i==null||i(m)),[b+1,_]}),function(){o.opUpdate(l,function(g){var x=g||[],b=at(x,2),_=b[0],C=_===void 0?0:_,T=b[1],M=C-1;return M===0?(c(function(){(v||!o.opGet(l))&&(r==null||r(T,!1))}),null):[C-1,T]})}},[l]),m}var Z8={},J8="css",yf=new Map;function Q8(n){yf.set(n,(yf.get(n)||0)+1)}function eG(n,e){if(typeof document!="undefined"){var t=document.querySelectorAll("style[".concat(O0,'="').concat(n,'"]'));t.forEach(function(r){if(r[_f]===e){var i;(i=r.parentNode)===null||i===void 0||i.removeChild(r)}})}}var tG=0;function nG(n,e){yf.set(n,(yf.get(n)||0)-1);var t=new Set;yf.forEach(function(r,i){r<=0&&t.add(i)}),yf.size-t.size>tG&&t.forEach(function(r){eG(r,e),yf.delete(r)})}var rG=function(e,t,r,i){var a=r.getDerivativeToken(e),o=R(R({},a),t);return i&&(o=i(o)),o},E3="token";function iG(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=P.useContext(F0),i=r.cache.instanceId,a=r.container,o=t.salt,s=o===void 0?"":o,l=t.override,c=l===void 0?Z8:l,d=t.formatToken,h=t.getComputedToken,m=t.cssVar,v=z8(function(){return Object.assign.apply(Object,[{}].concat(gr(e)))},e),g=u0(v),x=u0(c),b=m?u0(m):"",_=M3(E3,[s,n.id,g,x,b],function(){var C,T=h?h(v,c,n):rG(v,c,n,d),M=R({},T),O="";if(m){var I=j8(T,m.key,{prefix:m.prefix,ignore:m.ignore,unitless:m.unitless,preserve:m.preserve}),U=at(I,2);T=U[0],O=U[1]}var F=SO(T,s);T._tokenKey=F,M._tokenKey=SO(M,s);var L=(C=m==null?void 0:m.key)!==null&&C!==void 0?C:F;T._themeKey=L,Q8(L);var D="".concat(J8,"-").concat(P0(F));return T._hashId=D,[T,D,M,O,(m==null?void 0:m.key)||""]},function(C){nG(C[0]._themeKey,i)},function(C){var T=at(C,4),M=T[0],O=T[3];if(m&&O){var I=c0(O,P0("css-variables-".concat(M._themeKey)),{mark:jc,prepend:"queue",attachTo:a,priority:-999});I[_f]=i,I.setAttribute(O0,M._themeKey)}});return _}var aG=function(e,t,r){var i=at(e,5),a=i[2],o=i[3],s=i[4],l=r||{},c=l.plain;if(!o)return null;var d=a._tokenKey,h=-999,m={"data-rc-order":"prependQueue","data-rc-priority":"".concat(h)},v=SS(o,s,d,m,c);return[h,d,v]},EO="data-ant-cssinjs-cache-path",A3="_FILE_STYLE__",Of,R3=!0;function oG(){if(!Of&&(Of={},gy())){var n=document.createElement("div");n.className=EO,n.style.position="fixed",n.style.visibility="hidden",n.style.top="-9999px",document.body.appendChild(n);var e=getComputedStyle(n).content||"";e=e.replace(/^"/,"").replace(/"$/,""),e.split(";").forEach(function(i){var a=i.split(":"),o=at(a,2),s=o[0],l=o[1];Of[s]=l});var t=document.querySelector("style[".concat(EO,"]"));if(t){var r;R3=!1,(r=t.parentNode)===null||r===void 0||r.removeChild(t)}document.body.removeChild(n)}}function sG(n){return oG(),!!Of[n]}function lG(n){var e=Of[n],t=null;if(e&&gy())if(R3)t=A3;else{var r=document.querySelector("style[".concat(jc,'="').concat(Of[n],'"]'));r?t=r.innerHTML:delete Of[n]}return[t,e]}var cG="_skip_check_",P3="_multi_value_";function nS(n){var e=O6(F6(n),I6);return e.replace(/\{%%%\:[^;];}/g,";")}function uG(n){return Xt(n)==="object"&&n&&(cG in n||P3 in n)}function AO(n,e,t){if(!e)return n;var r=".".concat(e),i=t==="low"?":where(".concat(r,")"):r,a=n.split(",").map(function(o){var s,l=o.trim().split(/\s+/),c=l[0]||"",d=((s=c.match(/^\w+/))===null||s===void 0?void 0:s[0])||"";return c="".concat(d).concat(i).concat(c.slice(d.length)),[c].concat(gr(l.slice(1))).join(" ")});return a.join(",")}var dG=function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},i=r.root,a=r.injectHash,o=r.parentSelectors,s=t.hashId,l=t.layer;t.path;var c=t.hashPriority,d=t.transformers,h=d===void 0?[]:d;t.linters;var m="",v={};function g(_){var C=_.getName(s);if(!v[C]){var T=n(_.style,t,{root:!1,parentSelectors:o}),M=at(T,1),O=M[0];v[C]="@keyframes ".concat(_.getName(s)).concat(O)}}function x(_){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return _.forEach(function(T){Array.isArray(T)?x(T,C):T&&C.push(T)}),C}var b=x(Array.isArray(e)?e:[e]);return b.forEach(function(_){var C=typeof _=="string"&&!i?{}:_;if(typeof C=="string")m+="".concat(C,`
`);else if(C._keyframe)g(C);else{var T=h.reduce(function(M,O){var I;return(O==null||(I=O.visit)===null||I===void 0?void 0:I.call(O,M))||M},C);Object.keys(T).forEach(function(M){var O=T[M];if(Xt(O)==="object"&&O&&(M!=="animationName"||!O._keyframe)&&!uG(O)){var I=!1,U=M.trim(),F=!1;(i||a)&&s?U.startsWith("@")?I=!0:U==="&"?U=AO("",s,c):U=AO(M,s,c):i&&!s&&(U==="&"||U==="")&&(U="",F=!0);var L=n(O,t,{root:F,injectHash:I,parentSelectors:[].concat(gr(o),[U])}),D=at(L,2),z=D[0],$=D[1];v=R(R({},v),$),m+="".concat(U).concat(z)}else{let V=function(B,G){var W=B.replace(/[A-Z]/g,function(J){return"-".concat(J.toLowerCase())}),Z=G;!D6[B]&&typeof Z=="number"&&Z!==0&&(Z="".concat(Z,"px")),B==="animationName"&&G!==null&&G!==void 0&&G._keyframe&&(g(G),Z=G.getName(s)),m+="".concat(W,":").concat(Z,";")};var Y,j=(Y=O==null?void 0:O.value)!==null&&Y!==void 0?Y:O;Xt(O)==="object"&&O!==null&&O!==void 0&&O[P3]&&Array.isArray(j)?j.forEach(function(B){V(M,B)}):V(M,j)}})}}),i?l&&(m&&(m="@layer ".concat(l.name," {").concat(m,"}")),l.dependencies&&(v["@layer ".concat(l.name)]=l.dependencies.map(function(_){return"@layer ".concat(_,", ").concat(l.name,";")}).join(`
`))):m="{".concat(m,"}"),[m,v]};function fG(n,e){return P0("".concat(n.join("%")).concat(e))}function hG(){return null}var O3="style";function pG(n,e){var t=n.token,r=n.path,i=n.hashId,a=n.layer,o=n.nonce,s=n.clientOnly,l=n.order,c=l===void 0?0:l,d=P.useContext(F0),h=d.autoClear;d.mock;var m=d.defaultCache,v=d.hashPriority,g=d.container,x=d.ssrInline,b=d.transformers,_=d.linters,C=d.cache,T=d.layer,M=t._tokenKey,O=[M];T&&O.push("layer"),O.push.apply(O,gr(r));var I=CO,U=M3(O3,O,function(){var $=O.join("|");if(sG($)){var Y=lG($),j=at(Y,2),V=j[0],B=j[1];if(V)return[V,M,B,{},s,c]}var G=e(),W=dG(G,{hashId:i,hashPriority:v,layer:T?a:void 0,path:r.join("-"),transformers:b,linters:_}),Z=at(W,2),J=Z[0],Q=Z[1],ue=nS(J),se=fG(O,ue);return[ue,M,se,Q,s,c]},function($,Y){var j=at($,3),V=j[2];(Y||h)&&CO&&M8(V,{mark:jc,attachTo:g})},function($){var Y=at($,4),j=Y[0];Y[1];var V=Y[2],B=Y[3];if(I&&j!==A3){var G={mark:jc,prepend:T?!1:"queue",attachTo:g,priority:c},W=typeof o=="function"?o():o;W&&(G.csp={nonce:W});var Z=[],J=[];Object.keys(B).forEach(function(ue){ue.startsWith("@layer")?Z.push(ue):J.push(ue)}),Z.forEach(function(ue){c0(nS(B[ue]),"_layer-".concat(ue),R(R({},G),{},{prepend:!0}))});var Q=c0(j,V,G);Q[_f]=C.instanceId,Q.setAttribute(O0,M),J.forEach(function(ue){c0(nS(B[ue]),"_effect-".concat(ue),G)})}}),F=at(U,3),L=F[0],D=F[1],z=F[2];return function($){var Y;return!x||I||!m?Y=P.createElement(hG,null):Y=P.createElement("style",Pn({},ne(ne({},O0,D),jc,z),{dangerouslySetInnerHTML:{__html:L}})),P.createElement(P.Fragment,null,Y,$)}}var mG=function(e,t,r){var i=at(e,6),a=i[0],o=i[1],s=i[2],l=i[3],c=i[4],d=i[5],h=r||{},m=h.plain;if(c)return null;var v=a,g={"data-rc-order":"prependQueue","data-rc-priority":"".concat(d)};return v=SS(a,o,s,g,m),l&&Object.keys(l).forEach(function(x){if(!t[x]){t[x]=!0;var b=nS(l[x]),_=SS(b,o,"_effect-".concat(x),g,m);x.startsWith("@layer")?v=_+v:v+=_}}),[d,s,v]},gG="cssVar",vG=function(e,t,r){var i=at(e,4),a=i[1],o=i[2],s=i[3],l=r||{},c=l.plain;if(!a)return null;var d=-999,h={"data-rc-order":"prependQueue","data-rc-priority":"".concat(d)},m=SS(a,s,o,h,c);return[d,o,m]};ne(ne(ne({},O3,mG),E3,aG),gG,vG);var F3=function(){function n(e,t){Xu(this,n),ne(this,"name",void 0),ne(this,"style",void 0),ne(this,"_keyframe",!0),this.name=e,this.style=t}return qu(n,[{key:"getName",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t?"".concat(t,"-").concat(this.name):this.name}}]),n}();function yG(n){if(typeof n=="number")return[[n],!1];var e=String(n).trim(),t=e.match(/(.*)(!important)/),r=(t?t[1]:e).trim().split(/\s+/),i=[],a=0;return[r.reduce(function(o,s){if(s.includes("(")||s.includes(")")){var l=s.split("(").length-1,c=s.split(")").length-1;a+=l-c}return a>=0&&i.push(s),a===0&&(o.push(i.join(" ")),i=[]),o},[]),!!t]}function up(n){return n.notSplit=!0,n}var bG={inset:["top","right","bottom","left"],insetBlock:["top","bottom"],insetBlockStart:["top"],insetBlockEnd:["bottom"],insetInline:["left","right"],insetInlineStart:["left"],insetInlineEnd:["right"],marginBlock:["marginTop","marginBottom"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],marginInline:["marginLeft","marginRight"],marginInlineStart:["marginLeft"],marginInlineEnd:["marginRight"],paddingBlock:["paddingTop","paddingBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"],paddingInline:["paddingLeft","paddingRight"],paddingInlineStart:["paddingLeft"],paddingInlineEnd:["paddingRight"],borderBlock:up(["borderTop","borderBottom"]),borderBlockStart:up(["borderTop"]),borderBlockEnd:up(["borderBottom"]),borderInline:up(["borderLeft","borderRight"]),borderInlineStart:up(["borderLeft"]),borderInlineEnd:up(["borderRight"]),borderBlockWidth:["borderTopWidth","borderBottomWidth"],borderBlockStartWidth:["borderTopWidth"],borderBlockEndWidth:["borderBottomWidth"],borderInlineWidth:["borderLeftWidth","borderRightWidth"],borderInlineStartWidth:["borderLeftWidth"],borderInlineEndWidth:["borderRightWidth"],borderBlockStyle:["borderTopStyle","borderBottomStyle"],borderBlockStartStyle:["borderTopStyle"],borderBlockEndStyle:["borderBottomStyle"],borderInlineStyle:["borderLeftStyle","borderRightStyle"],borderInlineStartStyle:["borderLeftStyle"],borderInlineEndStyle:["borderRightStyle"],borderBlockColor:["borderTopColor","borderBottomColor"],borderBlockStartColor:["borderTopColor"],borderBlockEndColor:["borderBottomColor"],borderInlineColor:["borderLeftColor","borderRightColor"],borderInlineStartColor:["borderLeftColor"],borderInlineEndColor:["borderRightColor"],borderStartStartRadius:["borderTopLeftRadius"],borderStartEndRadius:["borderTopRightRadius"],borderEndStartRadius:["borderBottomLeftRadius"],borderEndEndRadius:["borderBottomRightRadius"]};function jx(n,e){var t=n;return e&&(t="".concat(t," !important")),{_skip_check_:!0,value:t}}var xG={visit:function(e){var t={};return Object.keys(e).forEach(function(r){var i=e[r],a=bG[r];if(a&&(typeof i=="number"||typeof i=="string")){var o=yG(i),s=at(o,2),l=s[0],c=s[1];a.length&&a.notSplit?a.forEach(function(d){t[d]=jx(i,c)}):a.length===1?t[a[0]]=jx(l[0],c):a.length===2?a.forEach(function(d,h){var m;t[d]=jx((m=l[h])!==null&&m!==void 0?m:l[0],c)}):a.length===4?a.forEach(function(d,h){var m,v;t[d]=jx((m=(v=l[h])!==null&&v!==void 0?v:l[h-2])!==null&&m!==void 0?m:l[0],c)}):t[r]=i}else t[r]=i}),t}},TC={},I3={exports:{}};(function(n){function e(t){return t&&t.__esModule?t:{default:t}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(I3);var $l=I3.exports,MC={};Object.defineProperty(MC,"__esModule",{value:!0});MC.default=void 0;const _G={items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页",page_size:"页码"};MC.default=_G;var EC={},vy={},AC={},RC={};Object.defineProperty(RC,"__esModule",{value:!0});RC.commonLocale=void 0;RC.commonLocale={yearFormat:"YYYY",dayFormat:"D",cellMeridiemFormat:"A",monthBeforeYear:!0};Object.defineProperty(AC,"__esModule",{value:!0});var D3=AC.default=void 0,SG=RC;function I0(n){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I0(n)}function RO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function PO(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(t),!0).forEach(function(r){CG(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):RO(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function CG(n,e,t){return e=wG(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wG(n){var e=TG(n,"string");return I0(e)=="symbol"?e:String(e)}function TG(n,e){if(I0(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(I0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var MG=PO(PO({},SG.commonLocale),{},{locale:"zh_CN",today:"今天",now:"此刻",backToToday:"返回今天",ok:"确定",timeSelect:"选择时间",dateSelect:"选择日期",weekSelect:"选择周",clear:"清除",week:"周",month:"月",year:"年",previousMonth:"上个月 (翻页上键)",nextMonth:"下个月 (翻页下键)",monthSelect:"选择月份",yearSelect:"选择年份",decadeSelect:"选择年代",previousYear:"上一年 (Control键加左方向键)",nextYear:"下一年 (Control键加右方向键)",previousDecade:"上一年代",nextDecade:"下一年代",previousCentury:"上一世纪",nextCentury:"下一世纪",yearFormat:"YYYY年",cellDateFormat:"D",monthBeforeYear:!1});D3=AC.default=MG;var yy={};Object.defineProperty(yy,"__esModule",{value:!0});yy.default=void 0;const EG={placeholder:"请选择时间",rangePlaceholder:["开始时间","结束时间"]};yy.default=EG;var L3=$l.default;Object.defineProperty(vy,"__esModule",{value:!0});vy.default=void 0;var AG=L3(AC),RG=L3(yy);const N3={lang:qe({placeholder:"请选择日期",yearPlaceholder:"请选择年份",quarterPlaceholder:"请选择季度",monthPlaceholder:"请选择月份",weekPlaceholder:"请选择周",rangePlaceholder:["开始日期","结束日期"],rangeYearPlaceholder:["开始年份","结束年份"],rangeMonthPlaceholder:["开始月份","结束月份"],rangeQuarterPlaceholder:["开始季度","结束季度"],rangeWeekPlaceholder:["开始周","结束周"]},AG.default),timePickerLocale:qe({},RG.default)};N3.lang.ok="确定";vy.default=N3;var PG=$l.default;Object.defineProperty(EC,"__esModule",{value:!0});EC.default=void 0;var OG=PG(vy);EC.default=OG.default;var PC=$l.default;Object.defineProperty(TC,"__esModule",{value:!0});TC.default=void 0;var FG=PC(MC),IG=PC(EC),DG=PC(vy),LG=PC(yy);const ko="${label}不是一个有效的${type}",NG={locale:"zh-cn",Pagination:FG.default,DatePicker:DG.default,TimePicker:LG.default,Calendar:IG.default,global:{placeholder:"请选择",close:"关闭",sortable:"可排序"},Table:{filterTitle:"筛选",filterConfirm:"确定",filterReset:"重置",filterEmptyText:"无筛选项",filterCheckAll:"全选",filterSearchPlaceholder:"在筛选项中搜索",emptyText:"暂无数据",selectAll:"全选当页",selectInvert:"反选当页",selectNone:"清空所有",selectionAll:"全选所有",sortTitle:"排序",expand:"展开行",collapse:"关闭行",triggerDesc:"点击降序",triggerAsc:"点击升序",cancelSort:"取消排序"},Modal:{okText:"确定",cancelText:"取消",justOkText:"知道了"},Tour:{Next:"下一步",Previous:"上一步",Finish:"结束导览"},Popconfirm:{cancelText:"取消",okText:"确定"},Transfer:{titles:["",""],searchPlaceholder:"请输入搜索内容",itemUnit:"项",itemsUnit:"项",remove:"删除",selectCurrent:"全选当页",removeCurrent:"删除当页",selectAll:"全选所有",deselectAll:"取消全选",removeAll:"删除全部",selectInvert:"反选当页"},Upload:{uploading:"文件上传中",removeFile:"删除文件",uploadError:"上传错误",previewFile:"预览文件",downloadFile:"下载文件"},Empty:{description:"暂无数据"},Icon:{icon:"图标"},Text:{edit:"编辑",copy:"复制",copied:"复制成功",expand:"展开",collapse:"收起"},Form:{optional:"（可选）",defaultValidateMessages:{default:"字段验证错误${label}",required:"请输入${label}",enum:"${label}必须是其中一个[${enum}]",whitespace:"${label}不能为空字符",date:{format:"${label}日期格式无效",parse:"${label}不能转换为日期",invalid:"${label}是一个无效日期"},types:{string:ko,method:ko,array:ko,object:ko,number:ko,date:ko,boolean:ko,integer:ko,float:ko,regexp:ko,email:ko,url:ko,hex:ko},string:{len:"${label}须为${len}个字符",min:"${label}最少${min}个字符",max:"${label}最多${max}个字符",range:"${label}须在${min}-${max}字符之间"},number:{len:"${label}必须等于${len}",min:"${label}最小值为${min}",max:"${label}最大值为${max}",range:"${label}须在${min}-${max}之间"},array:{len:"须为${len}个${label}",min:"最少${min}个${label}",max:"最多${max}个${label}",range:"${label}数量须在${min}-${max}之间"},pattern:{mismatch:"${label}与模式不匹配${pattern}"}}},QRCode:{expired:"二维码过期",refresh:"点击刷新",scanned:"已扫描"},ColorPicker:{presetEmpty:"暂无",transparent:"无色",singleColor:"单色",gradientColor:"渐变色"}};TC.default=NG;var UG=TC;const BG=ri(UG);var zG={exports:{}};(function(n,e){(function(t,r){n.exports=r(L6())})(da,function(t){function r(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var i=r(t),a={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(o,s){return s==="W"?o+"周":o+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(o,s){var l=100*o+s;return l<600?"凌晨":l<900?"早上":l<1100?"上午":l<1300?"中午":l<1800?"下午":"晚上"}};return i.default.locale(a,null,!0),a})})(zG);function HG({children:n}){const{defaultAlgorithm:e}=bs;return w.jsx(L8,{hashPriority:"high",transformers:[xG],children:w.jsx(Lt,{locale:BG,theme:{cssVar:{},hashed:!1,algorithm:e,token:{},components:{Layout:{headerPadding:"0 24px"}}},componentSize:"middle",children:n})})}const kG="modulepreload",jG=function(n){return"/"+n},OO={},$x=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(t.map(l=>{if(l=jG(l),l in OO)return;OO[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":kG,c||(h.as="script"),h.crossOrigin="",h.href=l,s&&h.setAttribute("nonce",s),document.head.appendChild(h),c)return new Promise((m,v)=>{h.addEventListener("load",m),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return i.then(o=>{for(const s of o||[])s.status==="rejected"&&a(s.reason);return e().catch(a)})};var U3={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
* @license MIT */(function(n,e){(function(t,r){n.exports=r()})(da,function(){var t={};t.version="0.2.0";var r=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};t.configure=function(g){var x,b;for(x in g)b=g[x],b!==void 0&&g.hasOwnProperty(x)&&(r[x]=b);return this},t.status=null,t.set=function(g){var x=t.isStarted();g=i(g,r.minimum,1),t.status=g===1?null:g;var b=t.render(!x),_=b.querySelector(r.barSelector),C=r.speed,T=r.easing;return b.offsetWidth,s(function(M){r.positionUsing===""&&(r.positionUsing=t.getPositioningCSS()),l(_,o(g,C,T)),g===1?(l(b,{transition:"none",opacity:1}),b.offsetWidth,setTimeout(function(){l(b,{transition:"all "+C+"ms linear",opacity:0}),setTimeout(function(){t.remove(),M()},C)},C)):setTimeout(M,C)}),this},t.isStarted=function(){return typeof t.status=="number"},t.start=function(){t.status||t.set(0);var g=function(){setTimeout(function(){t.status&&(t.trickle(),g())},r.trickleSpeed)};return r.trickle&&g(),this},t.done=function(g){return!g&&!t.status?this:t.inc(.3+.5*Math.random()).set(1)},t.inc=function(g){var x=t.status;return x?(typeof g!="number"&&(g=(1-x)*i(Math.random()*x,.1,.95)),x=i(x+g,0,.994),t.set(x)):t.start()},t.trickle=function(){return t.inc(Math.random()*r.trickleRate)},function(){var g=0,x=0;t.promise=function(b){return!b||b.state()==="resolved"?this:(x===0&&t.start(),g++,x++,b.always(function(){x--,x===0?(g=0,t.done()):t.set((g-x)/g)}),this)}}(),t.render=function(g){if(t.isRendered())return document.getElementById("nprogress");d(document.documentElement,"nprogress-busy");var x=document.createElement("div");x.id="nprogress",x.innerHTML=r.template;var b=x.querySelector(r.barSelector),_=g?"-100":a(t.status||0),C=document.querySelector(r.parent),T;return l(b,{transition:"all 0 linear",transform:"translate3d("+_+"%,0,0)"}),r.showSpinner||(T=x.querySelector(r.spinnerSelector),T&&v(T)),C!=document.body&&d(C,"nprogress-custom-parent"),C.appendChild(x),x},t.remove=function(){h(document.documentElement,"nprogress-busy"),h(document.querySelector(r.parent),"nprogress-custom-parent");var g=document.getElementById("nprogress");g&&v(g)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var g=document.body.style,x="WebkitTransform"in g?"Webkit":"MozTransform"in g?"Moz":"msTransform"in g?"ms":"OTransform"in g?"O":"";return x+"Perspective"in g?"translate3d":x+"Transform"in g?"translate":"margin"};function i(g,x,b){return g<x?x:g>b?b:g}function a(g){return(-1+g)*100}function o(g,x,b){var _;return r.positionUsing==="translate3d"?_={transform:"translate3d("+a(g)+"%,0,0)"}:r.positionUsing==="translate"?_={transform:"translate("+a(g)+"%,0)"}:_={"margin-left":a(g)+"%"},_.transition="all "+x+"ms "+b,_}var s=function(){var g=[];function x(){var b=g.shift();b&&b(x)}return function(b){g.push(b),g.length==1&&x()}}(),l=function(){var g=["Webkit","O","Moz","ms"],x={};function b(M){return M.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(O,I){return I.toUpperCase()})}function _(M){var O=document.body.style;if(M in O)return M;for(var I=g.length,U=M.charAt(0).toUpperCase()+M.slice(1),F;I--;)if(F=g[I]+U,F in O)return F;return M}function C(M){return M=b(M),x[M]||(x[M]=_(M))}function T(M,O,I){O=C(O),M.style[O]=I}return function(M,O){var I=arguments,U,F;if(I.length==2)for(U in O)F=O[U],F!==void 0&&O.hasOwnProperty(U)&&T(M,U,F);else T(M,I[1],I[2])}}();function c(g,x){var b=typeof g=="string"?g:m(g);return b.indexOf(" "+x+" ")>=0}function d(g,x){var b=m(g),_=b+x;c(b,x)||(g.className=_.substring(1))}function h(g,x){var b=m(g),_;c(g,x)&&(_=b.replace(" "+x+" "," "),g.className=_.substring(1,_.length-1))}function m(g){return(" "+(g.className||"")+" ").replace(/\s+/gi," ")}function v(g){g&&g.parentNode&&g.parentNode.removeChild(g)}return t})})(U3);var $G=U3.exports;const FO=ri($G),VG=n=>{const e=document.getElementById("nprogress");if(e){const t=e.querySelector(".bar"),r=e.querySelector(".peg"),i=e.querySelector(".spinner-icon");t.style.background=n,t.style.boxShadow=`0 0 2px ${n}`,r.style.boxShadow=`0 0 10px ${n}, 0 0 5px ${n}`,i.style.borderTopColor=n,i.style.borderLeftColor=n}};function mo(){const{token:n}=bs.useToken(),{colorPrimary:e}=n;return P.useEffect(()=>(FO.start(),VG(e),()=>{FO.done()}),[e]),null}const B3={placeholder:"请选择时间",rangePlaceholder:["开始时间","结束时间"]},tA={lang:qe({placeholder:"请选择日期",yearPlaceholder:"请选择年份",quarterPlaceholder:"请选择季度",monthPlaceholder:"请选择月份",weekPlaceholder:"请选择周",rangePlaceholder:["开始日期","结束日期"],rangeYearPlaceholder:["开始年份","结束年份"],rangeMonthPlaceholder:["开始月份","结束月份"],rangeQuarterPlaceholder:["开始季度","结束季度"],rangeWeekPlaceholder:["开始周","结束周"]},D3),timePickerLocale:qe({},B3)};tA.lang.ok="确定";const jo="${label}不是一个有效的${type}",GG={locale:"zh-cn",Pagination:N6,DatePicker:tA,TimePicker:B3,Calendar:tA,global:{placeholder:"请选择",close:"关闭",sortable:"可排序"},Table:{filterTitle:"筛选",filterConfirm:"确定",filterReset:"重置",filterEmptyText:"无筛选项",filterCheckAll:"全选",filterSearchPlaceholder:"在筛选项中搜索",emptyText:"暂无数据",selectAll:"全选当页",selectInvert:"反选当页",selectNone:"清空所有",selectionAll:"全选所有",sortTitle:"排序",expand:"展开行",collapse:"关闭行",triggerDesc:"点击降序",triggerAsc:"点击升序",cancelSort:"取消排序"},Modal:{okText:"确定",cancelText:"取消",justOkText:"知道了"},Tour:{Next:"下一步",Previous:"上一步",Finish:"结束导览"},Popconfirm:{cancelText:"取消",okText:"确定"},Transfer:{titles:["",""],searchPlaceholder:"请输入搜索内容",itemUnit:"项",itemsUnit:"项",remove:"删除",selectCurrent:"全选当页",removeCurrent:"删除当页",selectAll:"全选所有",deselectAll:"取消全选",removeAll:"删除全部",selectInvert:"反选当页"},Upload:{uploading:"文件上传中",removeFile:"删除文件",uploadError:"上传错误",previewFile:"预览文件",downloadFile:"下载文件"},Empty:{description:"暂无数据"},Icon:{icon:"图标"},Text:{edit:"编辑",copy:"复制",copied:"复制成功",expand:"展开",collapse:"收起"},Form:{optional:"（可选）",defaultValidateMessages:{default:"字段验证错误${label}",required:"请输入${label}",enum:"${label}必须是其中一个[${enum}]",whitespace:"${label}不能为空字符",date:{format:"${label}日期格式无效",parse:"${label}不能转换为日期",invalid:"${label}是一个无效日期"},types:{string:jo,method:jo,array:jo,object:jo,number:jo,date:jo,boolean:jo,integer:jo,float:jo,regexp:jo,email:jo,url:jo,hex:jo},string:{len:"${label}须为${len}个字符",min:"${label}最少${min}个字符",max:"${label}最多${max}个字符",range:"${label}须在${min}-${max}字符之间"},number:{len:"${label}必须等于${len}",min:"${label}最小值为${min}",max:"${label}最大值为${max}",range:"${label}须在${min}-${max}之间"},array:{len:"须为${len}个${label}",min:"最少${min}个${label}",max:"最多${max}个${label}",range:"${label}数量须在${min}-${max}之间"},pattern:{mismatch:"${label}与模式不匹配${pattern}"}}},QRCode:{expired:"二维码过期",refresh:"点击刷新",scanned:"已扫描"},ColorPicker:{presetEmpty:"暂无",transparent:"无色",singleColor:"单色",gradientColor:"渐变色"}};var z3={exports:{}},H3={};/**
* @license React
* use-sync-external-store-shim.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var um=P;function WG(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var qG=typeof Object.is=="function"?Object.is:WG,XG=um.useState,YG=um.useEffect,KG=um.useLayoutEffect,ZG=um.useDebugValue;function JG(n,e){var t=e(),r=XG({inst:{value:t,getSnapshot:e}}),i=r[0].inst,a=r[1];return KG(function(){i.value=t,i.getSnapshot=e,oM(i)&&a({inst:i})},[n,t,e]),YG(function(){return oM(i)&&a({inst:i}),n(function(){oM(i)&&a({inst:i})})},[n]),ZG(t),t}function oM(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!qG(n,t)}catch(r){return!0}}function QG(n,e){return e()}var eW=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?QG:JG;H3.useSyncExternalStore=um.useSyncExternalStore!==void 0?um.useSyncExternalStore:eW;z3.exports=H3;var CS=z3.exports;const k3=0,j3=1,$3=2,IO=3;var DO=Object.prototype.hasOwnProperty;function nA(n,e){var t,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&nA(n[r],e[r]););return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(DO.call(n,t)&&++r&&!DO.call(e,t)||!(t in e)||!nA(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}const Bc=new WeakMap,kc=()=>{},ca=kc(),wS=Object,Qn=n=>n===ca,tl=n=>typeof n=="function",Xc=(n,e)=>qe(qe({},n),e),V3=n=>tl(n.then),sM={},Vx={},VR="undefined",by=typeof window!=VR,rA=typeof document!=VR,tW=by&&"Deno"in window,nW=()=>by&&typeof window.requestAnimationFrame!=VR,G3=(n,e)=>{const t=Bc.get(n);return[()=>!Qn(e)&&n.get(e)||sM,r=>{if(!Qn(e)){const i=n.get(e);e in Vx||(Vx[e]=i),t[5](e,Xc(i,r),i||sM)}},t[6],()=>!Qn(e)&&e in Vx?Vx[e]:!Qn(e)&&n.get(e)||sM]};let iA=!0;const rW=()=>iA,[aA,oA]=by&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[kc,kc],iW=()=>{const n=rA&&document.visibilityState;return Qn(n)||n!=="hidden"},aW=n=>(rA&&document.addEventListener("visibilitychange",n),aA("focus",n),()=>{rA&&document.removeEventListener("visibilitychange",n),oA("focus",n)}),oW=n=>{const e=()=>{iA=!0,n()},t=()=>{iA=!1};return aA("online",e),aA("offline",t),()=>{oA("online",e),oA("offline",t)}},sW={isOnline:rW,isVisible:iW},lW={initFocus:aW,initReconnect:oW},LO=!Oe.useId,nm=!by||tW,cW=n=>nW()?window.requestAnimationFrame(n):setTimeout(n,1),rS=nm?P.useEffect:P.useLayoutEffect,lM=typeof navigator!="undefined"&&navigator.connection,NO=!nm&&lM&&(["slow-2g","2g"].includes(lM.effectiveType)||lM.saveData),Gx=new WeakMap,uW=n=>wS.prototype.toString.call(n),cM=(n,e)=>n===`[object ${e}]`;let dW=0;const sA=n=>{const e=typeof n,t=uW(n),r=cM(t,"Date"),i=cM(t,"RegExp"),a=cM(t,"Object");let o,s;if(wS(n)===n&&!r&&!i){if(o=Gx.get(n),o)return o;if(o=++dW+"~",Gx.set(n,o),Array.isArray(n)){for(o="@",s=0;s<n.length;s++)o+=sA(n[s])+",";Gx.set(n,o)}if(a){o="#";const l=wS.keys(n).sort();for(;!Qn(s=l.pop());)Qn(n[s])||(o+=s+":"+sA(n[s])+",");Gx.set(n,o)}}else o=r?n.toJSON():e=="symbol"?n.toString():e=="string"?JSON.stringify(n):""+n;return o},GR=n=>{if(tl(n))try{n=n()}catch(t){n=""}const e=n;return n=typeof n=="string"?n:(Array.isArray(n)?n.length:n)?sA(n):"",[n,e]};let fW=0;const lA=()=>++fW;function W3(...n){return Bt(this,null,function*(){const[e,t,r,i]=n,a=Xc({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let o=a.populateCache;const s=a.rollbackOnError;let l=a.optimisticData;const c=m=>typeof s=="function"?s(m):s!==!1,d=a.throwOnError;if(tl(t)){const m=t,v=[],g=e.keys();for(const x of g)!/^\$(inf|sub)\$/.test(x)&&m(e.get(x)._k)&&v.push(x);return Promise.all(v.map(h))}return h(t);function h(m){return Bt(this,null,function*(){const[v]=GR(m);if(!v)return;const[g,x]=G3(e,v),[b,_,C,T]=Bc.get(e),M=()=>{const j=b[v];return(tl(a.revalidate)?a.revalidate(g().data,m):a.revalidate!==!1)&&(delete C[v],delete T[v],j&&j[0])?j[0]($3).then(()=>g().data):g().data};if(n.length<3)return M();let O=r,I,U=!1;const F=lA();_[v]=[F,0];const L=!Qn(l),D=g(),z=D.data,$=D._c,Y=Qn($)?z:$;if(L&&(l=tl(l)?l(Y,z):l,x({data:l,_c:Y})),tl(O))try{O=O(Y)}catch(j){I=j,U=!0}if(O&&V3(O))if(O=yield O.catch(j=>{I=j,U=!0}),F!==_[v][0]){if(U)throw I;return O}else U&&L&&c(I)&&(o=!0,x({data:Y,_c:ca}));if(o&&!U)if(tl(o)){const j=o(O,Y);x({data:j,error:ca,_c:ca})}else x({data:O,error:ca,_c:ca});if(_[v][1]=lA(),Promise.resolve(M()).then(()=>{x({_c:ca})}),U){if(d)throw I;return}return O})}})}const UO=(n,e)=>{for(const t in n)n[t][0]&&n[t][0](e)},q3=(n,e)=>{if(!Bc.has(n)){const t=Xc(lW,e),r=Object.create(null),i=W3.bind(ca,n);let a=kc;const o=Object.create(null),s=(d,h)=>{const m=o[d]||[];return o[d]=m,m.push(h),()=>m.splice(m.indexOf(h),1)},l=(d,h,m)=>{n.set(d,h);const v=o[d];if(v)for(const g of v)g(h,m)},c=()=>{if(!Bc.has(n)&&(Bc.set(n,[r,Object.create(null),Object.create(null),Object.create(null),i,l,s]),!nm)){const d=t.initFocus(setTimeout.bind(ca,UO.bind(ca,r,k3))),h=t.initReconnect(setTimeout.bind(ca,UO.bind(ca,r,j3)));a=()=>{d&&d(),h&&h(),Bc.delete(n)}}};return c(),[n,i,c,a]}return[n,Bc.get(n)[4]]},hW=(n,e,t,r,i)=>{const a=t.errorRetryCount,o=i.retryCount,s=~~((Math.random()+.5)*(1<<(o<8?o:8)))*t.errorRetryInterval;!Qn(a)&&o>a||setTimeout(r,s,i)},pW=nA,[WR,mW]=q3(new Map),X3=Xc({onLoadingSlow:kc,onSuccess:kc,onError:kc,onErrorRetry:hW,onDiscarded:kc,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:NO?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:NO?5e3:3e3,compare:pW,isPaused:()=>!1,cache:WR,mutate:mW,fallback:{}},sW),Y3=(n,e)=>{const t=Xc(n,e);if(e){const{use:r,fallback:i}=n,{use:a,fallback:o}=e;r&&a&&(t.use=r.concat(a)),i&&o&&(t.fallback=Xc(i,o))}return t},cA=P.createContext({}),gW=n=>{const{value:e}=n,t=P.useContext(cA),r=tl(e),i=P.useMemo(()=>r?e(t):e,[r,t,e]),a=P.useMemo(()=>r?i:Y3(t,i),[r,t,i]),o=i&&i.provider,s=P.useRef(ca);o&&!s.current&&(s.current=q3(o(a.cache||WR),i));const l=s.current;return l&&(a.cache=l[0],a.mutate=l[1]),rS(()=>{if(l)return l[2]&&l[2](),l[3]},[]),P.createElement(cA.Provider,Xc(n,{value:a}))},vW="$inf$",K3=by&&window.__SWR_DEVTOOLS_USE__,yW=K3?window.__SWR_DEVTOOLS_USE__:[],bW=()=>{K3&&(window.__SWR_DEVTOOLS_REACT__=Oe)},xW=n=>tl(n[1])?[n[0],n[1],n[2]||{}]:[n[0],null,(n[1]===null?n[2]:n[1])||{}],Z3=()=>{const n=P.useContext(cA);return P.useMemo(()=>Xc(X3,n),[n])},_W=n=>(e,t,r)=>n(e,t&&((...a)=>{const[o]=GR(e),[,,,s]=Bc.get(WR);if(o.startsWith(vW))return t(...a);const l=s[o];return Qn(l)?t(...a):(delete s[o],l)}),r),SW=yW.concat(_W),CW=n=>function(...t){const r=Z3(),[i,a,o]=xW(t),s=Y3(r,o);let l=n;const{use:c}=s,d=(c||[]).concat(SW);for(let h=d.length;h--;)l=d[h](l);return l(i,a||s.fetcher||null,s)},wW=(n,e,t)=>{const r=e[n]||(e[n]=[]);return r.push(t),()=>{const i=r.indexOf(t);i>=0&&(r[i]=r[r.length-1],r.pop())}};bW();const uM=Oe.use||(n=>{switch(n.status){case"pending":throw n;case"fulfilled":return n.value;case"rejected":throw n.reason;default:throw n.status="pending",n.then(e=>{n.status="fulfilled",n.value=e},e=>{n.status="rejected",n.reason=e}),n}}),dM={dedupe:!0},BO=Promise.resolve(ca),TW=(n,e,t)=>{const{cache:r,compare:i,suspense:a,fallbackData:o,revalidateOnMount:s,revalidateIfStale:l,refreshInterval:c,refreshWhenHidden:d,refreshWhenOffline:h,keepPreviousData:m,strictServerPrefetchWarning:v}=t,[g,x,b,_]=Bc.get(r),[C,T]=GR(n),M=P.useRef(!1),O=P.useRef(!1),I=P.useRef(C),U=P.useRef(e),F=P.useRef(t),L=()=>F.current,D=()=>L().isVisible()&&L().isOnline(),[z,$,Y,j]=G3(r,C),V=P.useRef({}).current,B=Qn(o)?Qn(t.fallback)?ca:t.fallback[C]:o,G=(ge,fe)=>{for(const ve in V){const be=ve;if(be==="data"){if(!i(ge[be],fe[be])&&(!Qn(ge[be])||!i(te,fe[be])))return!1}else if(fe[be]!==ge[be])return!1}return!0},W=P.useMemo(()=>{const ge=!C||!e?!1:Qn(s)?L().isPaused()||a?!1:l!==!1:s,fe=X=>{const q=Xc(X);return delete q._k,ge?qe({isValidating:!0,isLoading:!0},q):q},ve=z(),be=j(),we=fe(ve),Ie=ve===be?we:fe(be);let Ae=we;return[()=>{const X=fe(z());return G(X,Ae)?(Ae.data=X.data,Ae.isLoading=X.isLoading,Ae.isValidating=X.isValidating,Ae.error=X.error,Ae):(Ae=X,X)},()=>Ie]},[r,C]),Z=CS.useSyncExternalStore(P.useCallback(ge=>Y(C,(fe,ve)=>{G(ve,fe)||ge()}),[r,C]),W[0],W[1]),J=!M.current,Q=g[C]&&g[C].length>0,ue=Z.data,se=Qn(ue)?B&&V3(B)?uM(B):B:ue,ae=Z.error,ie=P.useRef(se),te=m?Qn(ue)?Qn(ie.current)?se:ie.current:ue:se,ee=C&&Qn(se),xe=!nm&&CS.useSyncExternalStore(()=>kc,()=>!1,()=>!0);v&&xe&&!a&&ee&&console.warn(`Missing pre-initiated data for serialized key "${C}" during server-side rendering. Data fethcing should be initiated on the server and provided to SWR via fallback data. You can set "strictServerPrefetchWarning: false" to disable this warning.`);const Ee=Q&&!Qn(ae)?!1:J&&!Qn(s)?s:L().isPaused()?!1:a?Qn(se)?!1:l:Qn(se)||l,Se=!!(C&&e&&J&&Ee),ze=Qn(Z.isValidating)?Se:Z.isValidating,Ue=Qn(Z.isLoading)?Se:Z.isLoading,re=P.useCallback(ge=>Bt(void 0,null,function*(){const fe=U.current;if(!C||!fe||O.current||L().isPaused())return!1;let ve,be,we=!0;const Ie=ge||{},Ae=!b[C]||!Ie.dedupe,X=()=>LO?!O.current&&C===I.current&&M.current:C===I.current,q={isValidating:!1,isLoading:!1},ye=()=>{$(q)},Re=()=>{const Le=b[C];Le&&Le[1]===be&&delete b[C]},Ge={isValidating:!0};Qn(z().data)&&(Ge.isLoading=!0);try{if(Ae&&($(Ge),t.loadingTimeout&&Qn(z().data)&&setTimeout(()=>{we&&X()&&L().onLoadingSlow(C,t)},t.loadingTimeout),b[C]=[fe(T),lA()]),[ve,be]=b[C],ve=yield ve,Ae&&setTimeout(Re,t.dedupingInterval),!b[C]||b[C][1]!==be)return Ae&&X()&&L().onDiscarded(C),!1;q.error=ca;const Le=x[C];if(!Qn(Le)&&(be<=Le[0]||be<=Le[1]||Le[1]===0))return ye(),Ae&&X()&&L().onDiscarded(C),!1;const ht=z().data;q.data=i(ht,ve)?ht:ve,Ae&&X()&&L().onSuccess(ve,C,t)}catch(Le){Re();const ht=L(),{shouldRetryOnError:et}=ht;ht.isPaused()||(q.error=Le,Ae&&X()&&(ht.onError(Le,C,ht),(et===!0||tl(et)&&et(Le))&&(!L().revalidateOnFocus||!L().revalidateOnReconnect||D())&&ht.onErrorRetry(Le,C,ht,xt=>{const St=g[C];St&&St[0]&&St[0](IO,xt)},{retryCount:(Ie.retryCount||0)+1,dedupe:!0})))}return we=!1,ye(),!0}),[C,r]),Ce=P.useCallback((...ge)=>W3(r,I.current,...ge),[]);if(rS(()=>{U.current=e,F.current=t,Qn(ue)||(ie.current=ue)}),rS(()=>{if(!C)return;const ge=re.bind(ca,dM);let fe=0;L().revalidateOnFocus&&(fe=Date.now()+L().focusThrottleInterval);const be=wW(C,g,(we,Ie={})=>{if(we==k3){const Ae=Date.now();L().revalidateOnFocus&&Ae>fe&&D()&&(fe=Ae+L().focusThrottleInterval,ge())}else if(we==j3)L().revalidateOnReconnect&&D()&&ge();else{if(we==$3)return re();if(we==IO)return re(Ie)}});return O.current=!1,I.current=C,M.current=!0,$({_k:T}),Ee&&(b[C]||(Qn(se)||nm?ge():cW(ge))),()=>{O.current=!0,be()}},[C]),rS(()=>{let ge;function fe(){const be=tl(c)?c(z().data):c;be&&ge!==-1&&(ge=setTimeout(ve,be))}function ve(){!z().error&&(d||L().isVisible())&&(h||L().isOnline())?re(dM).then(fe):fe()}return fe(),()=>{ge&&(clearTimeout(ge),ge=-1)}},[c,d,h,C]),P.useDebugValue(te),a){if(!LO&&nm&&ee)throw new Error("Fallback data is required when using Suspense in SSR.");ee&&(U.current=e,F.current=t,O.current=!1);const ge=_[C],fe=!Qn(ge)&&ee?Ce(ge):BO;if(uM(fe),!Qn(ae)&&ee)throw ae;const ve=ee?re(dM):BO;!Qn(te)&&ee&&(ve.status="fulfilled",ve.value=!0),uM(ve)}return{mutate:Ce,get data(){return V.data=!0,te},get error(){return V.error=!0,ae},get isValidating(){return V.isValidating=!0,ze},get isLoading(){return V.isLoading=!0,Ue}}},MW=wS.defineProperty(gW,"defaultValue",{value:X3}),J3=CW(TW);function zO(n){var e=P.useRef();e.current=n;var t=P.useCallback(function(){for(var r,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(a))},[]);return t}function HO(n){var e=P.useRef(!1),t=P.useState(n),r=at(t,2),i=r[0],a=r[1];P.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function o(s,l){l&&e.current||a(s)}return[i,o]}function fM(n){return n!==void 0}function xr(n,e){var t=e||{},r=t.defaultValue,i=t.value,a=t.onChange,o=t.postState,s=HO(function(){return fM(i)?i:fM(r)?typeof r=="function"?r():r:typeof n=="function"?n():n}),l=at(s,2),c=l[0],d=l[1],h=i!==void 0?i:c,m=o?o(h):h,v=zO(a),g=HO([h]),x=at(g,2),b=x[0],_=x[1];TO(function(){var T=b[0];c!==T&&v(c,T)},[b]),TO(function(){fM(i)||d(i)},[i]);var C=zO(function(T,M){d(T,M),_([h],M)});return[m,C]}var EW=Symbol.for("react.element"),AW=Symbol.for("react.transitional.element"),RW=Symbol.for("react.fragment");function Q3(n){return n&&Xt(n)==="object"&&(n.$$typeof===EW||n.$$typeof===AW)&&n.type===RW}var PW=Number(P.version.split(".")[0]),OW=function(e,t){typeof e=="function"?e(t):Xt(e)==="object"&&e&&"current"in e&&(e.current=t)},FW=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t.filter(Boolean);return i.length<=1?i[0]:function(a){t.forEach(function(o){OW(o,a)})}},IW=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return _3(function(){return FW.apply(void 0,t)},t,function(i,a){return i.length!==a.length||i.every(function(o,s){return o!==a[s]})})},DW=function(e){var t,r;if(!e)return!1;if(eU(e)&&PW>=19)return!0;var i=JT.isMemo(e)?e.type.type:e.type;return!(typeof i=="function"&&!((t=i.prototype)!==null&&t!==void 0&&t.render)&&i.$$typeof!==JT.ForwardRef||typeof e=="function"&&!((r=e.prototype)!==null&&r!==void 0&&r.render)&&e.$$typeof!==JT.ForwardRef)};function eU(n){return P.isValidElement(n)&&!Q3(n)}var LW=function(e){if(e&&eU(e)){var t=e;return t.props.propertyIsEnumerable("ref")?t.props.ref:t.ref}return null};function Mr(n,e){for(var t=n,r=0;r<e.length;r+=1){if(t==null)return;t=t[e[r]]}return t}function tU(n){return U6(n)||B6(n)||z6(n)||H6()}function nU(n,e,t,r){if(!e.length)return t;var i=tU(e),a=i[0],o=i.slice(1),s;return!n&&typeof a=="number"?s=[]:Array.isArray(n)?s=gr(n):s=R({},n),r&&t===void 0&&o.length===1?delete s[a][o[0]]:s[a]=nU(s[a],o,t,r),s}function Ur(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&t===void 0&&!Mr(n,e.slice(0,-1))?n:nU(n,e,t,r)}function NW(n){return Xt(n)==="object"&&n!==null&&Object.getPrototypeOf(n)===Object.prototype}function kO(n){return Array.isArray(n)?[]:{}}var UW=typeof Reflect=="undefined"?Object.keys:Reflect.ownKeys;function Sf(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=kO(e[0]);return e.forEach(function(i){function a(o,s){var l=new Set(s),c=Mr(i,o),d=Array.isArray(c);if(d||NW(c)){if(!l.has(c)){l.add(c);var h=Mr(r,o);d?r=Ur(r,o,[]):(!h||Xt(h)!=="object")&&(r=Ur(r,o,kO(c))),UW(c).forEach(function(m){a([].concat(gr(o),[m]),l)})}}else r=Ur(r,o,c)}a([])}),r}const BW={moneySymbol:"$",form:{lightFilter:{more:"المزيد",clear:"نظف",confirm:"تأكيد",itemUnit:"عناصر"}},tableForm:{search:"ابحث",reset:"إعادة تعيين",submit:"ارسال",collapsed:"مُقلص",expand:"مُوسع",inputPlaceholder:"الرجاء الإدخال",selectPlaceholder:"الرجاء الإختيار"},alert:{clear:"نظف",selected:"محدد",item:"عنصر"},pagination:{total:{range:" ",total:"من",item:"عناصر"}},tableToolBar:{leftPin:"ثبت على اليسار",rightPin:"ثبت على اليمين",noPin:"الغاء التثبيت",leftFixedTitle:"لصق على اليسار",rightFixedTitle:"لصق على اليمين",noFixedTitle:"إلغاء الإلصاق",reset:"إعادة تعيين",columnDisplay:"الأعمدة المعروضة",columnSetting:"الإعدادات",fullScreen:"وضع كامل الشاشة",exitFullScreen:"الخروج من وضع كامل الشاشة",reload:"تحديث",density:"الكثافة",densityDefault:"افتراضي",densityLarger:"أكبر",densityMiddle:"وسط",densitySmall:"مدمج"},stepsForm:{next:"التالي",prev:"السابق",submit:"أنهى"},loginForm:{submitText:"تسجيل الدخول"},editableTable:{action:{save:"أنقذ",cancel:"إلغاء الأمر",delete:"حذف",add:"إضافة صف من البيانات"}},switch:{open:"مفتوح",close:"غلق"}},zW={moneySymbol:"€",form:{lightFilter:{more:"Més",clear:"Netejar",confirm:"Confirmar",itemUnit:"Elements"}},tableForm:{search:"Cercar",reset:"Netejar",submit:"Enviar",collapsed:"Expandir",expand:"Col·lapsar",inputPlaceholder:"Introduïu valor",selectPlaceholder:"Seleccioneu valor"},alert:{clear:"Netejar",selected:"Seleccionat",item:"Article"},pagination:{total:{range:" ",total:"de",item:"articles"}},tableToolBar:{leftPin:"Pin a l'esquerra",rightPin:"Pin a la dreta",noPin:"Sense Pin",leftFixedTitle:"Fixat a l'esquerra",rightFixedTitle:"Fixat a la dreta",noFixedTitle:"Sense fixar",reset:"Reiniciar",columnDisplay:"Mostrar Columna",columnSetting:"Configuració",fullScreen:"Pantalla Completa",exitFullScreen:"Sortir Pantalla Completa",reload:"Refrescar",density:"Densitat",densityDefault:"Per Defecte",densityLarger:"Llarg",densityMiddle:"Mitjà",densitySmall:"Compacte"},stepsForm:{next:"Següent",prev:"Anterior",submit:"Finalizar"},loginForm:{submitText:"Entrar"},editableTable:{action:{save:"Guardar",cancel:"Cancel·lar",delete:"Eliminar",add:"afegir una fila de dades"}},switch:{open:"obert",close:"tancat"}},HW={moneySymbol:"Kč",deleteThisLine:"Smazat tento řádek",copyThisLine:"Kopírovat tento řádek",form:{lightFilter:{more:"Víc",clear:"Vymazat",confirm:"Potvrdit",itemUnit:"Položky"}},tableForm:{search:"Hledat",reset:"Resetovat",submit:"Odeslat",collapsed:"Zvětšit",expand:"Zmenšit",inputPlaceholder:"Zadejte prosím",selectPlaceholder:"Vyberte prosím"},alert:{clear:"Vymazat",selected:"Vybráno",item:"Položka"},pagination:{total:{range:" ",total:"z",item:"položek"}},tableToolBar:{leftPin:"Připnout doleva",rightPin:"Připnout doprava",noPin:"Odepnuto",leftFixedTitle:"Fixováno nalevo",rightFixedTitle:"Fixováno napravo",noFixedTitle:"Nefixováno",reset:"Resetovat",columnDisplay:"Zobrazení sloupců",columnSetting:"Nastavení",fullScreen:"Celá obrazovka",exitFullScreen:"Ukončit celou obrazovku",reload:"Obnovit",density:"Hustota",densityDefault:"Výchozí",densityLarger:"Větší",densityMiddle:"Střední",densitySmall:"Kompaktní"},stepsForm:{next:"Další",prev:"Předchozí",submit:"Dokončit"},loginForm:{submitText:"Přihlásit se"},editableTable:{onlyOneLineEditor:"Upravit lze pouze jeden řádek",action:{save:"Uložit",cancel:"Zrušit",delete:"Vymazat",add:"Přidat řádek"}},switch:{open:"Otevřít",close:"Zavřít"}},kW={moneySymbol:"€",form:{lightFilter:{more:"Mehr",clear:"Zurücksetzen",confirm:"Bestätigen",itemUnit:"Einträge"}},tableForm:{search:"Suchen",reset:"Zurücksetzen",submit:"Absenden",collapsed:"Zeige mehr",expand:"Zeige weniger",inputPlaceholder:"Bitte eingeben",selectPlaceholder:"Bitte auswählen"},alert:{clear:"Zurücksetzen",selected:"Ausgewählt",item:"Eintrag"},pagination:{total:{range:" ",total:"von",item:"Einträgen"}},tableToolBar:{leftPin:"Links anheften",rightPin:"Rechts anheften",noPin:"Nicht angeheftet",leftFixedTitle:"Links fixiert",rightFixedTitle:"Rechts fixiert",noFixedTitle:"Nicht fixiert",reset:"Zurücksetzen",columnDisplay:"Angezeigte Reihen",columnSetting:"Einstellungen",fullScreen:"Vollbild",exitFullScreen:"Vollbild verlassen",reload:"Aktualisieren",density:"Abstand",densityDefault:"Standard",densityLarger:"Größer",densityMiddle:"Mittel",densitySmall:"Kompakt"},stepsForm:{next:"Weiter",prev:"Zurück",submit:"Abschließen"},loginForm:{submitText:"Anmelden"},editableTable:{action:{save:"Retten",cancel:"Abbrechen",delete:"Löschen",add:"Hinzufügen einer Datenzeile"}},switch:{open:"offen",close:"schließen"}},jW={moneySymbol:"£",form:{lightFilter:{more:"More",clear:"Clear",confirm:"Confirm",itemUnit:"Items"}},tableForm:{search:"Query",reset:"Reset",submit:"Submit",collapsed:"Expand",expand:"Collapse",inputPlaceholder:"Please enter",selectPlaceholder:"Please select"},alert:{clear:"Clear",selected:"Selected",item:"Item"},pagination:{total:{range:" ",total:"of",item:"items"}},tableToolBar:{leftPin:"Pin to left",rightPin:"Pin to right",noPin:"Unpinned",leftFixedTitle:"Fixed to the left",rightFixedTitle:"Fixed to the right",noFixedTitle:"Not Fixed",reset:"Reset",columnDisplay:"Column Display",columnSetting:"Table Settings",fullScreen:"Full Screen",exitFullScreen:"Exit Full Screen",reload:"Refresh",density:"Density",densityDefault:"Default",densityLarger:"Larger",densityMiddle:"Middle",densitySmall:"Compact"},stepsForm:{next:"Next",prev:"Previous",submit:"Finish"},loginForm:{submitText:"Login"},editableTable:{onlyOneLineEditor:"Only one line can be edited",onlyAddOneLine:"Only one line can be added",action:{save:"Save",cancel:"Cancel",delete:"Delete",add:"add a row of data"}},switch:{open:"open",close:"close"}},$W={moneySymbol:"$",deleteThisLine:"Delete this line",copyThisLine:"Copy this line",form:{lightFilter:{more:"More",clear:"Clear",confirm:"Confirm",itemUnit:"Items"}},tableForm:{search:"Query",reset:"Reset",submit:"Submit",collapsed:"Expand",expand:"Collapse",inputPlaceholder:"Please enter",selectPlaceholder:"Please select"},alert:{clear:"Clear",selected:"Selected",item:"Item"},pagination:{total:{range:" ",total:"of",item:"items"}},tableToolBar:{leftPin:"Pin to left",rightPin:"Pin to right",noPin:"Unpinned",leftFixedTitle:"Fixed to the left",rightFixedTitle:"Fixed to the right",noFixedTitle:"Not Fixed",reset:"Reset",columnDisplay:"Column Display",columnSetting:"Table Settings",fullScreen:"Full Screen",exitFullScreen:"Exit Full Screen",reload:"Refresh",density:"Density",densityDefault:"Default",densityLarger:"Larger",densityMiddle:"Middle",densitySmall:"Compact"},stepsForm:{next:"Next",prev:"Previous",submit:"Finish"},loginForm:{submitText:"Login"},editableTable:{onlyOneLineEditor:"Only one line can be edited",onlyAddOneLine:"Only one line can be added",action:{save:"Save",cancel:"Cancel",delete:"Delete",add:"add a row of data"}},switch:{open:"open",close:"close"}},VW={moneySymbol:"€",form:{lightFilter:{more:"Más",clear:"Limpiar",confirm:"Confirmar",itemUnit:"artículos"}},tableForm:{search:"Buscar",reset:"Limpiar",submit:"Submit",collapsed:"Expandir",expand:"Colapsar",inputPlaceholder:"Ingrese valor",selectPlaceholder:"Seleccione valor"},alert:{clear:"Limpiar",selected:"Seleccionado",item:"Articulo"},pagination:{total:{range:" ",total:"de",item:"artículos"}},tableToolBar:{leftPin:"Pin a la izquierda",rightPin:"Pin a la derecha",noPin:"Sin Pin",leftFixedTitle:"Fijado a la izquierda",rightFixedTitle:"Fijado a la derecha",noFixedTitle:"Sin Fijar",reset:"Reiniciar",columnDisplay:"Mostrar Columna",columnSetting:"Configuración",fullScreen:"Pantalla Completa",exitFullScreen:"Salir Pantalla Completa",reload:"Refrescar",density:"Densidad",densityDefault:"Por Defecto",densityLarger:"Largo",densityMiddle:"Medio",densitySmall:"Compacto"},stepsForm:{next:"Siguiente",prev:"Anterior",submit:"Finalizar"},loginForm:{submitText:"Entrar"},editableTable:{action:{save:"Guardar",cancel:"Descartar",delete:"Borrar",add:"añadir una fila de datos"}},switch:{open:"abrir",close:"cerrar"}},GW={moneySymbol:"تومان",form:{lightFilter:{more:"بیشتر",clear:"پاک کردن",confirm:"تایید",itemUnit:"مورد"}},tableForm:{search:"جستجو",reset:"بازنشانی",submit:"تایید",collapsed:"نمایش بیشتر",expand:"نمایش کمتر",inputPlaceholder:"پیدا کنید",selectPlaceholder:"انتخاب کنید"},alert:{clear:"پاک سازی",selected:"انتخاب",item:"مورد"},pagination:{total:{range:" ",total:"از",item:"مورد"}},tableToolBar:{leftPin:"سنجاق به چپ",rightPin:"سنجاق به راست",noPin:"سنجاق نشده",leftFixedTitle:"ثابت شده در چپ",rightFixedTitle:"ثابت شده در راست",noFixedTitle:"شناور",reset:"بازنشانی",columnDisplay:"نمایش همه",columnSetting:"تنظیمات",fullScreen:"تمام صفحه",exitFullScreen:"خروج از حالت تمام صفحه",reload:"تازه سازی",density:"تراکم",densityDefault:"پیش فرض",densityLarger:"بزرگ",densityMiddle:"متوسط",densitySmall:"کوچک"},stepsForm:{next:"بعدی",prev:"قبلی",submit:"اتمام"},loginForm:{submitText:"ورود"},editableTable:{action:{save:"ذخیره",cancel:"لغو",delete:"حذف",add:"یک ردیف داده اضافه کنید"}},switch:{open:"باز",close:"نزدیک"}},WW={moneySymbol:"€",form:{lightFilter:{more:"Plus",clear:"Effacer",confirm:"Confirmer",itemUnit:"Items"}},tableForm:{search:"Rechercher",reset:"Réinitialiser",submit:"Envoyer",collapsed:"Agrandir",expand:"Réduire",inputPlaceholder:"Entrer une valeur",selectPlaceholder:"Sélectionner une valeur"},alert:{clear:"Réinitialiser",selected:"Sélectionné",item:"Item"},pagination:{total:{range:" ",total:"sur",item:"éléments"}},tableToolBar:{leftPin:"Épingler à gauche",rightPin:"Épingler à gauche",noPin:"Sans épingle",leftFixedTitle:"Fixer à gauche",rightFixedTitle:"Fixer à droite",noFixedTitle:"Non fixé",reset:"Réinitialiser",columnDisplay:"Affichage colonne",columnSetting:"Réglages",fullScreen:"Plein écran",exitFullScreen:"Quitter Plein écran",reload:"Rafraichir",density:"Densité",densityDefault:"Par défaut",densityLarger:"Larger",densityMiddle:"Moyenne",densitySmall:"Compacte"},stepsForm:{next:"Suivante",prev:"Précédente",submit:"Finaliser"},loginForm:{submitText:"Se connecter"},editableTable:{action:{save:"Sauvegarder",cancel:"Annuler",delete:"Supprimer",add:"ajouter une ligne de données"}},switch:{open:"ouvert",close:"près"}},qW={moneySymbol:"₪",deleteThisLine:"מחק שורה זו",copyThisLine:"העתק שורה זו",form:{lightFilter:{more:"יותר",clear:"נקה",confirm:"אישור",itemUnit:"פריטים"}},tableForm:{search:"חיפוש",reset:"איפוס",submit:"שלח",collapsed:"הרחב",expand:"כווץ",inputPlaceholder:"אנא הכנס",selectPlaceholder:"אנא בחר"},alert:{clear:"נקה",selected:"נבחר",item:"פריט"},pagination:{total:{range:" ",total:"מתוך",item:"פריטים"}},tableToolBar:{leftPin:"הצמד לשמאל",rightPin:"הצמד לימין",noPin:"לא מצורף",leftFixedTitle:"מוצמד לשמאל",rightFixedTitle:"מוצמד לימין",noFixedTitle:"לא מוצמד",reset:"איפוס",columnDisplay:"תצוגת עמודות",columnSetting:"הגדרות",fullScreen:"מסך מלא",exitFullScreen:"צא ממסך מלא",reload:"רענן",density:"רזולוציה",densityDefault:"ברירת מחדל",densityLarger:"גדול",densityMiddle:"בינוני",densitySmall:"קטן"},stepsForm:{next:"הבא",prev:"קודם",submit:"סיום"},loginForm:{submitText:"כניסה"},editableTable:{onlyOneLineEditor:"ניתן לערוך רק שורה אחת",action:{save:"שמור",cancel:"ביטול",delete:"מחיקה",add:"הוסף שורת נתונים"}},switch:{open:"פתח",close:"סגור"}},XW={moneySymbol:"kn",form:{lightFilter:{more:"Više",clear:"Očisti",confirm:"Potvrdi",itemUnit:"Stavke"}},tableForm:{search:"Pretraži",reset:"Poništi",submit:"Potvrdi",collapsed:"Raširi",expand:"Skupi",inputPlaceholder:"Unesite",selectPlaceholder:"Odaberite"},alert:{clear:"Očisti",selected:"Odaberi",item:"stavke"},pagination:{total:{range:" ",total:"od",item:"stavke"}},tableToolBar:{leftPin:"Prikači lijevo",rightPin:"Prikači desno",noPin:"Bez prikačenja",leftFixedTitle:"Fiksiraj lijevo",rightFixedTitle:"Fiksiraj desno",noFixedTitle:"Bez fiksiranja",reset:"Resetiraj",columnDisplay:"Prikaz stupaca",columnSetting:"Postavke",fullScreen:"Puni zaslon",exitFullScreen:"Izađi iz punog zaslona",reload:"Ponovno učitaj",density:"Veličina",densityDefault:"Zadano",densityLarger:"Veliko",densityMiddle:"Srednje",densitySmall:"Malo"},stepsForm:{next:"Sljedeći",prev:"Prethodni",submit:"Kraj"},loginForm:{submitText:"Prijava"},editableTable:{action:{save:"Spremi",cancel:"Odustani",delete:"Obriši",add:"dodajte red podataka"}},switch:{open:"otvori",close:"zatvori"}},YW={moneySymbol:"RP",form:{lightFilter:{more:"Lebih",clear:"Hapus",confirm:"Konfirmasi",itemUnit:"Unit"}},tableForm:{search:"Cari",reset:"Atur ulang",submit:"Kirim",collapsed:"Lebih sedikit",expand:"Lebih banyak",inputPlaceholder:"Masukkan pencarian",selectPlaceholder:"Pilih"},alert:{clear:"Hapus",selected:"Dipilih",item:"Butir"},pagination:{total:{range:" ",total:"Dari",item:"Butir"}},tableToolBar:{leftPin:"Pin kiri",rightPin:"Pin kanan",noPin:"Tidak ada pin",leftFixedTitle:"Rata kiri",rightFixedTitle:"Rata kanan",noFixedTitle:"Tidak tetap",reset:"Atur ulang",columnDisplay:"Tampilan kolom",columnSetting:"Pengaturan",fullScreen:"Layar penuh",exitFullScreen:"Keluar layar penuh",reload:"Atur ulang",density:"Kerapatan",densityDefault:"Standar",densityLarger:"Lebih besar",densityMiddle:"Sedang",densitySmall:"Rapat"},stepsForm:{next:"Selanjutnya",prev:"Sebelumnya",submit:"Selesai"},loginForm:{submitText:"Login"},editableTable:{action:{save:"simpan",cancel:"batal",delete:"hapus",add:"Tambahkan baris data"}},switch:{open:"buka",close:"tutup"}},KW={moneySymbol:"€",form:{lightFilter:{more:"più",clear:"pulisci",confirm:"conferma",itemUnit:"elementi"}},tableForm:{search:"Filtra",reset:"Pulisci",submit:"Invia",collapsed:"Espandi",expand:"Contrai",inputPlaceholder:"Digita",selectPlaceholder:"Seleziona"},alert:{clear:"Rimuovi",selected:"Selezionati",item:"elementi"},pagination:{total:{range:" ",total:"di",item:"elementi"}},tableToolBar:{leftPin:"Fissa a sinistra",rightPin:"Fissa a destra",noPin:"Ripristina posizione",leftFixedTitle:"Fissato a sinistra",rightFixedTitle:"Fissato a destra",noFixedTitle:"Non fissato",reset:"Ripristina",columnDisplay:"Disposizione colonne",columnSetting:"Impostazioni",fullScreen:"Modalità schermo intero",exitFullScreen:"Esci da modalità schermo intero",reload:"Ricarica",density:"Grandezza tabella",densityDefault:"predefinito",densityLarger:"Grande",densityMiddle:"Media",densitySmall:"Compatta"},stepsForm:{next:"successivo",prev:"precedente",submit:"finisci"},loginForm:{submitText:"Accedi"},editableTable:{action:{save:"salva",cancel:"annulla",delete:"Delete",add:"add a row of data"}},switch:{open:"open",close:"chiudi"}},ZW={moneySymbol:"¥",form:{lightFilter:{more:"更に",clear:"クリア",confirm:"確認",itemUnit:"アイテム"}},tableForm:{search:"検索",reset:"リセット",submit:"送信",collapsed:"拡大",expand:"折畳",inputPlaceholder:"入力してください",selectPlaceholder:"選択してください"},alert:{clear:"クリア",selected:"選択した",item:"アイテム"},pagination:{total:{range:"レコード",total:"/合計",item:" "}},tableToolBar:{leftPin:"左に固定",rightPin:"右に固定",noPin:"キャンセル",leftFixedTitle:"左に固定された項目",rightFixedTitle:"右に固定された項目",noFixedTitle:"固定されてない項目",reset:"リセット",columnDisplay:"表示列",columnSetting:"列表示設定",fullScreen:"フルスクリーン",exitFullScreen:"終了",reload:"更新",density:"行高",densityDefault:"デフォルト",densityLarger:"大",densityMiddle:"中",densitySmall:"小"},stepsForm:{next:"次へ",prev:"前へ",submit:"送信"},loginForm:{submitText:"ログイン"},editableTable:{action:{save:"保存",cancel:"キャンセル",delete:"削除",add:"追加"}},switch:{open:"開く",close:"閉じる"}},JW={moneySymbol:"₩",form:{lightFilter:{more:"더보기",clear:"초기화",confirm:"확인",itemUnit:"건수"}},tableForm:{search:"조회",reset:"초기화",submit:"제출",collapsed:"확장",expand:"닫기",inputPlaceholder:"입력해 주세요",selectPlaceholder:"선택해 주세요"},alert:{clear:"취소",selected:"선택",item:"건"},pagination:{total:{range:" ",total:"/ 총",item:"건"}},tableToolBar:{leftPin:"왼쪽으로 핀",rightPin:"오른쪽으로 핀",noPin:"핀 제거",leftFixedTitle:"왼쪽으로 고정",rightFixedTitle:"오른쪽으로 고정",noFixedTitle:"비고정",reset:"초기화",columnDisplay:"컬럼 표시",columnSetting:"설정",fullScreen:"전체 화면",exitFullScreen:"전체 화면 취소",reload:"새로 고침",density:"여백",densityDefault:"기본",densityLarger:"많은 여백",densityMiddle:"중간 여백",densitySmall:"좁은 여백"},stepsForm:{next:"다음",prev:"이전",submit:"종료"},loginForm:{submitText:"로그인"},editableTable:{action:{save:"저장",cancel:"취소",delete:"삭제",add:"데이터 행 추가"}},switch:{open:"열",close:"가까 운"}},QW={moneySymbol:"₮",form:{lightFilter:{more:"Илүү",clear:"Цэвэрлэх",confirm:"Баталгаажуулах",itemUnit:"Нэгжүүд"}},tableForm:{search:"Хайх",reset:"Шинэчлэх",submit:"Илгээх",collapsed:"Өргөтгөх",expand:"Хураах",inputPlaceholder:"Утга оруулна уу",selectPlaceholder:"Утга сонгоно уу"},alert:{clear:"Цэвэрлэх",selected:"Сонгогдсон",item:"Нэгж"},pagination:{total:{range:" ",total:"Нийт",item:"мөр"}},tableToolBar:{leftPin:"Зүүн тийш бэхлэх",rightPin:"Баруун тийш бэхлэх",noPin:"Бэхлэхгүй",leftFixedTitle:"Зүүн зэрэгцүүлэх",rightFixedTitle:"Баруун зэрэгцүүлэх",noFixedTitle:"Зэрэгцүүлэхгүй",reset:"Шинэчлэх",columnDisplay:"Баганаар харуулах",columnSetting:"Тохиргоо",fullScreen:"Бүтэн дэлгэцээр",exitFullScreen:"Бүтэн дэлгэц цуцлах",reload:"Шинэчлэх",density:"Хэмжээ",densityDefault:"Хэвийн",densityLarger:"Том",densityMiddle:"Дунд",densitySmall:"Жижиг"},stepsForm:{next:"Дараах",prev:"Өмнөх",submit:"Дуусгах"},loginForm:{submitText:"Нэвтрэх"},editableTable:{action:{save:"Хадгалах",cancel:"Цуцлах",delete:"Устгах",add:"Мөр нэмэх"}},switch:{open:"Нээх",close:"Хаах"}},e9={moneySymbol:"RM",form:{lightFilter:{more:"Lebih banyak",clear:"Jelas",confirm:"Mengesahkan",itemUnit:"Item"}},tableForm:{search:"Cari",reset:"Menetapkan semula",submit:"Hantar",collapsed:"Kembang",expand:"Kuncup",inputPlaceholder:"Sila masuk",selectPlaceholder:"Sila pilih"},alert:{clear:"Padam",selected:"Dipilih",item:"Item"},pagination:{total:{range:" ",total:"daripada",item:"item"}},tableToolBar:{leftPin:"Pin ke kiri",rightPin:"Pin ke kanan",noPin:"Tidak pin",leftFixedTitle:"Tetap ke kiri",rightFixedTitle:"Tetap ke kanan",noFixedTitle:"Tidak Tetap",reset:"Menetapkan semula",columnDisplay:"Lajur",columnSetting:"Settings",fullScreen:"Full Screen",exitFullScreen:"Keluar Full Screen",reload:"Muat Semula",density:"Densiti",densityDefault:"Biasa",densityLarger:"Besar",densityMiddle:"Tengah",densitySmall:"Kecil"},stepsForm:{next:"Seterusnya",prev:"Sebelumnya",submit:"Selesai"},loginForm:{submitText:"Log Masuk"},editableTable:{action:{save:"Simpan",cancel:"Membatalkan",delete:"Menghapuskan",add:"tambah baris data"}},switch:{open:"Terbuka",close:"Tutup"}},t9={moneySymbol:"€",deleteThisLine:"Verwijder deze regel",copyThisLine:"Kopieer deze regel",form:{lightFilter:{more:"Meer filters",clear:"Wissen",confirm:"Bevestigen",itemUnit:"item"}},tableForm:{search:"Zoeken",reset:"Resetten",submit:"Indienen",collapsed:"Uitvouwen",expand:"Inklappen",inputPlaceholder:"Voer in",selectPlaceholder:"Selecteer"},alert:{clear:"Selectie annuleren",selected:"Geselecteerd",item:"item"},pagination:{total:{range:"Van",total:"items/totaal",item:"items"}},tableToolBar:{leftPin:"Vastzetten aan begin",rightPin:"Vastzetten aan einde",noPin:"Niet vastzetten",leftFixedTitle:"Vastzetten aan de linkerkant",rightFixedTitle:"Vastzetten aan de rechterkant",noFixedTitle:"Niet vastzetten",reset:"Resetten",columnDisplay:"Kolomweergave",columnSetting:"Kolominstellingen",fullScreen:"Volledig scherm",exitFullScreen:"Verlaat volledig scherm",reload:"Vernieuwen",density:"Dichtheid",densityDefault:"Normaal",densityLarger:"Ruim",densityMiddle:"Gemiddeld",densitySmall:"Compact"},stepsForm:{next:"Volgende stap",prev:"Vorige stap",submit:"Indienen"},loginForm:{submitText:"Inloggen"},editableTable:{onlyOneLineEditor:"Slechts één regel tegelijk bewerken",action:{save:"Opslaan",cancel:"Annuleren",delete:"Verwijderen",add:"Een regel toevoegen"}},switch:{open:"Openen",close:"Sluiten"}},n9={moneySymbol:"zł",form:{lightFilter:{more:"Więcej",clear:"Wyczyść",confirm:"Potwierdź",itemUnit:"Ilość"}},tableForm:{search:"Szukaj",reset:"Reset",submit:"Zatwierdź",collapsed:"Pokaż wiecej",expand:"Pokaż mniej",inputPlaceholder:"Proszę podać",selectPlaceholder:"Proszę wybrać"},alert:{clear:"Wyczyść",selected:"Wybrane",item:"Wpis"},pagination:{total:{range:" ",total:"z",item:"Wpisów"}},tableToolBar:{leftPin:"Przypnij do lewej",rightPin:"Przypnij do prawej",noPin:"Odepnij",leftFixedTitle:"Przypięte do lewej",rightFixedTitle:"Przypięte do prawej",noFixedTitle:"Nieprzypięte",reset:"Reset",columnDisplay:"Wyświetlane wiersze",columnSetting:"Ustawienia",fullScreen:"Pełen ekran",exitFullScreen:"Zamknij pełen ekran",reload:"Odśwież",density:"Odstęp",densityDefault:"Standard",densityLarger:"Wiekszy",densityMiddle:"Sredni",densitySmall:"Kompaktowy"},stepsForm:{next:"Weiter",prev:"Zurück",submit:"Abschließen"},loginForm:{submitText:"Zaloguj się"},editableTable:{action:{save:"Zapisać",cancel:"Anuluj",delete:"Usunąć",add:"dodawanie wiersza danych"}},switch:{open:"otwierać",close:"zamykać"}},r9={moneySymbol:"R$",form:{lightFilter:{more:"Mais",clear:"Limpar",confirm:"Confirmar",itemUnit:"Itens"}},tableForm:{search:"Filtrar",reset:"Limpar",submit:"Confirmar",collapsed:"Expandir",expand:"Colapsar",inputPlaceholder:"Por favor insira",selectPlaceholder:"Por favor selecione"},alert:{clear:"Limpar",selected:"Selecionado(s)",item:"Item(s)"},pagination:{total:{range:" ",total:"de",item:"itens"}},tableToolBar:{leftPin:"Fixar à esquerda",rightPin:"Fixar à direita",noPin:"Desfixado",leftFixedTitle:"Fixado à esquerda",rightFixedTitle:"Fixado à direita",noFixedTitle:"Não fixado",reset:"Limpar",columnDisplay:"Mostrar Coluna",columnSetting:"Configurações",fullScreen:"Tela Cheia",exitFullScreen:"Sair da Tela Cheia",reload:"Atualizar",density:"Densidade",densityDefault:"Padrão",densityLarger:"Largo",densityMiddle:"Médio",densitySmall:"Compacto"},stepsForm:{next:"Próximo",prev:"Anterior",submit:"Enviar"},loginForm:{submitText:"Entrar"},editableTable:{action:{save:"Salvar",cancel:"Cancelar",delete:"Apagar",add:"adicionar uma linha de dados"}},switch:{open:"abrir",close:"fechar"}},i9={moneySymbol:"RON",deleteThisLine:"Șterge acest rând",copyThisLine:"Copiază acest rând",form:{lightFilter:{more:"Mai multe filtre",clear:"Curăță",confirm:"Confirmă",itemUnit:"elemente"}},tableForm:{search:"Caută",reset:"Resetează",submit:"Trimite",collapsed:"Extinde",expand:"Restrânge",inputPlaceholder:"Introduceți",selectPlaceholder:"Selectați"},alert:{clear:"Anulează selecția",selected:"Selectat",item:"elemente"},pagination:{total:{range:"De la",total:"elemente/total",item:"elemente"}},tableToolBar:{leftPin:"Fixează la început",rightPin:"Fixează la sfârșit",noPin:"Nu fixa",leftFixedTitle:"Fixează în stânga",rightFixedTitle:"Fixează în dreapta",noFixedTitle:"Nu fixa",reset:"Resetează",columnDisplay:"Afișare coloane",columnSetting:"Setări coloane",fullScreen:"Ecran complet",exitFullScreen:"Ieși din ecran complet",reload:"Reîncarcă",density:"Densitate",densityDefault:"Normal",densityLarger:"Larg",densityMiddle:"Mediu",densitySmall:"Compact"},stepsForm:{next:"Pasul următor",prev:"Pasul anterior",submit:"Trimite"},loginForm:{submitText:"Autentificare"},editableTable:{onlyOneLineEditor:"Se poate edita doar un rând simultan",action:{save:"Salvează",cancel:"Anulează",delete:"Șterge",add:"Adaugă un rând"}},switch:{open:"Deschide",close:"Închide"}},a9={moneySymbol:"₽",form:{lightFilter:{more:"Еще",clear:"Очистить",confirm:"ОК",itemUnit:"Позиции"}},tableForm:{search:"Найти",reset:"Сброс",submit:"Отправить",collapsed:"Развернуть",expand:"Свернуть",inputPlaceholder:"Введите значение",selectPlaceholder:"Выберите значение"},alert:{clear:"Очистить",selected:"Выбрано",item:"элементов"},pagination:{total:{range:" ",total:"из",item:"элементов"}},tableToolBar:{leftPin:"Закрепить слева",rightPin:"Закрепить справа",noPin:"Открепить",leftFixedTitle:"Закреплено слева",rightFixedTitle:"Закреплено справа",noFixedTitle:"Не закреплено",reset:"Сброс",columnDisplay:"Отображение столбца",columnSetting:"Настройки",fullScreen:"Полный экран",exitFullScreen:"Выйти из полноэкранного режима",reload:"Обновить",density:"Размер",densityDefault:"По умолчанию",densityLarger:"Большой",densityMiddle:"Средний",densitySmall:"Сжатый"},stepsForm:{next:"Следующий",prev:"Предыдущий",submit:"Завершить"},loginForm:{submitText:"Вход"},editableTable:{action:{save:"Сохранить",cancel:"Отменить",delete:"Удалить",add:"добавить ряд данных"}},switch:{open:"Открытый чемпионат мира по теннису",close:"По адресу:"}},o9={moneySymbol:"€",deleteThisLine:"Odstrániť tento riadok",copyThisLine:"Skopírujte tento riadok",form:{lightFilter:{more:"Viac",clear:"Vyčistiť",confirm:"Potvrďte",itemUnit:"Položky"}},tableForm:{search:"Vyhladať",reset:"Resetovať",submit:"Odoslať",collapsed:"Rozbaliť",expand:"Zbaliť",inputPlaceholder:"Prosím, zadajte",selectPlaceholder:"Prosím, vyberte"},alert:{clear:"Vyčistiť",selected:"Vybraný",item:"Položka"},pagination:{total:{range:" ",total:"z",item:"položiek"}},tableToolBar:{leftPin:"Pripnúť vľavo",rightPin:"Pripnúť vpravo",noPin:"Odopnuté",leftFixedTitle:"Fixované na ľavo",rightFixedTitle:"Fixované na pravo",noFixedTitle:"Nefixované",reset:"Resetovať",columnDisplay:"Zobrazenie stĺpcov",columnSetting:"Nastavenia",fullScreen:"Celá obrazovka",exitFullScreen:"Ukončiť celú obrazovku",reload:"Obnoviť",density:"Hustota",densityDefault:"Predvolené",densityLarger:"Väčšie",densityMiddle:"Stredné",densitySmall:"Kompaktné"},stepsForm:{next:"Ďalšie",prev:"Predchádzajúce",submit:"Potvrdiť"},loginForm:{submitText:"Prihlásiť sa"},editableTable:{onlyOneLineEditor:"Upravovať možno iba jeden riadok",action:{save:"Uložiť",cancel:"Zrušiť",delete:"Odstrániť",add:"pridať riadok údajov"}},switch:{open:"otvoriť",close:"zavrieť"}},s9={moneySymbol:"RSD",form:{lightFilter:{more:"Više",clear:"Očisti",confirm:"Potvrdi",itemUnit:"Stavke"}},tableForm:{search:"Pronađi",reset:"Resetuj",submit:"Pošalji",collapsed:"Proširi",expand:"Skupi",inputPlaceholder:"Molimo unesite",selectPlaceholder:"Molimo odaberite"},alert:{clear:"Očisti",selected:"Odabrano",item:"Stavka"},pagination:{total:{range:" ",total:"od",item:"stavki"}},tableToolBar:{leftPin:"Zakači levo",rightPin:"Zakači desno",noPin:"Nije zakačeno",leftFixedTitle:"Fiksirano levo",rightFixedTitle:"Fiksirano desno",noFixedTitle:"Nije fiksirano",reset:"Resetuj",columnDisplay:"Prikaz kolona",columnSetting:"Podešavanja",fullScreen:"Pun ekran",exitFullScreen:"Zatvori pun ekran",reload:"Osveži",density:"Veličina",densityDefault:"Podrazumevana",densityLarger:"Veća",densityMiddle:"Srednja",densitySmall:"Kompaktna"},stepsForm:{next:"Dalje",prev:"Nazad",submit:"Gotovo"},loginForm:{submitText:"Prijavi se"},editableTable:{action:{save:"Sačuvaj",cancel:"Poništi",delete:"Obriši",add:"dodajte red podataka"}},switch:{open:"Отворите",close:"Затворите"}},l9={moneySymbol:"SEK",deleteThisLine:"Radera denna rad",copyThisLine:"Kopiera denna rad",form:{lightFilter:{more:"Fler filter",clear:"Rensa",confirm:"Bekräfta",itemUnit:"objekt"}},tableForm:{search:"Sök",reset:"Återställ",submit:"Skicka",collapsed:"Expandera",expand:"Fäll ihop",inputPlaceholder:"Vänligen ange",selectPlaceholder:"Vänligen välj"},alert:{clear:"Avbryt val",selected:"Vald",item:"objekt"},pagination:{total:{range:"Från",total:"objekt/totalt",item:"objekt"}},tableToolBar:{leftPin:"Fäst till vänster",rightPin:"Fäst till höger",noPin:"Inte fäst",leftFixedTitle:"Fäst till vänster",rightFixedTitle:"Fäst till höger",noFixedTitle:"Inte fäst",reset:"Återställ",columnDisplay:"Kolumnvisning",columnSetting:"Kolumninställningar",fullScreen:"Fullskärm",exitFullScreen:"Avsluta fullskärm",reload:"Ladda om",density:"Täthet",densityDefault:"Normal",densityLarger:"Lös",densityMiddle:"Medium",densitySmall:"Kompakt"},stepsForm:{next:"Nästa steg",prev:"Föregående steg",submit:"Skicka"},loginForm:{submitText:"Logga in"},editableTable:{onlyOneLineEditor:"Endast en rad kan redigeras åt gången",action:{save:"Spara",cancel:"Avbryt",delete:"Radera",add:"Lägg till en rad"}},switch:{open:"Öppna",close:"Stäng"}},c9={moneySymbol:"฿",deleteThisLine:"ลบบรรทัดนี้",copyThisLine:"คัดลอกบรรทัดนี้",form:{lightFilter:{more:"มากกว่า",clear:"ชัดเจน",confirm:"ยืนยัน",itemUnit:"รายการ"}},tableForm:{search:"สอบถาม",reset:"รีเซ็ต",submit:"ส่ง",collapsed:"ขยาย",expand:"ทรุด",inputPlaceholder:"กรุณาป้อน",selectPlaceholder:"โปรดเลือก"},alert:{clear:"ชัดเจน",selected:"เลือกแล้ว",item:"รายการ"},pagination:{total:{range:" ",total:"ของ",item:"รายการ"}},tableToolBar:{leftPin:"ปักหมุดไปทางซ้าย",rightPin:"ปักหมุดไปทางขวา",noPin:"เลิกตรึงแล้ว",leftFixedTitle:"แก้ไขด้านซ้าย",rightFixedTitle:"แก้ไขด้านขวา",noFixedTitle:"ไม่คงที่",reset:"รีเซ็ต",columnDisplay:"การแสดงคอลัมน์",columnSetting:"การตั้งค่า",fullScreen:"เต็มจอ",exitFullScreen:"ออกจากโหมดเต็มหน้าจอ",reload:"รีเฟรช",density:"ความหนาแน่น",densityDefault:"ค่าเริ่มต้น",densityLarger:"ขนาดใหญ่ขึ้น",densityMiddle:"กลาง",densitySmall:"กะทัดรัด"},stepsForm:{next:"ถัดไป",prev:"ก่อนหน้า",submit:"เสร็จ"},loginForm:{submitText:"เข้าสู่ระบบ"},editableTable:{onlyOneLineEditor:"แก้ไขได้เพียงบรรทัดเดียวเท่านั้น",action:{save:"บันทึก",cancel:"ยกเลิก",delete:"ลบ",add:"เพิ่มแถวของข้อมูล"}},switch:{open:"เปิด",close:"ปิด"}},u9={moneySymbol:"₺",form:{lightFilter:{more:"Daha Fazla",clear:"Temizle",confirm:"Onayla",itemUnit:"Öğeler"}},tableForm:{search:"Filtrele",reset:"Sıfırla",submit:"Gönder",collapsed:"Daha fazla",expand:"Daha az",inputPlaceholder:"Filtrelemek için bir değer girin",selectPlaceholder:"Filtrelemek için bir değer seçin"},alert:{clear:"Temizle",selected:"Seçili",item:"Öğe"},pagination:{total:{range:" ",total:"Toplam",item:"Öğe"}},tableToolBar:{leftPin:"Sola sabitle",rightPin:"Sağa sabitle",noPin:"Sabitlemeyi kaldır",leftFixedTitle:"Sola sabitlendi",rightFixedTitle:"Sağa sabitlendi",noFixedTitle:"Sabitlenmedi",reset:"Sıfırla",columnDisplay:"Kolon Görünümü",columnSetting:"Ayarlar",fullScreen:"Tam Ekran",exitFullScreen:"Tam Ekrandan Çık",reload:"Yenile",density:"Kalınlık",densityDefault:"Varsayılan",densityLarger:"Büyük",densityMiddle:"Orta",densitySmall:"Küçük"},stepsForm:{next:"Sıradaki",prev:"Önceki",submit:"Gönder"},loginForm:{submitText:"Giriş Yap"},editableTable:{action:{save:"Kaydet",cancel:"Vazgeç",delete:"Sil",add:"foegje in rige gegevens ta"}},switch:{open:"açık",close:"kapatmak"}},d9={moneySymbol:"₴",deleteThisLine:"Видатили рядок",copyThisLine:"Скопіювати рядок",form:{lightFilter:{more:"Ще",clear:"Очистити",confirm:"Ок",itemUnit:"Позиції"}},tableForm:{search:"Пошук",reset:"Очистити",submit:"Відправити",collapsed:"Розгорнути",expand:"Згорнути",inputPlaceholder:"Введіть значення",selectPlaceholder:"Оберіть значення"},alert:{clear:"Очистити",selected:"Обрано",item:"елементів"},pagination:{total:{range:" ",total:"з",item:"елементів"}},tableToolBar:{leftPin:"Закріпити зліва",rightPin:"Закріпити справа",noPin:"Відкріпити",leftFixedTitle:"Закріплено зліва",rightFixedTitle:"Закріплено справа",noFixedTitle:"Не закріплено",reset:"Скинути",columnDisplay:"Відображення стовпців",columnSetting:"Налаштування",fullScreen:"Повноекранний режим",exitFullScreen:"Вийти з повноекранного режиму",reload:"Оновити",density:"Розмір",densityDefault:"За замовчуванням",densityLarger:"Великий",densityMiddle:"Середній",densitySmall:"Стислий"},stepsForm:{next:"Наступний",prev:"Попередній",submit:"Завершити"},loginForm:{submitText:"Вхіх"},editableTable:{onlyOneLineEditor:"Тільки один рядок може бути редагований одночасно",action:{save:"Зберегти",cancel:"Відмінити",delete:"Видалити",add:"додати рядок"}},switch:{open:"Відкрито",close:"Закрито"}},f9={moneySymbol:"UZS",form:{lightFilter:{more:"Yana",clear:"Tozalash",confirm:"OK",itemUnit:"Pozitsiyalar"}},tableForm:{search:"Qidirish",reset:"Qayta tiklash",submit:"Yuborish",collapsed:"Yig‘ish",expand:"Kengaytirish",inputPlaceholder:"Qiymatni kiriting",selectPlaceholder:"Qiymatni tanlang"},alert:{clear:"Tozalash",selected:"Tanlangan",item:"elementlar"},pagination:{total:{range:" ",total:"dan",item:"elementlar"}},tableToolBar:{leftPin:"Chapga mahkamlash",rightPin:"O‘ngga mahkamlash",noPin:"Mahkamlashni olib tashlash",leftFixedTitle:"Chapga mahkamlangan",rightFixedTitle:"O‘ngga mahkamlangan",noFixedTitle:"Mahkamlashsiz",reset:"Qayta tiklash",columnDisplay:"Ustunni ko‘rsatish",columnSetting:"Sozlamalar",fullScreen:"To‘liq ekran",exitFullScreen:"To‘liq ekrandan chiqish",reload:"Yangilash",density:"O‘lcham",densityDefault:"Standart",densityLarger:"Katta",densityMiddle:"O‘rtacha",densitySmall:"Kichik"},stepsForm:{next:"Keyingi",prev:"Oldingi",submit:"Tugatish"},loginForm:{submitText:"Kirish"},editableTable:{action:{save:"Saqlash",cancel:"Bekor qilish",delete:"O‘chirish",add:"maʼlumotlar qatorini qo‘shish"}},switch:{open:"Ochish",close:"Yopish"}},h9={moneySymbol:"₫",form:{lightFilter:{more:"Nhiều hơn",clear:"Trong",confirm:"Xác nhận",itemUnit:"Mục"}},tableForm:{search:"Tìm kiếm",reset:"Làm lại",submit:"Gửi đi",collapsed:"Mở rộng",expand:"Thu gọn",inputPlaceholder:"nhập dữ liệu",selectPlaceholder:"Vui lòng chọn"},alert:{clear:"Xóa",selected:"đã chọn",item:"mục"},pagination:{total:{range:" ",total:"trên",item:"mặt hàng"}},tableToolBar:{leftPin:"Ghim trái",rightPin:"Ghim phải",noPin:"Bỏ ghim",leftFixedTitle:"Cố định trái",rightFixedTitle:"Cố định phải",noFixedTitle:"Chưa cố định",reset:"Làm lại",columnDisplay:"Cột hiển thị",columnSetting:"Cấu hình",fullScreen:"Chế độ toàn màn hình",exitFullScreen:"Thoát chế độ toàn màn hình",reload:"Làm mới",density:"Mật độ hiển thị",densityDefault:"Mặc định",densityLarger:"Mặc định",densityMiddle:"Trung bình",densitySmall:"Chật"},stepsForm:{next:"Sau",prev:"Trước",submit:"Kết thúc"},loginForm:{submitText:"Đăng nhập"},editableTable:{action:{save:"Cứu",cancel:"Hủy",delete:"Xóa",add:"thêm một hàng dữ liệu"}},switch:{open:"mở",close:"đóng"}},p9={moneySymbol:"¥",deleteThisLine:"删除此项",copyThisLine:"复制此项",form:{lightFilter:{more:"更多筛选",clear:"清除",confirm:"确认",itemUnit:"项"}},tableForm:{search:"查询",reset:"重置",submit:"提交",collapsed:"展开",expand:"收起",inputPlaceholder:"请输入",selectPlaceholder:"请选择"},alert:{clear:"取消选择",selected:"已选择",item:"项"},pagination:{total:{range:"第",total:"条/总共",item:"条"}},tableToolBar:{leftPin:"固定在列首",rightPin:"固定在列尾",noPin:"不固定",leftFixedTitle:"固定在左侧",rightFixedTitle:"固定在右侧",noFixedTitle:"不固定",reset:"重置",columnDisplay:"列展示",columnSetting:"列设置",fullScreen:"全屏",exitFullScreen:"退出全屏",reload:"刷新",density:"密度",densityDefault:"正常",densityLarger:"宽松",densityMiddle:"中等",densitySmall:"紧凑"},stepsForm:{next:"下一步",prev:"上一步",submit:"提交"},loginForm:{submitText:"登录"},editableTable:{onlyOneLineEditor:"只能同时编辑一行",action:{save:"保存",cancel:"取消",delete:"删除",add:"添加一行数据"}},switch:{open:"打开",close:"关闭"}},m9={moneySymbol:"HK$",deleteThisLine:"刪除此項",copyThisLine:"複製此項",form:{lightFilter:{more:"更多篩選",clear:"清除",confirm:"確認",itemUnit:"項"}},tableForm:{search:"搜尋",reset:"重設",submit:"提交",collapsed:"展開",expand:"收起",inputPlaceholder:"請輸入",selectPlaceholder:"請選擇"},alert:{clear:"取消選取",selected:"已選取",item:"項"},pagination:{total:{range:"第",total:"項/總共",item:"項"}},tableToolBar:{leftPin:"固定到左邊",rightPin:"固定到右邊",noPin:"不固定",leftFixedTitle:"固定在左側",rightFixedTitle:"固定在右側",noFixedTitle:"不固定",reset:"重設",columnDisplay:"列顯示",columnSetting:"列設定",fullScreen:"全螢幕",exitFullScreen:"退出全螢幕",reload:"重新整理",density:"密度",densityDefault:"正常",densityLarger:"寬鬆",densityMiddle:"中等",densitySmall:"緊湊"},stepsForm:{next:"下一步",prev:"上一步",submit:"完成"},loginForm:{submitText:"登入"},editableTable:{onlyOneLineEditor:"只能同時編輯一行",action:{save:"保存",cancel:"取消",delete:"刪除",add:"新增一行資料"}},switch:{open:"打開",close:"關閉"}},g9={moneySymbol:"NT$",deleteThisLine:"刪除此项",copyThisLine:"複製此项",form:{lightFilter:{more:"更多篩選",clear:"清除",confirm:"確認",itemUnit:"項"}},tableForm:{search:"查詢",reset:"重置",submit:"提交",collapsed:"展開",expand:"收起",inputPlaceholder:"請輸入",selectPlaceholder:"請選擇"},alert:{clear:"取消選擇",selected:"已選擇",item:"項"},pagination:{total:{range:"第",total:"條/總共",item:"條"}},tableToolBar:{leftPin:"固定到左邊",rightPin:"固定到右邊",noPin:"不固定",leftFixedTitle:"固定在左側",rightFixedTitle:"固定在右側",noFixedTitle:"不固定",reset:"重置",columnDisplay:"列展示",columnSetting:"列設置",fullScreen:"全屏",exitFullScreen:"退出全屏",reload:"刷新",density:"密度",densityDefault:"正常",densityLarger:"寬鬆",densityMiddle:"中等",densitySmall:"緊湊"},stepsForm:{next:"下一步",prev:"上一步",submit:"完成"},loginForm:{submitText:"登入"},editableTable:{onlyOneLineEditor:"只能同時編輯一行",action:{save:"保存",cancel:"取消",delete:"刪除",add:"新增一行資料"}},switch:{open:"打開",close:"關閉"}};var rr=function(e,t){return{getMessage:function(i,a){var o=Mr(t,i.replace(/\[(\d+)\]/g,".$1").split("."))||"";if(o)return o;var s=e.replace("_","-");if(s==="zh-CN")return a;var l=Bf["zh-CN"];return l?l.getMessage(i,a):a},locale:e}},v9=rr("mn_MN",QW),y9=rr("ar_EG",BW),rm=rr("zh_CN",p9),b9=rr("en_US",$W),x9=rr("en_GB",jW),_9=rr("vi_VN",h9),S9=rr("it_IT",KW),C9=rr("ja_JP",ZW),w9=rr("es_ES",VW),T9=rr("ca_ES",zW),M9=rr("ru_RU",a9),E9=rr("sr_RS",s9),A9=rr("ms_MY",e9),R9=rr("zh_TW",g9),P9=rr("zh_HK",m9),O9=rr("fr_FR",WW),F9=rr("pt_BR",r9),I9=rr("ko_KR",JW),D9=rr("id_ID",YW),L9=rr("de_DE",kW),N9=rr("fa_IR",GW),U9=rr("tr_TR",u9),B9=rr("pl_PL",n9),z9=rr("hr_",XW),H9=rr("th_TH",c9),k9=rr("cs_cz",HW),j9=rr("sk_SK",o9),$9=rr("he_IL",qW),V9=rr("uk_UA",d9),G9=rr("uz_UZ",f9),W9=rr("nl_NL",t9),q9=rr("ro_RO",i9),X9=rr("sv_SE",l9),Bf={"mn-MN":v9,"ar-EG":y9,"zh-CN":rm,"en-US":b9,"en-GB":x9,"vi-VN":_9,"it-IT":S9,"ja-JP":C9,"es-ES":w9,"ca-ES":T9,"ru-RU":M9,"sr-RS":E9,"ms-MY":A9,"zh-TW":R9,"zh-HK":P9,"fr-FR":O9,"pt-BR":F9,"ko-KR":I9,"id-ID":D9,"de-DE":L9,"fa-IR":N9,"tr-TR":U9,"pl-PL":B9,"hr-HR":z9,"th-TH":H9,"cs-CZ":k9,"sk-SK":j9,"he-IL":$9,"uk-UA":V9,"uz-UZ":G9,"nl-NL":W9,"ro-RO":q9,"sv-SE":X9},Y9=Object.keys(Bf),rU=function(e){var t=(e||"zh-CN").toLocaleLowerCase();return Y9.find(function(r){var i=r.toLocaleLowerCase();return i.includes(t)})};function fa(n,e){K9(n)&&(n="100%");var t=Z9(n);return n=e===360?n:Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(String(n*e),10)/100),Math.abs(n-e)<1e-6?1:(e===360?n=(n<0?n%e+e:n%e)/parseFloat(String(e)):n=n%e/parseFloat(String(e)),n)}function Wx(n){return Math.min(1,Math.max(0,n))}function K9(n){return typeof n=="string"&&n.indexOf(".")!==-1&&parseFloat(n)===1}function Z9(n){return typeof n=="string"&&n.indexOf("%")!==-1}function iU(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function qx(n){return n<=1?"".concat(Number(n)*100,"%"):n}function Cf(n){return n.length===1?"0"+n:String(n)}function J9(n,e,t){return{r:fa(n,255)*255,g:fa(e,255)*255,b:fa(t,255)*255}}function jO(n,e,t){n=fa(n,255),e=fa(e,255),t=fa(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),a=0,o=0,s=(r+i)/2;if(r===i)o=0,a=0;else{var l=r-i;switch(o=s>.5?l/(2-r-i):l/(r+i),r){case n:a=(e-t)/l+(e<t?6:0);break;case e:a=(t-n)/l+2;break;case t:a=(n-e)/l+4;break}a/=6}return{h:a,s:o,l:s}}function hM(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*(6*t):t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Q9(n,e,t){var r,i,a;if(n=fa(n,360),e=fa(e,100),t=fa(t,100),e===0)i=t,a=t,r=t;else{var o=t<.5?t*(1+e):t+e-t*e,s=2*t-o;r=hM(s,o,n+1/3),i=hM(s,o,n),a=hM(s,o,n-1/3)}return{r:r*255,g:i*255,b:a*255}}function $O(n,e,t){n=fa(n,255),e=fa(e,255),t=fa(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),a=0,o=r,s=r-i,l=r===0?0:s/r;if(r===i)a=0;else{switch(r){case n:a=(e-t)/s+(e<t?6:0);break;case e:a=(t-n)/s+2;break;case t:a=(n-e)/s+4;break}a/=6}return{h:a,s:l,v:o}}function e7(n,e,t){n=fa(n,360)*6,e=fa(e,100),t=fa(t,100);var r=Math.floor(n),i=n-r,a=t*(1-e),o=t*(1-i*e),s=t*(1-(1-i)*e),l=r%6,c=[t,o,a,a,s,t][l],d=[s,t,t,o,a,a][l],h=[a,a,s,t,t,o][l];return{r:c*255,g:d*255,b:h*255}}function VO(n,e,t,r){var i=[Cf(Math.round(n).toString(16)),Cf(Math.round(e).toString(16)),Cf(Math.round(t).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function t7(n,e,t,r,i){var a=[Cf(Math.round(n).toString(16)),Cf(Math.round(e).toString(16)),Cf(Math.round(t).toString(16)),Cf(n7(r))];return i&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function n7(n){return Math.round(parseFloat(n)*255).toString(16)}function GO(n){return Wo(n)/255}function Wo(n){return parseInt(n,16)}function r7(n){return{r:n>>16,g:(n&65280)>>8,b:n&255}}var uA={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function i7(n){var e={r:0,g:0,b:0},t=1,r=null,i=null,a=null,o=!1,s=!1;return typeof n=="string"&&(n=s7(n)),typeof n=="object"&&(Ec(n.r)&&Ec(n.g)&&Ec(n.b)?(e=J9(n.r,n.g,n.b),o=!0,s=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Ec(n.h)&&Ec(n.s)&&Ec(n.v)?(r=qx(n.s),i=qx(n.v),e=e7(n.h,r,i),o=!0,s="hsv"):Ec(n.h)&&Ec(n.s)&&Ec(n.l)&&(r=qx(n.s),a=qx(n.l),e=Q9(n.h,r,a),o=!0,s="hsl"),Object.prototype.hasOwnProperty.call(n,"a")&&(t=n.a)),t=iU(t),{ok:o,format:n.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var a7="[-\\+]?\\d+%?",o7="[-\\+]?\\d*\\.\\d+%?",Nu="(?:".concat(o7,")|(?:").concat(a7,")"),pM="[\\s|\\(]+(".concat(Nu,")[,|\\s]+(").concat(Nu,")[,|\\s]+(").concat(Nu,")\\s*\\)?"),mM="[\\s|\\(]+(".concat(Nu,")[,|\\s]+(").concat(Nu,")[,|\\s]+(").concat(Nu,")[,|\\s]+(").concat(Nu,")\\s*\\)?"),Ys={CSS_UNIT:new RegExp(Nu),rgb:new RegExp("rgb"+pM),rgba:new RegExp("rgba"+mM),hsl:new RegExp("hsl"+pM),hsla:new RegExp("hsla"+mM),hsv:new RegExp("hsv"+pM),hsva:new RegExp("hsva"+mM),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function s7(n){if(n=n.trim().toLowerCase(),n.length===0)return!1;var e=!1;if(uA[n])n=uA[n],e=!0;else if(n==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t=Ys.rgb.exec(n);return t?{r:t[1],g:t[2],b:t[3]}:(t=Ys.rgba.exec(n),t?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=Ys.hsl.exec(n),t?{h:t[1],s:t[2],l:t[3]}:(t=Ys.hsla.exec(n),t?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=Ys.hsv.exec(n),t?{h:t[1],s:t[2],v:t[3]}:(t=Ys.hsva.exec(n),t?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=Ys.hex8.exec(n),t?{r:Wo(t[1]),g:Wo(t[2]),b:Wo(t[3]),a:GO(t[4]),format:e?"name":"hex8"}:(t=Ys.hex6.exec(n),t?{r:Wo(t[1]),g:Wo(t[2]),b:Wo(t[3]),format:e?"name":"hex"}:(t=Ys.hex4.exec(n),t?{r:Wo(t[1]+t[1]),g:Wo(t[2]+t[2]),b:Wo(t[3]+t[3]),a:GO(t[4]+t[4]),format:e?"name":"hex8"}:(t=Ys.hex3.exec(n),t?{r:Wo(t[1]+t[1]),g:Wo(t[2]+t[2]),b:Wo(t[3]+t[3]),format:e?"name":"hex"}:!1)))))))))}function Ec(n){return!!Ys.CSS_UNIT.exec(String(n))}var l7=function(){function n(e,t){e===void 0&&(e=""),t===void 0&&(t={});var r;if(e instanceof n)return e;typeof e=="number"&&(e=r7(e)),this.originalInput=e;var i=i7(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=t.format)!==null&&r!==void 0?r:i.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return n.prototype.isDark=function(){return this.getBrightness()<128},n.prototype.isLight=function(){return!this.isDark()},n.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},n.prototype.getLuminance=function(){var e=this.toRgb(),t,r,i,a=e.r/255,o=e.g/255,s=e.b/255;return a<=.03928?t=a/12.92:t=Math.pow((a+.055)/1.055,2.4),o<=.03928?r=o/12.92:r=Math.pow((o+.055)/1.055,2.4),s<=.03928?i=s/12.92:i=Math.pow((s+.055)/1.055,2.4),.2126*t+.7152*r+.0722*i},n.prototype.getAlpha=function(){return this.a},n.prototype.setAlpha=function(e){return this.a=iU(e),this.roundA=Math.round(100*this.a)/100,this},n.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},n.prototype.toHsv=function(){var e=$O(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},n.prototype.toHsvString=function(){var e=$O(this.r,this.g,this.b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHsl=function(){var e=jO(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},n.prototype.toHslString=function(){var e=jO(this.r,this.g,this.b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(t,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(t,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},n.prototype.toHex=function(e){return e===void 0&&(e=!1),VO(this.r,this.g,this.b,e)},n.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},n.prototype.toHex8=function(e){return e===void 0&&(e=!1),t7(this.r,this.g,this.b,this.a,e)},n.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},n.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},n.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},n.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(t,", ").concat(r,")"):"rgba(".concat(e,", ").concat(t,", ").concat(r,", ").concat(this.roundA,")")},n.prototype.toPercentageRgb=function(){var e=function(t){return"".concat(Math.round(fa(t,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},n.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round(fa(t,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},n.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+VO(this.r,this.g,this.b,!1),t=0,r=Object.entries(uA);t<r.length;t++){var i=r[t],a=i[0],o=i[1];if(e===o)return a}return!1},n.prototype.toString=function(e){var t=!!e;e=e!=null?e:this.format;var r=!1,i=this.a<1&&this.a>=0,a=!t&&i&&(e.startsWith("hex")||e==="name");return a?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},n.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},n.prototype.clone=function(){return new n(this.toString())},n.prototype.lighten=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=Wx(t.l),new n(t)},n.prototype.brighten=function(e){e===void 0&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),new n(t)},n.prototype.darken=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=Wx(t.l),new n(t)},n.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},n.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},n.prototype.desaturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=Wx(t.s),new n(t)},n.prototype.saturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=Wx(t.s),new n(t)},n.prototype.greyscale=function(){return this.desaturate(100)},n.prototype.spin=function(e){var t=this.toHsl(),r=(t.h+e)%360;return t.h=r<0?360+r:r,new n(t)},n.prototype.mix=function(e,t){t===void 0&&(t=50);var r=this.toRgb(),i=new n(e).toRgb(),a=t/100,o={r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a};return new n(o)},n.prototype.analogous=function(e,t){e===void 0&&(e=6),t===void 0&&(t=30);var r=this.toHsl(),i=360/t,a=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,a.push(new n(r));return a},n.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new n(e)},n.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var t=this.toHsv(),r=t.h,i=t.s,a=t.v,o=[],s=1/e;e--;)o.push(new n({h:r,s:i,v:a})),a=(a+s)%1;return o},n.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new n({h:(t+72)%360,s:e.s,l:e.l}),new n({h:(t+216)%360,s:e.s,l:e.l})]},n.prototype.onBackground=function(e){var t=this.toRgb(),r=new n(e).toRgb(),i=t.a+r.a*(1-t.a);return new n({r:(t.r*t.a+r.r*r.a*(1-t.a))/i,g:(t.g*t.a+r.g*r.a*(1-t.a))/i,b:(t.b*t.a+r.b*r.a*(1-t.a))/i,a:i})},n.prototype.triad=function(){return this.polyad(3)},n.prototype.tetrad=function(){return this.polyad(4)},n.prototype.polyad=function(e){for(var t=this.toHsl(),r=t.h,i=[this],a=360/e,o=1;o<e;o++)i.push(new n({h:(r+o*a)%360,s:t.s,l:t.l}));return i},n.prototype.equals=function(e){return this.toRgbString()===new n(e).toRgbString()},n}(),gM,D0={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911",colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff7875",colorInfo:"#1677ff",colorTextBase:"#000",colorBgBase:"#fff",fontFamily:"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji'",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInQuint:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:4,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,"blue-1":"#e6f4ff","blue-2":"#bae0ff","blue-3":"#91caff","blue-4":"#69b1ff","blue-5":"#4096ff","blue-6":"#1677ff","blue-7":"#0958d9","blue-8":"#003eb3","blue-9":"#002c8c","blue-10":"#001d66","purple-1":"#f9f0ff","purple-2":"#efdbff","purple-3":"#d3adf7","purple-4":"#b37feb","purple-5":"#9254de","purple-6":"#722ed1","purple-7":"#531dab","purple-8":"#391085","purple-9":"#22075e","purple-10":"#120338","cyan-1":"#e6fffb","cyan-2":"#b5f5ec","cyan-3":"#87e8de","cyan-4":"#5cdbd3","cyan-5":"#36cfc9","cyan-6":"#13c2c2","cyan-7":"#08979c","cyan-8":"#006d75","cyan-9":"#00474f","cyan-10":"#002329","green-1":"#f6ffed","green-2":"#d9f7be","green-3":"#b7eb8f","green-4":"#95de64","green-5":"#73d13d","green-6":"#52c41a","green-7":"#389e0d","green-8":"#237804","green-9":"#135200","green-10":"#092b00","magenta-1":"#fff0f6","magenta-2":"#ffd6e7","magenta-3":"#ffadd2","magenta-4":"#ff85c0","magenta-5":"#f759ab","magenta-6":"#eb2f96","magenta-7":"#c41d7f","magenta-8":"#9e1068","magenta-9":"#780650","magenta-10":"#520339","pink-1":"#fff0f6","pink-2":"#ffd6e7","pink-3":"#ffadd2","pink-4":"#ff85c0","pink-5":"#f759ab","pink-6":"#eb2f96","pink-7":"#c41d7f","pink-8":"#9e1068","pink-9":"#780650","pink-10":"#520339","red-1":"#fff1f0","red-2":"#ffccc7","red-3":"#ffa39e","red-4":"#ff7875","red-5":"#ff4d4f","red-6":"#f5222d","red-7":"#cf1322","red-8":"#a8071a","red-9":"#820014","red-10":"#5c0011","orange-1":"#fff7e6","orange-2":"#ffe7ba","orange-3":"#ffd591","orange-4":"#ffc069","orange-5":"#ffa940","orange-6":"#fa8c16","orange-7":"#d46b08","orange-8":"#ad4e00","orange-9":"#873800","orange-10":"#612500","yellow-1":"#feffe6","yellow-2":"#ffffb8","yellow-3":"#fffb8f","yellow-4":"#fff566","yellow-5":"#ffec3d","yellow-6":"#fadb14","yellow-7":"#d4b106","yellow-8":"#ad8b00","yellow-9":"#876800","yellow-10":"#614700","volcano-1":"#fff2e8","volcano-2":"#ffd8bf","volcano-3":"#ffbb96","volcano-4":"#ff9c6e","volcano-5":"#ff7a45","volcano-6":"#fa541c","volcano-7":"#d4380d","volcano-8":"#ad2102","volcano-9":"#871400","volcano-10":"#610b00","geekblue-1":"#f0f5ff","geekblue-2":"#d6e4ff","geekblue-3":"#adc6ff","geekblue-4":"#85a5ff","geekblue-5":"#597ef7","geekblue-6":"#2f54eb","geekblue-7":"#1d39c4","geekblue-8":"#10239e","geekblue-9":"#061178","geekblue-10":"#030852","gold-1":"#fffbe6","gold-2":"#fff1b8","gold-3":"#ffe58f","gold-4":"#ffd666","gold-5":"#ffc53d","gold-6":"#faad14","gold-7":"#d48806","gold-8":"#ad6800","gold-9":"#874d00","gold-10":"#613400","lime-1":"#fcffe6","lime-2":"#f4ffb8","lime-3":"#eaff8f","lime-4":"#d3f261","lime-5":"#bae637","lime-6":"#a0d911","lime-7":"#7cb305","lime-8":"#5b8c00","lime-9":"#3f6600","lime-10":"#254000",colorText:"rgba(0, 0, 0, 0.88)",colorTextSecondary:"rgba(0, 0, 0, 0.65)",colorTextTertiary:"rgba(0, 0, 0, 0.45)",colorTextQuaternary:"rgba(0, 0, 0, 0.25)",colorFill:"rgba(0, 0, 0, 0.15)",colorFillSecondary:"rgba(0, 0, 0, 0.06)",colorFillTertiary:"rgba(0, 0, 0, 0.04)",colorFillQuaternary:"rgba(0, 0, 0, 0.02)",colorBgLayout:"hsl(220,23%,97%)",colorBgContainer:"#ffffff",colorBgElevated:"#ffffff",colorBgSpotlight:"rgba(0, 0, 0, 0.85)",colorBorder:"#d9d9d9",colorBorderSecondary:"#f0f0f0",colorPrimaryBg:"#e6f4ff",colorPrimaryBgHover:"#bae0ff",colorPrimaryBorder:"#91caff",colorPrimaryBorderHover:"#69b1ff",colorPrimaryHover:"#4096ff",colorPrimaryActive:"#0958d9",colorPrimaryTextHover:"#4096ff",colorPrimaryText:"#1677ff",colorPrimaryTextActive:"#0958d9",colorSuccessBg:"#f6ffed",colorSuccessBgHover:"#d9f7be",colorSuccessBorder:"#b7eb8f",colorSuccessBorderHover:"#95de64",colorSuccessHover:"#95de64",colorSuccessActive:"#389e0d",colorSuccessTextHover:"#73d13d",colorSuccessText:"#52c41a",colorSuccessTextActive:"#389e0d",colorErrorBg:"#fff2f0",colorErrorBgHover:"#fff1f0",colorErrorBorder:"#ffccc7",colorErrorBorderHover:"#ffa39e",colorErrorHover:"#ffa39e",colorErrorActive:"#d9363e",colorErrorTextHover:"#ff7875",colorErrorText:"#ff4d4f",colorErrorTextActive:"#d9363e",colorWarningBg:"#fffbe6",colorWarningBgHover:"#fff1b8",colorWarningBorder:"#ffe58f",colorWarningBorderHover:"#ffd666",colorWarningHover:"#ffd666",colorWarningActive:"#d48806",colorWarningTextHover:"#ffc53d",colorWarningText:"#faad14",colorWarningTextActive:"#d48806",colorInfoBg:"#e6f4ff",colorInfoBgHover:"#bae0ff",colorInfoBorder:"#91caff",colorInfoBorderHover:"#69b1ff",colorInfoHover:"#69b1ff",colorInfoActive:"#0958d9",colorInfoTextHover:"#4096ff",colorInfoText:"#1677ff",colorInfoTextActive:"#0958d9",colorBgMask:"rgba(0, 0, 0, 0.45)",colorWhite:"#fff",sizeXXL:48,sizeXL:32,sizeLG:24,sizeMD:20,sizeMS:16,size:16,sizeSM:12,sizeXS:8,sizeXXS:4,controlHeightSM:24,controlHeightXS:16,controlHeightLG:40,motionDurationFast:"0.1s",motionDurationMid:"0.2s",motionDurationSlow:"0.3s",fontSizes:[12,14,16,20,24,30,38,46,56,68],lineHeights:[1.6666666666666667,1.5714285714285714,1.5,1.4,1.3333333333333333,1.2666666666666666,1.2105263157894737,1.173913043478261,1.1428571428571428,1.1176470588235294],lineWidthBold:2,borderRadiusXS:1,borderRadiusSM:4,borderRadiusLG:8,borderRadiusOuter:4,colorLink:"#1677ff",colorLinkHover:"#69b1ff",colorLinkActive:"#0958d9",colorFillContent:"rgba(0, 0, 0, 0.06)",colorFillContentHover:"rgba(0, 0, 0, 0.15)",colorFillAlter:"rgba(0, 0, 0, 0.02)",colorBgContainerDisabled:"rgba(0, 0, 0, 0.04)",colorBorderBg:"#ffffff",colorSplit:"rgba(5, 5, 5, 0.06)",colorTextPlaceholder:"rgba(0, 0, 0, 0.25)",colorTextDisabled:"rgba(0, 0, 0, 0.25)",colorTextHeading:"rgba(0, 0, 0, 0.88)",colorTextLabel:"rgba(0, 0, 0, 0.65)",colorTextDescription:"rgba(0, 0, 0, 0.45)",colorTextLightSolid:"#fff",colorHighlight:"#ff7875",colorBgTextHover:"rgba(0, 0, 0, 0.06)",colorBgTextActive:"rgba(0, 0, 0, 0.15)",colorIcon:"rgba(0, 0, 0, 0.45)",colorIconHover:"rgba(0, 0, 0, 0.88)",colorErrorOutline:"rgba(255, 38, 5, 0.06)",colorWarningOutline:"rgba(255, 215, 5, 0.1)",fontSizeSM:12,fontSizeLG:16,fontSizeXL:20,fontSizeHeading1:38,fontSizeHeading2:30,fontSizeHeading3:24,fontSizeHeading4:20,fontSizeHeading5:16,fontSizeIcon:12,lineHeight:1.5714285714285714,lineHeightLG:1.5,lineHeightSM:1.6666666666666667,lineHeightHeading1:1.2105263157894737,lineHeightHeading2:1.2666666666666666,lineHeightHeading3:1.3333333333333333,lineHeightHeading4:1.4,lineHeightHeading5:1.5,controlOutlineWidth:2,controlInteractiveSize:16,controlItemBgHover:"rgba(0, 0, 0, 0.04)",controlItemBgActive:"#e6f4ff",controlItemBgActiveHover:"#bae0ff",controlItemBgActiveDisabled:"rgba(0, 0, 0, 0.15)",controlTmpOutline:"rgba(0, 0, 0, 0.02)",controlOutline:"rgba(5, 145, 255, 0.1)",fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:4,paddingXS:8,paddingSM:12,padding:16,paddingMD:20,paddingLG:24,paddingXL:32,paddingContentHorizontalLG:24,paddingContentVerticalLG:16,paddingContentHorizontal:16,paddingContentVertical:12,paddingContentHorizontalSM:16,paddingContentVerticalSM:8,marginXXS:4,marginXS:8,marginSM:12,margin:16,marginMD:20,marginLG:24,marginXL:32,marginXXL:48,boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.03),0 1px 6px -1px rgba(0, 0, 0, 0.02),0 2px 4px 0 rgba(0, 0, 0, 0.02)",boxShadowSecondary:"0 6px 16px 0 rgba(0, 0, 0, 0.08),0 3px 6px -4px rgba(0, 0, 0, 0.12),0 9px 28px 8px rgba(0, 0, 0, 0.05)",screenXS:480,screenXSMin:480,screenXSMax:479,screenSM:576,screenSMMin:576,screenSMMax:575,screenMD:768,screenMDMin:768,screenMDMax:767,screenLG:992,screenLGMin:992,screenLGMax:991,screenXL:1200,screenXLMin:1200,screenXLMax:1199,screenXXL:1600,screenXXLMin:1600,screenXXLMax:1599,boxShadowPopoverArrow:"3px 3px 7px rgba(0, 0, 0, 0.1)",boxShadowCard:"0 1px 2px -2px rgba(0, 0, 0, 0.16),0 3px 6px 0 rgba(0, 0, 0, 0.12),0 5px 12px 4px rgba(0, 0, 0, 0.09)",boxShadowDrawerRight:"-6px 0 16px 0 rgba(0, 0, 0, 0.08),-3px 0 6px -4px rgba(0, 0, 0, 0.12),-9px 0 28px 8px rgba(0, 0, 0, 0.05)",boxShadowDrawerLeft:"6px 0 16px 0 rgba(0, 0, 0, 0.08),3px 0 6px -4px rgba(0, 0, 0, 0.12),9px 0 28px 8px rgba(0, 0, 0, 0.05)",boxShadowDrawerUp:"0 6px 16px 0 rgba(0, 0, 0, 0.08),0 3px 6px -4px rgba(0, 0, 0, 0.12),0 9px 28px 8px rgba(0, 0, 0, 0.05)",boxShadowDrawerDown:"0 -6px 16px 0 rgba(0, 0, 0, 0.08),0 -3px 6px -4px rgba(0, 0, 0, 0.12),0 -9px 28px 8px rgba(0, 0, 0, 0.05)",boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)",_tokenKey:"19w80ff",_hashId:"css-dev-only-do-not-override-i2zu9q"},aU=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,r=3735928559^t,i=1103547991^t,a=0,o;a<e.length;a++)o=e.charCodeAt(a),r=Math.imul(r^o,2654435761),i=Math.imul(i^o,1597334677);return r=Math.imul(r^r>>>16,2246822507)^Math.imul(i^i>>>13,3266489909),i=Math.imul(i^i>>>16,2246822507)^Math.imul(r^r>>>13,3266489909),4294967296*(2097151&i)+(r>>>0)},qR=U8(function(n){return n}),oU={theme:qR,token:R(R({},D0),bs===null||bs===void 0||(gM=bs.defaultAlgorithm)===null||gM===void 0?void 0:gM.call(bs,bs===null||bs===void 0?void 0:bs.defaultSeed)),hashId:"pro-".concat(aU(JSON.stringify(D0)))},c7=function(){return oU};const u7=Object.freeze(Object.defineProperty({__proto__:null,defaultToken:D0,emptyTheme:qR,hashCode:aU,token:oU,useToken:c7},Symbol.toStringTag,{value:"Module"}));var fo=function(e,t){return new l7(e).setAlpha(t).toRgbString()},d7=function(){return typeof bs=="undefined"||!bs?u7:bs},xo=d7(),im=xo.useToken,am=function(e){return{boxSizing:"border-box",margin:0,padding:0,color:e.colorText,fontSize:e.fontSize,lineHeight:e.lineHeight,listStyle:"none"}},vM=function(e){return{color:e.colorLink,outline:"none",cursor:"pointer",transition:"color ".concat(e.motionDurationSlow),"&:focus, &:hover":{color:e.colorLinkHover},"&:active":{color:e.colorLinkActive}}};function Yn(n,e){var t,r=P.useContext(Zo),i=r.token,a=i===void 0?{}:i,o=P.useContext(Zo),s=o.hashed,l=im(),c=l.token,d=l.hashId,h=P.useContext(Zo);h.theme;var m=P.useContext(Lt.ConfigContext),v=m.getPrefixCls,g=m.csp;return a.layout||(a=R({},c)),a.proComponentsCls=(t=a.proComponentsCls)!==null&&t!==void 0?t:".".concat(v("pro")),a.antCls=".".concat(v()),{wrapSSR:pG({token:a,path:[n],nonce:g==null?void 0:g.nonce,layer:{name:"antd-pro"}},function(){return e(a)}),hashId:s?d:""}}var f7=function(e,t){var r,i,a,o,s,l=R({},e);return R(R({bgLayout:"linear-gradient(".concat(t.colorBgContainer,", ").concat(t.colorBgLayout," 28%)"),colorTextAppListIcon:t.colorTextSecondary,appListIconHoverBgColor:l==null||(r=l.sider)===null||r===void 0?void 0:r.colorBgMenuItemSelected,colorBgAppListIconHover:fo(t.colorTextBase,.04),colorTextAppListIconHover:t.colorTextBase},l),{},{header:R({colorBgHeader:fo(t.colorBgElevated,.6),colorBgScrollHeader:fo(t.colorBgElevated,.8),colorHeaderTitle:t.colorText,colorBgMenuItemHover:fo(t.colorTextBase,.03),colorBgMenuItemSelected:"transparent",colorBgMenuElevated:(l==null||(i=l.header)===null||i===void 0?void 0:i.colorBgHeader)!=="rgba(255, 255, 255, 0.6)"?(a=l.header)===null||a===void 0?void 0:a.colorBgHeader:t.colorBgElevated,colorTextMenuSelected:fo(t.colorTextBase,.95),colorBgRightActionsItemHover:fo(t.colorTextBase,.03),colorTextRightActionsItem:t.colorTextTertiary,heightLayoutHeader:56,colorTextMenu:t.colorTextSecondary,colorTextMenuSecondary:t.colorTextTertiary,colorTextMenuTitle:t.colorText,colorTextMenuActive:t.colorText},l.header),sider:R({paddingInlineLayoutMenu:8,paddingBlockLayoutMenu:0,colorBgCollapsedButton:t.colorBgElevated,colorTextCollapsedButtonHover:t.colorTextSecondary,colorTextCollapsedButton:fo(t.colorTextBase,.25),colorMenuBackground:"transparent",colorMenuItemDivider:fo(t.colorTextBase,.06),colorBgMenuItemHover:fo(t.colorTextBase,.03),colorBgMenuItemSelected:fo(t.colorTextBase,.04),colorTextMenuItemHover:t.colorText,colorTextMenuSelected:fo(t.colorTextBase,.95),colorTextMenuActive:t.colorText,colorTextMenu:t.colorTextSecondary,colorTextMenuSecondary:t.colorTextTertiary,colorTextMenuTitle:t.colorText,colorTextSubMenuSelected:fo(t.colorTextBase,.95)},l.sider),pageContainer:R({colorBgPageContainer:"transparent",paddingInlinePageContainerContent:((o=l.pageContainer)===null||o===void 0?void 0:o.marginInlinePageContainerContent)||40,paddingBlockPageContainerContent:((s=l.pageContainer)===null||s===void 0?void 0:s.marginBlockPageContainerContent)||32,colorBgPageContainerFixed:t.colorBgElevated},l.pageContainer)})},h7=function(){for(var e={},t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=r.length,o,s=0;s<a;s+=1)for(o in r[s])r[s].hasOwnProperty(o)&&(Xt(e[o])==="object"&&Xt(r[s][o])==="object"&&e[o]!==void 0&&e[o]!==null&&!Array.isArray(e[o])&&!Array.isArray(r[s][o])?e[o]=R(R({},e[o]),r[s][o]):e[o]=r[s][o]);return e},p7=["locale","getPrefixCls"],m7=["locale","theme"],g7=function(e){var t={};if(Object.keys(e||{}).forEach(function(r){e[r]!==void 0&&(t[r]=e[r])}),!(Object.keys(t).length<1))return t},yM=function(){var e,t;return!(typeof process!="undefined"&&(((e="production")===null||e===void 0?void 0:e.toUpperCase())==="TEST"||((t="production")===null||t===void 0?void 0:t.toUpperCase())==="DEV"))},ju=Oe.createContext({intl:R(R({},rm),{},{locale:"default"}),valueTypeMap:{},theme:qR,hashed:!0,dark:!1,token:D0});ju.Consumer;var v7=function(){var e=Z3(),t=e.cache;return P.useEffect(function(){return function(){t.clear()}},[]),null},y7=function(e){var t,r=e.children,i=e.dark,a=e.valueTypeMap,o=e.autoClearCache,s=o===void 0?!1:o,l=e.token,c=e.prefixCls,d=e.intl,h=P.useContext(Lt.ConfigContext),m=h.locale,v=h.getPrefixCls,g=Dt(h,p7),x=(t=xo.useToken)===null||t===void 0?void 0:t.call(xo),b=P.useContext(ju),_=c?".".concat(c):".".concat(v(),"-pro"),C="."+v(),T="".concat(_),M=P.useMemo(function(){return f7(l||{},x.token||D0)},[l,x.token]),O=P.useMemo(function(){var B,G=m==null?void 0:m.locale,W=rU(G),Z=d!=null?d:G&&((B=b.intl)===null||B===void 0?void 0:B.locale)==="default"?Bf[W]:b.intl||Bf[W];return R(R({},b),{},{dark:i!=null?i:b.dark,token:h7(b.token,x.token,{proComponentsCls:_,antCls:C,themeId:x.theme.id,layout:M}),intl:Z||rm})},[m==null?void 0:m.locale,b,i,x.token,x.theme.id,_,C,M,d]),I=R(R({},O.token||{}),{},{proComponentsCls:_}),U=iG(x.theme,[x.token,I!=null?I:{}],{salt:T,override:I}),F=at(U,2),L=F[0],D=F[1],z=P.useMemo(function(){return!(e.hashed===!1||b.hashed===!1)},[b.hashed,e.hashed]),$=P.useMemo(function(){return e.hashed===!1||b.hashed===!1||yM()===!1?"":x.hashId?x.hashId:D},[D,b.hashed,e.hashed]);P.useEffect(function(){Rn.locale((m==null?void 0:m.locale)||"zh-cn")},[m==null?void 0:m.locale]);var Y=P.useMemo(function(){return R(R({},g.theme),{},{hashId:$,hashed:z&&yM()})},[g.theme,$,z,yM()]),j=P.useMemo(function(){return R(R({},O),{},{valueTypeMap:a||(O==null?void 0:O.valueTypeMap),token:L,theme:x.theme,hashed:z,hashId:$})},[O,a,L,x.theme,z,$]),V=P.useMemo(function(){return w.jsx(Lt,R(R({},g),{},{theme:Y,children:w.jsx(ju.Provider,{value:j,children:w.jsxs(w.Fragment,{children:[s&&w.jsx(v7,{}),r]})})}))},[g,Y,j,s,r]);return s?w.jsx(MW,{value:{provider:function(){return new Map}},children:V}):V},OC=function(e){var t=e.needDeps,r=e.dark,i=e.token,a=P.useContext(ju),o=P.useContext(Lt.ConfigContext),s=o.locale,l=o.theme,c=Dt(o,m7),d=t&&a.hashId!==void 0&&Object.keys(e).sort().join("-")==="children-needDeps";if(d)return w.jsx(w.Fragment,{children:e.children});var h=function(){var g=r!=null?r:a.dark;return g&&!Array.isArray(l==null?void 0:l.algorithm)?[l==null?void 0:l.algorithm,xo.darkAlgorithm].filter(Boolean):g&&Array.isArray(l==null?void 0:l.algorithm)?[].concat(gr((l==null?void 0:l.algorithm)||[]),[xo.darkAlgorithm]).filter(Boolean):l==null?void 0:l.algorithm},m=R(R({},c),{},{locale:s||GG,theme:g7(R(R({},l),{},{algorithm:h()}))});return w.jsx(Lt,R(R({},m),{},{children:w.jsx(y7,R(R({},e),{},{token:i}))}))};function On(){var n=P.useContext(Lt.ConfigContext),e=n.locale,t=P.useContext(ju),r=t.intl;return r&&r.locale!=="default"?r||rm:e!=null&&e.locale&&Bf[rU(e.locale)]||rm}ju.displayName="ProProvider";var Zo=ju,sU={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var a="",o=0;o<arguments.length;o++){var s=arguments[o];s&&(a=i(a,r(s)))}return a}function r(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return t.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var s in a)e.call(a,s)&&a[s]&&(o=i(o,s));return o}function i(a,o){return o?a?a+" "+o:a+o:a}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(sU);var lU=sU.exports;const Ut=ri(lU);var b7=function(e){return ne({},e.componentCls,{display:"flex",justifyContent:"space-between",paddingBlock:8,paddingInlineStart:8,paddingInlineEnd:8,borderBlockStart:"1px solid ".concat(e.colorSplit)})};function x7(n){return Yn("DropdownFooter",function(e){var t=R(R({},e),{},{componentCls:".".concat(n)});return[b7(t)]})}var _7=function(e){var t=On(),r=e.onClear,i=e.onConfirm,a=e.disabled,o=e.footerRender,s=P.useContext(Lt.ConfigContext),l=s.getPrefixCls,c=l("pro-core-dropdown-footer"),d=x7(c),h=d.wrapSSR,m=d.hashId,v=[w.jsx(lr,{style:{visibility:r?"visible":"hidden"},type:"link",size:"small",disabled:a,onClick:function(b){r&&r(b),b.stopPropagation()},children:t.getMessage("form.lightFilter.clear","清除")},"clear"),w.jsx(lr,{"data-type":"confirm",type:"primary",size:"small",onClick:i,disabled:a,children:t.getMessage("form.lightFilter.confirm","确认")},"confirm")];if(o===!1||(o==null?void 0:o(i,r))===!1)return null;var g=(o==null?void 0:o(i,r))||v;return h(w.jsx("div",{className:Ut(c,m),onClick:function(b){return b.target.getAttribute("data-type")!=="confirm"&&b.stopPropagation()},children:g}))},S7=function(n){_C(t,n);var e=SC(t);function t(){var r;Xu(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a)),ne(Ll(r),"state",{hasError:!1,errorInfo:""}),r}return qu(t,[{key:"componentDidCatch",value:function(i,a){console.log(i,a)}},{key:"render",value:function(){return this.state.hasError?w.jsx(k6,{status:"error",title:"Something went wrong.",extra:this.state.errorInfo}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(i){return{hasError:!0,errorInfo:i.message}}}]),t}(Oe.Component),cU=P.createContext({});const Zi=Math.round;function bM(n,e){const t=n.replace(/^[^(]*\((.*)/,"$1").replace(/\).*/,"").match(/\d*\.?\d+%?/g)||[],r=t.map(i=>parseFloat(i));for(let i=0;i<3;i+=1)r[i]=e(r[i]||0,t[i]||"",i);return t[3]?r[3]=t[3].includes("%")?r[3]/100:r[3]:r[3]=1,r}const WO=(n,e,t)=>t===0?n:n/100;function Fv(n,e){const t=e||255;return n>t?t:n<0?0:n}class qp{constructor(e){ne(this,"isValid",!0),ne(this,"r",0),ne(this,"g",0),ne(this,"b",0),ne(this,"a",1),ne(this,"_h",void 0),ne(this,"_s",void 0),ne(this,"_l",void 0),ne(this,"_v",void 0),ne(this,"_max",void 0),ne(this,"_min",void 0),ne(this,"_brightness",void 0);function t(r){return r[0]in e&&r[1]in e&&r[2]in e}if(e)if(typeof e=="string"){let i=function(a){return r.startsWith(a)};const r=e.trim();/^#?[A-F\d]{3,8}$/i.test(r)?this.fromHexString(r):i("rgb")?this.fromRgbString(r):i("hsl")?this.fromHslString(r):(i("hsv")||i("hsb"))&&this.fromHsvString(r)}else if(e instanceof qp)this.r=e.r,this.g=e.g,this.b=e.b,this.a=e.a,this._h=e._h,this._s=e._s,this._l=e._l,this._v=e._v;else if(t("rgb"))this.r=Fv(e.r),this.g=Fv(e.g),this.b=Fv(e.b),this.a=typeof e.a=="number"?Fv(e.a,1):1;else if(t("hsl"))this.fromHsl(e);else if(t("hsv"))this.fromHsv(e);else throw new Error("@ant-design/fast-color: unsupported input "+JSON.stringify(e))}setR(e){return this._sc("r",e)}setG(e){return this._sc("g",e)}setB(e){return this._sc("b",e)}setA(e){return this._sc("a",e,1)}setHue(e){const t=this.toHsv();return t.h=e,this._c(t)}getLuminance(){function e(a){const o=a/255;return o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4)}const t=e(this.r),r=e(this.g),i=e(this.b);return .2126*t+.7152*r+.0722*i}getHue(){if(typeof this._h=="undefined"){const e=this.getMax()-this.getMin();e===0?this._h=0:this._h=Zi(60*(this.r===this.getMax()?(this.g-this.b)/e+(this.g<this.b?6:0):this.g===this.getMax()?(this.b-this.r)/e+2:(this.r-this.g)/e+4))}return this._h}getSaturation(){if(typeof this._s=="undefined"){const e=this.getMax()-this.getMin();e===0?this._s=0:this._s=e/this.getMax()}return this._s}getLightness(){return typeof this._l=="undefined"&&(this._l=(this.getMax()+this.getMin())/510),this._l}getValue(){return typeof this._v=="undefined"&&(this._v=this.getMax()/255),this._v}getBrightness(){return typeof this._brightness=="undefined"&&(this._brightness=(this.r*299+this.g*587+this.b*114)/1e3),this._brightness}darken(e=10){const t=this.getHue(),r=this.getSaturation();let i=this.getLightness()-e/100;return i<0&&(i=0),this._c({h:t,s:r,l:i,a:this.a})}lighten(e=10){const t=this.getHue(),r=this.getSaturation();let i=this.getLightness()+e/100;return i>1&&(i=1),this._c({h:t,s:r,l:i,a:this.a})}mix(e,t=50){const r=this._c(e),i=t/100,a=s=>(r[s]-this[s])*i+this[s],o={r:Zi(a("r")),g:Zi(a("g")),b:Zi(a("b")),a:Zi(a("a")*100)/100};return this._c(o)}tint(e=10){return this.mix({r:255,g:255,b:255,a:1},e)}shade(e=10){return this.mix({r:0,g:0,b:0,a:1},e)}onBackground(e){const t=this._c(e),r=this.a+t.a*(1-this.a),i=a=>Zi((this[a]*this.a+t[a]*t.a*(1-this.a))/r);return this._c({r:i("r"),g:i("g"),b:i("b"),a:r})}isDark(){return this.getBrightness()<128}isLight(){return this.getBrightness()>=128}equals(e){return this.r===e.r&&this.g===e.g&&this.b===e.b&&this.a===e.a}clone(){return this._c(this)}toHexString(){let e="#";const t=(this.r||0).toString(16);e+=t.length===2?t:"0"+t;const r=(this.g||0).toString(16);e+=r.length===2?r:"0"+r;const i=(this.b||0).toString(16);if(e+=i.length===2?i:"0"+i,typeof this.a=="number"&&this.a>=0&&this.a<1){const a=Zi(this.a*255).toString(16);e+=a.length===2?a:"0"+a}return e}toHsl(){return{h:this.getHue(),s:this.getSaturation(),l:this.getLightness(),a:this.a}}toHslString(){const e=this.getHue(),t=Zi(this.getSaturation()*100),r=Zi(this.getLightness()*100);return this.a!==1?`hsla(${e},${t}%,${r}%,${this.a})`:`hsl(${e},${t}%,${r}%)`}toHsv(){return{h:this.getHue(),s:this.getSaturation(),v:this.getValue(),a:this.a}}toRgb(){return{r:this.r,g:this.g,b:this.b,a:this.a}}toRgbString(){return this.a!==1?`rgba(${this.r},${this.g},${this.b},${this.a})`:`rgb(${this.r},${this.g},${this.b})`}toString(){return this.toRgbString()}_sc(e,t,r){const i=this.clone();return i[e]=Fv(t,r),i}_c(e){return new this.constructor(e)}getMax(){return typeof this._max=="undefined"&&(this._max=Math.max(this.r,this.g,this.b)),this._max}getMin(){return typeof this._min=="undefined"&&(this._min=Math.min(this.r,this.g,this.b)),this._min}fromHexString(e){const t=e.replace("#","");function r(i,a){return parseInt(t[i]+t[a||i],16)}t.length<6?(this.r=r(0),this.g=r(1),this.b=r(2),this.a=t[3]?r(3)/255:1):(this.r=r(0,1),this.g=r(2,3),this.b=r(4,5),this.a=t[6]?r(6,7)/255:1)}fromHsl({h:e,s:t,l:r,a:i}){if(this._h=e%360,this._s=t,this._l=r,this.a=typeof i=="number"?i:1,t<=0){const m=Zi(r*255);this.r=m,this.g=m,this.b=m}let a=0,o=0,s=0;const l=e/60,c=(1-Math.abs(2*r-1))*t,d=c*(1-Math.abs(l%2-1));l>=0&&l<1?(a=c,o=d):l>=1&&l<2?(a=d,o=c):l>=2&&l<3?(o=c,s=d):l>=3&&l<4?(o=d,s=c):l>=4&&l<5?(a=d,s=c):l>=5&&l<6&&(a=c,s=d);const h=r-c/2;this.r=Zi((a+h)*255),this.g=Zi((o+h)*255),this.b=Zi((s+h)*255)}fromHsv({h:e,s:t,v:r,a:i}){this._h=e%360,this._s=t,this._v=r,this.a=typeof i=="number"?i:1;const a=Zi(r*255);if(this.r=a,this.g=a,this.b=a,t<=0)return;const o=e/60,s=Math.floor(o),l=o-s,c=Zi(r*(1-t)*255),d=Zi(r*(1-t*l)*255),h=Zi(r*(1-t*(1-l))*255);switch(s){case 0:this.g=h,this.b=c;break;case 1:this.r=d,this.b=c;break;case 2:this.r=c,this.b=h;break;case 3:this.r=c,this.g=d;break;case 4:this.r=h,this.g=c;break;case 5:default:this.g=c,this.b=d;break}}fromHsvString(e){const t=bM(e,WO);this.fromHsv({h:t[0],s:t[1],v:t[2],a:t[3]})}fromHslString(e){const t=bM(e,WO);this.fromHsl({h:t[0],s:t[1],l:t[2],a:t[3]})}fromRgbString(e){const t=bM(e,(r,i)=>i.includes("%")?Zi(r/100*255):r);this.r=t[0],this.g=t[1],this.b=t[2],this.a=t[3]}}var Xx=2,qO=.16,C7=.05,w7=.05,T7=.15,uU=5,dU=4,M7=[{index:7,amount:15},{index:6,amount:25},{index:5,amount:30},{index:5,amount:45},{index:5,amount:65},{index:5,amount:85},{index:4,amount:90},{index:3,amount:95},{index:2,amount:97},{index:1,amount:98}];function XO(n,e,t){var r;return Math.round(n.h)>=60&&Math.round(n.h)<=240?r=t?Math.round(n.h)-Xx*e:Math.round(n.h)+Xx*e:r=t?Math.round(n.h)+Xx*e:Math.round(n.h)-Xx*e,r<0?r+=360:r>=360&&(r-=360),r}function YO(n,e,t){if(n.h===0&&n.s===0)return n.s;var r;return t?r=n.s-qO*e:e===dU?r=n.s+qO:r=n.s+C7*e,r>1&&(r=1),t&&e===uU&&r>.1&&(r=.1),r<.06&&(r=.06),Math.round(r*100)/100}function KO(n,e,t){var r;return t?r=n.v+w7*e:r=n.v-T7*e,r=Math.max(0,Math.min(1,r)),Math.round(r*100)/100}function fU(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],r=new qp(n),i=r.toHsv(),a=uU;a>0;a-=1){var o=new qp({h:XO(i,a,!0),s:YO(i,a,!0),v:KO(i,a,!0)});t.push(o)}t.push(r);for(var s=1;s<=dU;s+=1){var l=new qp({h:XO(i,s),s:YO(i,s),v:KO(i,s)});t.push(l)}return e.theme==="dark"?M7.map(function(c){var d=c.index,h=c.amount;return new qp(e.backgroundColor||"#141414").mix(t[d],h).toHexString()}):t.map(function(c){return c.toHexString()})}var E7={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},TS=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];TS.primary=TS[5];var MS=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];MS.primary=MS[5];var ES=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];ES.primary=ES[5];var AS=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];AS.primary=AS[5];var RS=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];RS.primary=RS[5];var PS=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];PS.primary=PS[5];var OS=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];OS.primary=OS[5];var FS=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];FS.primary=FS[5];var L0=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];L0.primary=L0[5];var IS=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];IS.primary=IS[5];var DS=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];DS.primary=DS[5];var LS=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];LS.primary=LS[5];var N0=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];N0.primary=N0[5];var A7=N0,R7={red:TS,volcano:MS,orange:ES,gold:AS,yellow:RS,lime:PS,green:OS,cyan:FS,blue:L0,geekblue:IS,purple:DS,magenta:LS,grey:N0},NS=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];NS.primary=NS[5];var US=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];US.primary=US[5];var BS=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];BS.primary=BS[5];var zS=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];zS.primary=zS[5];var HS=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];HS.primary=HS[5];var kS=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];kS.primary=kS[5];var jS=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];jS.primary=jS[5];var $S=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];$S.primary=$S[5];var VS=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];VS.primary=VS[5];var GS=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];GS.primary=GS[5];var WS=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];WS.primary=WS[5];var qS=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];qS.primary=qS[5];var XS=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];XS.primary=XS[5];var P7={red:NS,volcano:US,orange:BS,gold:zS,yellow:HS,lime:kS,green:jS,cyan:$S,blue:VS,geekblue:GS,purple:WS,magenta:qS,grey:XS};const O7=Object.freeze(Object.defineProperty({__proto__:null,blue:L0,blueDark:VS,cyan:FS,cyanDark:$S,geekblue:IS,geekblueDark:GS,generate:fU,gold:AS,goldDark:zS,gray:A7,green:OS,greenDark:jS,grey:N0,greyDark:XS,lime:PS,limeDark:kS,magenta:LS,magentaDark:qS,orange:ES,orangeDark:BS,presetDarkPalettes:P7,presetPalettes:R7,presetPrimaryColors:E7,purple:DS,purpleDark:WS,red:TS,redDark:NS,volcano:MS,volcanoDark:US,yellow:RS,yellowDark:HS},Symbol.toStringTag,{value:"Module"}));function hU(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}function F7(n){return hU(n)instanceof ShadowRoot}function I7(n){return F7(n)?hU(n):null}function D7(n){return n.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function L7(n,e){Ko(n,"[@ant-design/icons] ".concat(e))}function ZO(n){return Xt(n)==="object"&&typeof n.name=="string"&&typeof n.theme=="string"&&(Xt(n.icon)==="object"||typeof n.icon=="function")}function JO(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(n).reduce(function(e,t){var r=n[t];switch(t){case"class":e.className=r,delete e.class;break;default:delete e[t],e[D7(t)]=r}return e},{})}function dA(n,e,t){return t?Oe.createElement(n.tag,R(R({key:e},JO(n.attrs)),t),(n.children||[]).map(function(r,i){return dA(r,"".concat(e,"-").concat(n.tag,"-").concat(i))})):Oe.createElement(n.tag,R({key:e},JO(n.attrs)),(n.children||[]).map(function(r,i){return dA(r,"".concat(e,"-").concat(n.tag,"-").concat(i))}))}function pU(n){return fU(n)[0]}function mU(n){return n?Array.isArray(n)?n:[n]:[]}var N7=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,U7=function(e){var t=P.useContext(cU),r=t.csp,i=t.prefixCls,a=t.layer,o=N7;i&&(o=o.replace(/anticon/g,i)),a&&(o="@layer ".concat(a,` {
`).concat(o,`
}`)),P.useEffect(function(){var s=e.current,l=I7(s);c0(o,"@ant-design-icons",{prepend:!a,csp:r,attachTo:l})},[])},B7=["icon","className","onClick","style","primaryColor","secondaryColor"],d0={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function z7(n){var e=n.primaryColor,t=n.secondaryColor;d0.primaryColor=e,d0.secondaryColor=t||pU(e),d0.calculated=!!t}function H7(){return R({},d0)}var Dm=function(e){var t=e.icon,r=e.className,i=e.onClick,a=e.style,o=e.primaryColor,s=e.secondaryColor,l=Dt(e,B7),c=P.useRef(),d=d0;if(o&&(d={primaryColor:o,secondaryColor:s||pU(o)}),U7(c),L7(ZO(t),"icon should be icon definiton, but got ".concat(t)),!ZO(t))return null;var h=t;return h&&typeof h.icon=="function"&&(h=R(R({},h),{},{icon:h.icon(d.primaryColor,d.secondaryColor)})),dA(h.icon,"svg-".concat(h.name),R(R({className:r,onClick:i,style:a,"data-icon":h.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:c}))};Dm.displayName="IconReact";Dm.getTwoToneColors=H7;Dm.setTwoToneColors=z7;function gU(n){var e=mU(n),t=at(e,2),r=t[0],i=t[1];return Dm.setTwoToneColors({primaryColor:r,secondaryColor:i})}function k7(){var n=Dm.getTwoToneColors();return n.calculated?[n.primaryColor,n.secondaryColor]:n.primaryColor}var j7=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];gU(L0.primary);var Ln=P.forwardRef(function(n,e){var t=n.className,r=n.icon,i=n.spin,a=n.rotate,o=n.tabIndex,s=n.onClick,l=n.twoToneColor,c=Dt(n,j7),d=P.useContext(cU),h=d.prefixCls,m=h===void 0?"anticon":h,v=d.rootClassName,g=Ut(v,m,ne(ne({},"".concat(m,"-").concat(r.name),!!r.name),"".concat(m,"-spin"),!!i||r.name==="loading"),t),x=o;x===void 0&&s&&(x=-1);var b=a?{msTransform:"rotate(".concat(a,"deg)"),transform:"rotate(".concat(a,"deg)")}:void 0,_=mU(l),C=at(_,2),T=C[0],M=C[1];return P.createElement("span",Pn({role:"img","aria-label":r.name},c,{ref:e,tabIndex:x,onClick:s,className:g}),P.createElement(Dm,{icon:r,primaryColor:T,secondaryColor:M,style:b}))});Ln.displayName="AntdIcon";Ln.getTwoToneColor=k7;Ln.setTwoToneColor=gU;var $7=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:j6}))},V7=P.forwardRef($7),G7=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:$6}))},vU=P.forwardRef(G7),W7=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:V6}))},q7=P.forwardRef(W7),X7=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:G6}))},yU=P.forwardRef(X7),Y7=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:W6}))},K7=P.forwardRef(Y7),Z7=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:q6}))},bU=P.forwardRef(Z7),J7=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:X6}))},QO=P.forwardRef(J7),Q7=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:Y6}))},Xp=P.forwardRef(Q7),eq=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:K6}))},tq=P.forwardRef(eq),nq=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:Z6}))},xU=P.forwardRef(nq),rq=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:J6}))},_U=P.forwardRef(rq),iq=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:Q6}))},aq=P.forwardRef(iq),oq=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:eV}))},U0=P.forwardRef(oq),sq=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:tV}))},lq=P.forwardRef(sq),cq=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:nV}))},uq=P.forwardRef(cq),dq=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:rV}))},fq=P.forwardRef(dq),hq=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:iV}))},pq=P.forwardRef(hq),mq=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:aV}))},gq=P.forwardRef(mq),vq=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:oV}))},yq=P.forwardRef(vq),bq=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:sV}))},xq=P.forwardRef(bq),_q=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:lV}))},Sq=P.forwardRef(_q),Cq=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:cV}))},dm=P.forwardRef(Cq),wq=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:uV}))},Tq=P.forwardRef(wq),Mq=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:dV}))},Eq=P.forwardRef(Mq),Aq=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:fV}))},Rq=P.forwardRef(Aq),Pq=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:hV}))},Oq=P.forwardRef(Pq),Fq=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:pV}))},XR=P.forwardRef(Fq),Iq=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:mV}))},Dq=P.forwardRef(Iq),Lq=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:gV}))},Nq=P.forwardRef(Lq),Uq=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:vV}))},Bq=P.forwardRef(Uq),zq=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:yV}))},Hq=P.forwardRef(zq),kq=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:bV}))},jq=P.forwardRef(kq),$q=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:xV}))},Vq=P.forwardRef($q),Gq=function(e,t){return P.createElement(Ln,Pn({},e,{ref:t,icon:_V}))},Wq=P.forwardRef(Gq),qq=function(e){return ne({},e.componentCls,ne(ne(ne(ne(ne(ne(ne(ne({display:"inline-flex",gap:e.marginXXS,alignItems:"center",height:"30px",paddingBlock:0,paddingInline:8,fontSize:e.fontSize,lineHeight:"30px",borderRadius:"2px",cursor:"pointer","&:hover":{backgroundColor:e.colorBgTextHover},"&-active":ne({paddingBlock:0,paddingInline:8,backgroundColor:e.colorBgTextHover},"&".concat(e.componentCls,"-allow-clear:hover:not(").concat(e.componentCls,"-disabled)"),ne(ne({},"".concat(e.componentCls,"-arrow"),{display:"none"}),"".concat(e.componentCls,"-close"),{display:"inline-flex"}))},"".concat(e.antCls,"-select"),ne({},"".concat(e.antCls,"-select-clear"),{borderRadius:"50%"})),"".concat(e.antCls,"-picker"),ne({},"".concat(e.antCls,"-picker-clear"),{borderRadius:"50%"})),"&-icon",ne(ne({color:e.colorIcon,transition:"color 0.3s",fontSize:12,verticalAlign:"middle"},"&".concat(e.componentCls,"-close"),{display:"none",fontSize:12,alignItems:"center",justifyContent:"center",color:e.colorTextPlaceholder,borderRadius:"50%"}),"&:hover",{color:e.colorIconHover})),"&-disabled",ne({color:e.colorTextPlaceholder,cursor:"not-allowed"},"".concat(e.componentCls,"-icon"),{color:e.colorTextPlaceholder})),"&-small",ne(ne(ne({height:"24px",paddingBlock:0,paddingInline:4,fontSize:e.fontSizeSM,lineHeight:"24px"},"&".concat(e.componentCls,"-active"),{paddingBlock:0,paddingInline:8}),"".concat(e.componentCls,"-icon"),{paddingBlock:0,paddingInline:0}),"".concat(e.componentCls,"-close"),{marginBlockStart:"-2px",paddingBlock:4,paddingInline:4,fontSize:"6px"})),"&-bordered",{height:"32px",paddingBlock:0,paddingInline:8,border:"".concat(e.lineWidth,"px solid ").concat(e.colorBorder),borderRadius:"@border-radius-base"}),"&-bordered&-small",{height:"24px",paddingBlock:0,paddingInline:8}),"&-bordered&-active",{backgroundColor:e.colorBgContainer}))};function Xq(n){return Yn("FieldLabel",function(e){var t=R(R({},e),{},{componentCls:".".concat(n)});return[qq(t)]})}var Yq=function(e,t){var r,i,a,o=e.label,s=e.onClear,l=e.value,c=e.disabled,d=e.onLabelClick,h=e.ellipsis,m=e.placeholder,v=e.className,g=e.formatter,x=e.bordered,b=e.style,_=e.downIcon,C=e.allowClear,T=C===void 0?!0:C,M=e.valueMaxLength,O=M===void 0?41:M,I=(Lt===null||Lt===void 0||(r=Lt.useConfig)===null||r===void 0?void 0:r.call(Lt))||{componentSize:"middle"},U=I.componentSize,F=U,L=P.useContext(Lt.ConfigContext),D=L.getPrefixCls,z=D("pro-core-field-label"),$=Xq(z),Y=$.wrapSSR,j=$.hashId,V=On(),B=P.useRef(null),G=P.useRef(null);P.useImperativeHandle(t,function(){return{labelRef:G,clearRef:B}});var W=function(ue){return ue.every(function(se){return typeof se=="string"})?ue.join(","):ue.map(function(se,ae){var ie=ae===ue.length-1?"":",";return typeof se=="string"?w.jsxs("span",{children:[se,ie]},ae):w.jsxs("span",{style:{display:"flex"},children:[se,ie]},ae)})},Z=function(ue){return g?g(ue):Array.isArray(ue)?W(ue):ue},J=function(ue,se){if(se!=null&&se!==""&&(!Array.isArray(se)||se.length)){var ae,ie,te=ue?w.jsxs("span",{onClick:function(){d==null||d()},className:"".concat(z,"-text"),children:[ue,": "]}):"",ee=Z(se);if(!h)return w.jsxs("span",{style:{display:"inline-flex",alignItems:"center"},children:[te,Z(se)]});var xe=function(){var ze=Array.isArray(se)&&se.length>1,Ue=V.getMessage("form.lightFilter.itemUnit","项");return typeof ee=="string"&&ee.length>O&&ze?"...".concat(se.length).concat(Ue):""},Ee=xe();return w.jsxs("span",{title:typeof ee=="string"?ee:void 0,style:{display:"inline-flex",alignItems:"center"},children:[te,w.jsx("span",{style:{paddingInlineStart:4,display:"flex"},children:typeof ee=="string"?ee==null||(ae=ee.toString())===null||ae===void 0||(ie=ae.slice)===null||ie===void 0?void 0:ie.call(ae,0,O):ee}),Ee]})}return ue||m};return Y(w.jsxs("span",{className:Ut(z,j,"".concat(z,"-").concat((i=(a=e.size)!==null&&a!==void 0?a:F)!==null&&i!==void 0?i:"middle"),ne(ne(ne(ne({},"".concat(z,"-active"),(Array.isArray(l)?l.length>0:!!l)||l===0),"".concat(z,"-disabled"),c),"".concat(z,"-bordered"),x),"".concat(z,"-allow-clear"),T),v),style:b,ref:G,onClick:function(){var ue;e==null||(ue=e.onClick)===null||ue===void 0||ue.call(e)},children:[J(o,l),(l||l===0)&&T&&w.jsx(bU,{role:"button",title:V.getMessage("form.lightFilter.clear","清除"),className:Ut("".concat(z,"-icon"),j,"".concat(z,"-close")),onClick:function(ue){c||s==null||s(),ue.stopPropagation()},ref:B}),_!==!1?_!=null?_:w.jsx(U0,{className:Ut("".concat(z,"-icon"),j,"".concat(z,"-arrow"))}):null]}))},Vl=Oe.forwardRef(Yq),ti=function(e){var t={};if(Object.keys(e||{}).forEach(function(r){e[r]!==void 0&&(t[r]=e[r])}),!(Object.keys(t).length<1))return t},Kq=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,eF=function(e){return e==="*"||e==="x"||e==="X"},tF=function(e){var t=parseInt(e,10);return isNaN(t)?e:t},Zq=function(e,t){return Xt(e)!==Xt(t)?[String(e),String(t)]:[e,t]},Jq=function(e,t){if(eF(e)||eF(t))return 0;var r=Zq(tF(e),tF(t)),i=at(r,2),a=i[0],o=i[1];return a>o?1:a<o?-1:0},Qq=function(e,t){for(var r=0;r<Math.max(e.length,t.length);r++){var i=Jq(e[r]||"0",t[r]||"0");if(i!==0)return i}return 0},nF=function(e){var t,r=e.match(Kq);return r==null||(t=r.shift)===null||t===void 0||t.call(r),r},Ku=function(e,t){var r=nF(e),i=nF(t),a=r.pop(),o=i.pop(),s=Qq(r,i);return s!==0?s:a||o?a?-1:1:0},SU=function(){var e;return typeof process=="undefined"?qc:((e=process)===null||e===void 0||(e=e.env)===null||e===void 0?void 0:e.ANTD_VERSION)||qc},xy=function(e,t){var r=Ku(SU(),"4.23.0")>-1?{open:e,onOpenChange:t}:{visible:e,onVisibleChange:t};return ti(r)},eX=function(e){return ne(ne(ne({},"".concat(e.componentCls,"-label"),{cursor:"pointer"}),"".concat(e.componentCls,"-overlay"),{minWidth:"200px",marginBlockStart:"4px"}),"".concat(e.componentCls,"-content"),{paddingBlock:16,paddingInline:16})};function tX(n){return Yn("FilterDropdown",function(e){var t=R(R({},e),{},{componentCls:".".concat(n)});return[eX(t)]})}var CU=function(e){var t=e.children,r=e.label,i=e.footer,a=e.open,o=e.onOpenChange,s=e.disabled,l=e.onVisibleChange,c=e.visible,d=e.footerRender,h=e.placement,m=P.useContext(Lt.ConfigContext),v=m.getPrefixCls,g=v("pro-core-field-dropdown"),x=tX(g),b=x.wrapSSR,_=x.hashId,C=xy(a||c||!1,o||l),T=P.useRef(null);return b(w.jsx(my,R(R({placement:h,trigger:["click"]},C),{},{styles:{body:{padding:0}},content:w.jsxs("div",{ref:T,className:Ut("".concat(g,"-overlay"),ne(ne({},"".concat(g,"-overlay-").concat(h),h),"hashId",_)),children:[w.jsx(Lt,{getPopupContainer:function(){return T.current||document.body},children:w.jsx("div",{className:"".concat(g,"-content ").concat(_).trim(),children:t})}),i&&w.jsx(_7,R({disabled:s,footerRender:d},i))]}),children:w.jsx("span",{className:"".concat(g,"-label ").concat(_).trim(),children:r})})))},nX=function(e){var t="".concat(e.antCls,"-progress-bg");return ne({},e.componentCls,{"&-multiple":{paddingBlockStart:6,paddingBlockEnd:12,paddingInline:8},"&-progress":{"&-success":ne({},t,{backgroundColor:e.colorSuccess}),"&-error":ne({},t,{backgroundColor:e.colorError}),"&-warning":ne({},t,{backgroundColor:e.colorWarning})},"&-rule":{display:"flex",alignItems:"center","&-icon":{"&-default":{display:"flex",alignItems:"center",justifyContent:"center",width:"14px",height:"22px","&-circle":{width:"6px",height:"6px",backgroundColor:e.colorTextSecondary,borderRadius:"4px"}},"&-loading":{color:e.colorPrimary},"&-error":{color:e.colorError},"&-success":{color:e.colorSuccess}},"&-text":{color:e.colorText}}})};function rX(n){return Yn("InlineErrorFormItem",function(e){var t=R(R({},e),{},{componentCls:".".concat(n)});return[nX(t)]})}var iX=["rules","name","children","popoverProps"],aX=["errorType","rules","name","popoverProps","children"],wU={marginBlockStart:-5,marginBlockEnd:-5,marginInlineStart:0,marginInlineEnd:0},oX=function(e){var t=e.inputProps,r=e.input,i=e.extra,a=e.errorList,o=e.popoverProps,s=P.useState(!1),l=at(s,2),c=l[0],d=l[1],h=P.useState([]),m=at(h,2),v=m[0],g=m[1],x=P.useContext(Lt.ConfigContext),b=x.getPrefixCls,_=b(),C=im(),T=rX("".concat(_,"-form-item-with-help")),M=T.wrapSSR,O=T.hashId;P.useEffect(function(){t.validateStatus!=="validating"&&g(t.errors)},[t.errors,t.validateStatus]);var I=xy(v.length<1?!1:c,function(F){F!==c&&d(F)}),U=t.validateStatus==="validating";return w.jsx(my,R(R(R({trigger:(o==null?void 0:o.trigger)||["click"],placement:(o==null?void 0:o.placement)||"topLeft"},I),{},{getPopupContainer:o==null?void 0:o.getPopupContainer,getTooltipContainer:o==null?void 0:o.getTooltipContainer,content:M(w.jsx("div",{className:"".concat(_,"-form-item ").concat(O," ").concat(C.hashId).trim(),style:{margin:0,padding:0},children:w.jsxs("div",{className:"".concat(_,"-form-item-with-help ").concat(O," ").concat(C.hashId).trim(),children:[U?w.jsx(dm,{}):null,a]})}))},o),{},{children:w.jsxs(w.Fragment,{children:[r,i]})}),"popover")},sX=function(e){var t=e.rules,r=e.name,i=e.children,a=e.popoverProps,o=Dt(e,iX);return w.jsx(pn.Item,R(R({name:r,rules:t,hasFeedback:!1,shouldUpdate:function(l,c){if(l===c)return!1;var d=[r].flat(1);d.length>1&&d.pop();try{return JSON.stringify(Mr(l,d))!==JSON.stringify(Mr(c,d))}catch(h){return!0}},_internalItemRender:{mark:"pro_table_render",render:function(l,c){return w.jsx(oX,R({inputProps:l,popoverProps:a},c))}}},o),{},{style:R(R({},wU),o==null?void 0:o.style),children:i}))},lX=function(e){var t=e.errorType,r=e.rules,i=e.name,a=e.popoverProps,o=e.children,s=Dt(e,aX);return i&&r!==null&&r!==void 0&&r.length&&t==="popover"?w.jsx(sX,R(R({name:i,rules:r,popoverProps:a},s),{},{children:o})):w.jsx(pn.Item,R(R({rules:r,shouldUpdate:i?function(l,c){if(l===c)return!1;var d=[i].flat(1);d.length>1&&d.pop();try{return JSON.stringify(Mr(l,d))!==JSON.stringify(Mr(c,d))}catch(h){return!0}}:void 0},s),{},{style:R(R({},wU),s.style),name:i,children:o}))},cX=function(e){return ne({},e.componentCls,{display:"inline-flex",alignItems:"center",maxWidth:"100%","&-icon":{display:"block",marginInlineStart:"4px",cursor:"pointer","&:hover":{color:e.colorPrimary}},"&-title":{display:"inline-flex",flex:"1"},"&-subtitle ":{marginInlineStart:8,color:e.colorTextSecondary,fontWeight:"normal",fontSize:e.fontSize,whiteSpace:"nowrap"},"&-title-ellipsis":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",wordBreak:"keep-all"}})};function uX(n){return Yn("LabelIconTip",function(e){var t=R(R({},e),{},{componentCls:".".concat(n)});return[cX(t)]})}var zf=Oe.memo(function(n){var e=n.label,t=n.tooltip,r=n.ellipsis,i=n.subTitle,a=P.useContext(Lt.ConfigContext),o=a.getPrefixCls,s=o("pro-core-label-tip"),l=uX(s),c=l.wrapSSR,d=l.hashId;if(!t&&!i)return w.jsx(w.Fragment,{children:e});var h=typeof t=="string"||Oe.isValidElement(t)?{title:t}:t,m=(h==null?void 0:h.icon)||w.jsx(Sq,{});return c(w.jsxs("div",{className:Ut(s,d),onMouseDown:function(g){return g.stopPropagation()},onMouseLeave:function(g){return g.stopPropagation()},onMouseMove:function(g){return g.stopPropagation()},children:[w.jsx("div",{className:Ut("".concat(s,"-title"),d,ne({},"".concat(s,"-title-ellipsis"),r)),children:e}),i&&w.jsx("div",{className:"".concat(s,"-subtitle ").concat(d).trim(),children:i}),t&&w.jsx(vo,R(R({},h),{},{children:w.jsx("span",{className:"".concat(s,"-icon ").concat(d).trim(),children:m})}))]}))}),_y=Oe.createContext({}),TU={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(da,function(){var t="month",r="quarter";return function(i,a){var o=a.prototype;o.quarter=function(c){return this.$utils().u(c)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(c-1))};var s=o.add;o.add=function(c,d){return c=Number(c),this.$utils().p(d)===r?this.add(3*c,t):s.bind(this)(c,d)};var l=o.startOf;o.startOf=function(c,d){var h=this.$utils(),m=!!h.u(d)||d;if(h.p(c)===r){var v=this.quarter()-1;return m?this.month(3*v).startOf(t).startOf("day"):this.month(3*v+2).endOf(t).endOf("day")}return l.bind(this)(c,d)}}})})(TU);var dX=TU.exports;const fX=ri(dX);var $u=function(e){return e==null};Rn.extend(fX);var MU={time:"HH:mm:ss",timeRange:"HH:mm:ss",date:"YYYY-MM-DD",dateWeek:"YYYY-wo",dateMonth:"YYYY-MM",dateQuarter:"YYYY-[Q]Q",dateYear:"YYYY",dateRange:"YYYY-MM-DD",dateTime:"YYYY-MM-DD HH:mm:ss",dateTimeRange:"YYYY-MM-DD HH:mm:ss"};function rF(n){return Object.prototype.toString.call(n)==="[object Object]"}function hX(n){if(rF(n)===!1)return!1;var e=n.constructor;if(e===void 0)return!0;var t=e.prototype;return!(rF(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)}var fA=function(e){return!!(e!=null&&e._isAMomentObject)},iF=function(e,t,r){if(!t)return e;if(Rn.isDayjs(e)||fA(e)){if(t==="number")return e.valueOf();if(t==="string")return e.format(MU[r]||"YYYY-MM-DD HH:mm:ss");if(typeof t=="string"&&t!=="string")return e.format(t);if(typeof t=="function")return t(e,r)}return e},pX=function n(e,t,r,i,a){var o={};return typeof window=="undefined"||Xt(e)!=="object"||$u(e)||e instanceof Blob||Array.isArray(e)?e:(Object.keys(e).forEach(function(s){var l=a?[a,s].flat(1):[s],c=Mr(r,l)||"text",d="text",h;typeof c=="string"?d=c:(d=c.valueType,h=c.dateFormat);var m=e[s];if(!($u(m)&&i)){if(hX(m)&&!Array.isArray(m)&&!Rn.isDayjs(m)&&!fA(m)){o[s]=n(m,t,r,i,l);return}if(Array.isArray(m)){o[s]=m.map(function(v,g){return Rn.isDayjs(v)||fA(v)?iF(v,h||t,d):n(v,t,r,i,[s,"".concat(g)].flat(1))});return}o[s]=iF(m,h||t,d)}}),o)},aF=function(e,t){return typeof t=="function"?t(Rn(e)):Rn(e).format(t)},mX=function(e,t){var r=Array.isArray(e)?e:[],i=at(r,2),a=i[0],o=i[1],s,l;Array.isArray(t)?(s=t[0],l=t[1]):Xt(t)==="object"&&t.type==="mask"?(s=t.format,l=t.format):(s=t,l=t);var c=a?aF(a,s):"",d=o?aF(o,l):"",h=c&&d?"".concat(c," ~ ").concat(d):"";return h},gX=function(e){var t;return!!(e!=null&&(t=e.valueType)!==null&&t!==void 0&&t.toString().startsWith("date")||(e==null?void 0:e.valueType)==="select"||e!=null&&e.valueEnum)},vX=function(e){var t;return((t=e.ellipsis)===null||t===void 0?void 0:t.showTitle)===!1?!1:e.ellipsis},yX=function(e,t,r){if(t.copyable||t.ellipsis){var i=t.copyable&&r?{text:r,tooltips:["",""]}:void 0,a=gX(t),o=vX(t)&&r?{tooltip:(t==null?void 0:t.tooltip)!==!1&&a?w.jsx("div",{className:"pro-table-tooltip-text",children:e}):r}:!1;return w.jsx(Kf.Text,{style:{width:"100%",margin:0,padding:0},title:"",copyable:i,ellipsis:o,children:e})}return e};function yo(n){if(typeof n=="function"){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return n.apply(void 0,t)}return n}var hA=function(e,t,r){return t===void 0?e:yo(e,t,r)},EU=function(e){var t=Ku(SU(),"4.24.0")>-1?{menu:e}:{overlay:w.jsx(SV,R({},e))};return ti(t)};function AU(n,e){this.v=n,this.k=e}function Sa(n,e,t,r){var i=Object.defineProperty;try{i({},"",{})}catch(a){i=0}Sa=function(o,s,l,c){function d(h,m){Sa(o,h,function(v){return this._invoke(h,m,v)})}s?i?i(o,s,{value:l,enumerable:!c,configurable:!c,writable:!c}):o[s]=l:(d("next",0),d("throw",1),d("return",2))},Sa(n,e,t,r)}function YR(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var n,e,t=typeof Symbol=="function"?Symbol:{},r=t.iterator||"@@iterator",i=t.toStringTag||"@@toStringTag";function a(v,g,x,b){var _=g&&g.prototype instanceof s?g:s,C=Object.create(_.prototype);return Sa(C,"_invoke",function(T,M,O){var I,U,F,L=0,D=O||[],z=!1,$={p:0,n:0,v:n,a:Y,f:Y.bind(n,4),d:function(V,B){return I=V,U=0,F=n,$.n=B,o}};function Y(j,V){for(U=j,F=V,e=0;!z&&L&&!B&&e<D.length;e++){var B,G=D[e],W=$.p,Z=G[2];j>3?(B=Z===V)&&(F=G[(U=G[4])?5:(U=3,3)],G[4]=G[5]=n):G[0]<=W&&((B=j<2&&W<G[1])?(U=0,$.v=V,$.n=G[1]):W<Z&&(B=j<3||G[0]>V||V>Z)&&(G[4]=j,G[5]=V,$.n=Z,U=0))}if(B||j>1)return o;throw z=!0,V}return function(j,V,B){if(L>1)throw TypeError("Generator is already running");for(z&&V===1&&Y(V,B),U=V,F=B;(e=U<2?n:F)||!z;){I||(U?U<3?(U>1&&($.n=-1),Y(U,F)):$.n=F:$.v=F);try{if(L=2,I){if(U||(j="next"),e=I[j]){if(!(e=e.call(I,F)))throw TypeError("iterator result is not an object");if(!e.done)return e;F=e.value,U<2&&(U=0)}else U===1&&(e=I.return)&&e.call(I),U<2&&(F=TypeError("The iterator does not provide a '"+j+"' method"),U=1);I=n}else if((e=(z=$.n<0)?F:T.call(M,$))!==o)break}catch(G){I=n,U=1,F=G}finally{L=1}}return{value:e,done:z}}}(v,x,b),!0),C}var o={};function s(){}function l(){}function c(){}e=Object.getPrototypeOf;var d=[][r]?e(e([][r]())):(Sa(e={},r,function(){return this}),e),h=c.prototype=s.prototype=Object.create(d);function m(v){return Object.setPrototypeOf?Object.setPrototypeOf(v,c):(v.__proto__=c,Sa(v,i,"GeneratorFunction")),v.prototype=Object.create(h),v}return l.prototype=c,Sa(h,"constructor",c),Sa(c,"constructor",l),l.displayName="GeneratorFunction",Sa(c,i,"GeneratorFunction"),Sa(h),Sa(h,i,"Generator"),Sa(h,r,function(){return this}),Sa(h,"toString",function(){return"[object Generator]"}),(YR=function(){return{w:a,m}})()}function YS(n,e){function t(i,a,o,s){try{var l=n[i](a),c=l.value;return c instanceof AU?e.resolve(c.v).then(function(d){t("next",d,o,s)},function(d){t("throw",d,o,s)}):e.resolve(c).then(function(d){l.value=d,o(l)},function(d){return t("throw",d,o,s)})}catch(d){s(d)}}var r;this.next||(Sa(YS.prototype),Sa(YS.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),Sa(this,"_invoke",function(i,a,o){function s(){return new e(function(l,c){t(i,o,l,c)})}return r=r?r.then(s,s):s()},!0)}function RU(n,e,t,r,i){return new YS(YR().w(n,e,t,r),i||Promise)}function bX(n,e,t,r,i){var a=RU(n,e,t,r,i);return a.next().then(function(o){return o.done?o.value:a.next()})}function xX(n){var e=Object(n),t=[];for(var r in e)t.unshift(r);return function i(){for(;t.length;)if((r=t.pop())in e)return i.value=r,i.done=!1,i;return i.done=!0,i}}function oF(n){if(n!=null){var e=n[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],t=0;if(e)return e.call(n);if(typeof n.next=="function")return n;if(!isNaN(n.length))return{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}}}throw new TypeError(Xt(n)+" is not iterable")}function _t(){var n=YR(),e=n.m(_t),t=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(o){var s=typeof o=="function"&&o.constructor;return!!s&&(s===t||(s.displayName||s.name)==="GeneratorFunction")}var i={throw:1,return:2,break:3,continue:3};function a(o){var s,l;return function(c){s||(s={stop:function(){return l(c.a,2)},catch:function(){return c.v},abrupt:function(h,m){return l(c.a,i[h],m)},delegateYield:function(h,m,v){return s.resultName=m,l(c.d,oF(h),v)},finish:function(h){return l(c.f,h)}},l=function(h,m,v){c.p=s.prev,c.n=s.next;try{return h(m,v)}finally{s.next=c.n}}),s.resultName&&(s[s.resultName]=c.v,s.resultName=void 0),s.sent=c.v,s.next=c.n;try{return o.call(this,s)}finally{c.p=s.prev,c.n=s.next}}}return(_t=function(){return{wrap:function(l,c,d,h){return n.w(a(l),c,d,h&&h.reverse())},isGeneratorFunction:r,mark:n.m,awrap:function(l,c){return new AU(l,c)},AsyncIterator:YS,async:function(l,c,d,h,m){return(r(c)?RU:bX)(a(l),c,d,h,m)},keys:xX,values:oF}})()}function sF(n,e,t,r,i,a,o){try{var s=n[a](o),l=s.value}catch(c){return void t(c)}s.done?e(l):Promise.resolve(l).then(r,i)}function un(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var a=n.apply(e,t);function o(l){sF(a,r,i,o,s,"next",l)}function s(l){sF(a,r,i,o,s,"throw",l)}o(void 0)})}}var zn=function(e){var t=P.useRef(null);return t.current=e,P.useCallback(function(){for(var r,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(r=t.current)===null||r===void 0?void 0:r.call.apply(r,[t].concat(gr(a)))},[])};function KR(n,e){var t=zn(n),r=P.useRef(),i=P.useCallback(function(){r.current&&(clearTimeout(r.current),r.current=null)},[]),a=P.useCallback(un(_t().mark(function o(){var s,l,c,d=arguments;return _t().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:for(s=d.length,l=new Array(s),c=0;c<s;c++)l[c]=d[c];if(!(e===0||e===void 0)){m.next=3;break}return m.abrupt("return",t.apply(void 0,l));case 3:return i(),m.abrupt("return",new Promise(function(v){r.current=setTimeout(un(_t().mark(function g(){return _t().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.t0=v,b.next=3,t.apply(void 0,l);case 3:return b.t1=b.sent,(0,b.t0)(b.t1),b.abrupt("return");case 6:case"end":return b.stop()}},g)})),e)}));case 5:case"end":return m.stop()}},o)})),[t,i,e]);return P.useEffect(function(){return i},[i]),{run:a,cancel:i}}var ZR=function(e){var t=P.useRef(e);return t.current=e,t};function _X(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,t=arguments.length>2?arguments[2]:void 0,r=P.useState(n),i=at(r,2),a=i[0],o=i[1],s=ZR(n);return P.useEffect(function(){var l=setTimeout(function(){o(s.current)},e);return function(){return clearTimeout(l)}},t?[e].concat(gr(t)):void 0),a}function $c(n,e,t,r){if(n===e)return!0;if(n&&e&&Xt(n)==="object"&&Xt(e)==="object"){if(n.constructor!==e.constructor)return!1;var i,a,o;if(Array.isArray(n)){if(i=n.length,i!=e.length)return!1;for(a=i;a--!==0;)if(!$c(n[a],e[a],t,r))return!1;return!0}if(n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;var s=QT(n.entries()),l;try{for(s.s();!(l=s.n()).done;)if(a=l.value,!e.has(a[0]))return!1}catch(g){s.e(g)}finally{s.f()}var c=QT(n.entries()),d;try{for(c.s();!(d=c.n()).done;)if(a=d.value,!$c(a[1],e.get(a[0]),t,r))return!1}catch(g){c.e(g)}finally{c.f()}return!0}if(n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;var h=QT(n.entries()),m;try{for(h.s();!(m=h.n()).done;)if(a=m.value,!e.has(a[0]))return!1}catch(g){h.e(g)}finally{h.f()}return!0}if(ArrayBuffer.isView(n)&&ArrayBuffer.isView(e)){if(i=n.length,i!=e.length)return!1;for(a=i;a--!==0;)if(n[a]!==e[a])return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf&&n.valueOf)return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString&&n.toString)return n.toString()===e.toString();if(o=Object.keys(n),i=o.length,i!==Object.keys(e).length)return!1;for(a=i;a--!==0;)if(!Object.prototype.hasOwnProperty.call(e,o[a]))return!1;for(a=i;a--!==0;){var v=o[a];if(!(t!=null&&t.includes(v))&&!(v==="_owner"&&n.$$typeof)&&!$c(n[v],e[v],t,r))return!1}return!0}return n!==n&&e!==e}var SX=function(e,t,r){return $c(e,t,r)};function JR(n,e){var t=P.useRef();return SX(n,t.current,e)||(t.current=n),t.current}function KS(n,e,t){P.useEffect(n,JR(e||[],t))}function PU(n,e,t,r){var i=KR(un(_t().mark(function a(){return _t().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:n();case 1:case"end":return s.stop()}},a)})),r||16);P.useEffect(function(){i.run()},JR(e||[],t))}function _a(n,e){return Oe.useMemo(n,JR(e))}var CX=typeof process!="undefined"&&process.versions!=null&&process.versions.node!=null,FC=function(){return typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.matchMedia!="undefined"&&!CX},xM=0;function wX(n){var e=P.useRef(null),t=P.useState(function(){return n.proFieldKey?n.proFieldKey.toString():(xM+=1,xM.toString())}),r=at(t,1),i=r[0],a=P.useRef(i),o=function(){var d=un(_t().mark(function h(){var m,v,g,x;return _t().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return(m=e.current)===null||m===void 0||m.abort(),g=new AbortController,e.current=g,_.next=5,Promise.race([(v=n.request)===null||v===void 0?void 0:v.call(n,n.params,n),new Promise(function(C,T){var M;(M=e.current)===null||M===void 0||(M=M.signal)===null||M===void 0||M.addEventListener("abort",function(){T(new Error("aborted"))})})]);case 5:return x=_.sent,_.abrupt("return",x);case 7:case"end":return _.stop()}},h)}));return function(){return d.apply(this,arguments)}}();P.useEffect(function(){return function(){xM+=1}},[]);var s=J3([a.current,n.params],o,{revalidateOnFocus:!1,shouldRetryOnError:!1,revalidateOnReconnect:!1}),l=s.data,c=s.error;return[l||c]}var f0=function(e){var t=P.useRef();return P.useEffect(function(){t.current=e}),t.current};function TX(){var n=P.useState(!0),e=at(n,2),t=e[1],r=P.useCallback(function(){return t(function(i){return!i})},[]);return r}function MX(n,e){var t=P.useMemo(function(){var r={current:e};return new Proxy(r,{set:function(a,o,s){return Object.is(a[o],s)||(a[o]=s,n(t)),!0}})},[]);return t}function EX(n){var e=TX(),t=MX(e,n);return t}var AX=function(e){var t=!1;return(typeof e=="string"&&e.startsWith("date")&&!e.endsWith("Range")||e==="select"||e==="time")&&(t=!0),t},IC=function(){for(var e={},t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=r.length,o,s=0;s<a;s+=1)for(o in r[s])r[s].hasOwnProperty(o)&&(Xt(e[o])==="object"&&Xt(r[s][o])==="object"&&e[o]!==void 0&&e[o]!==null&&!Array.isArray(e[o])&&!Array.isArray(r[s][o])?e[o]=R(R({},e[o]),r[s][o]):e[o]=r[s][o]);return e},lF=0,cF=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:21;if(typeof window=="undefined"||!window.crypto)return(lF+=1).toFixed(0);for(var t="",r=crypto.getRandomValues(new Uint8Array(e));e--;){var i=63&r[e];t+=i<36?i.toString(36):i<62?(i-26).toString(36).toUpperCase():i<63?"_":"-"}return t},B0=function(){return typeof window=="undefined"?cF():window.crypto&&window.crypto.randomUUID&&typeof crypto.randomUUID=="function"?crypto.randomUUID():cF()},OU=function(e){if(e&&e!==!0)return e},RX=function(e){var t={};return Object.keys(e||{}).forEach(function(r){var i;Array.isArray(e[r])&&((i=e[r])===null||i===void 0?void 0:i.length)===0||e[r]!==void 0&&(t[r]=e[r])}),t};Rn.extend(CV);var uF=function(e){return!!(e!=null&&e._isAMomentObject)},Sy=function n(e,t){return $u(e)||Rn.isDayjs(e)||uF(e)?uF(e)?Rn(e):e:Array.isArray(e)?e.map(function(r){return n(r,t)}):typeof e=="number"?Rn(e):Rn(e,t)},PX=["colon","dependencies","extra","getValueFromEvent","getValueProps","hasFeedback","help","htmlFor","initialValue","noStyle","label","labelAlign","labelCol","name","preserve","normalize","required","rules","shouldUpdate","trigger","validateFirst","validateStatus","validateTrigger","valuePropName","wrapperCol","hidden","validateDebounce","addonBefore","addonAfter","addonWarpStyle"];function OX(n){var e={};return PX.forEach(function(t){n[t]!==void 0&&(e[t]=n[t])}),e}var FX="valueType request plain renderFormItem render text formItemProps valueEnum",IX="fieldProps isDefaultDom groupProps contentRender submitterProps submitter";function FU(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t="".concat(FX," ").concat(IX).split(/[\s\n]+/),r={};return Object.keys(n||{}).forEach(function(i){t.includes(i)&&!e||(r[i]=n[i])}),r}function DX(n){var e=Object.prototype.toString.call(n).match(/^\[object (.*)\]$/)[1].toLowerCase();return e==="string"&&Xt(n)==="object"?"object":n===null?"null":n===void 0?"undefined":e}var LX=function(e){var t=e.color,r=e.children;return w.jsx(Xs,{color:t,text:r})},eu=function(e){return DX(e)==="map"?e:new Map(Object.entries(e||{}))},NX={Success:function(e){var t=e.children;return w.jsx(Xs,{status:"success",text:t})},Error:function(e){var t=e.children;return w.jsx(Xs,{status:"error",text:t})},Default:function(e){var t=e.children;return w.jsx(Xs,{status:"default",text:t})},Processing:function(e){var t=e.children;return w.jsx(Xs,{status:"processing",text:t})},Warning:function(e){var t=e.children;return w.jsx(Xs,{status:"warning",text:t})},success:function(e){var t=e.children;return w.jsx(Xs,{status:"success",text:t})},error:function(e){var t=e.children;return w.jsx(Xs,{status:"error",text:t})},default:function(e){var t=e.children;return w.jsx(Xs,{status:"default",text:t})},processing:function(e){var t=e.children;return w.jsx(Xs,{status:"processing",text:t})},warning:function(e){var t=e.children;return w.jsx(Xs,{status:"warning",text:t})}},Lm=function n(e,t,r){if(Array.isArray(e))return w.jsx(Ra,{split:",",size:2,wrap:!0,children:e.map(function(c,d){return n(c,t,d)})},r);var i=eu(t);if(!i.has(e)&&!i.has("".concat(e)))return(e==null?void 0:e.label)||e;var a=i.get(e)||i.get("".concat(e));if(!a)return w.jsx(Oe.Fragment,{children:(e==null?void 0:e.label)||e},r);var o=a.status,s=a.color,l=NX[o||"Init"];return l?w.jsx(l,{children:a.text},r):s?w.jsx(LX,{color:s,children:a.text},r):w.jsx(Oe.Fragment,{children:a.text||a},r)},pA={exports:{}};(function(n,e){const{hasOwnProperty:t}=Object.prototype,r=_();r.configure=_,r.stringify=r,r.default=r,e.stringify=r,e.configure=_,n.exports=r;const i=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]/;function a(C){return C.length<5e3&&!i.test(C)?`"${C}"`:JSON.stringify(C)}function o(C,T){if(C.length>200||T)return C.sort(T);for(let M=1;M<C.length;M++){const O=C[M];let I=M;for(;I!==0&&C[I-1]>O;)C[I]=C[I-1],I--;C[I]=O}return C}const s=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Object.getPrototypeOf(new Int8Array)),Symbol.toStringTag).get;function l(C){return s.call(C)!==void 0&&C.length!==0}function c(C,T,M){C.length<M&&(M=C.length);const O=T===","?"":" ";let I=`"0":${O}${C[0]}`;for(let U=1;U<M;U++)I+=`${T}"${U}":${O}${C[U]}`;return I}function d(C){if(t.call(C,"circularValue")){const T=C.circularValue;if(typeof T=="string")return`"${T}"`;if(T==null)return T;if(T===Error||T===TypeError)return{toString(){throw new TypeError("Converting circular structure to JSON")}};throw new TypeError('The "circularValue" argument must be of type string or the value null or undefined')}return'"[Circular]"'}function h(C){let T;if(t.call(C,"deterministic")&&(T=C.deterministic,typeof T!="boolean"&&typeof T!="function"))throw new TypeError('The "deterministic" argument must be of type boolean or comparator function');return T===void 0?!0:T}function m(C,T){let M;if(t.call(C,T)&&(M=C[T],typeof M!="boolean"))throw new TypeError(`The "${T}" argument must be of type boolean`);return M===void 0?!0:M}function v(C,T){let M;if(t.call(C,T)){if(M=C[T],typeof M!="number")throw new TypeError(`The "${T}" argument must be of type number`);if(!Number.isInteger(M))throw new TypeError(`The "${T}" argument must be an integer`);if(M<1)throw new RangeError(`The "${T}" argument must be >= 1`)}return M===void 0?1/0:M}function g(C){return C===1?"1 item":`${C} items`}function x(C){const T=new Set;for(const M of C)(typeof M=="string"||typeof M=="number")&&T.add(String(M));return T}function b(C){if(t.call(C,"strict")){const T=C.strict;if(typeof T!="boolean")throw new TypeError('The "strict" argument must be of type boolean');if(T)return M=>{let O=`Object can not safely be stringified. Received type ${typeof M}`;throw typeof M!="function"&&(O+=` (${M.toString()})`),new Error(O)}}}function _(C){C=qe({},C);const T=b(C);T&&(C.bigint===void 0&&(C.bigint=!1),"circularValue"in C||(C.circularValue=Error));const M=d(C),O=m(C,"bigint"),I=h(C),U=typeof I=="function"?I:void 0,F=v(C,"maximumDepth"),L=v(C,"maximumBreadth");function D(V,B,G,W,Z,J){let Q=B[V];switch(typeof Q=="object"&&Q!==null&&typeof Q.toJSON=="function"&&(Q=Q.toJSON(V)),Q=W.call(B,V,Q),typeof Q){case"string":return a(Q);case"object":{if(Q===null)return"null";if(G.indexOf(Q)!==-1)return M;let ue="",se=",";const ae=J;if(Array.isArray(Q)){if(Q.length===0)return"[]";if(F<G.length+1)return'"[Array]"';G.push(Q),Z!==""&&(J+=Z,ue+=`
${J}`,se=`,
${J}`);const Se=Math.min(Q.length,L);let ze=0;for(;ze<Se-1;ze++){const re=D(String(ze),Q,G,W,Z,J);ue+=re!==void 0?re:"null",ue+=se}const Ue=D(String(ze),Q,G,W,Z,J);if(ue+=Ue!==void 0?Ue:"null",Q.length-1>L){const re=Q.length-L-1;ue+=`${se}"... ${g(re)} not stringified"`}return Z!==""&&(ue+=`
${ae}`),G.pop(),`[${ue}]`}let ie=Object.keys(Q);const te=ie.length;if(te===0)return"{}";if(F<G.length+1)return'"[Object]"';let ee="",xe="";Z!==""&&(J+=Z,se=`,
${J}`,ee=" ");const Ee=Math.min(te,L);I&&!l(Q)&&(ie=o(ie,U)),G.push(Q);for(let Se=0;Se<Ee;Se++){const ze=ie[Se],Ue=D(ze,Q,G,W,Z,J);Ue!==void 0&&(ue+=`${xe}${a(ze)}:${ee}${Ue}`,xe=se)}if(te>L){const Se=te-L;ue+=`${xe}"...":${ee}"${g(Se)} not stringified"`,xe=se}return Z!==""&&xe.length>1&&(ue=`
${J}${ue}
${ae}`),G.pop(),`{${ue}}`}case"number":return isFinite(Q)?String(Q):T?T(Q):"null";case"boolean":return Q===!0?"true":"false";case"undefined":return;case"bigint":if(O)return String(Q);default:return T?T(Q):void 0}}function z(V,B,G,W,Z,J){switch(typeof B=="object"&&B!==null&&typeof B.toJSON=="function"&&(B=B.toJSON(V)),typeof B){case"string":return a(B);case"object":{if(B===null)return"null";if(G.indexOf(B)!==-1)return M;const Q=J;let ue="",se=",";if(Array.isArray(B)){if(B.length===0)return"[]";if(F<G.length+1)return'"[Array]"';G.push(B),Z!==""&&(J+=Z,ue+=`
${J}`,se=`,
${J}`);const te=Math.min(B.length,L);let ee=0;for(;ee<te-1;ee++){const Ee=z(String(ee),B[ee],G,W,Z,J);ue+=Ee!==void 0?Ee:"null",ue+=se}const xe=z(String(ee),B[ee],G,W,Z,J);if(ue+=xe!==void 0?xe:"null",B.length-1>L){const Ee=B.length-L-1;ue+=`${se}"... ${g(Ee)} not stringified"`}return Z!==""&&(ue+=`
${Q}`),G.pop(),`[${ue}]`}G.push(B);let ae="";Z!==""&&(J+=Z,se=`,
${J}`,ae=" ");let ie="";for(const te of W){const ee=z(te,B[te],G,W,Z,J);ee!==void 0&&(ue+=`${ie}${a(te)}:${ae}${ee}`,ie=se)}return Z!==""&&ie.length>1&&(ue=`
${J}${ue}
${Q}`),G.pop(),`{${ue}}`}case"number":return isFinite(B)?String(B):T?T(B):"null";case"boolean":return B===!0?"true":"false";case"undefined":return;case"bigint":if(O)return String(B);default:return T?T(B):void 0}}function $(V,B,G,W,Z){switch(typeof B){case"string":return a(B);case"object":{if(B===null)return"null";if(typeof B.toJSON=="function"){if(B=B.toJSON(V),typeof B!="object")return $(V,B,G,W,Z);if(B===null)return"null"}if(G.indexOf(B)!==-1)return M;const J=Z;if(Array.isArray(B)){if(B.length===0)return"[]";if(F<G.length+1)return'"[Array]"';G.push(B),Z+=W;let ee=`
${Z}`;const xe=`,
${Z}`,Ee=Math.min(B.length,L);let Se=0;for(;Se<Ee-1;Se++){const Ue=$(String(Se),B[Se],G,W,Z);ee+=Ue!==void 0?Ue:"null",ee+=xe}const ze=$(String(Se),B[Se],G,W,Z);if(ee+=ze!==void 0?ze:"null",B.length-1>L){const Ue=B.length-L-1;ee+=`${xe}"... ${g(Ue)} not stringified"`}return ee+=`
${J}`,G.pop(),`[${ee}]`}let Q=Object.keys(B);const ue=Q.length;if(ue===0)return"{}";if(F<G.length+1)return'"[Object]"';Z+=W;const se=`,
${Z}`;let ae="",ie="",te=Math.min(ue,L);l(B)&&(ae+=c(B,se,L),Q=Q.slice(B.length),te-=B.length,ie=se),I&&(Q=o(Q,U)),G.push(B);for(let ee=0;ee<te;ee++){const xe=Q[ee],Ee=$(xe,B[xe],G,W,Z);Ee!==void 0&&(ae+=`${ie}${a(xe)}: ${Ee}`,ie=se)}if(ue>L){const ee=ue-L;ae+=`${ie}"...": "${g(ee)} not stringified"`,ie=se}return ie!==""&&(ae=`
${Z}${ae}
${J}`),G.pop(),`{${ae}}`}case"number":return isFinite(B)?String(B):T?T(B):"null";case"boolean":return B===!0?"true":"false";case"undefined":return;case"bigint":if(O)return String(B);default:return T?T(B):void 0}}function Y(V,B,G){switch(typeof B){case"string":return a(B);case"object":{if(B===null)return"null";if(typeof B.toJSON=="function"){if(B=B.toJSON(V),typeof B!="object")return Y(V,B,G);if(B===null)return"null"}if(G.indexOf(B)!==-1)return M;let W="";const Z=B.length!==void 0;if(Z&&Array.isArray(B)){if(B.length===0)return"[]";if(F<G.length+1)return'"[Array]"';G.push(B);const ae=Math.min(B.length,L);let ie=0;for(;ie<ae-1;ie++){const ee=Y(String(ie),B[ie],G);W+=ee!==void 0?ee:"null",W+=","}const te=Y(String(ie),B[ie],G);if(W+=te!==void 0?te:"null",B.length-1>L){const ee=B.length-L-1;W+=`,"... ${g(ee)} not stringified"`}return G.pop(),`[${W}]`}let J=Object.keys(B);const Q=J.length;if(Q===0)return"{}";if(F<G.length+1)return'"[Object]"';let ue="",se=Math.min(Q,L);Z&&l(B)&&(W+=c(B,",",L),J=J.slice(B.length),se-=B.length,ue=","),I&&(J=o(J,U)),G.push(B);for(let ae=0;ae<se;ae++){const ie=J[ae],te=Y(ie,B[ie],G);te!==void 0&&(W+=`${ue}${a(ie)}:${te}`,ue=",")}if(Q>L){const ae=Q-L;W+=`${ue}"...":"${g(ae)} not stringified"`}return G.pop(),`{${W}}`}case"number":return isFinite(B)?String(B):T?T(B):"null";case"boolean":return B===!0?"true":"false";case"undefined":return;case"bigint":if(O)return String(B);default:return T?T(B):void 0}}function j(V,B,G){if(arguments.length>1){let W="";if(typeof G=="number"?W=" ".repeat(Math.min(G,10)):typeof G=="string"&&(W=G.slice(0,10)),B!=null){if(typeof B=="function")return D("",{"":V},[],B,W,"");if(Array.isArray(B))return z("",V,[],x(B),W,"")}if(W.length!==0)return $("",V,[],W,"")}return Y("",V,[])}return j}})(pA,pA.exports);var UX=pA.exports;const BX=ri(UX),zX=BX.configure;var Uu=zX({bigint:!0,circularValue:"Magic circle!",deterministic:!1,maximumDepth:4});function HX(){this.__data__=[],this.size=0}function Cy(n,e){return n===e||n!==n&&e!==e}function DC(n,e){for(var t=n.length;t--;)if(Cy(n[t][0],e))return t;return-1}var kX=Array.prototype,jX=kX.splice;function $X(n){var e=this.__data__,t=DC(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():jX.call(e,t,1),--this.size,!0}function VX(n){var e=this.__data__,t=DC(e,n);return t<0?void 0:e[t][1]}function GX(n){return DC(this.__data__,n)>-1}function WX(n,e){var t=this.__data__,r=DC(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function tu(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}tu.prototype.clear=HX;tu.prototype.delete=$X;tu.prototype.get=VX;tu.prototype.has=GX;tu.prototype.set=WX;function qX(){this.__data__=new tu,this.size=0}function XX(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function YX(n){return this.__data__.get(n)}function KX(n){return this.__data__.has(n)}var IU=typeof global=="object"&&global&&global.Object===Object&&global,ZX=typeof self=="object"&&self&&self.Object===Object&&self,Gl=IU||ZX||Function("return this")(),fm=Gl.Symbol,DU=Object.prototype,JX=DU.hasOwnProperty,QX=DU.toString,Iv=fm?fm.toStringTag:void 0;function eY(n){var e=JX.call(n,Iv),t=n[Iv];try{n[Iv]=void 0;var r=!0}catch(a){}var i=QX.call(n);return r&&(e?n[Iv]=t:delete n[Iv]),i}var tY=Object.prototype,nY=tY.toString;function rY(n){return nY.call(n)}var iY="[object Null]",aY="[object Undefined]",dF=fm?fm.toStringTag:void 0;function Nm(n){return n==null?n===void 0?aY:iY:dF&&dF in Object(n)?eY(n):rY(n)}function Zf(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var oY="[object AsyncFunction]",sY="[object Function]",lY="[object GeneratorFunction]",cY="[object Proxy]";function QR(n){if(!Zf(n))return!1;var e=Nm(n);return e==sY||e==lY||e==oY||e==cY}var _M=Gl["__core-js_shared__"],fF=function(){var n=/[^.]+$/.exec(_M&&_M.keys&&_M.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function uY(n){return!!fF&&fF in n}var dY=Function.prototype,fY=dY.toString;function Jf(n){if(n!=null){try{return fY.call(n)}catch(e){}try{return n+""}catch(e){}}return""}var hY=/[\\^$.*+?()[\]{}|]/g,pY=/^\[object .+?Constructor\]$/,mY=Function.prototype,gY=Object.prototype,vY=mY.toString,yY=gY.hasOwnProperty,bY=RegExp("^"+vY.call(yY).replace(hY,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xY(n){if(!Zf(n)||uY(n))return!1;var e=QR(n)?bY:pY;return e.test(Jf(n))}function _Y(n,e){return n==null?void 0:n[e]}function Qf(n,e){var t=_Y(n,e);return xY(t)?t:void 0}var z0=Qf(Gl,"Map"),H0=Qf(Object,"create");function SY(){this.__data__=H0?H0(null):{},this.size=0}function CY(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var wY="__lodash_hash_undefined__",TY=Object.prototype,MY=TY.hasOwnProperty;function EY(n){var e=this.__data__;if(H0){var t=e[n];return t===wY?void 0:t}return MY.call(e,n)?e[n]:void 0}var AY=Object.prototype,RY=AY.hasOwnProperty;function PY(n){var e=this.__data__;return H0?e[n]!==void 0:RY.call(e,n)}var OY="__lodash_hash_undefined__";function FY(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=H0&&e===void 0?OY:e,this}function Hf(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Hf.prototype.clear=SY;Hf.prototype.delete=CY;Hf.prototype.get=EY;Hf.prototype.has=PY;Hf.prototype.set=FY;function IY(){this.size=0,this.__data__={hash:new Hf,map:new(z0||tu),string:new Hf}}function DY(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function LC(n,e){var t=n.__data__;return DY(e)?t[typeof e=="string"?"string":"hash"]:t.map}function LY(n){var e=LC(this,n).delete(n);return this.size-=e?1:0,e}function NY(n){return LC(this,n).get(n)}function UY(n){return LC(this,n).has(n)}function BY(n,e){var t=LC(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function eh(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}eh.prototype.clear=IY;eh.prototype.delete=LY;eh.prototype.get=NY;eh.prototype.has=UY;eh.prototype.set=BY;var zY=200;function HY(n,e){var t=this.__data__;if(t instanceof tu){var r=t.__data__;if(!z0||r.length<zY-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new eh(r)}return t.set(n,e),this.size=t.size,this}function Vc(n){var e=this.__data__=new tu(n);this.size=e.size}Vc.prototype.clear=qX;Vc.prototype.delete=XX;Vc.prototype.get=YX;Vc.prototype.has=KX;Vc.prototype.set=HY;var ZS=function(){try{var n=Qf(Object,"defineProperty");return n({},"",{}),n}catch(e){}}();function eP(n,e,t){e=="__proto__"&&ZS?ZS(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function mA(n,e,t){(t!==void 0&&!Cy(n[e],t)||t===void 0&&!(e in n))&&eP(n,e,t)}function kY(n){return function(e,t,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[++i];if(t(a[l],l,a)===!1)break}return e}}var jY=kY(),LU=typeof exports=="object"&&exports&&!exports.nodeType&&exports,hF=LU&&typeof module=="object"&&module&&!module.nodeType&&module,$Y=hF&&hF.exports===LU,pF=$Y?Gl.Buffer:void 0;pF&&pF.allocUnsafe;function VY(n,e){return n.slice()}var JS=Gl.Uint8Array;function GY(n){var e=new n.constructor(n.byteLength);return new JS(e).set(new JS(n)),e}function WY(n,e){var t=GY(n.buffer);return new n.constructor(t,n.byteOffset,n.length)}function qY(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var mF=Object.create,XY=function(){function n(){}return function(e){if(!Zf(e))return{};if(mF)return mF(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function NU(n,e){return function(t){return n(e(t))}}var UU=NU(Object.getPrototypeOf,Object),YY=Object.prototype;function NC(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||YY;return n===t}function KY(n){return typeof n.constructor=="function"&&!NC(n)?XY(UU(n)):{}}function kf(n){return n!=null&&typeof n=="object"}var ZY="[object Arguments]";function gF(n){return kf(n)&&Nm(n)==ZY}var BU=Object.prototype,JY=BU.hasOwnProperty,QY=BU.propertyIsEnumerable,QS=gF(function(){return arguments}())?gF:function(n){return kf(n)&&JY.call(n,"callee")&&!QY.call(n,"callee")},jf=Array.isArray,eK=9007199254740991;function zU(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=eK}function wy(n){return n!=null&&zU(n.length)&&!QR(n)}function tK(n){return kf(n)&&wy(n)}function nK(){return!1}var HU=typeof exports=="object"&&exports&&!exports.nodeType&&exports,vF=HU&&typeof module=="object"&&module&&!module.nodeType&&module,rK=vF&&vF.exports===HU,yF=rK?Gl.Buffer:void 0,iK=yF?yF.isBuffer:void 0,k0=iK||nK,aK="[object Object]",oK=Function.prototype,sK=Object.prototype,kU=oK.toString,lK=sK.hasOwnProperty,cK=kU.call(Object);function uK(n){if(!kf(n)||Nm(n)!=aK)return!1;var e=UU(n);if(e===null)return!0;var t=lK.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&kU.call(t)==cK}var dK="[object Arguments]",fK="[object Array]",hK="[object Boolean]",pK="[object Date]",mK="[object Error]",gK="[object Function]",vK="[object Map]",yK="[object Number]",bK="[object Object]",xK="[object RegExp]",_K="[object Set]",SK="[object String]",CK="[object WeakMap]",wK="[object ArrayBuffer]",TK="[object DataView]",MK="[object Float32Array]",EK="[object Float64Array]",AK="[object Int8Array]",RK="[object Int16Array]",PK="[object Int32Array]",OK="[object Uint8Array]",FK="[object Uint8ClampedArray]",IK="[object Uint16Array]",DK="[object Uint32Array]",Lr={};Lr[MK]=Lr[EK]=Lr[AK]=Lr[RK]=Lr[PK]=Lr[OK]=Lr[FK]=Lr[IK]=Lr[DK]=!0;Lr[dK]=Lr[fK]=Lr[wK]=Lr[hK]=Lr[TK]=Lr[pK]=Lr[mK]=Lr[gK]=Lr[vK]=Lr[yK]=Lr[bK]=Lr[xK]=Lr[_K]=Lr[SK]=Lr[CK]=!1;function LK(n){return kf(n)&&zU(n.length)&&!!Lr[Nm(n)]}function NK(n){return function(e){return n(e)}}var jU=typeof exports=="object"&&exports&&!exports.nodeType&&exports,h0=jU&&typeof module=="object"&&module&&!module.nodeType&&module,UK=h0&&h0.exports===jU,SM=UK&&IU.process,bF=function(){try{var n=h0&&h0.require&&h0.require("util").types;return n||SM&&SM.binding&&SM.binding("util")}catch(e){}}(),xF=bF&&bF.isTypedArray,UC=xF?NK(xF):LK;function gA(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var BK=Object.prototype,zK=BK.hasOwnProperty;function HK(n,e,t){var r=n[e];(!(zK.call(n,e)&&Cy(r,t))||t===void 0&&!(e in n))&&eP(n,e,t)}function kK(n,e,t,r){var i=!t;t||(t={});for(var a=-1,o=e.length;++a<o;){var s=e[a],l=void 0;l===void 0&&(l=n[s]),i?eP(t,s,l):HK(t,s,l)}return t}function jK(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var $K=9007199254740991,VK=/^(?:0|[1-9]\d*)$/;function $U(n,e){var t=typeof n;return e=e==null?$K:e,!!e&&(t=="number"||t!="symbol"&&VK.test(n))&&n>-1&&n%1==0&&n<e}var GK=Object.prototype,WK=GK.hasOwnProperty;function VU(n,e){var t=jf(n),r=!t&&QS(n),i=!t&&!r&&k0(n),a=!t&&!r&&!i&&UC(n),o=t||r||i||a,s=o?jK(n.length,String):[],l=s.length;for(var c in n)(e||WK.call(n,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||$U(c,l)))&&s.push(c);return s}function qK(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var XK=Object.prototype,YK=XK.hasOwnProperty;function KK(n){if(!Zf(n))return qK(n);var e=NC(n),t=[];for(var r in n)r=="constructor"&&(e||!YK.call(n,r))||t.push(r);return t}function GU(n){return wy(n)?VU(n,!0):KK(n)}function ZK(n){return kK(n,GU(n))}function JK(n,e,t,r,i,a,o){var s=gA(n,t),l=gA(e,t),c=o.get(l);if(c){mA(n,t,c);return}var d=a?a(s,l,t+"",n,e,o):void 0,h=d===void 0;if(h){var m=jf(l),v=!m&&k0(l),g=!m&&!v&&UC(l);d=l,m||v||g?jf(s)?d=s:tK(s)?d=qY(s):v?(h=!1,d=VY(l)):g?(h=!1,d=WY(l)):d=[]:uK(l)||QS(l)?(d=s,QS(s)?d=ZK(s):(!Zf(s)||QR(s))&&(d=KY(l))):h=!1}h&&(o.set(l,d),i(d,l,r,a,o),o.delete(l)),mA(n,t,d)}function WU(n,e,t,r,i){n!==e&&jY(e,function(a,o){if(i||(i=new Vc),Zf(a))JK(n,e,o,t,WU,r,i);else{var s=r?r(gA(n,o),a,o+"",n,e,i):void 0;s===void 0&&(s=a),mA(n,o,s)}},GU)}function qU(n){return n}function QK(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var _F=Math.max;function eZ(n,e,t){return e=_F(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,a=_F(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=t(o),QK(n,this,s)}}function tZ(n){return function(){return n}}var nZ=ZS?function(n,e){return ZS(n,"toString",{configurable:!0,enumerable:!1,value:tZ(e),writable:!0})}:qU,rZ=800,iZ=16,aZ=Date.now;function oZ(n){var e=0,t=0;return function(){var r=aZ(),i=iZ-(r-t);if(t=r,i>0){if(++e>=rZ)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var sZ=oZ(nZ);function lZ(n,e){return sZ(eZ(n,e,qU),n+"")}function cZ(n,e,t){if(!Zf(t))return!1;var r=typeof e;return(r=="number"?wy(t)&&$U(e,t.length):r=="string"&&e in t)?Cy(t[e],n):!1}function uZ(n){return lZ(function(e,t){var r=-1,i=t.length,a=i>1?t[i-1]:void 0,o=i>2?t[2]:void 0;for(a=n.length>3&&typeof a=="function"?(i--,a):void 0,o&&cZ(t[0],t[1],o)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var s=t[r];s&&n(e,s,r,a)}return e})}var vA=uZ(function(n,e,t){WU(n,e,t)});function dZ(n){return Xt(n)!=="object"?!1:n===null?!0:!(Oe.isValidElement(n)||n.constructor===RegExp||n instanceof Map||n instanceof Set||n instanceof HTMLElement||n instanceof Blob||n instanceof File||Array.isArray(n))}var fZ=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Object.keys(t).reduce(function(s,l){var c=t[l];return $u(c)||(s[l]=c),s},{});if(Object.keys(i).length<1||typeof window=="undefined"||Xt(e)!=="object"||$u(e)||e instanceof Blob)return e;var a=Array.isArray(e)?[]:{},o=function s(l,c){var d=Array.isArray(l),h=d?[]:{};return l==null||l===void 0?h:(Object.keys(l).forEach(function(m){var v=function T(M,O){return Array.isArray(M)&&M.forEach(function(I,U){if(I){var F=O==null?void 0:O[U];typeof I=="function"&&(O[U]=I(O,m,l)),Xt(I)==="object"&&!Array.isArray(I)&&Object.keys(I).forEach(function(L){var D=F==null?void 0:F[L];if(typeof I[L]=="function"&&D){var z=I[L](F[L],m,l);F[L]=Xt(z)==="object"?z[L]:z}else Xt(I[L])==="object"&&Array.isArray(I[L])&&D&&T(I[L],D)}),Xt(I)==="object"&&Array.isArray(I)&&F&&T(I,F)}}),m},g=c?[c,m].flat(1):[m].flat(1),x=l[m],b=Mr(i,g),_=function(){var M,O,I=!1;if(typeof b=="function"){O=b==null?void 0:b(x,m,l);var U=Xt(O);U!=="object"&&U!=="undefined"?(M=m,I=!0):M=O}else M=v(b,x);if(Array.isArray(M)){h=Ur(h,M,x);return}Xt(M)==="object"&&!Array.isArray(a)?a=vA(a,M):Xt(M)==="object"&&Array.isArray(a)?h=R(R({},h),M):(M!==null||M!==void 0)&&(h=Ur(h,[M],I?O:x))};if(b&&typeof b=="function"&&_(),typeof window!="undefined"){if(dZ(x)){var C=s(x,g);if(Object.keys(C).length<1)return;h=Ur(h,[m],C);return}_()}}),r?h:l)};return a=Array.isArray(e)&&Array.isArray(a)?gr(o(e)):IC({},o(e),a),a},Qo=function(e){return e===void 0?{}:Ku(qc,"5.13.0")<=0?{bordered:e}:{variant:e?void 0:"borderless"}},hZ=["map_row_parentKey"],pZ=["map_row_parentKey","map_row_key"],mZ=["map_row_key"],CM=function(e){return($n.warn||$n.warning)(e)},ho=function(e){return Array.isArray(e)?e.join(","):e};function Qv(n,e){var t,r=n.getRowKey,i=n.row,a=n.data,o=n.childrenColumnName,s=o===void 0?"children":o,l=(t=ho(n.key))===null||t===void 0?void 0:t.toString(),c=new Map;function d(m,v,g){m.forEach(function(x,b){var _=(g||0)*10+b,C=r(x,_).toString();x&&Xt(x)==="object"&&s in x&&d(x[s]||[],C,_);var T=R(R({},x),{},{map_row_key:C,children:void 0,map_row_parentKey:v});delete T.children,v||delete T.map_row_parentKey,c.set(C,T)})}e==="top"&&c.set(l,R(R({},c.get(l)),i)),d(a),e==="update"&&c.set(l,R(R({},c.get(l)),i)),e==="delete"&&c.delete(l);var h=function(v){var g=new Map,x=[],b=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;v.forEach(function(T){if(T.map_row_parentKey&&!T.map_row_key){var M=T.map_row_parentKey,O=Dt(T,hZ);if(g.has(M)||g.set(M,[]),C){var I;(I=g.get(M))===null||I===void 0||I.push(O)}}})};return b(e==="top"),v.forEach(function(_){if(_.map_row_parentKey&&_.map_row_key){var C,T=_.map_row_parentKey,M=_.map_row_key,O=Dt(_,pZ);g.has(M)&&(O[s]=g.get(M)),g.has(T)||g.set(T,[]),(C=g.get(T))===null||C===void 0||C.push(O)}}),b(e==="update"),v.forEach(function(_){if(!_.map_row_parentKey){var C=_.map_row_key,T=Dt(_,mZ);if(C&&g.has(C)){var M=R(R({},T),{},ne({},s,g.get(C)));x.push(M);return}x.push(T)}}),x};return h(c)}function gZ(n,e){var t=n.recordKey,r=n.onSave,i=n.row,a=n.children,o=n.newLineConfig,s=n.editorType,l=n.tableName,c=P.useContext(_y),d=pn.useFormInstance(),h=xr(!1),m=at(h,2),v=m[0],g=m[1],x=zn(un(_t().mark(function b(){var _,C,T,M,O,I,U,F,L;return _t().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.prev=0,C=s==="Map",T=[l,Array.isArray(t)?t[0]:t].map(function($){return $==null?void 0:$.toString()}).flat(1).filter(Boolean),g(!0),z.next=6,d.validateFields(T,{recursive:!0});case 6:return M=(c==null||(_=c.getFieldFormatValue)===null||_===void 0?void 0:_.call(c,T))||d.getFieldValue(T),Array.isArray(t)&&t.length>1&&(O=tU(t),I=O.slice(1),U=Mr(M,I),Ur(M,I,U)),F=C?Ur({},T,M):M,z.next=11,r==null?void 0:r(t,IC({},i,F),i,o);case 11:return L=z.sent,g(!1),z.abrupt("return",L);case 16:throw z.prev=16,z.t0=z.catch(0),console.log(z.t0),g(!1),z.t0;case 21:case"end":return z.stop()}},b,null,[[0,16]])})));return P.useImperativeHandle(e,function(){return{save:x}},[x]),w.jsxs("a",{onClick:function(){var b=un(_t().mark(function _(C){return _t().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return C.stopPropagation(),C.preventDefault(),M.prev=2,M.next=5,x();case 5:M.next=9;break;case 7:M.prev=7,M.t0=M.catch(2);case 9:case"end":return M.stop()}},_,null,[[2,7]])}));return function(_){return b.apply(this,arguments)}}(),children:[v?w.jsx(dm,{style:{marginInlineEnd:8}}):null,a||"保存"]},"save")}var vZ=function(e){var t=e.recordKey,r=e.onDelete,i=e.preEditRowRef,a=e.row,o=e.children,s=e.deletePopconfirmMessage,l=xr(function(){return!1}),c=at(l,2),d=c[0],h=c[1],m=zn(un(_t().mark(function v(){var g;return _t().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.prev=0,h(!0),b.next=4,r==null?void 0:r(t,a);case 4:return g=b.sent,h(!1),b.abrupt("return",g);case 9:return b.prev=9,b.t0=b.catch(0),console.log(b.t0),h(!1),b.abrupt("return",null);case 14:return b.prev=14,i&&(i.current=null),b.finish(14);case 17:case"end":return b.stop()}},v,null,[[0,9,14,17]])})));return o!==!1?w.jsx(TV,{title:s,onConfirm:function(){return m()},children:w.jsxs("a",{children:[d?w.jsx(dm,{style:{marginInlineEnd:8}}):null,o||"删除"]})},"delete"):null},yZ=function(e){var t=e.recordKey,r=e.tableName,i=e.newLineConfig,a=e.editorType,o=e.onCancel,s=e.cancelEditable,l=e.row,c=e.cancelText,d=e.preEditRowRef,h=P.useContext(_y),m=pn.useFormInstance();return w.jsx("a",{onClick:function(){var v=un(_t().mark(function g(x){var b,_,C,T,M,O,I;return _t().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return x.stopPropagation(),x.preventDefault(),_=a==="Map",C=[r,t].flat(1).filter(Boolean),T=(h==null||(b=h.getFieldFormatValue)===null||b===void 0?void 0:b.call(h,C))||(m==null?void 0:m.getFieldValue(C)),M=_?Ur({},C,T):T,F.next=8,o==null?void 0:o(t,M,l,i);case 8:return O=F.sent,F.next=11,s(t);case 11:if((d==null?void 0:d.current)===null){F.next=15;break}m.setFieldsValue(Ur({},C,d==null?void 0:d.current)),F.next=17;break;case 15:return F.next=17,(I=e.onDelete)===null||I===void 0?void 0:I.call(e,t,l);case 17:return d&&(d.current=null),F.abrupt("return",O);case 19:case"end":return F.stop()}},g)}));return function(g){return v.apply(this,arguments)}}(),children:c||"取消"},"cancel")};function bZ(n,e){var t=e.recordKey,r=e.newLineConfig,i=e.saveText,a=e.deleteText,o=P.forwardRef(gZ),s=P.createRef();return{save:w.jsx(o,R(R({},e),{},{row:n,ref:s,children:i}),"save"+t),saveRef:s,delete:(r==null?void 0:r.options.recordKey)!==t?w.jsx(vZ,R(R({},e),{},{row:n,children:a}),"delete"+t):void 0,cancel:w.jsx(yZ,R(R({},e),{},{row:n}),"cancel"+t)}}function xZ(n){var e=On(),t=P.useRef(null),r=P.useState(void 0),i=at(r,2),a=i[0],o=i[1],s=function(){var ae=new Map,ie=function te(ee,xe){ee==null||ee.forEach(function(Ee,Se){var ze,Ue=xe==null?Se.toString():xe+"_"+Se.toString();ae.set(Ue,ho(n.getRowKey(Ee,-1))),ae.set((ze=ho(n.getRowKey(Ee,-1)))===null||ze===void 0?void 0:ze.toString(),Ue),n.childrenColumnName&&Ee!==null&&Ee!==void 0&&Ee[n.childrenColumnName]&&te(Ee[n.childrenColumnName],Ue)})};return ie(n.dataSource),ae},l=P.useMemo(function(){return s()},[]),c=P.useRef(l),d=P.useRef(void 0);PU(function(){c.current=s()},[n.dataSource]),d.current=a;var h=n.type||"single",m=wV(n.dataSource,"children",n.getRowKey),v=at(m,1),g=v[0],x=xr([],{value:n.editableKeys,onChange:n.onChange?function(se){var ae,ie,te;n==null||(ae=n.onChange)===null||ae===void 0||ae.call(n,(ie=se==null?void 0:se.filter(function(ee){return ee!==void 0}))!==null&&ie!==void 0?ie:[],(te=se==null?void 0:se.map(function(ee){return g(ee)}).filter(function(ee){return ee!==void 0}))!==null&&te!==void 0?te:[])}:void 0}),b=at(x,2),_=b[0],C=b[1],T=P.useMemo(function(){var se=h==="single"?_==null?void 0:_.slice(0,1):_;return new Set(se)},[(_||[]).join(","),h]),M=f0(_),O=zn(function(se){var ae,ie,te,ee,xe=(ae=n.getRowKey(se,se.index))===null||ae===void 0||(ie=ae.toString)===null||ie===void 0?void 0:ie.call(ae),Ee=(te=n.getRowKey(se,-1))===null||te===void 0||(ee=te.toString)===null||ee===void 0?void 0:ee.call(te),Se=_==null?void 0:_.map(function(re){return re==null?void 0:re.toString()}),ze=(M==null?void 0:M.map(function(re){return re==null?void 0:re.toString()}))||[],Ue=n.tableName&&!!(ze!=null&&ze.includes(Ee))||!!(ze!=null&&ze.includes(xe));return{recordKey:Ee,isEditable:n.tableName&&(Se==null?void 0:Se.includes(Ee))||(Se==null?void 0:Se.includes(xe)),preIsEditable:Ue}}),I=zn(function(se,ae){var ie,te;return T.size>0&&h==="single"&&n.onlyOneLineEditorAlertMessage!==!1?(CM(n.onlyOneLineEditorAlertMessage||e.getMessage("editableTable.onlyOneLineEditor","只能同时编辑一行")),!1):(T.add(se),C(Array.from(T)),t.current=(ie=ae!=null?ae:(te=n.dataSource)===null||te===void 0?void 0:te.find(function(ee,xe){return n.getRowKey(ee,xe)===se}))!==null&&ie!==void 0?ie:null,!0)}),U=zn(function(){var se=un(_t().mark(function ae(ie,te){var ee,xe;return _t().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(ee=ho(ie).toString(),xe=c.current.get(ee),!(!T.has(ee)&&xe&&(te==null||te)&&n.tableName)){Se.next=5;break}return U(xe,!1),Se.abrupt("return");case 5:return a&&a.options.recordKey===ie&&o(void 0),T.delete(ee),T.delete(ho(ie)),C(Array.from(T)),Se.abrupt("return",!0);case 10:case"end":return Se.stop()}},ae)}));return function(ae,ie){return se.apply(this,arguments)}}()),F=KR(un(_t().mark(function se(){var ae,ie,te,ee,xe=arguments;return _t().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:for(ie=xe.length,te=new Array(ie),ee=0;ee<ie;ee++)te[ee]=xe[ee];(ae=n.onValuesChange)===null||ae===void 0||ae.call.apply(ae,[n].concat(te));case 2:case"end":return Se.stop()}},se)})),64),L=zn(function(se,ae){var ie;if(n.onValuesChange){var te=n.dataSource;_==null||_.forEach(function(ze){if((a==null?void 0:a.options.recordKey)!==ze){var Ue=ze.toString(),re=Mr(ae,[n.tableName||"",Ue].flat(1).filter(function(Ce){return Ce||Ce===0}));re&&(te=Qv({data:te,getRowKey:n.getRowKey,row:re,key:Ue,childrenColumnName:n.childrenColumnName||"children"},"update"))}});var ee=se,xe=(ie=Object.keys(ee||{}).pop())===null||ie===void 0?void 0:ie.toString(),Ee=R(R({},a==null?void 0:a.defaultValue),Mr(ae,[n.tableName||"",xe.toString()].flat(1).filter(function(ze){return ze||ze===0}))),Se=c.current.has(ho(xe))?te.find(function(ze,Ue){var re,Ce=(re=n.getRowKey(ze,Ue))===null||re===void 0?void 0:re.toString();return Ce===xe}):Ee;F.run(Se||Ee,te)}}),D=P.useRef(new Map);P.useEffect(function(){D.current.forEach(function(se,ae){T.has(ae)||D.current.delete(ae)})},[D,T]);var z=zn(function(){var se=un(_t().mark(function ae(ie,te){var ee,xe,Ee,Se;return _t().wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:if(ee=ho(ie),xe=c.current.get(ie.toString()),!(!T.has(ee)&&xe&&(te==null||te)&&n.tableName)){Ue.next=6;break}return Ue.next=5,z(xe,!1);case 5:return Ue.abrupt("return",Ue.sent);case 6:return Ee=D.current.get(ee)||D.current.get(ee.toString()),Ue.prev=7,Ue.next=10,Ee==null||(Se=Ee.current)===null||Se===void 0?void 0:Se.save();case 10:Ue.next=15;break;case 12:return Ue.prev=12,Ue.t0=Ue.catch(7),Ue.abrupt("return",!1);case 15:return T.delete(ee),T.delete(ee.toString()),C(Array.from(T)),Ue.abrupt("return",!0);case 19:case"end":return Ue.stop()}},ae,null,[[7,12]])}));return function(ae,ie){return se.apply(this,arguments)}}()),$=zn(function(se,ae){if(ae!=null&&ae.parentKey&&!c.current.has(ho(ae==null?void 0:ae.parentKey).toString()))return console.warn("can't find record by key",ae==null?void 0:ae.parentKey),!1;if(d.current&&n.onlyAddOneLineAlertMessage!==!1)return CM(n.onlyAddOneLineAlertMessage||e.getMessage("editableTable.onlyAddOneLine","只能新增一行")),!1;if(T.size>0&&h==="single"&&n.onlyOneLineEditorAlertMessage!==!1)return CM(n.onlyOneLineEditorAlertMessage||e.getMessage("editableTable.onlyOneLineEditor","只能同时编辑一行")),!1;var ie=n.getRowKey(se,-1);if(!ie&&ie!==0)throw ma(!!ie,`请设置 recordCreatorProps.record 并返回一个唯一的key  
  https://procomponents.ant.design/components/editable-table#editable-%E6%96%B0%E5%BB%BA%E8%A1%8C`),new Error("请设置 recordCreatorProps.record 并返回一个唯一的key");if(T.add(ie),C(Array.from(T)),(ae==null?void 0:ae.newRecordType)==="dataSource"||n.tableName){var te,ee={data:n.dataSource,getRowKey:n.getRowKey,row:R(R({},se),{},{map_row_parentKey:ae!=null&&ae.parentKey?(te=ho(ae==null?void 0:ae.parentKey))===null||te===void 0?void 0:te.toString():void 0}),key:ie,childrenColumnName:n.childrenColumnName||"children"};n.setDataSource(Qv(ee,(ae==null?void 0:ae.position)==="top"?"top":"update"))}else o({defaultValue:se,options:R(R({},ae),{},{recordKey:ie})});return!0}),Y=(n==null?void 0:n.saveText)||e.getMessage("editableTable.action.save","保存"),j=(n==null?void 0:n.deleteText)||e.getMessage("editableTable.action.delete","删除"),V=(n==null?void 0:n.cancelText)||e.getMessage("editableTable.action.cancel","取消"),B=zn(function(){var se=un(_t().mark(function ae(ie,te,ee,xe){var Ee,Se,ze,Ue,re,Ce,Fe;return _t().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return fe.next=2,n==null||(Ee=n.onSave)===null||Ee===void 0?void 0:Ee.call(n,ie,te,ee,xe);case 2:return Ue=fe.sent,fe.next=5,U(ie);case 5:if(re=xe||d.current||{},Ce=re.options,!(!(Ce!=null&&Ce.parentKey)&&(Ce==null?void 0:Ce.recordKey)===ie)){fe.next=9;break}return(Ce==null?void 0:Ce.position)==="top"?n.setDataSource([te].concat(gr(n.dataSource))):n.setDataSource([].concat(gr(n.dataSource),[te])),fe.abrupt("return",Ue);case 9:return Fe={data:n.dataSource,getRowKey:n.getRowKey,row:Ce?R(R({},te),{},{map_row_parentKey:(Se=ho((ze=Ce==null?void 0:Ce.parentKey)!==null&&ze!==void 0?ze:""))===null||Se===void 0?void 0:Se.toString()}):te,key:ie,childrenColumnName:n.childrenColumnName||"children"},n.setDataSource(Qv(Fe,(Ce==null?void 0:Ce.position)==="top"?"top":"update")),fe.next=13,U(ie);case 13:return fe.abrupt("return",Ue);case 14:case"end":return fe.stop()}},ae)}));return function(ae,ie,te,ee){return se.apply(this,arguments)}}()),G=zn(function(){var se=un(_t().mark(function ae(ie,te){var ee,xe,Ee;return _t().wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return xe={data:n.dataSource,getRowKey:n.getRowKey,row:te,key:ie,childrenColumnName:n.childrenColumnName||"children"},ze.next=3,n==null||(ee=n.onDelete)===null||ee===void 0?void 0:ee.call(n,ie,te);case 3:return Ee=ze.sent,ze.next=6,U(ie,!1);case 6:return n.setDataSource(Qv(xe,"delete")),ze.abrupt("return",Ee);case 8:case"end":return ze.stop()}},ae)}));return function(ae,ie){return se.apply(this,arguments)}}()),W=zn(function(){var se=un(_t().mark(function ae(ie,te,ee,xe){var Ee,Se;return _t().wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:return Ue.next=2,n==null||(Ee=n.onCancel)===null||Ee===void 0?void 0:Ee.call(n,ie,te,ee,xe);case 2:return Se=Ue.sent,Ue.abrupt("return",Se);case 4:case"end":return Ue.stop()}},ae)}));return function(ae,ie,te,ee){return se.apply(this,arguments)}}()),Z=n.actionRender&&typeof n.actionRender=="function",J=Z?n.actionRender:function(){},Q=zn(J),ue=function(ae){var ie=n.getRowKey(ae,ae.index),te={saveText:Y,cancelText:V,deleteText:j,addEditRecord:$,recordKey:ie,cancelEditable:U,index:ae.index,tableName:n.tableName,newLineConfig:a,onCancel:W,onDelete:G,onSave:B,editableKeys:_,setEditableRowKeys:C,preEditRowRef:t,deletePopconfirmMessage:n.deletePopconfirmMessage||"".concat(e.getMessage("deleteThisLine","删除此项"),"?")},ee=bZ(ae,te);return n.tableName?D.current.set(c.current.get(ho(ie))||ho(ie),ee.saveRef):D.current.set(ho(ie),ee.saveRef),Z?Q(ae,te,{save:ee.save,delete:ee.delete,cancel:ee.cancel}):[ee.save,ee.delete,ee.cancel]};return{editableKeys:_,setEditableRowKeys:C,isEditable:O,actionRender:ue,startEditable:I,cancelEditable:U,addEditRecord:$,saveEditable:z,newLineRecord:a,preEditableKeys:M,onValuesChange:L,getRealIndex:n.getRealIndex}}var _Z=function(e){var t=e.componentCls,r=e.antCls;return ne({},"".concat(t,"-actions"),ne(ne({marginBlock:0,marginInline:0,paddingBlock:0,paddingInline:0,listStyle:"none",display:"flex",gap:e.marginXS,background:e.colorBgContainer,borderBlockStart:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorSplit),minHeight:42},"& > *",{alignItems:"center",justifyContent:"center",flex:1,display:"flex",cursor:"pointer",color:e.colorTextSecondary,transition:"color 0.3s","&:hover":{color:e.colorPrimaryHover}}),"& > li > div",{flex:1,width:"100%",marginBlock:e.marginSM,marginInline:0,color:e.colorTextSecondary,textAlign:"center",a:{color:e.colorTextSecondary,transition:"color 0.3s","&:hover":{color:e.colorPrimaryHover}},div:ne(ne({position:"relative",display:"block",minWidth:32,fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer","&:hover":{color:e.colorPrimaryHover,transition:"color 0.3s"}},"a:not(".concat(r,`-btn),
            > .anticon`),{display:"inline-block",width:"100%",color:e.colorTextSecondary,lineHeight:"22px",transition:"color 0.3s","&:hover":{color:e.colorPrimaryHover}}),".anticon",{fontSize:e.cardActionIconSize,lineHeight:"22px"}),"&:not(:last-child)":{borderInlineEnd:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorSplit)}}))};function SZ(n){return Yn("ProCardActions",function(e){var t=R(R({},e),{},{componentCls:".".concat(n),cardActionIconSize:16});return[_Z(t)]})}var CZ=function(e){var t=e.actions,r=e.prefixCls,i=SZ(r),a=i.wrapSSR,o=i.hashId;return Array.isArray(t)&&t!==null&&t!==void 0&&t.length?a(w.jsx("ul",{className:Ut("".concat(r,"-actions"),o),children:t.map(function(s,l){return w.jsx("li",{style:{width:"".concat(100/t.length,"%"),padding:0,margin:0},className:Ut("".concat(r,"-actions-item"),o),children:s},"action-".concat(l))})})):a(w.jsx("ul",{className:Ut("".concat(r,"-actions"),o),children:t}))};function Br(n,e){var t=Object.assign({},n);return Array.isArray(e)&&e.forEach(function(r){delete t[r]}),t}var wZ=new F3("card-loading",{"0%":{backgroundPosition:"0 50%"},"50%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),TZ=function(e){return ne({},e.componentCls,ne(ne({"&-loading":{overflow:"hidden"},"&-loading &-body":{userSelect:"none"}},"".concat(e.componentCls,"-loading-content"),{width:"100%",p:{marginBlock:0,marginInline:0}}),"".concat(e.componentCls,"-loading-block"),{height:"14px",marginBlock:"4px",background:"linear-gradient(90deg, rgba(54, 61, 64, 0.2), rgba(54, 61, 64, 0.4), rgba(54, 61, 64, 0.2))",backgroundSize:"600% 600%",borderRadius:e.borderRadius,animationName:wZ,animationDuration:"1.4s",animationTimingFunction:"ease",animationIterationCount:"infinite"}))};function MZ(n){return Yn("ProCardLoading",function(e){var t=R(R({},e),{},{componentCls:".".concat(n)});return[TZ(t)]})}var EZ=function(e){var t=e.style,r=e.prefix,i=MZ(r||"ant-pro-card"),a=i.wrapSSR;return a(w.jsxs("div",{className:"".concat(r,"-loading-content"),style:t,children:[w.jsx(zi,{gutter:8,children:w.jsx(hn,{span:22,children:w.jsx("div",{className:"".concat(r,"-loading-block")})})}),w.jsxs(zi,{gutter:8,children:[w.jsx(hn,{span:8,children:w.jsx("div",{className:"".concat(r,"-loading-block")})}),w.jsx(hn,{span:15,children:w.jsx("div",{className:"".concat(r,"-loading-block")})})]}),w.jsxs(zi,{gutter:8,children:[w.jsx(hn,{span:6,children:w.jsx("div",{className:"".concat(r,"-loading-block")})}),w.jsx(hn,{span:18,children:w.jsx("div",{className:"".concat(r,"-loading-block")})})]}),w.jsxs(zi,{gutter:8,children:[w.jsx(hn,{span:13,children:w.jsx("div",{className:"".concat(r,"-loading-block")})}),w.jsx(hn,{span:9,children:w.jsx("div",{className:"".concat(r,"-loading-block")})})]}),w.jsxs(zi,{gutter:8,children:[w.jsx(hn,{span:4,children:w.jsx("div",{className:"".concat(r,"-loading-block")})}),w.jsx(hn,{span:3,children:w.jsx("div",{className:"".concat(r,"-loading-block")})}),w.jsx(hn,{span:16,children:w.jsx("div",{className:"".concat(r,"-loading-block")})})]})]}))};function Yc(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[];return Oe.Children.forEach(n,function(r){r==null&&!e.keepEmpty||(Array.isArray(r)?t=t.concat(Yc(r)):Q3(r)&&r.props?t=t.concat(Yc(r.props.children,e)):t.push(r))}),t}var AZ=["tab","children"],RZ=["key","tab","tabKey","disabled","destroyInactiveTabPane","children","className","style","cardProps"];function PZ(n){return n.filter(function(e){return e})}function OZ(n,e,t){if(n)return n.map(function(i){return R(R({},i),{},{children:w.jsx(j0,R(R({},t==null?void 0:t.cardProps),{},{children:i.children}))})});ma(!t,"Tabs.TabPane is deprecated. Please use `items` directly.");var r=Yc(e).map(function(i){if(Oe.isValidElement(i)){var a=i.key,o=i.props,s=o||{},l=s.tab,c=s.children,d=Dt(s,AZ),h=R(R({key:String(a)},d),{},{children:w.jsx(j0,R(R({},t==null?void 0:t.cardProps),{},{children:c})),label:l});return h}return null});return PZ(r)}var FZ=function(e){var t=P.useContext(Lt.ConfigContext),r=t.getPrefixCls;if(qc.startsWith("5"))return w.jsx(w.Fragment,{});var i=e.key,a=e.tab,o=e.tabKey,s=e.disabled,l=e.destroyInactiveTabPane,c=e.children,d=e.className,h=e.style,m=e.cardProps,v=Dt(e,RZ),g=r("pro-card-tabpane"),x=Ut(g,d);return w.jsx(ku.TabPane,R(R({tabKey:o,tab:a,className:x,style:h,disabled:s,destroyInactiveTabPane:l},v),{},{children:w.jsx(j0,R(R({},m),{},{children:c}))}),i)},SF=function(e){return{backgroundColor:e.controlItemBgActive,borderColor:e.controlOutline}},IZ=function(e){var t=e.componentCls;return ne(ne(ne({},t,R(R({position:"relative",display:"flex",flexDirection:"column",boxSizing:"border-box",width:"100%",marginBlock:0,marginInline:0,paddingBlock:0,paddingInline:0,backgroundColor:e.colorBgContainer,borderRadius:e.borderRadius,transition:"all 0.3s"},am==null?void 0:am(e)),{},ne(ne(ne(ne(ne(ne(ne(ne(ne(ne({"&-box-shadow":{boxShadow:"0 1px 2px -2px #00000029, 0 3px 6px #0000001f, 0 5px 12px 4px #00000017",borderColor:"transparent"},"&-col":{width:"100%"},"&-border":{border:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorSplit)},"&-hoverable":ne({cursor:"pointer",transition:"box-shadow 0.3s, border-color 0.3s","&:hover":{borderColor:"transparent",boxShadow:"0 1px 2px -2px #00000029, 0 3px 6px #0000001f, 0 5px 12px 4px #00000017"}},"&".concat(t,"-checked:hover"),{borderColor:e.controlOutline}),"&-checked":R(R({},SF(e)),{},{"&::after":{visibility:"visible",position:"absolute",insetBlockStart:2,insetInlineEnd:2,opacity:1,width:0,height:0,border:"6px solid ".concat(e.colorPrimary),borderBlockEnd:"6px solid transparent",borderInlineStart:"6px solid transparent",borderStartEndRadius:2,content:'""'}}),"&:focus":R({},SF(e)),"&&-ghost":ne({backgroundColor:"transparent"},"> ".concat(t),{"&-header":{paddingInlineEnd:0,paddingBlockEnd:e.padding,paddingInlineStart:0},"&-body":{paddingBlock:0,paddingInline:0,backgroundColor:"transparent"}}),"&&-split > &-body":{paddingBlock:0,paddingInline:0},"&&-contain-card > &-body":{display:"flex"}},"".concat(t,"-body-direction-column"),{flexDirection:"column"}),"".concat(t,"-body-wrap"),{flexWrap:"wrap"}),"&&-collapse",ne({},"> ".concat(t),{"&-header":{paddingBlockEnd:e.padding,borderBlockEnd:0},"&-body":{display:"none"}})),"".concat(t,"-header"),{display:"flex",alignItems:"center",justifyContent:"space-between",paddingInline:e.paddingLG,paddingBlock:e.padding,paddingBlockEnd:0,"&-border":{"&":{paddingBlockEnd:e.padding},borderBlockEnd:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorSplit)},"&-collapsible":{cursor:"pointer"}}),"".concat(t,"-title"),{color:e.colorText,fontWeight:500,fontSize:e.fontSizeLG,lineHeight:e.lineHeight}),"".concat(t,"-extra"),{color:e.colorText}),"".concat(t,"-type-inner"),ne({},"".concat(t,"-header"),{backgroundColor:e.colorFillAlter})),"".concat(t,"-collapsible-icon"),{marginInlineEnd:e.marginXS,color:e.colorIconHover,":hover":{color:e.colorPrimaryHover},"& svg":{transition:"transform ".concat(e.motionDurationMid)}}),"".concat(t,"-body"),{display:"block",boxSizing:"border-box",height:"100%",paddingInline:e.paddingLG,paddingBlock:e.padding,"&-center":{display:"flex",alignItems:"center",justifyContent:"center"}}),"&&-size-small",ne(ne({},t,{"&-header":{paddingInline:e.paddingSM,paddingBlock:e.paddingXS,paddingBlockEnd:0,"&-border":{paddingBlockEnd:e.paddingXS}},"&-title":{fontSize:e.fontSize},"&-body":{paddingInline:e.paddingSM,paddingBlock:e.paddingSM}}),"".concat(t,"-header").concat(t,"-header-collapsible"),{paddingBlock:e.paddingXS})))),"".concat(t,"-col"),ne(ne({},"&".concat(t,"-split-vertical"),{borderInlineEnd:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorSplit)}),"&".concat(t,"-split-horizontal"),{borderBlockEnd:"".concat(e.lineWidth,"px ").concat(e.lineType," ").concat(e.colorSplit)})),"".concat(t,"-tabs"),ne(ne(ne(ne(ne(ne({},"".concat(e.antCls,"-tabs-top > ").concat(e.antCls,"-tabs-nav"),ne({marginBlockEnd:0},"".concat(e.antCls,"-tabs-nav-list"),{marginBlockStart:e.marginXS,paddingInlineStart:e.padding})),"".concat(e.antCls,"-tabs-bottom > ").concat(e.antCls,"-tabs-nav"),ne({marginBlockEnd:0},"".concat(e.antCls,"-tabs-nav-list"),{paddingInlineStart:e.padding})),"".concat(e.antCls,"-tabs-left"),ne({},"".concat(e.antCls,"-tabs-content-holder"),ne({},"".concat(e.antCls,"-tabs-content"),ne({},"".concat(e.antCls,"-tabs-tabpane"),{paddingInlineStart:0})))),"".concat(e.antCls,"-tabs-left > ").concat(e.antCls,"-tabs-nav"),ne({marginInlineEnd:0},"".concat(e.antCls,"-tabs-nav-list"),{paddingBlockStart:e.padding})),"".concat(e.antCls,"-tabs-right"),ne({},"".concat(e.antCls,"-tabs-content-holder"),ne({},"".concat(e.antCls,"-tabs-content"),ne({},"".concat(e.antCls,"-tabs-tabpane"),{paddingInlineStart:0})))),"".concat(e.antCls,"-tabs-right > ").concat(e.antCls,"-tabs-nav"),ne({},"".concat(e.antCls,"-tabs-nav-list"),{paddingBlockStart:e.padding})))},XU=24,DZ=function(e,t){var r=t.componentCls;return e===0?ne({},"".concat(r,"-col-0"),{display:"none"}):ne({},"".concat(r,"-col-").concat(e),{flexShrink:0,width:"".concat(e/XU*100,"%")})},LZ=function(e){return Array(XU+1).fill(1).map(function(t,r){return DZ(r,e)})};function NZ(n){return Yn("ProCard",function(e){var t=R(R({},e),{},{componentCls:".".concat(n)});return[IZ(t),LZ(t)]})}var UZ=["className","style","bodyStyle","headStyle","title","subTitle","extra","wrap","layout","loading","gutter","tooltip","split","headerBordered","bordered","boxShadow","children","size","actions","ghost","hoverable","direction","collapsed","collapsible","collapsibleIconRender","colStyle","defaultCollapsed","onCollapse","checked","onChecked","tabs","type"],j0=Oe.forwardRef(function(n,e){var t,r=n.className,i=n.style,a=n.bodyStyle,o=n.headStyle,s=n.title,l=n.subTitle,c=n.extra,d=n.wrap,h=d===void 0?!1:d,m=n.layout,v=n.loading,g=n.gutter,x=g===void 0?0:g,b=n.tooltip,_=n.split,C=n.headerBordered,T=C===void 0?!1:C,M=n.bordered,O=M===void 0?!1:M,I=n.boxShadow,U=I===void 0?!1:I,F=n.children,L=n.size,D=n.actions,z=n.ghost,$=z===void 0?!1:z,Y=n.hoverable,j=Y===void 0?!1:Y,V=n.direction,B=n.collapsed,G=n.collapsible,W=G===void 0?!1:G,Z=n.collapsibleIconRender,J=n.colStyle,Q=n.defaultCollapsed,ue=Q===void 0?!1:Q,se=n.onCollapse,ae=n.checked,ie=n.onChecked,te=n.tabs,ee=n.type,xe=Dt(n,UZ),Ee=P.useContext(Lt.ConfigContext),Se=Ee.getPrefixCls,ze=MV()||{lg:!0,md:!0,sm:!0,xl:!1,xs:!1,xxl:!1},Ue=xr(ue,{value:B,onChange:se}),re=at(Ue,2),Ce=re[0],Fe=re[1],ge=["xxl","xl","lg","md","sm","xs"],fe=OZ(te==null?void 0:te.items,F,te),ve=function($e){var me=[0,0],Xe=Array.isArray($e)?$e:[$e,0];return Xe.forEach(function(tt,ct){if(Xt(tt)==="object")for(var nt=0;nt<ge.length;nt+=1){var Qe=ge[nt];if(ze[Qe]&&tt[Qe]!==void 0){me[ct]=tt[Qe];break}}else me[ct]=tt||0}),me},be=function($e,me){return $e?me:{}},we=function($e){var me=$e;if(Xt($e)==="object")for(var Xe=0;Xe<ge.length;Xe+=1){var tt=ge[Xe];if(ze!=null&&ze[tt]&&($e==null?void 0:$e[tt])!==void 0){me=$e[tt];break}}var ct=be(typeof me=="string"&&/\d%|\dpx/i.test(me),{width:me,flexShrink:0});return{span:me,colSpanStyle:ct}},Ie=Se("pro-card"),Ae=NZ(Ie),X=Ae.wrapSSR,q=Ae.hashId,ye=ve(x),Re=at(ye,2),Ge=Re[0],Le=Re[1],ht=!1,et=Oe.Children.toArray(F),xt=et.map(function(Te,$e){var me;if(Te!=null&&(me=Te.type)!==null&&me!==void 0&&me.isProCard){ht=!0;var Xe=Te.props.colSpan,tt=we(Xe),ct=tt.span,nt=tt.colSpanStyle,Qe=Ut(["".concat(Ie,"-col")],q,ne(ne(ne({},"".concat(Ie,"-split-vertical"),_==="vertical"&&$e!==et.length-1),"".concat(Ie,"-split-horizontal"),_==="horizontal"&&$e!==et.length-1),"".concat(Ie,"-col-").concat(ct),typeof ct=="number"&&ct>=0&&ct<=24)),pt=X(w.jsx("div",{style:R(R(R(R({},nt),be(Ge>0,{paddingInlineEnd:Ge/2,paddingInlineStart:Ge/2})),be(Le>0,{paddingBlockStart:Le/2,paddingBlockEnd:Le/2})),J),className:Qe,children:Oe.cloneElement(Te)}));return Oe.cloneElement(pt,{key:"pro-card-col-".concat((Te==null?void 0:Te.key)||$e)})}return Te}),St=Ut("".concat(Ie),r,q,(t={},ne(ne(ne(ne(ne(ne(ne(ne(ne(ne(t,"".concat(Ie,"-border"),O),"".concat(Ie,"-box-shadow"),U),"".concat(Ie,"-contain-card"),ht),"".concat(Ie,"-loading"),v),"".concat(Ie,"-split"),_==="vertical"||_==="horizontal"),"".concat(Ie,"-ghost"),$),"".concat(Ie,"-hoverable"),j),"".concat(Ie,"-size-").concat(L),L),"".concat(Ie,"-type-").concat(ee),ee),"".concat(Ie,"-collapse"),Ce),ne(t,"".concat(Ie,"-checked"),ae))),st=Ut("".concat(Ie,"-body"),q,ne(ne(ne({},"".concat(Ie,"-body-center"),m==="center"),"".concat(Ie,"-body-direction-column"),_==="horizontal"||V==="column"),"".concat(Ie,"-body-wrap"),h&&ht)),dt=a,Ft=Oe.isValidElement(v)?v:w.jsx(EZ,{prefix:Ie,style:(a==null?void 0:a.padding)===0||(a==null?void 0:a.padding)==="0px"?{padding:24}:void 0}),pe=W&&B===void 0&&(Z?Z({collapsed:Ce}):w.jsx(XR,{onClick:function(){W==="icon"&&Fe(!Ce)},rotate:Ce?void 0:90,className:"".concat(Ie,"-collapsible-icon ").concat(q).trim()}));return X(w.jsxs("div",R(R({className:St,style:i,ref:e,onClick:function($e){var me;ie==null||ie($e),xe==null||(me=xe.onClick)===null||me===void 0||me.call(xe,$e)}},Br(xe,["prefixCls","colSpan"])),{},{children:[(s||c||pe)&&w.jsxs("div",{className:Ut("".concat(Ie,"-header"),q,ne(ne({},"".concat(Ie,"-header-border"),T||ee==="inner"),"".concat(Ie,"-header-collapsible"),pe)),style:o,onClick:function(){(W==="header"||W===!0)&&Fe(!Ce)},children:[w.jsxs("div",{className:"".concat(Ie,"-title ").concat(q).trim(),children:[pe,w.jsx(zf,{label:s,tooltip:b,subTitle:l})]}),c&&w.jsx("div",{className:"".concat(Ie,"-extra ").concat(q).trim(),onClick:function($e){return $e.stopPropagation()},children:c})]}),te?w.jsx("div",{className:"".concat(Ie,"-tabs ").concat(q).trim(),children:w.jsx(ku,R(R({onChange:te.onChange},Br(te,["cardProps"])),{},{items:fe,children:v?Ft:F}))}):w.jsx("div",{className:st,style:dt,children:v?Ft:xt}),D?w.jsx(CZ,{actions:D,prefixCls:Ie}):null]})))}),BZ=function(e){var t=e.componentCls;return ne({},t,{"&-divider":{flex:"none",width:e.lineWidth,marginInline:e.marginXS,marginBlock:e.marginLG,backgroundColor:e.colorSplit,"&-horizontal":{width:"initial",height:e.lineWidth,marginInline:e.marginLG,marginBlock:e.marginXS}},"&&-size-small &-divider":{marginBlock:e.marginLG,marginInline:e.marginXS,"&-horizontal":{marginBlock:e.marginXS,marginInline:e.marginLG}}})};function zZ(n){return Yn("ProCardDivider",function(e){var t=R(R({},e),{},{componentCls:".".concat(n)});return[BZ(t)]})}var HZ=function(e){var t=P.useContext(Lt.ConfigContext),r=t.getPrefixCls,i=r("pro-card"),a="".concat(i,"-divider"),o=zZ(i),s=o.wrapSSR,l=o.hashId,c=e.className,d=e.style,h=d===void 0?{}:d,m=e.type,v=Ut(a,c,l,ne({},"".concat(a,"-").concat(m),m));return s(w.jsx("div",{className:v,style:h}))},kZ=function(e){return w.jsx(j0,R({bodyStyle:{padding:0}},e))},Ty=j0;Ty.isProCard=!0;Ty.Divider=HZ;Ty.TabPane=FZ;Ty.Group=kZ;var p0=function(){return p0=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},p0.apply(this,arguments)};function jZ(n){var e,t=(typeof window!="undefined"?window:{}).URL,r=new t((e=window==null?void 0:window.location)===null||e===void 0?void 0:e.href);return Object.keys(n).forEach(function(i){var a=n[i];a!=null?Array.isArray(a)?(r.searchParams.delete(i),a.forEach(function(o){r.searchParams.append(i,o)})):a instanceof Date?Number.isNaN(a.getTime())||r.searchParams.set(i,a.toISOString()):typeof a=="object"?r.searchParams.set(i,JSON.stringify(a)):r.searchParams.set(i,a):r.searchParams.delete(i)}),r}function $Z(n,e){var t;n===void 0&&(n={}),e===void 0&&(e={disabled:!1});var r=P.useState(),i=r[1],a=typeof window!="undefined"&&((t=window==null?void 0:window.location)===null||t===void 0?void 0:t.search),o=P.useMemo(function(){return e.disabled?{}:new URLSearchParams(a||{})},[e.disabled,a]),s=P.useMemo(function(){if(e.disabled)return{};if(typeof window=="undefined"||!window.URL)return{};var d=[];o.forEach(function(m,v){d.push({key:v,value:m})}),d=d.reduce(function(m,v){return(m[v.key]=m[v.key]||[]).push(v),m},{}),d=Object.keys(d).map(function(m){var v=d[m];return v.length===1?[m,v[0].value]:[m,v.map(function(g){var x=g.value;return x})]});var h=p0({},n);return d.forEach(function(m){var v=m[0],g=m[1];h[v]=GZ(v,g,{},n)}),h},[e.disabled,n,o]);function l(d){if(!(typeof window=="undefined"||!window.URL)){var h=jZ(d);window.location.search!==h.search&&window.history.replaceState({},"",h.toString()),o.toString()!==h.searchParams.toString()&&i({})}}P.useEffect(function(){e.disabled||typeof window=="undefined"||!window.URL||l(p0(p0({},n),s))},[e.disabled,s]);var c=function(d){l(d)};return P.useEffect(function(){if(e.disabled)return function(){};if(typeof window=="undefined"||!window.URL)return function(){};var d=function(){i({})};return window.addEventListener("popstate",d),function(){window.removeEventListener("popstate",d)}},[e.disabled]),[s,c]}var VZ={true:!0,false:!1};function GZ(n,e,t,r){if(!t)return e;var i=t[n],a=e===void 0?r[n]:e;return i===Number?Number(a):i===Boolean||e==="true"||e==="false"?VZ[a]:Array.isArray(i)?i.find(function(o){return o==a})||r[n]:a}var Um=Oe.createContext({});function e1(){return e1=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},e1.apply(null,arguments)}function WZ(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function tP(n,e){if(n==null)return{};var t,r,i=WZ(n,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(r=0;r<a.length;r++)t=a[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function YU(n,e){this.v=n,this.k=e}function Ca(n,e,t,r){var i=Object.defineProperty;try{i({},"",{})}catch(a){i=0}Ca=function(o,s,l,c){function d(h,m){Ca(o,h,function(v){return this._invoke(h,m,v)})}s?i?i(o,s,{value:l,enumerable:!c,configurable:!c,writable:!c}):o[s]=l:(d("next",0),d("throw",1),d("return",2))},Ca(n,e,t,r)}function nP(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var n,e,t=typeof Symbol=="function"?Symbol:{},r=t.iterator||"@@iterator",i=t.toStringTag||"@@toStringTag";function a(v,g,x,b){var _=g&&g.prototype instanceof s?g:s,C=Object.create(_.prototype);return Ca(C,"_invoke",function(T,M,O){var I,U,F,L=0,D=O||[],z=!1,$={p:0,n:0,v:n,a:Y,f:Y.bind(n,4),d:function(V,B){return I=V,U=0,F=n,$.n=B,o}};function Y(j,V){for(U=j,F=V,e=0;!z&&L&&!B&&e<D.length;e++){var B,G=D[e],W=$.p,Z=G[2];j>3?(B=Z===V)&&(F=G[(U=G[4])?5:(U=3,3)],G[4]=G[5]=n):G[0]<=W&&((B=j<2&&W<G[1])?(U=0,$.v=V,$.n=G[1]):W<Z&&(B=j<3||G[0]>V||V>Z)&&(G[4]=j,G[5]=V,$.n=Z,U=0))}if(B||j>1)return o;throw z=!0,V}return function(j,V,B){if(L>1)throw TypeError("Generator is already running");for(z&&V===1&&Y(V,B),U=V,F=B;(e=U<2?n:F)||!z;){I||(U?U<3?(U>1&&($.n=-1),Y(U,F)):$.n=F:$.v=F);try{if(L=2,I){if(U||(j="next"),e=I[j]){if(!(e=e.call(I,F)))throw TypeError("iterator result is not an object");if(!e.done)return e;F=e.value,U<2&&(U=0)}else U===1&&(e=I.return)&&e.call(I),U<2&&(F=TypeError("The iterator does not provide a '"+j+"' method"),U=1);I=n}else if((e=(z=$.n<0)?F:T.call(M,$))!==o)break}catch(G){I=n,U=1,F=G}finally{L=1}}return{value:e,done:z}}}(v,x,b),!0),C}var o={};function s(){}function l(){}function c(){}e=Object.getPrototypeOf;var d=[][r]?e(e([][r]())):(Ca(e={},r,function(){return this}),e),h=c.prototype=s.prototype=Object.create(d);function m(v){return Object.setPrototypeOf?Object.setPrototypeOf(v,c):(v.__proto__=c,Ca(v,i,"GeneratorFunction")),v.prototype=Object.create(h),v}return l.prototype=c,Ca(h,"constructor",c),Ca(c,"constructor",l),l.displayName="GeneratorFunction",Ca(c,i,"GeneratorFunction"),Ca(h),Ca(h,i,"Generator"),Ca(h,r,function(){return this}),Ca(h,"toString",function(){return"[object Generator]"}),(nP=function(){return{w:a,m}})()}function t1(n,e){function t(i,a,o,s){try{var l=n[i](a),c=l.value;return c instanceof YU?e.resolve(c.v).then(function(d){t("next",d,o,s)},function(d){t("throw",d,o,s)}):e.resolve(c).then(function(d){l.value=d,o(l)},function(d){return t("throw",d,o,s)})}catch(d){s(d)}}var r;this.next||(Ca(t1.prototype),Ca(t1.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),Ca(this,"_invoke",function(i,a,o){function s(){return new e(function(l,c){t(i,o,l,c)})}return r=r?r.then(s,s):s()},!0)}function KU(n,e,t,r,i){return new t1(nP().w(n,e,t,r),i||Promise)}function qZ(n,e,t,r,i){var a=KU(n,e,t,r,i);return a.next().then(function(o){return o.done?o.value:a.next()})}function XZ(n){var e=Object(n),t=[];for(var r in e)t.unshift(r);return function i(){for(;t.length;)if((r=t.pop())in e)return i.value=r,i.done=!1,i;return i.done=!0,i}}function gi(n){"@babel/helpers - typeof";return gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gi(n)}function CF(n){if(n!=null){var e=n[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],t=0;if(e)return e.call(n);if(typeof n.next=="function")return n;if(!isNaN(n.length))return{next:function(){return n&&t>=n.length&&(n=void 0),{value:n&&n[t++],done:!n}}}}throw new TypeError(gi(n)+" is not iterable")}function Cs(){var n=nP(),e=n.m(Cs),t=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(o){var s=typeof o=="function"&&o.constructor;return!!s&&(s===t||(s.displayName||s.name)==="GeneratorFunction")}var i={throw:1,return:2,break:3,continue:3};function a(o){var s,l;return function(c){s||(s={stop:function(){return l(c.a,2)},catch:function(){return c.v},abrupt:function(h,m){return l(c.a,i[h],m)},delegateYield:function(h,m,v){return s.resultName=m,l(c.d,CF(h),v)},finish:function(h){return l(c.f,h)}},l=function(h,m,v){c.p=s.prev,c.n=s.next;try{return h(m,v)}finally{s.next=c.n}}),s.resultName&&(s[s.resultName]=c.v,s.resultName=void 0),s.sent=c.v,s.next=c.n;try{return o.call(this,s)}finally{c.p=s.prev,c.n=s.next}}}return(Cs=function(){return{wrap:function(l,c,d,h){return n.w(a(l),c,d,h&&h.reverse())},isGeneratorFunction:r,mark:n.m,awrap:function(l,c){return new YU(l,c)},AsyncIterator:t1,async:function(l,c,d,h,m){return(r(c)?KU:qZ)(a(l),c,d,h,m)},keys:XZ,values:CF}})()}function wF(n,e,t,r,i,a,o){try{var s=n[a](o),l=s.value}catch(c){return void t(c)}s.done?e(l):Promise.resolve(l).then(r,i)}function My(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var a=n.apply(e,t);function o(l){wF(a,r,i,o,s,"next",l)}function s(l){wF(a,r,i,o,s,"throw",l)}o(void 0)})}}function YZ(n,e){if(gi(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(gi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ZU(n){var e=YZ(n,"string");return gi(e)=="symbol"?e:e+""}function mt(n,e,t){return(e=ZU(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function TF(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function yn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TF(Object(t),!0).forEach(function(r){mt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):TF(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function yA(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function KZ(n){if(Array.isArray(n))return yA(n)}function ZZ(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function JU(n,e){if(n){if(typeof n=="string")return yA(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?yA(n,e):void 0}}function JZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dn(n){return KZ(n)||ZZ(n)||JU(n)||JZ()}function Ey(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function QZ(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,ZU(r.key),r)}}function Ay(n,e,t){return e&&QZ(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Jn(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function $0(n,e){return $0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},$0(n,e)}function QU(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&$0(n,e)}function V0(n){return V0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V0(n)}function rP(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(rP=function(){return!!n})()}function eJ(n,e){if(e&&(gi(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jn(n)}function eB(n){var e=rP();return function(){var t,r=V0(n);if(e){var i=V0(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return eJ(this,t)}}var wf="RC_FORM_INTERNAL_HOOKS",Tr=function(){Ko(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},$f=P.createContext({getFieldValue:Tr,getFieldsValue:Tr,getFieldError:Tr,getFieldWarning:Tr,getFieldsError:Tr,isFieldsTouched:Tr,isFieldTouched:Tr,isFieldValidating:Tr,isFieldsValidating:Tr,resetFields:Tr,setFields:Tr,setFieldValue:Tr,setFieldsValue:Tr,validateFields:Tr,submit:Tr,getInternalHooks:function(){return Tr(),{dispatch:Tr,initEntityValue:Tr,registerField:Tr,useSubscribe:Tr,setInitialValues:Tr,destroyForm:Tr,setCallbacks:Tr,registerWatch:Tr,getFields:Tr,setValidateMessages:Tr,setPreserve:Tr,getInitialValue:Tr}}}),n1=P.createContext(null);function bA(n){return n==null?[]:Array.isArray(n)?n:[n]}function tJ(n){return n&&!!n._init}function xA(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",tel:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var _A=xA();function nJ(n){try{return Function.toString.call(n).indexOf("[native code]")!==-1}catch(e){return typeof n=="function"}}function rJ(n,e,t){if(rP())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(n.bind.apply(n,r));return t&&$0(i,t.prototype),i}function SA(n){var e=typeof Map=="function"?new Map:void 0;return SA=function(r){if(r===null||!nJ(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return rJ(r,arguments,V0(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),$0(i,r)},SA(n)}var iJ=/%[sdj%]/g,aJ=function(){};function CA(n){if(!n||!n.length)return null;var e={};return n.forEach(function(t){var r=t.field;e[r]=e[r]||[],e[r].push(t)}),e}function Xo(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=0,a=t.length;if(typeof n=="function")return n.apply(null,t);if(typeof n=="string"){var o=n.replace(iJ,function(s){if(s==="%%")return"%";if(i>=a)return s;switch(s){case"%s":return String(t[i++]);case"%d":return Number(t[i++]);case"%j":try{return JSON.stringify(t[i++])}catch(l){return"[Circular]"}break;default:return s}});return o}return n}function oJ(n){return n==="string"||n==="url"||n==="hex"||n==="email"||n==="date"||n==="pattern"||n==="tel"}function ji(n,e){return!!(n==null||e==="array"&&Array.isArray(n)&&!n.length||oJ(e)&&typeof n=="string"&&!n)}function sJ(n,e,t){var r=[],i=0,a=n.length;function o(s){r.push.apply(r,Dn(s||[])),i++,i===a&&t(r)}n.forEach(function(s){e(s,o)})}function MF(n,e,t){var r=0,i=n.length;function a(o){if(o&&o.length){t(o);return}var s=r;r=r+1,s<i?e(n[s],a):t([])}a([])}function lJ(n){var e=[];return Object.keys(n).forEach(function(t){e.push.apply(e,Dn(n[t]||[]))}),e}var EF=function(n){QU(t,n);var e=eB(t);function t(r,i){var a;return Ey(this,t),a=e.call(this,"Async Validation Error"),mt(Jn(a),"errors",void 0),mt(Jn(a),"fields",void 0),a.errors=r,a.fields=i,a}return Ay(t)}(SA(Error));function cJ(n,e,t,r,i){if(e.first){var a=new Promise(function(m,v){var g=function(_){return r(_),_.length?v(new EF(_,CA(_))):m(i)},x=lJ(n);MF(x,t,g)});return a.catch(function(m){return m}),a}var o=e.firstFields===!0?Object.keys(n):e.firstFields||[],s=Object.keys(n),l=s.length,c=0,d=[],h=new Promise(function(m,v){var g=function(b){if(d.push.apply(d,b),c++,c===l)return r(d),d.length?v(new EF(d,CA(d))):m(i)};s.length||(r(d),m(i)),s.forEach(function(x){var b=n[x];o.indexOf(x)!==-1?MF(b,t,g):sJ(b,t,g)})});return h.catch(function(m){return m}),h}function uJ(n){return!!(n&&n.message!==void 0)}function dJ(n,e){for(var t=n,r=0;r<e.length;r++){if(t==null)return t;t=t[e[r]]}return t}function AF(n,e){return function(t){var r;return n.fullFields?r=dJ(e,n.fullFields):r=e[t.field||n.fullField],uJ(t)?(t.field=t.field||n.fullField,t.fieldValue=r,t):{message:typeof t=="function"?t():t,fieldValue:r,field:t.field||n.fullField}}}function RF(n,e){if(e){for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];gi(r)==="object"&&gi(n[t])==="object"?n[t]=yn(yn({},n[t]),r):n[t]=r}}return n}var dp="enum",fJ=function(e,t,r,i,a){e[dp]=Array.isArray(e[dp])?e[dp]:[],e[dp].indexOf(t)===-1&&i.push(Xo(a.messages[dp],e.fullField,e[dp].join(", ")))},hJ=function(e,t,r,i,a){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||i.push(Xo(a.messages.pattern.mismatch,e.fullField,t,e.pattern));else if(typeof e.pattern=="string"){var o=new RegExp(e.pattern);o.test(t)||i.push(Xo(a.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},pJ=function(e,t,r,i,a){var o=typeof e.len=="number",s=typeof e.min=="number",l=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d=t,h=null,m=typeof t=="number",v=typeof t=="string",g=Array.isArray(t);if(m?h="number":v?h="string":g&&(h="array"),!h)return!1;g&&(d=t.length),v&&(d=t.replace(c,"_").length),o?d!==e.len&&i.push(Xo(a.messages[h].len,e.fullField,e.len)):s&&!l&&d<e.min?i.push(Xo(a.messages[h].min,e.fullField,e.min)):l&&!s&&d>e.max?i.push(Xo(a.messages[h].max,e.fullField,e.max)):s&&l&&(d<e.min||d>e.max)&&i.push(Xo(a.messages[h].range,e.fullField,e.min,e.max))},tB=function(e,t,r,i,a,o){e.required&&(!r.hasOwnProperty(e.field)||ji(t,o||e.type))&&i.push(Xo(a.messages.required,e.fullField))},Yx;const mJ=function(){if(Yx)return Yx;var n="[a-fA-F\\d:]",e=function(I){return I&&I.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(n,")|(?<=").concat(n,")(?=\\s|$))"):""},t="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=["(?:".concat(r,":){7}(?:").concat(r,"|:)"),"(?:".concat(r,":){6}(?:").concat(t,"|:").concat(r,"|:)"),"(?:".concat(r,":){5}(?::").concat(t,"|(?::").concat(r,"){1,2}|:)"),"(?:".concat(r,":){4}(?:(?::").concat(r,"){0,1}:").concat(t,"|(?::").concat(r,"){1,3}|:)"),"(?:".concat(r,":){3}(?:(?::").concat(r,"){0,2}:").concat(t,"|(?::").concat(r,"){1,4}|:)"),"(?:".concat(r,":){2}(?:(?::").concat(r,"){0,3}:").concat(t,"|(?::").concat(r,"){1,5}|:)"),"(?:".concat(r,":){1}(?:(?::").concat(r,"){0,4}:").concat(t,"|(?::").concat(r,"){1,6}|:)"),"(?::(?:(?::".concat(r,"){0,5}:").concat(t,"|(?::").concat(r,"){1,7}|:))")],a="(?:%[0-9a-zA-Z]{1,})?",o="(?:".concat(i.join("|"),")").concat(a),s=new RegExp("(?:^".concat(t,"$)|(?:^").concat(o,"$)")),l=new RegExp("^".concat(t,"$")),c=new RegExp("^".concat(o,"$")),d=function(I){return I&&I.exact?s:new RegExp("(?:".concat(e(I)).concat(t).concat(e(I),")|(?:").concat(e(I)).concat(o).concat(e(I),")"),"g")};d.v4=function(O){return O&&O.exact?l:new RegExp("".concat(e(O)).concat(t).concat(e(O)),"g")},d.v6=function(O){return O&&O.exact?c:new RegExp("".concat(e(O)).concat(o).concat(e(O)),"g")};var h="(?:(?:[a-z]+:)?//)",m="(?:\\S+(?::\\S*)?@)?",v=d.v4().source,g=d.v6().source,x="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",b="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",_="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",C="(?::\\d{2,5})?",T='(?:[/?#][^\\s"]*)?',M="(?:".concat(h,"|www\\.)").concat(m,"(?:localhost|").concat(v,"|").concat(g,"|").concat(x).concat(b).concat(_,")").concat(C).concat(T);return Yx=new RegExp("(?:^".concat(M,"$)"),"i"),Yx};var wM={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,tel:/^(\+[0-9]{1,3}[-\s\u2011]?)?(\([0-9]{1,4}\)[-\s\u2011]?)?([0-9]+[-\s\u2011]?)*[0-9]+$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},e0={integer:function(e){return e0.number(e)&&parseInt(e,10)===e},float:function(e){return e0.number(e)&&!e0.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return gi(e)==="object"&&!e0.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(wM.email)},tel:function(e){return typeof e=="string"&&e.length<=32&&!!e.match(wM.tel)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(mJ())},hex:function(e){return typeof e=="string"&&!!e.match(wM.hex)}},gJ=function(e,t,r,i,a){if(e.required&&t===void 0){tB(e,t,r,i,a);return}var o=["integer","float","array","regexp","object","method","email","tel","number","date","url","hex"],s=e.type;o.indexOf(s)>-1?e0[s](t)||i.push(Xo(a.messages.types[s],e.fullField,e.type)):s&&gi(t)!==e.type&&i.push(Xo(a.messages.types[s],e.fullField,e.type))},vJ=function(e,t,r,i,a){(/^\s+$/.test(t)||t==="")&&i.push(Xo(a.messages.whitespace,e.fullField))};const Hn={required:tB,whitespace:vJ,type:gJ,range:pJ,enum:fJ,pattern:hJ};var yJ=function(e,t,r,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(ji(t)&&!e.required)return r();Hn.required(e,t,i,o,a)}r(o)},bJ=function(e,t,r,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(t==null&&!e.required)return r();Hn.required(e,t,i,o,a,"array"),t!=null&&(Hn.type(e,t,i,o,a),Hn.range(e,t,i,o,a))}r(o)},xJ=function(e,t,r,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(ji(t)&&!e.required)return r();Hn.required(e,t,i,o,a),t!==void 0&&Hn.type(e,t,i,o,a)}r(o)},_J=function(e,t,r,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(ji(t,"date")&&!e.required)return r();if(Hn.required(e,t,i,o,a),!ji(t,"date")){var l;t instanceof Date?l=t:l=new Date(t),Hn.type(e,l,i,o,a),l&&Hn.range(e,l.getTime(),i,o,a)}}r(o)},SJ="enum",CJ=function(e,t,r,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(ji(t)&&!e.required)return r();Hn.required(e,t,i,o,a),t!==void 0&&Hn[SJ](e,t,i,o,a)}r(o)},wJ=function(e,t,r,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(ji(t)&&!e.required)return r();Hn.required(e,t,i,o,a),t!==void 0&&(Hn.type(e,t,i,o,a),Hn.range(e,t,i,o,a))}r(o)},TJ=function(e,t,r,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(ji(t)&&!e.required)return r();Hn.required(e,t,i,o,a),t!==void 0&&(Hn.type(e,t,i,o,a),Hn.range(e,t,i,o,a))}r(o)},MJ=function(e,t,r,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(ji(t)&&!e.required)return r();Hn.required(e,t,i,o,a),t!==void 0&&Hn.type(e,t,i,o,a)}r(o)},EJ=function(e,t,r,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(t===""&&(t=void 0),ji(t)&&!e.required)return r();Hn.required(e,t,i,o,a),t!==void 0&&(Hn.type(e,t,i,o,a),Hn.range(e,t,i,o,a))}r(o)},AJ=function(e,t,r,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(ji(t)&&!e.required)return r();Hn.required(e,t,i,o,a),t!==void 0&&Hn.type(e,t,i,o,a)}r(o)},RJ=function(e,t,r,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(ji(t,"string")&&!e.required)return r();Hn.required(e,t,i,o,a),ji(t,"string")||Hn.pattern(e,t,i,o,a)}r(o)},PJ=function(e,t,r,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(ji(t)&&!e.required)return r();Hn.required(e,t,i,o,a),ji(t)||Hn.type(e,t,i,o,a)}r(o)},OJ=function(e,t,r,i,a){var o=[],s=Array.isArray(t)?"array":gi(t);Hn.required(e,t,i,o,a,s),r(o)},FJ=function(e,t,r,i,a){var o=[],s=e.required||!e.required&&i.hasOwnProperty(e.field);if(s){if(ji(t,"string")&&!e.required)return r();Hn.required(e,t,i,o,a,"string"),ji(t,"string")||(Hn.type(e,t,i,o,a),Hn.range(e,t,i,o,a),Hn.pattern(e,t,i,o,a),e.whitespace===!0&&Hn.whitespace(e,t,i,o,a))}r(o)},Kx=function(e,t,r,i,a){var o=e.type,s=[],l=e.required||!e.required&&i.hasOwnProperty(e.field);if(l){if(ji(t,o)&&!e.required)return r();Hn.required(e,t,i,s,a,o),ji(t,o)||Hn.type(e,t,i,s,a)}r(s)};const m0={string:FJ,method:MJ,number:EJ,boolean:xJ,regexp:PJ,integer:TJ,float:wJ,array:bJ,object:AJ,enum:CJ,pattern:RJ,date:_J,url:Kx,hex:Kx,email:Kx,tel:Kx,required:OJ,any:yJ};var Ry=function(){function n(e){Ey(this,n),mt(this,"rules",null),mt(this,"_messages",_A),this.define(e)}return Ay(n,[{key:"define",value:function(t){var r=this;if(!t)throw new Error("Cannot configure a schema with no rules");if(gi(t)!=="object"||Array.isArray(t))throw new Error("Rules must be an object");this.rules={},Object.keys(t).forEach(function(i){var a=t[i];r.rules[i]=Array.isArray(a)?a:[a]})}},{key:"messages",value:function(t){return t&&(this._messages=RF(xA(),t)),this._messages}},{key:"validate",value:function(t){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},o=t,s=i,l=a;if(typeof s=="function"&&(l=s,s={}),!this.rules||Object.keys(this.rules).length===0)return l&&l(null,o),Promise.resolve(o);function c(g){var x=[],b={};function _(T){if(Array.isArray(T)){var M;x=(M=x).concat.apply(M,Dn(T))}else x.push(T)}for(var C=0;C<g.length;C++)_(g[C]);x.length?(b=CA(x),l(x,b)):l(null,o)}if(s.messages){var d=this.messages();d===_A&&(d=xA()),RF(d,s.messages),s.messages=d}else s.messages=this.messages();var h={},m=s.keys||Object.keys(this.rules);m.forEach(function(g){var x=r.rules[g],b=o[g];x.forEach(function(_){var C=_;typeof C.transform=="function"&&(o===t&&(o=yn({},o)),b=o[g]=C.transform(b),b!=null&&(C.type=C.type||(Array.isArray(b)?"array":gi(b)))),typeof C=="function"?C={validator:C}:C=yn({},C),C.validator=r.getValidationMethod(C),C.validator&&(C.field=g,C.fullField=C.fullField||g,C.type=r.getType(C),h[g]=h[g]||[],h[g].push({rule:C,value:b,source:o,field:g}))})});var v={};return cJ(h,s,function(g,x){var b=g.rule,_=(b.type==="object"||b.type==="array")&&(gi(b.fields)==="object"||gi(b.defaultField)==="object");_=_&&(b.required||!b.required&&g.value),b.field=g.field;function C(U,F){return yn(yn({},F),{},{fullField:"".concat(b.fullField,".").concat(U),fullFields:b.fullFields?[].concat(Dn(b.fullFields),[U]):[U]})}function T(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],F=Array.isArray(U)?U:[U];!s.suppressWarning&&F.length&&n.warning("async-validator:",F),F.length&&b.message!==void 0&&b.message!==null&&(F=[].concat(b.message));var L=F.map(AF(b,o));if(s.first&&L.length)return v[b.field]=1,x(L);if(!_)x(L);else{if(b.required&&!g.value)return b.message!==void 0?L=[].concat(b.message).map(AF(b,o)):s.error&&(L=[s.error(b,Xo(s.messages.required,b.field))]),x(L);var D={};b.defaultField&&Object.keys(g.value).map(function(Y){D[Y]=b.defaultField}),D=yn(yn({},D),g.rule.fields);var z={};Object.keys(D).forEach(function(Y){var j=D[Y],V=Array.isArray(j)?j:[j];z[Y]=V.map(C.bind(null,Y))});var $=new n(z);$.messages(s.messages),g.rule.options&&(g.rule.options.messages=s.messages,g.rule.options.error=s.error),$.validate(g.value,g.rule.options||s,function(Y){var j=[];L&&L.length&&j.push.apply(j,Dn(L)),Y&&Y.length&&j.push.apply(j,Dn(Y)),x(j.length?j:null)})}}var M;if(b.asyncValidator)M=b.asyncValidator(b,g.value,T,g.source,s);else if(b.validator){try{M=b.validator(b,g.value,T,g.source,s)}catch(U){var O,I;(O=(I=console).error)===null||O===void 0||O.call(I,U),s.suppressValidatorError||setTimeout(function(){throw U},0),T(U.message)}M===!0?T():M===!1?T(typeof b.message=="function"?b.message(b.fullField||b.field):b.message||"".concat(b.fullField||b.field," fails")):M instanceof Array?T(M):M instanceof Error&&T(M.message)}M&&M.then&&M.then(function(){return T()},function(U){return T(U)})},function(g){c(g)},o)}},{key:"getType",value:function(t){if(t.type===void 0&&t.pattern instanceof RegExp&&(t.type="pattern"),typeof t.validator!="function"&&t.type&&!m0.hasOwnProperty(t.type))throw new Error(Xo("Unknown rule type %s",t.type));return t.type||"string"}},{key:"getValidationMethod",value:function(t){if(typeof t.validator=="function")return t.validator;var r=Object.keys(t),i=r.indexOf("message");return i!==-1&&r.splice(i,1),r.length===1&&r[0]==="required"?m0.required:m0[this.getType(t)]||void 0}}]),n}();mt(Ry,"register",function(e,t){if(typeof t!="function")throw new Error("Cannot register a validator by type, validator is not a function");m0[e]=t});mt(Ry,"warning",aJ);mt(Ry,"messages",_A);mt(Ry,"validators",m0);var $o="'${name}' is not a valid ${type}",nB={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:$o,method:$o,array:$o,object:$o,number:$o,date:$o,boolean:$o,integer:$o,float:$o,regexp:$o,email:$o,url:$o,hex:$o},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},PF=Ry;function IJ(n,e){return n.replace(/\\?\$\{\w+\}/g,function(t){if(t.startsWith("\\"))return t.slice(1);var r=t.slice(2,-1);return e[r]})}var OF="CODE_LOGIC_ERROR";function wA(n,e,t,r,i){return TA.apply(this,arguments)}function TA(){return TA=My(Cs().mark(function n(e,t,r,i,a){var o,s,l,c,d,h,m,v,g;return Cs().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return o=yn({},r),delete o.ruleIndex,PF.warning=function(){},o.validator&&(s=o.validator,o.validator=function(){try{return s.apply(void 0,arguments)}catch(_){return console.error(_),Promise.reject(OF)}}),l=null,o&&o.type==="array"&&o.defaultField&&(l=o.defaultField,delete o.defaultField),c=new PF(mt({},e,[o])),d=Sf(nB,i.validateMessages),c.messages(d),h=[],b.prev=10,b.next=13,Promise.resolve(c.validate(mt({},e,t),yn({},i)));case 13:b.next=18;break;case 15:b.prev=15,b.t0=b.catch(10),b.t0.errors&&(h=b.t0.errors.map(function(_,C){var T=_.message,M=T===OF?d.default:T;return P.isValidElement(M)?P.cloneElement(M,{key:"error_".concat(C)}):M}));case 18:if(!(!h.length&&l&&Array.isArray(t)&&t.length>0)){b.next=23;break}return b.next=21,Promise.all(t.map(function(_,C){return wA("".concat(e,".").concat(C),_,l,i,a)}));case 21:return m=b.sent,b.abrupt("return",m.reduce(function(_,C){return[].concat(Dn(_),Dn(C))},[]));case 23:return v=yn(yn({},r),{},{name:e,enum:(r.enum||[]).join(", ")},a),g=h.map(function(_){return typeof _=="string"?IJ(_,v):_}),b.abrupt("return",g);case 26:case"end":return b.stop()}},n,null,[[10,15]])})),TA.apply(this,arguments)}function DJ(n,e,t,r,i,a){var o=n.join("."),s=t.map(function(d,h){var m=d.validator,v=yn(yn({},d),{},{ruleIndex:h});return m&&(v.validator=function(g,x,b){var _=!1,C=function(){for(var O=arguments.length,I=new Array(O),U=0;U<O;U++)I[U]=arguments[U];Promise.resolve().then(function(){Ko(!_,"Your validator function has already return a promise. `callback` will be ignored."),_||b.apply(void 0,I)})},T=m(g,x,C);_=T&&typeof T.then=="function"&&typeof T.catch=="function",Ko(_,"`callback` is deprecated. Please return a promise instead."),_&&T.then(function(){b()}).catch(function(M){b(M||" ")})}),v}).sort(function(d,h){var m=d.warningOnly,v=d.ruleIndex,g=h.warningOnly,x=h.ruleIndex;return!!m==!!g?v-x:m?1:-1}),l;if(i===!0)l=new Promise(function(){var d=My(Cs().mark(function h(m,v){var g,x,b;return Cs().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:g=0;case 1:if(!(g<s.length)){C.next=12;break}return x=s[g],C.next=5,wA(o,e,x,r,a);case 5:if(b=C.sent,!b.length){C.next=9;break}return v([{errors:b,rule:x}]),C.abrupt("return");case 9:g+=1,C.next=1;break;case 12:m([]);case 13:case"end":return C.stop()}},h)}));return function(h,m){return d.apply(this,arguments)}}());else{var c=s.map(function(d){return wA(o,e,d,r,a).then(function(h){return{errors:h,rule:d}})});l=(i?NJ(c):LJ(c)).then(function(d){return Promise.reject(d)})}return l.catch(function(d){return d}),l}function LJ(n){return MA.apply(this,arguments)}function MA(){return MA=My(Cs().mark(function n(e){return Cs().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(e).then(function(i){var a,o=(a=[]).concat.apply(a,Dn(i));return o}));case 1:case"end":return r.stop()}},n)})),MA.apply(this,arguments)}function NJ(n){return EA.apply(this,arguments)}function EA(){return EA=My(Cs().mark(function n(e){var t;return Cs().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return t=0,i.abrupt("return",new Promise(function(a){e.forEach(function(o){o.then(function(s){s.errors.length&&a([s]),t+=1,t===e.length&&a([])})})}));case 2:case"end":return i.stop()}},n)})),EA.apply(this,arguments)}function fi(n){return bA(n)}function FF(n,e){var t={};return e.forEach(function(r){var i=Mr(n,r);t=Ur(t,r,i)}),t}function om(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return n&&n.some(function(r){return rB(e,r,t)})}function rB(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!n||!e||!t&&n.length!==e.length?!1:e.every(function(r,i){return n[i]===r})}function UJ(n,e){if(n===e)return!0;if(!n&&e||n&&!e||!n||!e||gi(n)!=="object"||gi(e)!=="object")return!1;var t=Object.keys(n),r=Object.keys(e),i=new Set([].concat(t,r));return Dn(i).every(function(a){var o=n[a],s=e[a];return typeof o=="function"&&typeof s=="function"?!0:o===s})}function BJ(n){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&gi(e.target)==="object"&&n in e.target?e.target[n]:e}function IF(n,e,t){var r=n.length;if(e<0||e>=r||t<0||t>=r)return n;var i=n[e],a=e-t;return a>0?[].concat(Dn(n.slice(0,t)),[i],Dn(n.slice(t,e)),Dn(n.slice(e+1,r))):a<0?[].concat(Dn(n.slice(0,e)),Dn(n.slice(e+1,t+1)),[i],Dn(n.slice(t+1,r))):n}var zJ=["name"],gs=[];function TM(n,e,t,r,i,a){return typeof n=="function"?n(e,t,"source"in a?{source:a.source}:{}):r!==i}var iP=function(n){QU(t,n);var e=eB(t);function t(r){var i;if(Ey(this,t),i=e.call(this,r),mt(Jn(i),"state",{resetCount:0}),mt(Jn(i),"cancelRegisterFunc",null),mt(Jn(i),"mounted",!1),mt(Jn(i),"touched",!1),mt(Jn(i),"dirty",!1),mt(Jn(i),"validatePromise",void 0),mt(Jn(i),"prevValidating",void 0),mt(Jn(i),"errors",gs),mt(Jn(i),"warnings",gs),mt(Jn(i),"cancelRegister",function(){var l=i.props,c=l.preserve,d=l.isListField,h=l.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(d,c,fi(h)),i.cancelRegisterFunc=null}),mt(Jn(i),"getNamePath",function(){var l=i.props,c=l.name,d=l.fieldContext,h=d.prefixName,m=h===void 0?[]:h;return c!==void 0?[].concat(Dn(m),Dn(c)):[]}),mt(Jn(i),"getRules",function(){var l=i.props,c=l.rules,d=c===void 0?[]:c,h=l.fieldContext;return d.map(function(m){return typeof m=="function"?m(h):m})}),mt(Jn(i),"refresh",function(){i.mounted&&i.setState(function(l){var c=l.resetCount;return{resetCount:c+1}})}),mt(Jn(i),"metaCache",null),mt(Jn(i),"triggerMetaEvent",function(l){var c=i.props.onMetaChange;if(c){var d=yn(yn({},i.getMeta()),{},{destroy:l});_S(i.metaCache,d)||c(d),i.metaCache=d}else i.metaCache=null}),mt(Jn(i),"onStoreChange",function(l,c,d){var h=i.props,m=h.shouldUpdate,v=h.dependencies,g=v===void 0?[]:v,x=h.onReset,b=d.store,_=i.getNamePath(),C=i.getValue(l),T=i.getValue(b),M=c&&om(c,_);switch(d.type==="valueUpdate"&&d.source==="external"&&!_S(C,T)&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=gs,i.warnings=gs,i.triggerMetaEvent()),d.type){case"reset":if(!c||M){i.touched=!1,i.dirty=!1,i.validatePromise=void 0,i.errors=gs,i.warnings=gs,i.triggerMetaEvent(),x==null||x(),i.refresh();return}break;case"remove":{if(m&&TM(m,l,b,C,T,d)){i.reRender();return}break}case"setField":{var O=d.data;if(M){"touched"in O&&(i.touched=O.touched),"validating"in O&&!("originRCField"in O)&&(i.validatePromise=O.validating?Promise.resolve([]):null),"errors"in O&&(i.errors=O.errors||gs),"warnings"in O&&(i.warnings=O.warnings||gs),i.dirty=!0,i.triggerMetaEvent(),i.reRender();return}else if("value"in O&&om(c,_,!0)){i.reRender();return}if(m&&!_.length&&TM(m,l,b,C,T,d)){i.reRender();return}break}case"dependenciesUpdate":{var I=g.map(fi);if(I.some(function(U){return om(d.relatedFields,U)})){i.reRender();return}break}default:if(M||(!g.length||_.length||m)&&TM(m,l,b,C,T,d)){i.reRender();return}break}m===!0&&i.reRender()}),mt(Jn(i),"validateRules",function(l){var c=i.getNamePath(),d=i.getValue(),h=l||{},m=h.triggerName,v=h.validateOnly,g=v===void 0?!1:v,x=Promise.resolve().then(My(Cs().mark(function b(){var _,C,T,M,O,I,U;return Cs().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(i.mounted){L.next=2;break}return L.abrupt("return",[]);case 2:if(_=i.props,C=_.validateFirst,T=C===void 0?!1:C,M=_.messageVariables,O=_.validateDebounce,I=i.getRules(),m&&(I=I.filter(function(D){return D}).filter(function(D){var z=D.validateTrigger;if(!z)return!0;var $=bA(z);return $.includes(m)})),!(O&&m)){L.next=10;break}return L.next=8,new Promise(function(D){setTimeout(D,O)});case 8:if(i.validatePromise===x){L.next=10;break}return L.abrupt("return",[]);case 10:return U=DJ(c,d,I,l,T,M),U.catch(function(D){return D}).then(function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:gs;if(i.validatePromise===x){var z;i.validatePromise=null;var $=[],Y=[];(z=D.forEach)===null||z===void 0||z.call(D,function(j){var V=j.rule.warningOnly,B=j.errors,G=B===void 0?gs:B;V?Y.push.apply(Y,Dn(G)):$.push.apply($,Dn(G))}),i.errors=$,i.warnings=Y,i.triggerMetaEvent(),i.reRender()}}),L.abrupt("return",U);case 13:case"end":return L.stop()}},b)})));return g||(i.validatePromise=x,i.dirty=!0,i.errors=gs,i.warnings=gs,i.triggerMetaEvent(),i.reRender()),x}),mt(Jn(i),"isFieldValidating",function(){return!!i.validatePromise}),mt(Jn(i),"isFieldTouched",function(){return i.touched}),mt(Jn(i),"isFieldDirty",function(){if(i.dirty||i.props.initialValue!==void 0)return!0;var l=i.props.fieldContext,c=l.getInternalHooks(wf),d=c.getInitialValue;return d(i.getNamePath())!==void 0}),mt(Jn(i),"getErrors",function(){return i.errors}),mt(Jn(i),"getWarnings",function(){return i.warnings}),mt(Jn(i),"isListField",function(){return i.props.isListField}),mt(Jn(i),"isList",function(){return i.props.isList}),mt(Jn(i),"isPreserve",function(){return i.props.preserve}),mt(Jn(i),"getMeta",function(){i.prevValidating=i.isFieldValidating();var l={touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath(),validated:i.validatePromise===null};return l}),mt(Jn(i),"getOnlyChild",function(l){if(typeof l=="function"){var c=i.getMeta();return yn(yn({},i.getOnlyChild(l(i.getControlled(),c,i.props.fieldContext))),{},{isFunction:!0})}var d=Yc(l);return d.length!==1||!P.isValidElement(d[0])?{child:d,isFunction:!1}:{child:d[0],isFunction:!1}}),mt(Jn(i),"getValue",function(l){var c=i.props.fieldContext.getFieldsValue,d=i.getNamePath();return Mr(l||c(!0),d)}),mt(Jn(i),"getControlled",function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},c=i.props,d=c.name,h=c.trigger,m=c.validateTrigger,v=c.getValueFromEvent,g=c.normalize,x=c.valuePropName,b=c.getValueProps,_=c.fieldContext,C=m!==void 0?m:_.validateTrigger,T=i.getNamePath(),M=_.getInternalHooks,O=_.getFieldsValue,I=M(wf),U=I.dispatch,F=i.getValue(),L=b||function(j){return mt({},x,j)},D=l[h],z=d!==void 0?L(F):{},$=yn(yn({},l),z);$[h]=function(){i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var j,V=arguments.length,B=new Array(V),G=0;G<V;G++)B[G]=arguments[G];v?j=v.apply(void 0,B):j=BJ.apply(void 0,[x].concat(B)),g&&(j=g(j,F,O(!0))),j!==F&&U({type:"updateValue",namePath:T,value:j}),D&&D.apply(void 0,B)};var Y=bA(C||[]);return Y.forEach(function(j){var V=$[j];$[j]=function(){V&&V.apply(void 0,arguments);var B=i.props.rules;B&&B.length&&U({type:"validateField",namePath:T,triggerName:j})}}),$}),r.fieldContext){var a=r.fieldContext.getInternalHooks,o=a(wf),s=o.initEntityValue;s(Jn(i))}return i}return Ay(t,[{key:"componentDidMount",value:function(){var i=this.props,a=i.shouldUpdate,o=i.fieldContext;if(this.mounted=!0,o){var s=o.getInternalHooks,l=s(wf),c=l.registerField;this.cancelRegisterFunc=c(this)}a===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var i=this.state.resetCount,a=this.props.children,o=this.getOnlyChild(a),s=o.child,l=o.isFunction,c;return l?c=s:P.isValidElement(s)?c=P.cloneElement(s,this.getControlled(s.props)):(Ko(!s,"`children` of Field is not validate ReactElement."),c=s),P.createElement(P.Fragment,{key:i},c)}}]),t}(P.Component);mt(iP,"contextType",$f);mt(iP,"defaultProps",{trigger:"onChange",valuePropName:"value"});function iB(n){var e,t=n.name,r=tP(n,zJ),i=P.useContext($f),a=P.useContext(n1),o=t!==void 0?fi(t):void 0,s=(e=r.isListField)!==null&&e!==void 0?e:!!a,l="keep";return s||(l="_".concat((o||[]).join("_"))),P.createElement(iP,e1({key:l,name:o,isListField:s},r,{fieldContext:i}))}function HJ(n){var e=n.name,t=n.initialValue,r=n.children,i=n.rules,a=n.validateTrigger,o=n.isListField,s=P.useContext($f),l=P.useContext(n1),c=P.useRef({keys:[],id:0}),d=c.current,h=P.useMemo(function(){var x=fi(s.prefixName)||[];return[].concat(Dn(x),Dn(fi(e)))},[s.prefixName,e]),m=P.useMemo(function(){return yn(yn({},s),{},{prefixName:h})},[s,h]),v=P.useMemo(function(){return{getKey:function(b){var _=h.length,C=b[_];return[d.keys[C],b.slice(_+1)]}}},[h]);if(typeof r!="function")return Ko(!1,"Form.List only accepts function as children."),null;var g=function(b,_,C){var T=C.source;return T==="internal"?!1:b!==_};return P.createElement(n1.Provider,{value:v},P.createElement($f.Provider,{value:m},P.createElement(iB,{name:[],shouldUpdate:g,rules:i,validateTrigger:a,initialValue:t,isList:!0,isListField:o!=null?o:!!l},function(x,b){var _=x.value,C=_===void 0?[]:_,T=x.onChange,M=s.getFieldValue,O=function(){var L=M(h||[]);return L||[]},I={add:function(L,D){var z=O();D>=0&&D<=z.length?(d.keys=[].concat(Dn(d.keys.slice(0,D)),[d.id],Dn(d.keys.slice(D))),T([].concat(Dn(z.slice(0,D)),[L],Dn(z.slice(D))))):(d.keys=[].concat(Dn(d.keys),[d.id]),T([].concat(Dn(z),[L]))),d.id+=1},remove:function(L){var D=O(),z=new Set(Array.isArray(L)?L:[L]);z.size<=0||(d.keys=d.keys.filter(function($,Y){return!z.has(Y)}),T(D.filter(function($,Y){return!z.has(Y)})))},move:function(L,D){if(L!==D){var z=O();L<0||L>=z.length||D<0||D>=z.length||(d.keys=IF(d.keys,L,D),T(IF(z,L,D)))}}},U=C||[];return Array.isArray(U)||(U=[]),r(U.map(function(F,L){var D=d.keys[L];return D===void 0&&(d.keys[L]=d.id,D=d.keys[L],d.id+=1),{name:L,key:D,isListField:!0}}),I,b)})))}function kJ(n){if(Array.isArray(n))return n}function jJ(n,e){var t=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=a.call(t)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}function $J(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G0(n,e){return kJ(n)||jJ(n,e)||JU(n,e)||$J()}function VJ(n){var e=!1,t=n.length,r=[];return n.length?new Promise(function(i,a){n.forEach(function(o,s){o.catch(function(l){return e=!0,l}).then(function(l){t-=1,r[s]=l,!(t>0)&&(e&&a(r),i(r))})})}):Promise.resolve([])}var aB="__@field_split__";function MM(n){return n.map(function(e){return"".concat(gi(e),":").concat(e)}).join(aB)}var fp=function(){function n(){Ey(this,n),mt(this,"kvs",new Map)}return Ay(n,[{key:"set",value:function(t,r){this.kvs.set(MM(t),r)}},{key:"get",value:function(t){return this.kvs.get(MM(t))}},{key:"update",value:function(t,r){var i=this.get(t),a=r(i);a?this.set(t,a):this.delete(t)}},{key:"delete",value:function(t){this.kvs.delete(MM(t))}},{key:"map",value:function(t){return Dn(this.kvs.entries()).map(function(r){var i=G0(r,2),a=i[0],o=i[1],s=a.split(aB);return t({key:s.map(function(l){var c=l.match(/^([^:]*):(.*)$/),d=G0(c,3),h=d[1],m=d[2];return h==="number"?Number(m):m}),value:o})})}},{key:"toJSON",value:function(){var t={};return this.map(function(r){var i=r.key,a=r.value;return t[i.join(".")]=a,null}),t}}]),n}(),GJ=["name"],WJ=Ay(function n(e){var t=this;Ey(this,n),mt(this,"formHooked",!1),mt(this,"forceRootUpdate",void 0),mt(this,"subscribable",!0),mt(this,"store",{}),mt(this,"fieldEntities",[]),mt(this,"initialValues",{}),mt(this,"callbacks",{}),mt(this,"validateMessages",null),mt(this,"preserve",null),mt(this,"lastValidatePromise",null),mt(this,"getForm",function(){return{getFieldValue:t.getFieldValue,getFieldsValue:t.getFieldsValue,getFieldError:t.getFieldError,getFieldWarning:t.getFieldWarning,getFieldsError:t.getFieldsError,isFieldsTouched:t.isFieldsTouched,isFieldTouched:t.isFieldTouched,isFieldValidating:t.isFieldValidating,isFieldsValidating:t.isFieldsValidating,resetFields:t.resetFields,setFields:t.setFields,setFieldValue:t.setFieldValue,setFieldsValue:t.setFieldsValue,validateFields:t.validateFields,submit:t.submit,_init:!0,getInternalHooks:t.getInternalHooks}}),mt(this,"getInternalHooks",function(r){return r===wf?(t.formHooked=!0,{dispatch:t.dispatch,initEntityValue:t.initEntityValue,registerField:t.registerField,useSubscribe:t.useSubscribe,setInitialValues:t.setInitialValues,destroyForm:t.destroyForm,setCallbacks:t.setCallbacks,setValidateMessages:t.setValidateMessages,getFields:t.getFields,setPreserve:t.setPreserve,getInitialValue:t.getInitialValue,registerWatch:t.registerWatch}):(Ko(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),mt(this,"useSubscribe",function(r){t.subscribable=r}),mt(this,"prevWithoutPreserves",null),mt(this,"setInitialValues",function(r,i){if(t.initialValues=r||{},i){var a,o=Sf(r,t.store);(a=t.prevWithoutPreserves)===null||a===void 0||a.map(function(s){var l=s.key;o=Ur(o,l,Mr(r,l))}),t.prevWithoutPreserves=null,t.updateStore(o)}}),mt(this,"destroyForm",function(r){if(r)t.updateStore({});else{var i=new fp;t.getFieldEntities(!0).forEach(function(a){t.isMergedPreserve(a.isPreserve())||i.set(a.getNamePath(),!0)}),t.prevWithoutPreserves=i}}),mt(this,"getInitialValue",function(r){var i=Mr(t.initialValues,r);return r.length?Sf(i):i}),mt(this,"setCallbacks",function(r){t.callbacks=r}),mt(this,"setValidateMessages",function(r){t.validateMessages=r}),mt(this,"setPreserve",function(r){t.preserve=r}),mt(this,"watchList",[]),mt(this,"registerWatch",function(r){return t.watchList.push(r),function(){t.watchList=t.watchList.filter(function(i){return i!==r})}}),mt(this,"notifyWatch",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(t.watchList.length){var i=t.getFieldsValue(),a=t.getFieldsValue(!0);t.watchList.forEach(function(o){o(i,a,r)})}}),mt(this,"timeoutId",null),mt(this,"warningUnhooked",function(){}),mt(this,"updateStore",function(r){t.store=r}),mt(this,"getFieldEntities",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return r?t.fieldEntities.filter(function(i){return i.getNamePath().length}):t.fieldEntities}),mt(this,"getFieldsMap",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=new fp;return t.getFieldEntities(r).forEach(function(a){var o=a.getNamePath();i.set(o,a)}),i}),mt(this,"getFieldEntitiesForNamePathList",function(r){if(!r)return t.getFieldEntities(!0);var i=t.getFieldsMap(!0);return r.map(function(a){var o=fi(a);return i.get(o)||{INVALIDATE_NAME_PATH:fi(a)}})}),mt(this,"getFieldsValue",function(r,i){t.warningUnhooked();var a,o,s;if(r===!0||Array.isArray(r)?(a=r,o=i):r&&gi(r)==="object"&&(s=r.strict,o=r.filter),a===!0&&!o)return t.store;var l=t.getFieldEntitiesForNamePathList(Array.isArray(a)?a:null),c=[];return l.forEach(function(d){var h,m,v="INVALIDATE_NAME_PATH"in d?d.INVALIDATE_NAME_PATH:d.getNamePath();if(s){var g,x;if((g=(x=d).isList)!==null&&g!==void 0&&g.call(x))return}else if(!a&&(h=(m=d).isListField)!==null&&h!==void 0&&h.call(m))return;if(!o)c.push(v);else{var b="getMeta"in d?d.getMeta():null;o(b)&&c.push(v)}}),FF(t.store,c.map(fi))}),mt(this,"getFieldValue",function(r){t.warningUnhooked();var i=fi(r);return Mr(t.store,i)}),mt(this,"getFieldsError",function(r){t.warningUnhooked();var i=t.getFieldEntitiesForNamePathList(r);return i.map(function(a,o){return a&&!("INVALIDATE_NAME_PATH"in a)?{name:a.getNamePath(),errors:a.getErrors(),warnings:a.getWarnings()}:{name:fi(r[o]),errors:[],warnings:[]}})}),mt(this,"getFieldError",function(r){t.warningUnhooked();var i=fi(r),a=t.getFieldsError([i])[0];return a.errors}),mt(this,"getFieldWarning",function(r){t.warningUnhooked();var i=fi(r),a=t.getFieldsError([i])[0];return a.warnings}),mt(this,"isFieldsTouched",function(){t.warningUnhooked();for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i[0],s=i[1],l,c=!1;i.length===0?l=null:i.length===1?Array.isArray(o)?(l=o.map(fi),c=!1):(l=null,c=o):(l=o.map(fi),c=s);var d=t.getFieldEntities(!0),h=function(b){return b.isFieldTouched()};if(!l)return c?d.every(function(x){return h(x)||x.isList()}):d.some(h);var m=new fp;l.forEach(function(x){m.set(x,[])}),d.forEach(function(x){var b=x.getNamePath();l.forEach(function(_){_.every(function(C,T){return b[T]===C})&&m.update(_,function(C){return[].concat(Dn(C),[x])})})});var v=function(b){return b.some(h)},g=m.map(function(x){var b=x.value;return b});return c?g.every(v):g.some(v)}),mt(this,"isFieldTouched",function(r){return t.warningUnhooked(),t.isFieldsTouched([r])}),mt(this,"isFieldsValidating",function(r){t.warningUnhooked();var i=t.getFieldEntities();if(!r)return i.some(function(o){return o.isFieldValidating()});var a=r.map(fi);return i.some(function(o){var s=o.getNamePath();return om(a,s)&&o.isFieldValidating()})}),mt(this,"isFieldValidating",function(r){return t.warningUnhooked(),t.isFieldsValidating([r])}),mt(this,"resetWithFieldInitialValue",function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=new fp,a=t.getFieldEntities(!0);a.forEach(function(l){var c=l.props.initialValue,d=l.getNamePath();if(c!==void 0){var h=i.get(d)||new Set;h.add({entity:l,value:c}),i.set(d,h)}});var o=function(c){c.forEach(function(d){var h=d.props.initialValue;if(h!==void 0){var m=d.getNamePath(),v=t.getInitialValue(m);if(v!==void 0)Ko(!1,"Form already set 'initialValues' with path '".concat(m.join("."),"'. Field can not overwrite it."));else{var g=i.get(m);if(g&&g.size>1)Ko(!1,"Multiple Field with path '".concat(m.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(g){var x=t.getFieldValue(m),b=d.isListField();!b&&(!r.skipExist||x===void 0)&&t.updateStore(Ur(t.store,m,Dn(g)[0].value))}}}})},s;r.entities?s=r.entities:r.namePathList?(s=[],r.namePathList.forEach(function(l){var c=i.get(l);if(c){var d;(d=s).push.apply(d,Dn(Dn(c).map(function(h){return h.entity})))}})):s=a,o(s)}),mt(this,"resetFields",function(r){t.warningUnhooked();var i=t.store;if(!r){t.updateStore(Sf(t.initialValues)),t.resetWithFieldInitialValue(),t.notifyObservers(i,null,{type:"reset"}),t.notifyWatch();return}var a=r.map(fi);a.forEach(function(o){var s=t.getInitialValue(o);t.updateStore(Ur(t.store,o,s))}),t.resetWithFieldInitialValue({namePathList:a}),t.notifyObservers(i,a,{type:"reset"}),t.notifyWatch(a)}),mt(this,"setFields",function(r){t.warningUnhooked();var i=t.store,a=[];r.forEach(function(o){var s=o.name,l=tP(o,GJ),c=fi(s);a.push(c),"value"in l&&t.updateStore(Ur(t.store,c,l.value)),t.notifyObservers(i,[c],{type:"setField",data:o})}),t.notifyWatch(a)}),mt(this,"getFields",function(){var r=t.getFieldEntities(!0),i=r.map(function(a){var o=a.getNamePath(),s=a.getMeta(),l=yn(yn({},s),{},{name:o,value:t.getFieldValue(o)});return Object.defineProperty(l,"originRCField",{value:!0}),l});return i}),mt(this,"initEntityValue",function(r){var i=r.props.initialValue;if(i!==void 0){var a=r.getNamePath(),o=Mr(t.store,a);o===void 0&&t.updateStore(Ur(t.store,a,i))}}),mt(this,"isMergedPreserve",function(r){var i=r!==void 0?r:t.preserve;return i!=null?i:!0}),mt(this,"registerField",function(r){t.fieldEntities.push(r);var i=r.getNamePath();if(t.notifyWatch([i]),r.props.initialValue!==void 0){var a=t.store;t.resetWithFieldInitialValue({entities:[r],skipExist:!0}),t.notifyObservers(a,[r.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(o,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t.fieldEntities=t.fieldEntities.filter(function(h){return h!==r}),!t.isMergedPreserve(s)&&(!o||l.length>1)){var c=o?void 0:t.getInitialValue(i);if(i.length&&t.getFieldValue(i)!==c&&t.fieldEntities.every(function(h){return!rB(h.getNamePath(),i)})){var d=t.store;t.updateStore(Ur(d,i,c,!0)),t.notifyObservers(d,[i],{type:"remove"}),t.triggerDependenciesUpdate(d,i)}}t.notifyWatch([i])}}),mt(this,"dispatch",function(r){switch(r.type){case"updateValue":{var i=r.namePath,a=r.value;t.updateValue(i,a);break}case"validateField":{var o=r.namePath,s=r.triggerName;t.validateFields([o],{triggerName:s});break}}}),mt(this,"notifyObservers",function(r,i,a){if(t.subscribable){var o=yn(yn({},a),{},{store:t.getFieldsValue(!0)});t.getFieldEntities().forEach(function(s){var l=s.onStoreChange;l(r,i,o)})}else t.forceRootUpdate()}),mt(this,"triggerDependenciesUpdate",function(r,i){var a=t.getDependencyChildrenFields(i);return a.length&&t.validateFields(a),t.notifyObservers(r,a,{type:"dependenciesUpdate",relatedFields:[i].concat(Dn(a))}),a}),mt(this,"updateValue",function(r,i){var a=fi(r),o=t.store;t.updateStore(Ur(t.store,a,i)),t.notifyObservers(o,[a],{type:"valueUpdate",source:"internal"}),t.notifyWatch([a]);var s=t.triggerDependenciesUpdate(o,a),l=t.callbacks.onValuesChange;if(l){var c=FF(t.store,[a]);l(c,t.getFieldsValue())}t.triggerOnFieldsChange([a].concat(Dn(s)))}),mt(this,"setFieldsValue",function(r){t.warningUnhooked();var i=t.store;if(r){var a=Sf(t.store,r);t.updateStore(a)}t.notifyObservers(i,null,{type:"valueUpdate",source:"external"}),t.notifyWatch()}),mt(this,"setFieldValue",function(r,i){t.setFields([{name:r,value:i,errors:[],warnings:[]}])}),mt(this,"getDependencyChildrenFields",function(r){var i=new Set,a=[],o=new fp;t.getFieldEntities().forEach(function(l){var c=l.props.dependencies;(c||[]).forEach(function(d){var h=fi(d);o.update(h,function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return m.add(l),m})})});var s=function l(c){var d=o.get(c)||new Set;d.forEach(function(h){if(!i.has(h)){i.add(h);var m=h.getNamePath();h.isFieldDirty()&&m.length&&(a.push(m),l(m))}})};return s(r),a}),mt(this,"triggerOnFieldsChange",function(r,i){var a=t.callbacks.onFieldsChange;if(a){var o=t.getFields();if(i){var s=new fp;i.forEach(function(c){var d=c.name,h=c.errors;s.set(d,h)}),o.forEach(function(c){c.errors=s.get(c.name)||c.errors})}var l=o.filter(function(c){var d=c.name;return om(r,d)});l.length&&a(l,o)}}),mt(this,"validateFields",function(r,i){t.warningUnhooked();var a,o;Array.isArray(r)||typeof r=="string"||typeof i=="string"?(a=r,o=i):o=r;var s=!!a,l=s?a.map(fi):[],c=[],d=String(Date.now()),h=new Set,m=o||{},v=m.recursive,g=m.dirty;t.getFieldEntities(!0).forEach(function(C){if(s||l.push(C.getNamePath()),!(!C.props.rules||!C.props.rules.length)&&!(g&&!C.isFieldDirty())){var T=C.getNamePath();if(h.add(T.join(d)),!s||om(l,T,v)){var M=C.validateRules(yn({validateMessages:yn(yn({},nB),t.validateMessages)},o));c.push(M.then(function(){return{name:T,errors:[],warnings:[]}}).catch(function(O){var I,U=[],F=[];return(I=O.forEach)===null||I===void 0||I.call(O,function(L){var D=L.rule.warningOnly,z=L.errors;D?F.push.apply(F,Dn(z)):U.push.apply(U,Dn(z))}),U.length?Promise.reject({name:T,errors:U,warnings:F}):{name:T,errors:U,warnings:F}}))}}});var x=VJ(c);t.lastValidatePromise=x,x.catch(function(C){return C}).then(function(C){var T=C.map(function(M){var O=M.name;return O});t.notifyObservers(t.store,T,{type:"validateFinish"}),t.triggerOnFieldsChange(T,C)});var b=x.then(function(){return t.lastValidatePromise===x?Promise.resolve(t.getFieldsValue(l)):Promise.reject([])}).catch(function(C){var T=C.filter(function(M){return M&&M.errors.length});return Promise.reject({values:t.getFieldsValue(l),errorFields:T,outOfDate:t.lastValidatePromise!==x})});b.catch(function(C){return C});var _=l.filter(function(C){return h.has(C.join(d))});return t.triggerOnFieldsChange(_),b}),mt(this,"submit",function(){t.warningUnhooked(),t.validateFields().then(function(r){var i=t.callbacks.onFinish;if(i)try{i(r)}catch(a){console.error(a)}}).catch(function(r){var i=t.callbacks.onFinishFailed;i&&i(r)})}),this.forceRootUpdate=e});function oB(n){var e=P.useRef(),t=P.useState({}),r=G0(t,2),i=r[1];if(!e.current)if(n)e.current=n;else{var a=function(){i({})},o=new WJ(a);e.current=o.getForm()}return[e.current]}var AA=P.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),qJ=function(e){var t=e.validateMessages,r=e.onFormChange,i=e.onFormFinish,a=e.children,o=P.useContext(AA),s=P.useRef({});return P.createElement(AA.Provider,{value:yn(yn({},o),{},{validateMessages:yn(yn({},o.validateMessages),t),triggerFormChange:function(c,d){r&&r(c,{changedFields:d,forms:s.current}),o.triggerFormChange(c,d)},triggerFormFinish:function(c,d){i&&i(c,{values:d,forms:s.current}),o.triggerFormFinish(c,d)},registerForm:function(c,d){c&&(s.current=yn(yn({},s.current),{},mt({},c,d))),o.registerForm(c,d)},unregisterForm:function(c){var d=yn({},s.current);delete d[c],s.current=d,o.unregisterForm(c)}})},a)},XJ=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],YJ=function(e,t){var r=e.name,i=e.initialValues,a=e.fields,o=e.form,s=e.preserve,l=e.children,c=e.component,d=c===void 0?"form":c,h=e.validateMessages,m=e.validateTrigger,v=m===void 0?"onChange":m,g=e.onValuesChange,x=e.onFieldsChange,b=e.onFinish,_=e.onFinishFailed,C=e.clearOnDestroy,T=tP(e,XJ),M=P.useRef(null),O=P.useContext(AA),I=oB(o),U=G0(I,1),F=U[0],L=F.getInternalHooks(wf),D=L.useSubscribe,z=L.setInitialValues,$=L.setCallbacks,Y=L.setValidateMessages,j=L.setPreserve,V=L.destroyForm;P.useImperativeHandle(t,function(){return yn(yn({},F),{},{nativeElement:M.current})}),P.useEffect(function(){return O.registerForm(r,F),function(){O.unregisterForm(r)}},[O,F,r]),Y(yn(yn({},O.validateMessages),h)),$({onValuesChange:g,onFieldsChange:function(ae){if(O.triggerFormChange(r,ae),x){for(var ie=arguments.length,te=new Array(ie>1?ie-1:0),ee=1;ee<ie;ee++)te[ee-1]=arguments[ee];x.apply(void 0,[ae].concat(te))}},onFinish:function(ae){O.triggerFormFinish(r,ae),b&&b(ae)},onFinishFailed:_}),j(s);var B=P.useRef(null);z(i,!B.current),B.current||(B.current=!0),P.useEffect(function(){return function(){return V(C)}},[]);var G,W=typeof l=="function";if(W){var Z=F.getFieldsValue(!0);G=l(Z,F)}else G=l;D(!W);var J=P.useRef();P.useEffect(function(){UJ(J.current||[],a||[])||F.setFields(a||[]),J.current=a},[a,F]);var Q=P.useMemo(function(){return yn(yn({},F),{},{validateTrigger:v})},[F,v]),ue=P.createElement(n1.Provider,{value:null},P.createElement($f.Provider,{value:Q},G));return d===!1?ue:P.createElement(d,e1({},T,{ref:M,onSubmit:function(ae){ae.preventDefault(),ae.stopPropagation(),F.submit()},onReset:function(ae){var ie;ae.preventDefault(),F.resetFields(),(ie=T.onReset)===null||ie===void 0||ie.call(T,ae)}}),ue)};function DF(n){try{return JSON.stringify(n)}catch(e){return Math.random()}}function KJ(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];var r=e[0],i=e[1],a=i===void 0?{}:i,o=tJ(a)?{form:a}:a,s=o.form,l=P.useState(),c=G0(l,2),d=c[0],h=c[1],m=P.useMemo(function(){return DF(d)},[d]),v=P.useRef(m);v.current=m;var g=P.useContext($f),x=s||g,b=x&&x._init,_=fi(r),C=P.useRef(_);return C.current=_,P.useEffect(function(){if(b){var T=x.getFieldsValue,M=x.getInternalHooks,O=M(wf),I=O.registerWatch,U=function(z,$){var Y=o.preserve?$:z;return typeof r=="function"?r(Y):Mr(Y,C.current)},F=I(function(D,z){var $=U(D,z),Y=DF($);v.current!==Y&&(v.current=Y,h($))}),L=U(T(),T(!0));return d!==L&&h(L),F}},[b]),d}var ZJ=P.forwardRef(YJ),Py=ZJ;Py.FormProvider=qJ;Py.Field=iB;Py.List=HJ;Py.useForm=oB;Py.useWatch=KJ;var JJ=["children","Wrapper"],QJ=["children","Wrapper"],aP=P.createContext({grid:!1,colProps:void 0,rowProps:void 0}),eQ=function(e){var t=e.grid,r=e.rowProps,i=e.colProps;return{grid:!!t,RowWrapper:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=o.children,l=o.Wrapper,c=Dt(o,JJ);return t?w.jsx(zi,R(R(R({gutter:8},r),c),{},{children:s})):l?w.jsx(l,{children:s}):s},ColWrapper:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=o.children,l=o.Wrapper,c=Dt(o,QJ),d=P.useMemo(function(){var h=R(R({},i),c);return typeof h.span=="undefined"&&typeof h.xs=="undefined"&&(h.xs=24),h},[c]);return t?w.jsx(hn,R(R({},d),{},{children:s})):l?w.jsx(l,{children:s}):s}}},Bm=function(e){var t=P.useMemo(function(){return Xt(e)==="object"?e:{grid:e}},[e]),r=P.useContext(aP),i=r.grid,a=r.colProps;return P.useMemo(function(){return eQ({grid:!!(i||t.grid),rowProps:t==null?void 0:t.rowProps,colProps:(t==null?void 0:t.colProps)||a,Wrapper:t==null?void 0:t.Wrapper})},[t==null?void 0:t.Wrapper,t.grid,i,JSON.stringify([a,t==null?void 0:t.colProps,t==null?void 0:t.rowProps])])},tQ=["valueType","customLightMode","lightFilterLabelFormatter","valuePropName","ignoreWidth","defaultProps"],nQ=["label","tooltip","placeholder","width","bordered","messageVariables","ignoreFormItem","transform","convertValue","readonly","allowClear","colSize","getFormItemProps","getFieldProps","filedConfig","cacheForSwr","proFieldProps"],LF={xs:104,s:216,sm:216,m:328,md:328,l:440,lg:440,xl:552},rQ=["switch","radioButton","radio","rate"];function sB(n,e){n.displayName="ProFormComponent";var t=function(a){var o=R(R({},a==null?void 0:a.filedConfig),e),s=o.valueType,l=o.customLightMode,c=o.lightFilterLabelFormatter,d=o.valuePropName,h=d===void 0?"value":d,m=o.ignoreWidth,v=o.defaultProps,g=Dt(o,tQ),x=R(R({},v),a),b=x.label,_=x.tooltip,C=x.placeholder,T=x.width,M=x.bordered,O=x.messageVariables,I=x.ignoreFormItem,U=x.transform,F=x.convertValue,L=x.readonly,D=x.allowClear;x.colSize;var z=x.getFormItemProps,$=x.getFieldProps;x.filedConfig;var Y=x.cacheForSwr,j=x.proFieldProps,V=Dt(x,nQ),B=s||V.valueType,G=P.useMemo(function(){return m||rQ.includes(B)},[m,B]),W=P.useState(),Z=at(W,2),J=Z[1],Q=P.useState(),ue=at(Q,2),se=ue[0],ae=ue[1],ie=Oe.useContext(Um),te=_a(function(){return{formItemProps:z==null?void 0:z(),fieldProps:$==null?void 0:$()}},[$,z,V.dependenciesValues,se]),ee=_a(function(){var X=R(R(R(R({},I?ti({value:V.value}):{}),{},{placeholder:C,disabled:a.disabled},ie.fieldProps),te.fieldProps),V.fieldProps);return X.style=ti(X==null?void 0:X.style),X},[I,V.value,V.fieldProps,C,a.disabled,ie.fieldProps,te.fieldProps]),xe=OX(V),Ee=_a(function(){return R(R(R(R({},ie.formItemProps),xe),te.formItemProps),V.formItemProps)},[te.formItemProps,ie.formItemProps,V.formItemProps,xe]),Se=_a(function(){return R(R({messageVariables:O},g),Ee)},[g,Ee,O]);ma(!V.defaultValue,"请不要在 Form 中使用 defaultXXX。如果需要默认值请使用 initialValues 和 initialValue。");var ze=P.useContext($f),Ue=ze.prefixName,re=_a(function(){var X,q=Se==null?void 0:Se.name;Array.isArray(q)&&(q=q.join("_")),Array.isArray(Ue)&&q&&(q="".concat(Ue.join("."),".").concat(q));var ye=q&&"form-".concat((X=ie.formKey)!==null&&X!==void 0?X:"","-field-").concat(q);return ye},[Uu(Se==null?void 0:Se.name),Ue,ie.formKey]),Ce=zn(function(){var X;z||$?ae([]):V.renderFormItem&&J([]);for(var q=arguments.length,ye=new Array(q),Re=0;Re<q;Re++)ye[Re]=arguments[Re];ee==null||(X=ee.onChange)===null||X===void 0||X.call.apply(X,[ee].concat(ye))}),Fe=_a(function(){var X=R({width:T&&!LF[T]?T:ie.grid?"100%":void 0},ee==null?void 0:ee.style);return G&&Reflect.deleteProperty(X,"width"),ti(X)},[Uu(ee==null?void 0:ee.style),ie.grid,G,T]),ge=_a(function(){var X=T&&LF[T];return Ut(ee==null?void 0:ee.className,ne({"pro-field":X},"pro-field-".concat(T),X&&!G))||void 0},[T,ee==null?void 0:ee.className,G]),fe=_a(function(){return ti(R(R({},ie.proFieldProps),{},{mode:V==null?void 0:V.mode,readonly:L,params:V.params,proFieldKey:re,cacheForSwr:Y},j))},[ie.proFieldProps,V==null?void 0:V.mode,V.params,L,re,Y,j]),ve=_a(function(){return R(R({onChange:Ce,allowClear:D},ee),{},{style:Fe,className:ge})},[D,ge,Ce,ee,Fe]),be=_a(function(){return w.jsx(n,R(R({},V),{},{fieldProps:ve,proFieldProps:fe,ref:a==null?void 0:a.fieldRef}),a.proFormFieldKey||a.name)},[fe,ve,V]),we=_a(function(){var X,q,ye,Re;return w.jsx(yz,R(R({label:b&&(j==null?void 0:j.light)!==!0?b:void 0,tooltip:(j==null?void 0:j.light)!==!0&&_,valuePropName:h},Se),{},{ignoreFormItem:I,transform:U,dataFormat:ee==null?void 0:ee.format,valueType:B,messageVariables:R({label:b||""},Se==null?void 0:Se.messageVariables),convertValue:F,lightProps:ti(R(R(R({},ee),{},{valueType:B,bordered:M,allowClear:(q=be==null||(ye=be.props)===null||ye===void 0?void 0:ye.allowClear)!==null&&q!==void 0?q:D,light:j==null?void 0:j.light,label:b,customLightMode:l,labelFormatter:c,valuePropName:h,footerRender:be==null||(Re=be.props)===null||Re===void 0?void 0:Re.footerRender},V.lightProps),Se.lightProps)),children:be}),a.proFormFieldKey||((X=Se.name)===null||X===void 0?void 0:X.toString()))},[b,j==null?void 0:j.light,_,h,a.proFormFieldKey,Se,I,U,ee,B,F,M,be,D,l,c,V.lightProps]),Ie=Bm(V),Ae=Ie.ColWrapper;return w.jsx(Ae,{children:we})},r=function(a){var o=a.dependencies;return o?w.jsx(ZC,{name:o,originDependencies:a==null?void 0:a.originDependencies,children:function(l){return w.jsx(t,R({dependenciesValues:l,dependencies:o},a))}}):w.jsx(t,R({dependencies:o},a))};return r}var iQ=["label","prefixCls","onChange","value","mode","children","defaultValue","size","showSearch","disabled","style","className","bordered","options","onSearch","allowClear","labelInValue","fieldNames","lightLabel","labelTrigger","optionFilterProp","optionLabelProp","valueMaxLength","fetchDataOnSearch","fetchData"],NF=function(e,t){return Xt(t)!=="object"?e[t]||t:e[t==null?void 0:t.value]||t.label},aQ=function(e,t){var r=e.label,i=e.prefixCls,a=e.onChange,o=e.value,s=e.mode;e.children,e.defaultValue;var l=e.size,c=e.showSearch,d=e.disabled,h=e.style,m=e.className,v=e.bordered,g=e.options,x=e.onSearch,b=e.allowClear,_=e.labelInValue,C=e.fieldNames,T=e.lightLabel,M=e.labelTrigger,O=e.optionFilterProp,I=e.optionLabelProp,U=I===void 0?"":I,F=e.valueMaxLength,L=F===void 0?41:F,D=e.fetchDataOnSearch,z=D===void 0?!1:D,$=e.fetchData,Y=Dt(e,iQ),j=e.placeholder,V=j===void 0?r:j,B=C||{},G=B.label,W=G===void 0?"label":G,Z=B.value,J=Z===void 0?"value":Z,Q=P.useContext(Lt.ConfigContext),ue=Q.getPrefixCls,se=ue("pro-field-select-light-select"),ae=P.useState(!1),ie=at(ae,2),te=ie[0],ee=ie[1],xe=P.useState(""),Ee=at(xe,2),Se=Ee[0],ze=Ee[1],Ue=Yn("LightSelect",function(ve){return ne({},".".concat(se),ne(ne({},"".concat(ve.antCls,"-select"),{position:"absolute",width:"153px",height:"28px",visibility:"hidden","&-selector":{height:28}}),"&.".concat(se,"-searchable"),ne({},"".concat(ve.antCls,"-select"),{width:"200px","&-selector":{height:28}})))}),re=Ue.wrapSSR,Ce=Ue.hashId,Fe=P.useMemo(function(){var ve={};return g==null||g.forEach(function(be){var we=be[U]||be[W],Ie=be[J];ve[Ie]=we||Ie}),ve},[W,g,J,U]),ge=P.useMemo(function(){return Reflect.has(Y,"open")?Y==null?void 0:Y.open:te},[te,Y]),fe=Array.isArray(o)?o.map(function(ve){return NF(Fe,ve)}):NF(Fe,o);return re(w.jsxs("div",{className:Ut(se,Ce,ne({},"".concat(se,"-searchable"),c),"".concat(se,"-container-").concat(Y.placement||"bottomLeft"),m),style:h,onClick:function(be){var we;if(!d){var Ie=T==null||(we=T.current)===null||we===void 0||(we=we.labelRef)===null||we===void 0||(we=we.current)===null||we===void 0?void 0:we.contains(be.target);Ie&&ee(!te)}},children:[w.jsx(yS,R(R(R({},Y),{},{allowClear:b,value:o,mode:s,labelInValue:_,size:l,disabled:d,onChange:function(be,we){a==null||a(be,we),s!=="multiple"&&ee(!1)}},Qo(v)),{},{showSearch:c,onSearch:c?function(ve){z&&$&&$(ve),x==null||x(ve)}:void 0,style:h,dropdownRender:function(be){return w.jsxs("div",{ref:t,children:[c&&w.jsx("div",{style:{margin:"4px 8px"},children:w.jsx(ei,{value:Se,allowClear:!!b,onChange:function(Ie){ze(Ie.target.value),z&&$&&$(Ie.target.value),x==null||x(Ie.target.value)},onKeyDown:function(Ie){if(Ie.key==="Backspace"){Ie.stopPropagation();return}(Ie.key==="ArrowUp"||Ie.key==="ArrowDown")&&Ie.preventDefault()},style:{width:"100%"},prefix:w.jsx(Dq,{})})}),be]})},open:ge,onDropdownVisibleChange:function(be){var we;be||ze(""),M||ee(be),Y==null||(we=Y.onDropdownVisibleChange)===null||we===void 0||we.call(Y,be)},prefixCls:i,options:x||!Se?g:g==null?void 0:g.filter(function(ve){var be,we;return O?Yc(ve[O]).join("").toLowerCase().includes(Se):((be=String(ve[W]))===null||be===void 0||(be=be.toLowerCase())===null||be===void 0?void 0:be.includes(Se==null?void 0:Se.toLowerCase()))||((we=ve[J])===null||we===void 0||(we=we.toString())===null||we===void 0||(we=we.toLowerCase())===null||we===void 0?void 0:we.includes(Se==null?void 0:Se.toLowerCase()))})})),w.jsx(Vl,{ellipsis:!0,label:r,placeholder:V,disabled:d,bordered:v,allowClear:!!b,value:fe||(o==null?void 0:o.label)||o,onClear:function(){a==null||a(void 0,void 0)},ref:T,valueMaxLength:L})]}))};const oQ=Oe.forwardRef(aQ);var sQ=["optionItemRender","mode","onSearch","onFocus","onChange","autoClearSearchValue","searchOnFocus","resetAfterSelect","fetchDataOnSearch","optionFilterProp","optionLabelProp","className","disabled","options","fetchData","resetData","prefixCls","onClear","searchValue","showSearch","fieldNames","defaultSearchValue","preserveOriginalLabel"],lQ=["className","optionType"],cQ=function(e,t){var r=e.optionItemRender,i=e.mode,a=e.onSearch,o=e.onFocus,s=e.onChange,l=e.autoClearSearchValue,c=l===void 0?!0:l,d=e.searchOnFocus,h=d===void 0?!1:d,m=e.resetAfterSelect,v=m===void 0?!1:m,g=e.fetchDataOnSearch,x=g===void 0?!0:g,b=e.optionFilterProp,_=b===void 0?"label":b,C=e.optionLabelProp,T=C===void 0?"label":C,M=e.className,O=e.disabled,I=e.options,U=e.fetchData,F=e.resetData,L=e.prefixCls,D=e.onClear,z=e.searchValue,$=e.showSearch,Y=e.fieldNames,j=e.defaultSearchValue,V=e.preserveOriginalLabel,B=V===void 0?!1:V,G=Dt(e,sQ),W=Y||{},Z=W.label,J=Z===void 0?"label":Z,Q=W.value,ue=Q===void 0?"value":Q,se=W.options,ae=se===void 0?"options":se,ie=P.useState(z!=null?z:j),te=at(ie,2),ee=te[0],xe=te[1],Ee=P.useRef();P.useImperativeHandle(t,function(){return Ee.current}),P.useEffect(function(){if(G.autoFocus){var ge;Ee==null||(ge=Ee.current)===null||ge===void 0||ge.focus()}},[G.autoFocus]),P.useEffect(function(){xe(z)},[z]);var Se=P.useContext(Lt.ConfigContext),ze=Se.getPrefixCls,Ue=ze("pro-filed-search-select",L),re=Ut(Ue,M,ne({},"".concat(Ue,"-disabled"),O)),Ce=function(fe,ve){return Array.isArray(fe)&&Array.isArray(ve)&&fe.length>0?fe.map(function(be,we){var Ie=ve==null?void 0:ve[we],Ae=Ie==null?void 0:Ie["data-item"];return R(R(R({},Ae||{}),be),{},{label:B&&Ae?Ae.label:be.label})}):[]},Fe=function ge(fe){return fe.map(function(ve,be){var we,Ie=ve,Ae=Ie.className,X=Ie.optionType,q=Dt(Ie,lQ),ye=ve[J],Re=ve[ue],Ge=(we=ve[ae])!==null&&we!==void 0?we:[];return X==="optGroup"||ve.options?R(R({label:ye},q),{},{data_title:ye,title:ye,key:Re!=null?Re:"".concat(ye==null?void 0:ye.toString(),"-").concat(be,"-").concat(B0()),children:ge(Ge)}):R(R({title:ye},q),{},{data_title:ye,value:Re!=null?Re:be,key:Re!=null?Re:"".concat(ye==null?void 0:ye.toString(),"-").concat(be,"-").concat(B0()),"data-item":ve,className:"".concat(Ue,"-option ").concat(Ae||"").trim(),label:(r==null?void 0:r(ve))||ye})})};return w.jsx(yS,R(R({ref:Ee,className:re,allowClear:!0,autoClearSearchValue:c,disabled:O,mode:i,showSearch:$,searchValue:ee,optionFilterProp:_,optionLabelProp:T,onClear:function(){D==null||D(),U(void 0),$&&xe(void 0)}},G),{},{filterOption:G.filterOption==!1?!1:function(ge,fe){var ve,be;return G.filterOption&&typeof G.filterOption=="function"?G.filterOption(ge,R(R({},fe),{},{label:fe==null?void 0:fe.data_title})):!!(fe!=null&&(ve=fe.data_title)!==null&&ve!==void 0&&ve.toString().toLowerCase().includes(ge.toLowerCase())||fe!=null&&(be=fe[_])!==null&&be!==void 0&&be.toString().toLowerCase().includes(ge.toLowerCase()))},onSearch:$?function(ge){x&&U(ge),a==null||a(ge),xe(ge)}:void 0,onChange:function(fe,ve){$&&c&&(U(void 0),a==null||a(""),xe(void 0));for(var be=arguments.length,we=new Array(be>2?be-2:0),Ie=2;Ie<be;Ie++)we[Ie-2]=arguments[Ie];if(!e.labelInValue){s==null||s.apply(void 0,[fe,ve].concat(we));return}if(i!=="multiple"&&!Array.isArray(ve)){var Ae=ve&&ve["data-item"];if(!fe||!Ae){var X=fe&&R(R({},fe),{},{label:B&&Ae&&(Ae==null?void 0:Ae.label)||fe.label});s==null||s.apply(void 0,[X,ve].concat(we))}else s==null||s.apply(void 0,[R(R(R({},fe),Ae),{},{label:B&&Ae?Ae.label:fe.label}),ve].concat(we));return}var q=Ce(fe,ve);s==null||s.apply(void 0,[q,ve].concat(we)),v&&F()},onFocus:function(fe){h&&U(ee),o==null||o(fe)},options:Fe(I||[])}))};const uQ=Oe.forwardRef(cQ);var dQ=["value","text"],fQ=["mode","valueEnum","render","renderFormItem","request","fieldProps","plain","children","light","proFieldKey","params","label","bordered","id","lightLabel","labelTrigger"],hQ=function(e){for(var t=e.label,r=e.words,i=P.useContext(Lt.ConfigContext),a=i.getPrefixCls,o=a("pro-select-item-option-content-light"),s=a("pro-select-item-option-content"),l=Yn("Highlight",function(b){return ne(ne({},".".concat(o),{color:b.colorPrimary}),".".concat(s),{flex:"auto",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"})}),c=l.wrapSSR,d=new RegExp(r.map(function(b){return b.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}).join("|"),"gi"),h=t,m=[];h.length;){var v=d.exec(h);if(!v){m.push(h);break}var g=v.index,x=v[0].length+g;m.push(h.slice(0,g),Oe.createElement("span",{className:o},h.slice(g,x))),h=h.slice(x)}return c(Oe.createElement.apply(Oe,["div",{title:t,className:s}].concat(m)))};function RA(n,e){var t,r;if(!e||n!=null&&(t=n.label)!==null&&t!==void 0&&t.toString().toLowerCase().includes(e.toLowerCase())||n!=null&&(r=n.value)!==null&&r!==void 0&&r.toString().toLowerCase().includes(e.toLowerCase()))return!0;if(n.children||n.options){var i=[].concat(gr(n.children||[]),[n.options||[]]).find(function(a){return RA(a,e)});if(i)return!0}return!1}var lB=function(e){var t=[],r=eu(e);return r.forEach(function(i,a){var o=r.get(a)||r.get("".concat(a));if(o){if(Xt(o)==="object"&&o!==null&&o!==void 0&&o.text){t.push({text:o==null?void 0:o.text,value:a,label:o==null?void 0:o.text,disabled:o.disabled});return}t.push({text:o,value:a})}}),t},zm=function(e){var t,r,i,a,o=e.cacheForSwr,s=e.fieldProps,l=P.useState(e.defaultKeyWords),c=at(l,2),d=c[0],h=c[1],m=P.useState(function(){return e.proFieldKey?e.proFieldKey.toString():e.request?B0():"no-fetch"}),v=at(m,1),g=v[0],x=P.useRef(g),b=zn(function(j){return lB(eu(j)).map(function(V){var B=V.value,G=V.text,W=Dt(V,dQ);return R({label:G,value:B,key:B},W)})}),_=_a(function(){if(s){var j=(s==null?void 0:s.options)||(s==null?void 0:s.treeData);if(j){var V=s.fieldNames||{},B=V.children,G=V.label,W=V.value,Z=function J(Q,ue){if(Q!=null&&Q.length)for(var se=Q.length,ae=0;ae<se;){var ie=Q[ae++],te=ue==="children"?B:ue==="label"?G:W;te&&ie[te]!==void 0&&(ie[ue]=ie[te],ue==="children"&&(J(ie[te],"children"),J(ie[te],"label"),J(ie[te],"value")))}};return B&&Z(j,"children"),G&&Z(j,"label"),W&&Z(j,"value"),j}}},[s]),C=xr(function(){return e.valueEnum?b(e.valueEnum):[]},{value:_}),T=at(C,2),M=T[0],O=T[1];KS(function(){var j,V;!e.valueEnum||(j=e.fieldProps)!==null&&j!==void 0&&j.options||(V=e.fieldProps)!==null&&V!==void 0&&V.treeData||O(b(e.valueEnum))},[e.valueEnum]);var I=_X([x.current,e.params,d],(t=(r=e.debounceTime)!==null&&r!==void 0?r:e==null||(i=e.fieldProps)===null||i===void 0?void 0:i.debounceTime)!==null&&t!==void 0?t:0,[e.params,d]),U=J3(function(){return e.request?I:null},function(j){var V=at(j,3),B=V[1],G=V[2];return e.request(R(R({},B),{},{keyWords:G}),e)},{revalidateIfStale:!o,revalidateOnReconnect:o,shouldRetryOnError:!1,revalidateOnFocus:!1}),F=U.data,L=U.mutate,D=U.isValidating,z=P.useMemo(function(){var j,V,B=M==null?void 0:M.map(function(G){if(typeof G=="string")return{label:G,value:G};if(G.children||G.options){var W=[].concat(gr(G.children||[]),gr(G.options||[])).filter(function(Z){return RA(Z,d)});return R(R({},G),{},{children:W,options:W})}return G});return((j=e.fieldProps)===null||j===void 0?void 0:j.filterOption)===!0||((V=e.fieldProps)===null||V===void 0?void 0:V.filterOption)===void 0?B==null?void 0:B.filter(function(G){return G?d?RA(G,d):!0:!1}):B},[M,d,(a=e.fieldProps)===null||a===void 0?void 0:a.filterOption]),$=function(V){if(!(s!=null&&s.fieldNames))return V;var B=s.fieldNames,G=B.label,W=G===void 0?"label":G,Z=B.value,J=Z===void 0?"value":Z;return R(R({},V),{},{label:V[W],value:V[J]})},Y=e.request?F==null?void 0:F.map(function(j){return $(j)}):void 0;return[D,Y||z,function(j){h(j)},function(){h(void 0),L([],!1)}]},pQ=function(e,t){var r,i=e.mode,a=e.valueEnum,o=e.render,s=e.renderFormItem;e.request;var l=e.fieldProps;e.plain,e.children;var c=e.light;e.proFieldKey,e.params;var d=e.label,h=e.bordered,m=e.id,v=e.lightLabel,g=e.labelTrigger,x=Dt(e,fQ),b=P.useRef(),_=On(),C=P.useRef("");P.useEffect(function(){C.current=l==null?void 0:l.searchValue},[l==null?void 0:l.searchValue]);var T=zm(e),M=at(T,4),O=M[0],I=M[1],U=M[2],F=M[3],L=(Lt===null||Lt===void 0||(r=Lt.useConfig)===null||r===void 0?void 0:r.call(Lt))||{componentSize:"middle"},D=L.componentSize;P.useImperativeHandle(t,function(){return R(R({},b.current||{}),{},{fetchData:function(W){return U(W)}})},[U]);var z=P.useMemo(function(){if(i==="read"){var G=(l==null?void 0:l.fieldNames)||{},W=G.value,Z=W===void 0?"value":W,J=G.label,Q=J===void 0?"label":J,ue=G.options,se=ue===void 0?"options":ue,ae=function ie(te){var ee=new Map;if(!(te!=null&&te.length))return ee;for(var xe=te.length,Ee=0;Ee<xe;Ee++){var Se=te[Ee],ze=Se[Z],Ue=Se[Q];ze!==void 0&&Ue!==void 0&&ee.set(ze,Ue);var re=Se[se]||Se.options;if(re!=null&&re.length){var Ce=ie(re);Ce.forEach(function(Fe,ge){return ee.set(ge,Fe)})}}return ee};return ae(I)}},[i,I,l==null?void 0:l.fieldNames]);if(i==="read"){var $=w.jsx(w.Fragment,{children:Lm(x.text,eu(a||z))});if(o){var Y;return(Y=o($,R(R({mode:i},l),{},{options:I}),$))!==null&&Y!==void 0?Y:null}return $}if(i==="edit"||i==="update"){var j=function(){return c?w.jsx(oQ,R(R({},Qo(h)),{},{id:m,loading:O,ref:b,allowClear:!0,size:D,options:I,label:d,placeholder:_.getMessage("tableForm.selectPlaceholder","请选择"),lightLabel:v,labelTrigger:g,fetchData:U},l)):w.jsx(uQ,R(R(R({className:x.className,style:R({minWidth:100},x.style)},Qo(h)),{},{id:m,loading:O,ref:b,allowClear:!0,defaultSearchValue:e.defaultKeyWords,notFoundContent:O?w.jsx(Yu,{size:"small"}):l==null?void 0:l.notFoundContent,fetchData:function(Z){C.current=Z!=null?Z:"",U(Z)},resetData:F,preserveOriginalLabel:!0,optionItemRender:function(Z){return typeof Z.label=="string"&&C.current?w.jsx(hQ,{label:Z.label,words:[C.current]}):Z.label},placeholder:_.getMessage("tableForm.selectPlaceholder","请选择"),label:d},l),{},{options:I}),"SearchSelect")},V=j();if(s){var B;return(B=s(x.text,R(R({mode:i},l),{},{options:I,loading:O}),V))!==null&&B!==void 0?B:null}return V}return null};const mQ=Oe.forwardRef(pQ);var gQ=["radioType","renderFormItem","mode","render","label","light"],vQ=function(e,t){var r;e.radioType;var i=e.renderFormItem,a=e.mode,o=e.render,s=e.label,l=e.light,c=Dt(e,gQ),d=P.useContext(Lt.ConfigContext),h=d.getPrefixCls,m=h("pro-field-cascader"),v=zm(c),g=at(v,3),x=g[0],b=g[1],_=g[2],C=On(),T=P.useRef(),M=P.useState(!1),O=at(M,2),I=O[0],U=O[1];P.useImperativeHandle(t,function(){return R(R({},T.current||{}),{},{fetchData:function(J){return _(J)}})},[_]);var F=P.useMemo(function(){var Z;if(a==="read"){var J=((Z=c.fieldProps)===null||Z===void 0?void 0:Z.fieldNames)||{},Q=J.value,ue=Q===void 0?"value":Q,se=J.label,ae=se===void 0?"label":se,ie=J.children,te=ie===void 0?"children":ie,ee=new Map,xe=function Ee(Se){if(!(Se!=null&&Se.length))return ee;for(var ze=Se.length,Ue=0;Ue<ze;){var re=Se[Ue++];ee.set(re[ue],re[ae]),Ee(re[te])}return ee};return xe(b)}},[a,b,(r=c.fieldProps)===null||r===void 0?void 0:r.fieldNames]);if(a==="read"){var L=w.jsx(w.Fragment,{children:Lm(c.text,eu(c.valueEnum||F))});if(o){var D;return(D=o(c.text,R({mode:a},c.fieldProps),L))!==null&&D!==void 0?D:null}return L}if(a==="edit"){var z,$,Y=w.jsx(EV,R(R(R({},Qo(!l)),{},{ref:T,open:I,suffixIcon:x?w.jsx(dm,{}):void 0,placeholder:C.getMessage("tableForm.selectPlaceholder","请选择"),allowClear:((z=c.fieldProps)===null||z===void 0?void 0:z.allowClear)!==!1},c.fieldProps),{},{onDropdownVisibleChange:function(J){var Q,ue;c==null||(Q=c.fieldProps)===null||Q===void 0||(ue=Q.onDropdownVisibleChange)===null||ue===void 0||ue.call(Q,J),U(J)},className:Ut(($=c.fieldProps)===null||$===void 0?void 0:$.className,m),options:b}));if(i){var j;Y=(j=i(c.text,R(R({mode:a},c.fieldProps),{},{options:b,loading:x}),Y))!==null&&j!==void 0?j:null}if(l){var V=c.fieldProps,B=V.disabled,G=V.value,W=!!G&&(G==null?void 0:G.length)!==0;return w.jsx(Vl,{label:s,disabled:B,bordered:c.bordered,value:W||I?Y:null,style:W?{paddingInlineEnd:0}:void 0,allowClear:!1,downIcon:W||I?!1:void 0,onClick:function(){var J,Q;U(!0),c==null||(J=c.fieldProps)===null||J===void 0||(Q=J.onDropdownVisibleChange)===null||Q===void 0||Q.call(J,!0)}})}return Y}return null};const yQ=Oe.forwardRef(vQ);var bQ=["layout","renderFormItem","mode","render"],xQ=["fieldNames"],_Q=function(e,t){var r,i,a=e.layout,o=a===void 0?"horizontal":a,s=e.renderFormItem,l=e.mode,c=e.render,d=Dt(e,bQ),h=P.useContext(Lt.ConfigContext),m=h.getPrefixCls,v=m("pro-field-checkbox"),g=(r=pn.Item)===null||r===void 0||(i=r.useStatus)===null||i===void 0?void 0:i.call(r),x=zm(d),b=at(x,3),_=b[0],C=b[1],T=b[2],M=Yn("Checkbox",function(W){return ne({},".".concat(v),{"&-error":{span:{color:W.colorError}},"&-warning":{span:{color:W.colorWarning}},"&-vertical":ne(ne(ne({},"&".concat(W.antCls,"-checkbox-group"),{display:"inline-block"}),"".concat(W.antCls,"-checkbox-wrapper+").concat(W.antCls,"-checkbox-wrapper"),{"margin-inline-start":"0  !important"}),"".concat(W.antCls,"-checkbox-group-item"),{display:"flex",marginInlineEnd:0})})}),O=M.wrapSSR,I=M.hashId,U=im==null?void 0:im(),F=U.token,L=P.useRef();if(P.useImperativeHandle(t,function(){return R(R({},L.current||{}),{},{fetchData:function(Z){return T(Z)}})},[T]),_)return w.jsx(Yu,{size:"small"});if(l==="read"){var D=C!=null&&C.length?C==null?void 0:C.reduce(function(W,Z){var J;return R(R({},W),{},ne({},(J=Z.value)!==null&&J!==void 0?J:"",Z.label))},{}):void 0,z=Lm(d.text,eu(d.valueEnum||D));if(c){var $;return($=c(d.text,R({mode:l},d.fieldProps),w.jsx(w.Fragment,{children:z})))!==null&&$!==void 0?$:null}return w.jsx("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:F.marginSM},children:z})}if(l==="edit"){var Y,j=d.fieldProps||{};j.fieldNames;var V=Dt(j,xQ),B=O(w.jsx(a3.Group,R(R({},V),{},{className:Ut((Y=d.fieldProps)===null||Y===void 0?void 0:Y.className,I,"".concat(v,"-").concat(o),ne(ne({},"".concat(v,"-error"),(g==null?void 0:g.status)==="error"),"".concat(v,"-warning"),(g==null?void 0:g.status)==="warning")),options:C})));if(s){var G;return(G=s(d.text,R(R({mode:l},d.fieldProps),{},{options:C,loading:_}),B))!==null&&G!==void 0?G:null}return B}return null};const SQ=Oe.forwardRef(_Q);var CQ=function(e,t){if(typeof e!="string")return e;try{if(t==="json")return JSON.stringify(JSON.parse(e),null,2)}catch(r){}return e},wQ=function(e,t){var r=e.text,i=e.mode,a=e.render,o=e.language,s=o===void 0?"text":o,l=e.renderFormItem,c=e.plain,d=e.fieldProps,h=CQ(r,s),m=xo.useToken(),v=m.token;if(i==="read"){var g=w.jsx("pre",R(R({ref:t},d),{},{style:R({padding:16,overflow:"auto",fontSize:"85%",lineHeight:1.45,color:v.colorTextSecondary,fontFamily:v.fontFamilyCode,backgroundColor:"rgba(150, 150, 150, 0.1)",borderRadius:3,width:"min-content"},d.style),children:w.jsx("code",{children:h})}));return a?a(h,R(R({mode:i},d),{},{ref:t}),g):g}if(i==="edit"||i==="update"){d.value=h;var x=w.jsx(ei.TextArea,R(R({rows:5},d),{},{ref:t}));if(c&&(x=w.jsx(ei,R(R({},d),{},{ref:t}))),l){var b;return(b=l(h,R(R({mode:i},d),{},{ref:t}),x))!==null&&b!==void 0?b:null}return x}return null};const UF=Oe.forwardRef(wQ);var xs={},Oy={},TQ=typeof da=="object"&&da&&da.Object===Object&&da,cB=TQ,MQ=cB,EQ=typeof self=="object"&&self&&self.Object===Object&&self,AQ=MQ||EQ||Function("return this")(),ol=AQ,RQ=ol,PQ=RQ.Symbol,Fy=PQ,BF=Fy,uB=Object.prototype,OQ=uB.hasOwnProperty,FQ=uB.toString,Dv=BF?BF.toStringTag:void 0;function IQ(n){var e=OQ.call(n,Dv),t=n[Dv];try{n[Dv]=void 0;var r=!0}catch(a){}var i=FQ.call(n);return r&&(e?n[Dv]=t:delete n[Dv]),i}var DQ=IQ,LQ=Object.prototype,NQ=LQ.toString;function UQ(n){return NQ.call(n)}var BQ=UQ,zF=Fy,zQ=DQ,HQ=BQ,kQ="[object Null]",jQ="[object Undefined]",HF=zF?zF.toStringTag:void 0;function $Q(n){return n==null?n===void 0?jQ:kQ:HF&&HF in Object(n)?zQ(n):HQ(n)}var th=$Q,VQ=Array.isArray,ts=VQ;function GQ(n){return n!=null&&typeof n=="object"}var Wl=GQ,WQ=th,qQ=ts,XQ=Wl,YQ="[object String]";function KQ(n){return typeof n=="string"||!qQ(n)&&XQ(n)&&WQ(n)==YQ}var ZQ=KQ;function JQ(n){return function(e,t,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[n?s:++i];if(t(a[l],l,a)===!1)break}return e}}var QQ=JQ,eee=QQ,tee=eee(),dB=tee;function nee(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var ree=nee,iee=th,aee=Wl,oee="[object Arguments]";function see(n){return aee(n)&&iee(n)==oee}var lee=see,kF=lee,cee=Wl,fB=Object.prototype,uee=fB.hasOwnProperty,dee=fB.propertyIsEnumerable,fee=kF(function(){return arguments}())?kF:function(n){return cee(n)&&uee.call(n,"callee")&&!dee.call(n,"callee")},oP=fee,r1={exports:{}};function hee(){return!1}var pee=hee;r1.exports;(function(n,e){var t=ol,r=pee,i=e&&!e.nodeType&&e,a=i&&!0&&n&&!n.nodeType&&n,o=a&&a.exports===i,s=o?t.Buffer:void 0,l=s?s.isBuffer:void 0,c=l||r;n.exports=c})(r1,r1.exports);var BC=r1.exports,mee=9007199254740991,gee=/^(?:0|[1-9]\d*)$/;function vee(n,e){var t=typeof n;return e=e==null?mee:e,!!e&&(t=="number"||t!="symbol"&&gee.test(n))&&n>-1&&n%1==0&&n<e}var sP=vee,yee=9007199254740991;function bee(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=yee}var lP=bee,xee=th,_ee=lP,See=Wl,Cee="[object Arguments]",wee="[object Array]",Tee="[object Boolean]",Mee="[object Date]",Eee="[object Error]",Aee="[object Function]",Ree="[object Map]",Pee="[object Number]",Oee="[object Object]",Fee="[object RegExp]",Iee="[object Set]",Dee="[object String]",Lee="[object WeakMap]",Nee="[object ArrayBuffer]",Uee="[object DataView]",Bee="[object Float32Array]",zee="[object Float64Array]",Hee="[object Int8Array]",kee="[object Int16Array]",jee="[object Int32Array]",$ee="[object Uint8Array]",Vee="[object Uint8ClampedArray]",Gee="[object Uint16Array]",Wee="[object Uint32Array]",Nr={};Nr[Bee]=Nr[zee]=Nr[Hee]=Nr[kee]=Nr[jee]=Nr[$ee]=Nr[Vee]=Nr[Gee]=Nr[Wee]=!0;Nr[Cee]=Nr[wee]=Nr[Nee]=Nr[Tee]=Nr[Uee]=Nr[Mee]=Nr[Eee]=Nr[Aee]=Nr[Ree]=Nr[Pee]=Nr[Oee]=Nr[Fee]=Nr[Iee]=Nr[Dee]=Nr[Lee]=!1;function qee(n){return See(n)&&_ee(n.length)&&!!Nr[xee(n)]}var Xee=qee;function Yee(n){return function(e){return n(e)}}var cP=Yee,i1={exports:{}};i1.exports;(function(n,e){var t=cB,r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,a=i&&i.exports===r,o=a&&t.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch(c){}}();n.exports=s})(i1,i1.exports);var uP=i1.exports,Kee=Xee,Zee=cP,jF=uP,$F=jF&&jF.isTypedArray,Jee=$F?Zee($F):Kee,dP=Jee,Qee=ree,ete=oP,tte=ts,nte=BC,rte=sP,ite=dP,ate=Object.prototype,ote=ate.hasOwnProperty;function ste(n,e){var t=tte(n),r=!t&&ete(n),i=!t&&!r&&nte(n),a=!t&&!r&&!i&&ite(n),o=t||r||i||a,s=o?Qee(n.length,String):[],l=s.length;for(var c in n)(e||ote.call(n,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||rte(c,l)))&&s.push(c);return s}var hB=ste,lte=Object.prototype;function cte(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||lte;return n===t}var fP=cte;function ute(n,e){return function(t){return n(e(t))}}var pB=ute,dte=pB,fte=dte(Object.keys,Object),hte=fte,pte=fP,mte=hte,gte=Object.prototype,vte=gte.hasOwnProperty;function yte(n){if(!pte(n))return mte(n);var e=[];for(var t in Object(n))vte.call(n,t)&&t!="constructor"&&e.push(t);return e}var bte=yte;function xte(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var Ts=xte,_te=th,Ste=Ts,Cte="[object AsyncFunction]",wte="[object Function]",Tte="[object GeneratorFunction]",Mte="[object Proxy]";function Ete(n){if(!Ste(n))return!1;var e=_te(n);return e==wte||e==Tte||e==Cte||e==Mte}var hP=Ete,Ate=hP,Rte=lP;function Pte(n){return n!=null&&Rte(n.length)&&!Ate(n)}var Hm=Pte,Ote=hB,Fte=bte,Ite=Hm;function Dte(n){return Ite(n)?Ote(n):Fte(n)}var Iy=Dte,Lte=dB,Nte=Iy;function Ute(n,e){return n&&Lte(n,e,Nte)}var mB=Ute;function Bte(n){return n}var zC=Bte,zte=zC;function Hte(n){return typeof n=="function"?n:zte}var gB=Hte,kte=mB,jte=gB;function $te(n,e){return n&&kte(n,jte(e))}var pP=$te,Vte=pB,Gte=Vte(Object.getPrototypeOf,Object),mP=Gte,Wte=th,qte=mP,Xte=Wl,Yte="[object Object]",Kte=Function.prototype,Zte=Object.prototype,vB=Kte.toString,Jte=Zte.hasOwnProperty,Qte=vB.call(Object);function ene(n){if(!Xte(n)||Wte(n)!=Yte)return!1;var e=qte(n);if(e===null)return!0;var t=Jte.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&vB.call(t)==Qte}var yB=ene;function tne(n,e){for(var t=-1,r=n==null?0:n.length,i=Array(r);++t<r;)i[t]=e(n[t],t,n);return i}var bB=tne;function nne(){this.__data__=[],this.size=0}var rne=nne;function ine(n,e){return n===e||n!==n&&e!==e}var Dy=ine,ane=Dy;function one(n,e){for(var t=n.length;t--;)if(ane(n[t][0],e))return t;return-1}var HC=one,sne=HC,lne=Array.prototype,cne=lne.splice;function une(n){var e=this.__data__,t=sne(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():cne.call(e,t,1),--this.size,!0}var dne=une,fne=HC;function hne(n){var e=this.__data__,t=fne(e,n);return t<0?void 0:e[t][1]}var pne=hne,mne=HC;function gne(n){return mne(this.__data__,n)>-1}var vne=gne,yne=HC;function bne(n,e){var t=this.__data__,r=yne(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}var xne=bne,_ne=rne,Sne=dne,Cne=pne,wne=vne,Tne=xne;function km(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}km.prototype.clear=_ne;km.prototype.delete=Sne;km.prototype.get=Cne;km.prototype.has=wne;km.prototype.set=Tne;var kC=km,Mne=kC;function Ene(){this.__data__=new Mne,this.size=0}var Ane=Ene;function Rne(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var Pne=Rne;function One(n){return this.__data__.get(n)}var Fne=One;function Ine(n){return this.__data__.has(n)}var Dne=Ine,Lne=ol,Nne=Lne["__core-js_shared__"],Une=Nne,EM=Une,VF=function(){var n=/[^.]+$/.exec(EM&&EM.keys&&EM.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function Bne(n){return!!VF&&VF in n}var zne=Bne,Hne=Function.prototype,kne=Hne.toString;function jne(n){if(n!=null){try{return kne.call(n)}catch(e){}try{return n+""}catch(e){}}return""}var xB=jne,$ne=hP,Vne=zne,Gne=Ts,Wne=xB,qne=/[\\^$.*+?()[\]{}|]/g,Xne=/^\[object .+?Constructor\]$/,Yne=Function.prototype,Kne=Object.prototype,Zne=Yne.toString,Jne=Kne.hasOwnProperty,Qne=RegExp("^"+Zne.call(Jne).replace(qne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ere(n){if(!Gne(n)||Vne(n))return!1;var e=$ne(n)?Qne:Xne;return e.test(Wne(n))}var tre=ere;function nre(n,e){return n==null?void 0:n[e]}var rre=nre,ire=tre,are=rre;function ore(n,e){var t=are(n,e);return ire(t)?t:void 0}var nh=ore,sre=nh,lre=ol,cre=sre(lre,"Map"),gP=cre,ure=nh,dre=ure(Object,"create"),jC=dre,GF=jC;function fre(){this.__data__=GF?GF(null):{},this.size=0}var hre=fre;function pre(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var mre=pre,gre=jC,vre="__lodash_hash_undefined__",yre=Object.prototype,bre=yre.hasOwnProperty;function xre(n){var e=this.__data__;if(gre){var t=e[n];return t===vre?void 0:t}return bre.call(e,n)?e[n]:void 0}var _re=xre,Sre=jC,Cre=Object.prototype,wre=Cre.hasOwnProperty;function Tre(n){var e=this.__data__;return Sre?e[n]!==void 0:wre.call(e,n)}var Mre=Tre,Ere=jC,Are="__lodash_hash_undefined__";function Rre(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Ere&&e===void 0?Are:e,this}var Pre=Rre,Ore=hre,Fre=mre,Ire=_re,Dre=Mre,Lre=Pre;function jm(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}jm.prototype.clear=Ore;jm.prototype.delete=Fre;jm.prototype.get=Ire;jm.prototype.has=Dre;jm.prototype.set=Lre;var Nre=jm,WF=Nre,Ure=kC,Bre=gP;function zre(){this.size=0,this.__data__={hash:new WF,map:new(Bre||Ure),string:new WF}}var Hre=zre;function kre(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var jre=kre,$re=jre;function Vre(n,e){var t=n.__data__;return $re(e)?t[typeof e=="string"?"string":"hash"]:t.map}var $C=Vre,Gre=$C;function Wre(n){var e=Gre(this,n).delete(n);return this.size-=e?1:0,e}var qre=Wre,Xre=$C;function Yre(n){return Xre(this,n).get(n)}var Kre=Yre,Zre=$C;function Jre(n){return Zre(this,n).has(n)}var Qre=Jre,eie=$C;function tie(n,e){var t=eie(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}var nie=tie,rie=Hre,iie=qre,aie=Kre,oie=Qre,sie=nie;function $m(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}$m.prototype.clear=rie;$m.prototype.delete=iie;$m.prototype.get=aie;$m.prototype.has=oie;$m.prototype.set=sie;var vP=$m,lie=kC,cie=gP,uie=vP,die=200;function fie(n,e){var t=this.__data__;if(t instanceof lie){var r=t.__data__;if(!cie||r.length<die-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new uie(r)}return t.set(n,e),this.size=t.size,this}var hie=fie,pie=kC,mie=Ane,gie=Pne,vie=Fne,yie=Dne,bie=hie;function Vm(n){var e=this.__data__=new pie(n);this.size=e.size}Vm.prototype.clear=mie;Vm.prototype.delete=gie;Vm.prototype.get=vie;Vm.prototype.has=yie;Vm.prototype.set=bie;var VC=Vm,xie="__lodash_hash_undefined__";function _ie(n){return this.__data__.set(n,xie),this}var Sie=_ie;function Cie(n){return this.__data__.has(n)}var wie=Cie,Tie=vP,Mie=Sie,Eie=wie;function a1(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Tie;++e<t;)this.add(n[e])}a1.prototype.add=a1.prototype.push=Mie;a1.prototype.has=Eie;var Aie=a1;function Rie(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}var Pie=Rie;function Oie(n,e){return n.has(e)}var Fie=Oie,Iie=Aie,Die=Pie,Lie=Fie,Nie=1,Uie=2;function Bie(n,e,t,r,i,a){var o=t&Nie,s=n.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(n),d=a.get(e);if(c&&d)return c==e&&d==n;var h=-1,m=!0,v=t&Uie?new Iie:void 0;for(a.set(n,e),a.set(e,n);++h<s;){var g=n[h],x=e[h];if(r)var b=o?r(x,g,h,e,n,a):r(g,x,h,n,e,a);if(b!==void 0){if(b)continue;m=!1;break}if(v){if(!Die(e,function(_,C){if(!Lie(v,C)&&(g===_||i(g,_,t,r,a)))return v.push(C)})){m=!1;break}}else if(!(g===x||i(g,x,t,r,a))){m=!1;break}}return a.delete(n),a.delete(e),m}var _B=Bie,zie=ol,Hie=zie.Uint8Array,SB=Hie;function kie(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}var jie=kie;function $ie(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var Vie=$ie,qF=Fy,XF=SB,Gie=Dy,Wie=_B,qie=jie,Xie=Vie,Yie=1,Kie=2,Zie="[object Boolean]",Jie="[object Date]",Qie="[object Error]",eae="[object Map]",tae="[object Number]",nae="[object RegExp]",rae="[object Set]",iae="[object String]",aae="[object Symbol]",oae="[object ArrayBuffer]",sae="[object DataView]",YF=qF?qF.prototype:void 0,AM=YF?YF.valueOf:void 0;function lae(n,e,t,r,i,a,o){switch(t){case sae:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case oae:return!(n.byteLength!=e.byteLength||!a(new XF(n),new XF(e)));case Zie:case Jie:case tae:return Gie(+n,+e);case Qie:return n.name==e.name&&n.message==e.message;case nae:case iae:return n==e+"";case eae:var s=qie;case rae:var l=r&Yie;if(s||(s=Xie),n.size!=e.size&&!l)return!1;var c=o.get(n);if(c)return c==e;r|=Kie,o.set(n,e);var d=Wie(s(n),s(e),r,i,a,o);return o.delete(n),d;case aae:if(AM)return AM.call(n)==AM.call(e)}return!1}var cae=lae;function uae(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var CB=uae,dae=CB,fae=ts;function hae(n,e,t){var r=e(n);return fae(n)?r:dae(r,t(n))}var wB=hae;function pae(n,e){for(var t=-1,r=n==null?0:n.length,i=0,a=[];++t<r;){var o=n[t];e(o,t,n)&&(a[i++]=o)}return a}var mae=pae;function gae(){return[]}var TB=gae,vae=mae,yae=TB,bae=Object.prototype,xae=bae.propertyIsEnumerable,KF=Object.getOwnPropertySymbols,_ae=KF?function(n){return n==null?[]:(n=Object(n),vae(KF(n),function(e){return xae.call(n,e)}))}:yae,yP=_ae,Sae=wB,Cae=yP,wae=Iy;function Tae(n){return Sae(n,wae,Cae)}var MB=Tae,ZF=MB,Mae=1,Eae=Object.prototype,Aae=Eae.hasOwnProperty;function Rae(n,e,t,r,i,a){var o=t&Mae,s=ZF(n),l=s.length,c=ZF(e),d=c.length;if(l!=d&&!o)return!1;for(var h=l;h--;){var m=s[h];if(!(o?m in e:Aae.call(e,m)))return!1}var v=a.get(n),g=a.get(e);if(v&&g)return v==e&&g==n;var x=!0;a.set(n,e),a.set(e,n);for(var b=o;++h<l;){m=s[h];var _=n[m],C=e[m];if(r)var T=o?r(C,_,m,e,n,a):r(_,C,m,n,e,a);if(!(T===void 0?_===C||i(_,C,t,r,a):T)){x=!1;break}b||(b=m=="constructor")}if(x&&!b){var M=n.constructor,O=e.constructor;M!=O&&"constructor"in n&&"constructor"in e&&!(typeof M=="function"&&M instanceof M&&typeof O=="function"&&O instanceof O)&&(x=!1)}return a.delete(n),a.delete(e),x}var Pae=Rae,Oae=nh,Fae=ol,Iae=Oae(Fae,"DataView"),Dae=Iae,Lae=nh,Nae=ol,Uae=Lae(Nae,"Promise"),Bae=Uae,zae=nh,Hae=ol,kae=zae(Hae,"Set"),jae=kae,$ae=nh,Vae=ol,Gae=$ae(Vae,"WeakMap"),Wae=Gae,PA=Dae,OA=gP,FA=Bae,IA=jae,DA=Wae,EB=th,Gm=xB,JF="[object Map]",qae="[object Object]",QF="[object Promise]",eI="[object Set]",tI="[object WeakMap]",nI="[object DataView]",Xae=Gm(PA),Yae=Gm(OA),Kae=Gm(FA),Zae=Gm(IA),Jae=Gm(DA),ff=EB;(PA&&ff(new PA(new ArrayBuffer(1)))!=nI||OA&&ff(new OA)!=JF||FA&&ff(FA.resolve())!=QF||IA&&ff(new IA)!=eI||DA&&ff(new DA)!=tI)&&(ff=function(n){var e=EB(n),t=e==qae?n.constructor:void 0,r=t?Gm(t):"";if(r)switch(r){case Xae:return nI;case Yae:return JF;case Kae:return QF;case Zae:return eI;case Jae:return tI}return e});var GC=ff,RM=VC,Qae=_B,eoe=cae,toe=Pae,rI=GC,iI=ts,aI=BC,noe=dP,roe=1,oI="[object Arguments]",sI="[object Array]",Zx="[object Object]",ioe=Object.prototype,lI=ioe.hasOwnProperty;function aoe(n,e,t,r,i,a){var o=iI(n),s=iI(e),l=o?sI:rI(n),c=s?sI:rI(e);l=l==oI?Zx:l,c=c==oI?Zx:c;var d=l==Zx,h=c==Zx,m=l==c;if(m&&aI(n)){if(!aI(e))return!1;o=!0,d=!1}if(m&&!d)return a||(a=new RM),o||noe(n)?Qae(n,e,t,r,i,a):eoe(n,e,l,t,r,i,a);if(!(t&roe)){var v=d&&lI.call(n,"__wrapped__"),g=h&&lI.call(e,"__wrapped__");if(v||g){var x=v?n.value():n,b=g?e.value():e;return a||(a=new RM),i(x,b,t,r,a)}}return m?(a||(a=new RM),toe(n,e,t,r,i,a)):!1}var ooe=aoe,soe=ooe,cI=Wl;function AB(n,e,t,r,i){return n===e?!0:n==null||e==null||!cI(n)&&!cI(e)?n!==n&&e!==e:soe(n,e,t,r,AB,i)}var RB=AB,loe=VC,coe=RB,uoe=1,doe=2;function foe(n,e,t,r){var i=t.length,a=i,o=!r;if(n==null)return!a;for(n=Object(n);i--;){var s=t[i];if(o&&s[2]?s[1]!==n[s[0]]:!(s[0]in n))return!1}for(;++i<a;){s=t[i];var l=s[0],c=n[l],d=s[1];if(o&&s[2]){if(c===void 0&&!(l in n))return!1}else{var h=new loe;if(r)var m=r(c,d,l,n,e,h);if(!(m===void 0?coe(d,c,uoe|doe,r,h):m))return!1}}return!0}var hoe=foe,poe=Ts;function moe(n){return n===n&&!poe(n)}var PB=moe,goe=PB,voe=Iy;function yoe(n){for(var e=voe(n),t=e.length;t--;){var r=e[t],i=n[r];e[t]=[r,i,goe(i)]}return e}var boe=yoe;function xoe(n,e){return function(t){return t==null?!1:t[n]===e&&(e!==void 0||n in Object(t))}}var OB=xoe,_oe=hoe,Soe=boe,Coe=OB;function woe(n){var e=Soe(n);return e.length==1&&e[0][2]?Coe(e[0][0],e[0][1]):function(t){return t===n||_oe(t,n,e)}}var Toe=woe,Moe=th,Eoe=Wl,Aoe="[object Symbol]";function Roe(n){return typeof n=="symbol"||Eoe(n)&&Moe(n)==Aoe}var WC=Roe,Poe=ts,Ooe=WC,Foe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ioe=/^\w*$/;function Doe(n,e){if(Poe(n))return!1;var t=typeof n;return t=="number"||t=="symbol"||t=="boolean"||n==null||Ooe(n)?!0:Ioe.test(n)||!Foe.test(n)||e!=null&&n in Object(e)}var bP=Doe,FB=vP,Loe="Expected a function";function xP(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(Loe);var t=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=t.cache;if(a.has(i))return a.get(i);var o=n.apply(this,r);return t.cache=a.set(i,o)||a,o};return t.cache=new(xP.Cache||FB),t}xP.Cache=FB;var Noe=xP,Uoe=Noe,Boe=500;function zoe(n){var e=Uoe(n,function(r){return t.size===Boe&&t.clear(),r}),t=e.cache;return e}var Hoe=zoe,koe=Hoe,joe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$oe=/\\(\\)?/g,Voe=koe(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(joe,function(t,r,i,a){e.push(i?a.replace($oe,"$1"):r||t)}),e}),Goe=Voe,uI=Fy,Woe=bB,qoe=ts,Xoe=WC,dI=uI?uI.prototype:void 0,fI=dI?dI.toString:void 0;function IB(n){if(typeof n=="string")return n;if(qoe(n))return Woe(n,IB)+"";if(Xoe(n))return fI?fI.call(n):"";var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var Yoe=IB,Koe=Yoe;function Zoe(n){return n==null?"":Koe(n)}var Joe=Zoe,Qoe=ts,ese=bP,tse=Goe,nse=Joe;function rse(n,e){return Qoe(n)?n:ese(n,e)?[n]:tse(nse(n))}var DB=rse,ise=WC;function ase(n){if(typeof n=="string"||ise(n))return n;var e=n+"";return e=="0"&&1/n==-1/0?"-0":e}var qC=ase,ose=DB,sse=qC;function lse(n,e){e=ose(e,n);for(var t=0,r=e.length;n!=null&&t<r;)n=n[sse(e[t++])];return t&&t==r?n:void 0}var LB=lse,cse=LB;function use(n,e,t){var r=n==null?void 0:cse(n,e);return r===void 0?t:r}var dse=use;function fse(n,e){return n!=null&&e in Object(n)}var hse=fse,pse=DB,mse=oP,gse=ts,vse=sP,yse=lP,bse=qC;function xse(n,e,t){e=pse(e,n);for(var r=-1,i=e.length,a=!1;++r<i;){var o=bse(e[r]);if(!(a=n!=null&&t(n,o)))break;n=n[o]}return a||++r!=i?a:(i=n==null?0:n.length,!!i&&yse(i)&&vse(o,i)&&(gse(n)||mse(n)))}var _se=xse,Sse=hse,Cse=_se;function wse(n,e){return n!=null&&Cse(n,e,Sse)}var Tse=wse,Mse=RB,Ese=dse,Ase=Tse,Rse=bP,Pse=PB,Ose=OB,Fse=qC,Ise=1,Dse=2;function Lse(n,e){return Rse(n)&&Pse(e)?Ose(Fse(n),e):function(t){var r=Ese(t,n);return r===void 0&&r===e?Ase(t,n):Mse(e,r,Ise|Dse)}}var Nse=Lse;function Use(n){return function(e){return e==null?void 0:e[n]}}var Bse=Use,zse=LB;function Hse(n){return function(e){return zse(e,n)}}var kse=Hse,jse=Bse,$se=kse,Vse=bP,Gse=qC;function Wse(n){return Vse(n)?jse(Gse(n)):$se(n)}var qse=Wse,Xse=Toe,Yse=Nse,Kse=zC,Zse=ts,Jse=qse;function Qse(n){return typeof n=="function"?n:n==null?Kse:typeof n=="object"?Zse(n)?Yse(n[0],n[1]):Xse(n):Jse(n)}var ele=Qse,tle=Hm;function nle(n,e){return function(t,r){if(t==null)return t;if(!tle(t))return n(t,r);for(var i=t.length,a=e?i:-1,o=Object(t);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return t}}var rle=nle,ile=mB,ale=rle,ole=ale(ile),NB=ole,sle=NB,lle=Hm;function cle(n,e){var t=-1,r=lle(n)?Array(n.length):[];return sle(n,function(i,a,o){r[++t]=e(i,a,o)}),r}var ule=cle,dle=bB,fle=ele,hle=ule,ple=ts;function mle(n,e){var t=ple(n)?dle:hle;return t(n,fle(e))}var gle=mle;Object.defineProperty(Oy,"__esModule",{value:!0});Oy.flattenNames=void 0;var vle=ZQ,yle=XC(vle),ble=pP,xle=XC(ble),_le=yB,Sle=XC(_le),Cle=gle,wle=XC(Cle);function XC(n){return n&&n.__esModule?n:{default:n}}var Tle=Oy.flattenNames=function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=[];return(0,wle.default)(e,function(r){Array.isArray(r)?n(r).map(function(i){return t.push(i)}):(0,Sle.default)(r)?(0,xle.default)(r,function(i,a){i===!0&&t.push(a),t.push(a+"-"+i)}):(0,yle.default)(r)&&t.push(r)}),t};Oy.default=Tle;var Ly={};function Mle(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var UB=Mle,Ele=nh,Ale=function(){try{var n=Ele(Object,"defineProperty");return n({},"",{}),n}catch(e){}}(),BB=Ale,hI=BB;function Rle(n,e,t){e=="__proto__"&&hI?hI(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}var _P=Rle,Ple=_P,Ole=Dy,Fle=Object.prototype,Ile=Fle.hasOwnProperty;function Dle(n,e,t){var r=n[e];(!(Ile.call(n,e)&&Ole(r,t))||t===void 0&&!(e in n))&&Ple(n,e,t)}var zB=Dle,Lle=zB,Nle=_P;function Ule(n,e,t,r){var i=!t;t||(t={});for(var a=-1,o=e.length;++a<o;){var s=e[a],l=r?r(t[s],n[s],s,t,n):void 0;l===void 0&&(l=n[s]),i?Nle(t,s,l):Lle(t,s,l)}return t}var Ny=Ule,Ble=Ny,zle=Iy;function Hle(n,e){return n&&Ble(e,zle(e),n)}var kle=Hle;function jle(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var $le=jle,Vle=Ts,Gle=fP,Wle=$le,qle=Object.prototype,Xle=qle.hasOwnProperty;function Yle(n){if(!Vle(n))return Wle(n);var e=Gle(n),t=[];for(var r in n)r=="constructor"&&(e||!Xle.call(n,r))||t.push(r);return t}var Kle=Yle,Zle=hB,Jle=Kle,Qle=Hm;function ece(n){return Qle(n)?Zle(n,!0):Jle(n)}var Uy=ece,tce=Ny,nce=Uy;function rce(n,e){return n&&tce(e,nce(e),n)}var ice=rce,o1={exports:{}};o1.exports;(function(n,e){var t=ol,r=e&&!e.nodeType&&e,i=r&&!0&&n&&!n.nodeType&&n,a=i&&i.exports===r,o=a?t.Buffer:void 0,s=o?o.allocUnsafe:void 0;function l(c,d){if(d)return c.slice();var h=c.length,m=s?s(h):new c.constructor(h);return c.copy(m),m}n.exports=l})(o1,o1.exports);var HB=o1.exports;function ace(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var kB=ace,oce=Ny,sce=yP;function lce(n,e){return oce(n,sce(n),e)}var cce=lce,uce=CB,dce=mP,fce=yP,hce=TB,pce=Object.getOwnPropertySymbols,mce=pce?function(n){for(var e=[];n;)uce(e,fce(n)),n=dce(n);return e}:hce,jB=mce,gce=Ny,vce=jB;function yce(n,e){return gce(n,vce(n),e)}var bce=yce,xce=wB,_ce=jB,Sce=Uy;function Cce(n){return xce(n,Sce,_ce)}var wce=Cce,Tce=Object.prototype,Mce=Tce.hasOwnProperty;function Ece(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&Mce.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var Ace=Ece,pI=SB;function Rce(n){var e=new n.constructor(n.byteLength);return new pI(e).set(new pI(n)),e}var SP=Rce,Pce=SP;function Oce(n,e){var t=e?Pce(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.byteLength)}var Fce=Oce,Ice=/\w*$/;function Dce(n){var e=new n.constructor(n.source,Ice.exec(n));return e.lastIndex=n.lastIndex,e}var Lce=Dce,mI=Fy,gI=mI?mI.prototype:void 0,vI=gI?gI.valueOf:void 0;function Nce(n){return vI?Object(vI.call(n)):{}}var Uce=Nce,Bce=SP;function zce(n,e){var t=e?Bce(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var $B=zce,Hce=SP,kce=Fce,jce=Lce,$ce=Uce,Vce=$B,Gce="[object Boolean]",Wce="[object Date]",qce="[object Map]",Xce="[object Number]",Yce="[object RegExp]",Kce="[object Set]",Zce="[object String]",Jce="[object Symbol]",Qce="[object ArrayBuffer]",eue="[object DataView]",tue="[object Float32Array]",nue="[object Float64Array]",rue="[object Int8Array]",iue="[object Int16Array]",aue="[object Int32Array]",oue="[object Uint8Array]",sue="[object Uint8ClampedArray]",lue="[object Uint16Array]",cue="[object Uint32Array]";function uue(n,e,t){var r=n.constructor;switch(e){case Qce:return Hce(n);case Gce:case Wce:return new r(+n);case eue:return kce(n,t);case tue:case nue:case rue:case iue:case aue:case oue:case sue:case lue:case cue:return Vce(n,t);case qce:return new r;case Xce:case Zce:return new r(n);case Yce:return jce(n);case Kce:return new r;case Jce:return $ce(n)}}var due=uue,fue=Ts,yI=Object.create,hue=function(){function n(){}return function(e){if(!fue(e))return{};if(yI)return yI(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}(),pue=hue,mue=pue,gue=mP,vue=fP;function yue(n){return typeof n.constructor=="function"&&!vue(n)?mue(gue(n)):{}}var VB=yue,bue=GC,xue=Wl,_ue="[object Map]";function Sue(n){return xue(n)&&bue(n)==_ue}var Cue=Sue,wue=Cue,Tue=cP,bI=uP,xI=bI&&bI.isMap,Mue=xI?Tue(xI):wue,Eue=Mue,Aue=GC,Rue=Wl,Pue="[object Set]";function Oue(n){return Rue(n)&&Aue(n)==Pue}var Fue=Oue,Iue=Fue,Due=cP,_I=uP,SI=_I&&_I.isSet,Lue=SI?Due(SI):Iue,Nue=Lue,Uue=VC,Bue=UB,zue=zB,Hue=kle,kue=ice,jue=HB,$ue=kB,Vue=cce,Gue=bce,Wue=MB,que=wce,Xue=GC,Yue=Ace,Kue=due,Zue=VB,Jue=ts,Que=BC,ede=Eue,tde=Ts,nde=Nue,rde=Iy,ide=Uy,ade=1,ode=2,sde=4,GB="[object Arguments]",lde="[object Array]",cde="[object Boolean]",ude="[object Date]",dde="[object Error]",WB="[object Function]",fde="[object GeneratorFunction]",hde="[object Map]",pde="[object Number]",qB="[object Object]",mde="[object RegExp]",gde="[object Set]",vde="[object String]",yde="[object Symbol]",bde="[object WeakMap]",xde="[object ArrayBuffer]",_de="[object DataView]",Sde="[object Float32Array]",Cde="[object Float64Array]",wde="[object Int8Array]",Tde="[object Int16Array]",Mde="[object Int32Array]",Ede="[object Uint8Array]",Ade="[object Uint8ClampedArray]",Rde="[object Uint16Array]",Pde="[object Uint32Array]",Or={};Or[GB]=Or[lde]=Or[xde]=Or[_de]=Or[cde]=Or[ude]=Or[Sde]=Or[Cde]=Or[wde]=Or[Tde]=Or[Mde]=Or[hde]=Or[pde]=Or[qB]=Or[mde]=Or[gde]=Or[vde]=Or[yde]=Or[Ede]=Or[Ade]=Or[Rde]=Or[Pde]=!0;Or[dde]=Or[WB]=Or[bde]=!1;function iS(n,e,t,r,i,a){var o,s=e&ade,l=e&ode,c=e&sde;if(t&&(o=i?t(n,r,i,a):t(n)),o!==void 0)return o;if(!tde(n))return n;var d=Jue(n);if(d){if(o=Yue(n),!s)return $ue(n,o)}else{var h=Xue(n),m=h==WB||h==fde;if(Que(n))return jue(n,s);if(h==qB||h==GB||m&&!i){if(o=l||m?{}:Zue(n),!s)return l?Gue(n,kue(o,n)):Vue(n,Hue(o,n))}else{if(!Or[h])return i?n:{};o=Kue(n,h,s)}}a||(a=new Uue);var v=a.get(n);if(v)return v;a.set(n,o),nde(n)?n.forEach(function(b){o.add(iS(b,e,t,b,n,a))}):ede(n)&&n.forEach(function(b,_){o.set(_,iS(b,e,t,_,n,a))});var g=c?l?que:Wue:l?ide:rde,x=d?void 0:g(n);return Bue(x||n,function(b,_){x&&(_=b,b=n[_]),zue(o,_,iS(b,e,t,_,n,a))}),o}var Ode=iS,Fde=Ode,Ide=1,Dde=4;function Lde(n){return Fde(n,Ide|Dde)}var Nde=Lde;Object.defineProperty(Ly,"__esModule",{value:!0});Ly.mergeClasses=void 0;var Ude=pP,Bde=XB(Ude),zde=Nde,Hde=XB(zde),kde=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};function XB(n){return n&&n.__esModule?n:{default:n}}var jde=Ly.mergeClasses=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=e.default&&(0,Hde.default)(e.default)||{};return t.map(function(i){var a=e[i];return a&&(0,Bde.default)(a,function(o,s){r[s]||(r[s]={}),r[s]=kde({},r[s],a[s])}),i}),r};Ly.default=jde;var By={};Object.defineProperty(By,"__esModule",{value:!0});By.autoprefix=void 0;var $de=pP,CI=Gde($de),Vde=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n};function Gde(n){return n&&n.__esModule?n:{default:n}}var Wde={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var r=t[e];return r||{extend:e}}},qde=By.autoprefix=function(e){var t={};return(0,CI.default)(e,function(r,i){var a={};(0,CI.default)(r,function(o,s){var l=Wde[s];l?a=Vde({},a,l(o)):a[s]=o}),t[i]=a}),t};By.default=qde;var zy={};Object.defineProperty(zy,"__esModule",{value:!0});zy.hover=void 0;var Xde=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Yde=P,PM=Kde(Yde);function Kde(n){return n&&n.__esModule?n:{default:n}}function Zde(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function wI(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function Jde(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var Qde=zy.hover=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){Jde(i,r);function i(){var a,o,s,l;Zde(this,i);for(var c=arguments.length,d=Array(c),h=0;h<c;h++)d[h]=arguments[h];return l=(o=(s=wI(this,(a=i.__proto__||Object.getPrototypeOf(i)).call.apply(a,[this].concat(d))),s),s.state={hover:!1},s.handleMouseOver=function(){return s.setState({hover:!0})},s.handleMouseOut=function(){return s.setState({hover:!1})},s.render=function(){return PM.default.createElement(t,{onMouseOver:s.handleMouseOver,onMouseOut:s.handleMouseOut},PM.default.createElement(e,Xde({},s.props,s.state)))},o),wI(s,l)}return i}(PM.default.Component)};zy.default=Qde;var Hy={};Object.defineProperty(Hy,"__esModule",{value:!0});Hy.active=void 0;var efe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},tfe=P,OM=nfe(tfe);function nfe(n){return n&&n.__esModule?n:{default:n}}function rfe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function TI(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:n}function ife(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}var afe=Hy.active=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){ife(i,r);function i(){var a,o,s,l;rfe(this,i);for(var c=arguments.length,d=Array(c),h=0;h<c;h++)d[h]=arguments[h];return l=(o=(s=TI(this,(a=i.__proto__||Object.getPrototypeOf(i)).call.apply(a,[this].concat(d))),s),s.state={active:!1},s.handleMouseDown=function(){return s.setState({active:!0})},s.handleMouseUp=function(){return s.setState({active:!1})},s.render=function(){return OM.default.createElement(t,{onMouseDown:s.handleMouseDown,onMouseUp:s.handleMouseUp},OM.default.createElement(e,efe({},s.props,s.state)))},o),TI(s,l)}return i}(OM.default.Component)};Hy.default=afe;var CP={};Object.defineProperty(CP,"__esModule",{value:!0});var ofe=function(e,t){var r={},i=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;r[o]=s};return e===0&&i("first-child"),e===t-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),r};CP.default=ofe;Object.defineProperty(xs,"__esModule",{value:!0});xs.ReactCSS=xs.loop=xs.handleActive=xs.handleHover=xs.hover=void 0;var sfe=Oy,lfe=Wm(sfe),cfe=Ly,ufe=Wm(cfe),dfe=By,ffe=Wm(dfe),hfe=zy,YB=Wm(hfe),pfe=Hy,mfe=Wm(pfe),gfe=CP,vfe=Wm(gfe);function Wm(n){return n&&n.__esModule?n:{default:n}}xs.hover=YB.default;xs.handleHover=YB.default;xs.handleActive=mfe.default;xs.loop=vfe.default;var yfe=xs.ReactCSS=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var a=(0,lfe.default)(r),o=(0,ufe.default)(e,a);return(0,ffe.default)(o)},Zu=xs.default=yfe,bfe=_P,xfe=Dy;function _fe(n,e,t){(t!==void 0&&!xfe(n[e],t)||t===void 0&&!(e in n))&&bfe(n,e,t)}var KB=_fe,Sfe=Hm,Cfe=Wl;function wfe(n){return Cfe(n)&&Sfe(n)}var Tfe=wfe;function Mfe(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}var ZB=Mfe,Efe=Ny,Afe=Uy;function Rfe(n){return Efe(n,Afe(n))}var Pfe=Rfe,MI=KB,Ofe=HB,Ffe=$B,Ife=kB,Dfe=VB,EI=oP,AI=ts,Lfe=Tfe,Nfe=BC,Ufe=hP,Bfe=Ts,zfe=yB,Hfe=dP,RI=ZB,kfe=Pfe;function jfe(n,e,t,r,i,a,o){var s=RI(n,t),l=RI(e,t),c=o.get(l);if(c){MI(n,t,c);return}var d=a?a(s,l,t+"",n,e,o):void 0,h=d===void 0;if(h){var m=AI(l),v=!m&&Nfe(l),g=!m&&!v&&Hfe(l);d=l,m||v||g?AI(s)?d=s:Lfe(s)?d=Ife(s):v?(h=!1,d=Ofe(l,!0)):g?(h=!1,d=Ffe(l,!0)):d=[]:zfe(l)||EI(l)?(d=s,EI(s)?d=kfe(s):(!Bfe(s)||Ufe(s))&&(d=Dfe(l))):h=!1}h&&(o.set(l,d),i(d,l,r,a,o),o.delete(l)),MI(n,t,d)}var $fe=jfe,Vfe=VC,Gfe=KB,Wfe=dB,qfe=$fe,Xfe=Ts,Yfe=Uy,Kfe=ZB;function JB(n,e,t,r,i){n!==e&&Wfe(e,function(a,o){if(i||(i=new Vfe),Xfe(a))qfe(n,e,o,t,JB,r,i);else{var s=r?r(Kfe(n,o),a,o+"",n,e,i):void 0;s===void 0&&(s=a),Gfe(n,o,s)}},Yfe)}var Zfe=JB;function Jfe(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}var Qfe=Jfe,ehe=Qfe,PI=Math.max;function the(n,e,t){return e=PI(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,a=PI(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=t(o),ehe(n,this,s)}}var nhe=the;function rhe(n){return function(){return n}}var ihe=rhe,ahe=ihe,OI=BB,ohe=zC,she=OI?function(n,e){return OI(n,"toString",{configurable:!0,enumerable:!1,value:ahe(e),writable:!0})}:ohe,lhe=she,che=800,uhe=16,dhe=Date.now;function fhe(n){var e=0,t=0;return function(){var r=dhe(),i=uhe-(r-t);if(t=r,i>0){if(++e>=che)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var hhe=fhe,phe=lhe,mhe=hhe,ghe=mhe(phe),vhe=ghe,yhe=zC,bhe=nhe,xhe=vhe;function _he(n,e){return xhe(bhe(n,e,yhe),n+"")}var She=_he,Che=Dy,whe=Hm,The=sP,Mhe=Ts;function Ehe(n,e,t){if(!Mhe(t))return!1;var r=typeof e;return(r=="number"?whe(t)&&The(e,t.length):r=="string"&&e in t)?Che(t[e],n):!1}var Ahe=Ehe,Rhe=She,Phe=Ahe;function Ohe(n){return Rhe(function(e,t){var r=-1,i=t.length,a=i>1?t[i-1]:void 0,o=i>2?t[2]:void 0;for(a=n.length>3&&typeof a=="function"?(i--,a):void 0,o&&Phe(t[0],t[1],o)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var s=t[r];s&&n(e,s,r,a)}return e})}var Fhe=Ohe,Ihe=Zfe,Dhe=Fhe,Lhe=Dhe(function(n,e,t){Ihe(n,e,t)}),Nhe=Lhe;const Uhe=ri(Nhe);var Bhe=function(e,t,r,i,a){var o=a.clientWidth,s=a.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,c=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,d=l-(a.getBoundingClientRect().left+window.pageXOffset),h=c-(a.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var m;if(h<0?m=0:h>s?m=1:m=Math.round(h*100/s)/100,t.a!==m)return{h:t.h,s:t.s,l:t.l,a:m,source:"rgb"}}else{var v;if(d<0?v=0:d>o?v=1:v=Math.round(d*100/o)/100,i!==v)return{h:t.h,s:t.s,l:t.l,a:v,source:"rgb"}}return null},FM={},zhe=function(e,t,r,i){if(typeof document=="undefined"&&!i)return null;var a=i?new i:document.createElement("canvas");a.width=r*2,a.height=r*2;var o=a.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,a.width,a.height),o.fillStyle=t,o.fillRect(0,0,r,r),o.translate(r,r),o.fillRect(0,0,r,r),a.toDataURL()):null},Hhe=function(e,t,r,i){var a="".concat(e,"-").concat(t,"-").concat(r).concat(i?"-server":"");if(FM[a])return FM[a];var o=zhe(e,t,r,i);return FM[a]=o,o};function W0(n){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W0(n)}function FI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Jx(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?FI(Object(t),!0).forEach(function(r){khe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):FI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function khe(n,e,t){return e=jhe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function jhe(n){var e=$he(n,"string");return W0(e)==="symbol"?e:String(e)}function $he(n,e){if(W0(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(W0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var YC=function(e){var t=e.white,r=e.grey,i=e.size,a=e.renderers,o=e.borderRadius,s=e.boxShadow,l=e.children,c=Zu({default:{grid:{borderRadius:o,boxShadow:s,absolute:"0px 0px 0px 0px",background:"url(".concat(Hhe(t,r,i,a.canvas),") center left")}}});return P.isValidElement(l)?Oe.cloneElement(l,Jx(Jx({},l.props),{},{style:Jx(Jx({},l.props.style),c.grid)})):Oe.createElement("div",{style:c.grid})};YC.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};function hm(n){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(n)}function II(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Vhe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?II(Object(t),!0).forEach(function(r){Ghe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):II(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Ghe(n,e,t){return e=QB(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Whe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function qhe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,QB(r.key),r)}}function Xhe(n,e,t){return e&&qhe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function QB(n){var e=Yhe(n,"string");return hm(e)==="symbol"?e:String(e)}function Yhe(n,e){if(hm(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(hm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Khe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&LA(n,e)}function LA(n,e){return LA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LA(n,e)}function Zhe(n){var e=epe();return function(){var r=s1(n),i;if(e){var a=s1(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Jhe(this,i)}}function Jhe(n,e){if(e&&(hm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qhe(n)}function Qhe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function epe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function s1(n){return s1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s1(n)}var tpe=function(n){Khe(t,n);var e=Zhe(t);function t(){var r;Whe(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a)),r.handleChange=function(s){var l=Bhe(s,r.props.hsl,r.props.direction,r.props.a,r.container);l&&typeof r.props.onChange=="function"&&r.props.onChange(l,s)},r.handleMouseDown=function(s){r.handleChange(s),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleChange),window.removeEventListener("mouseup",r.handleMouseUp)},r}return Xhe(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var i=this,a=this.props.rgb,o=Zu({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba(".concat(a.r,",").concat(a.g,",").concat(a.b,`, 0) 0%,
           rgba(`).concat(a.r,",").concat(a.g,",").concat(a.b,", 1) 100%)"),boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:"".concat(a.a*100,"%")},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba(".concat(a.r,",").concat(a.g,",").concat(a.b,`, 0) 0%,
           rgba(`).concat(a.r,",").concat(a.g,",").concat(a.b,", 1) 100%)")},pointer:{left:0,top:"".concat(a.a*100,"%")}},overwrite:Vhe({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return Oe.createElement("div",{style:o.alpha},Oe.createElement("div",{style:o.checkboard},Oe.createElement(YC,{renderers:this.props.renderers})),Oe.createElement("div",{style:o.gradient}),Oe.createElement("div",{style:o.container,ref:function(l){return i.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Oe.createElement("div",{style:o.pointer},this.props.pointer?Oe.createElement(this.props.pointer,this.props):Oe.createElement("div",{style:o.slider}))))}}]),t}(P.PureComponent||P.Component),npe=function(e,t,r,i){var a=i.clientWidth,o=i.clientHeight,s=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=s-(i.getBoundingClientRect().left+window.pageXOffset),d=l-(i.getBoundingClientRect().top+window.pageYOffset);if(t==="vertical"){var h;if(d<0)h=359;else if(d>o)h=0;else{var m=-(d*100/o)+100;h=360*m/100}if(r.h!==h)return{h,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var v;if(c<0)v=0;else if(c>a)v=359;else{var g=c*100/a;v=360*g/100}if(r.h!==v)return{h:v,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null};function pm(n){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(n)}function rpe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function ipe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,ope(r.key),r)}}function ape(n,e,t){return e&&ipe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function ope(n){var e=spe(n,"string");return pm(e)==="symbol"?e:String(e)}function spe(n,e){if(pm(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(pm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function lpe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&NA(n,e)}function NA(n,e){return NA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NA(n,e)}function cpe(n){var e=fpe();return function(){var r=l1(n),i;if(e){var a=l1(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return upe(this,i)}}function upe(n,e){if(e&&(pm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dpe(n)}function dpe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function fpe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function l1(n){return l1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},l1(n)}var hpe=function(n){lpe(t,n);var e=cpe(t);function t(){var r;rpe(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a)),r.handleChange=function(s){var l=npe(s,r.props.direction,r.props.hsl,r.container);l&&typeof r.props.onChange=="function"&&r.props.onChange(l,s)},r.handleMouseDown=function(s){r.handleChange(s),window.addEventListener("mousemove",r.handleChange),window.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r}return ape(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var i=this,a=this.props.direction,o=a===void 0?"horizontal":a,s=Zu({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:"".concat(this.props.hsl.h*100/360,"%")},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:"".concat(-(this.props.hsl.h*100/360)+100,"%")}}},{vertical:o==="vertical"});return Oe.createElement("div",{style:s.hue},Oe.createElement("div",{className:"hue-".concat(o),style:s.container,ref:function(c){return i.container=c},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Oe.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),Oe.createElement("div",{style:s.pointer},this.props.pointer?Oe.createElement(this.props.pointer,this.props):Oe.createElement("div",{style:s.slider}))))}}]),t}(P.PureComponent||P.Component),ppe=ol,mpe=function(){return ppe.Date.now()},gpe=mpe,vpe=/\s/;function ype(n){for(var e=n.length;e--&&vpe.test(n.charAt(e)););return e}var bpe=ype,xpe=bpe,_pe=/^\s+/;function Spe(n){return n&&n.slice(0,xpe(n)+1).replace(_pe,"")}var Cpe=Spe,wpe=Cpe,DI=Ts,Tpe=WC,LI=NaN,Mpe=/^[-+]0x[0-9a-f]+$/i,Epe=/^0b[01]+$/i,Ape=/^0o[0-7]+$/i,Rpe=parseInt;function Ppe(n){if(typeof n=="number")return n;if(Tpe(n))return LI;if(DI(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=DI(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=wpe(n);var t=Epe.test(n);return t||Ape.test(n)?Rpe(n.slice(2),t?2:8):Mpe.test(n)?LI:+n}var Ope=Ppe,Fpe=Ts,IM=gpe,NI=Ope,Ipe="Expected a function",Dpe=Math.max,Lpe=Math.min;function Npe(n,e,t){var r,i,a,o,s,l,c=0,d=!1,h=!1,m=!0;if(typeof n!="function")throw new TypeError(Ipe);e=NI(e)||0,Fpe(t)&&(d=!!t.leading,h="maxWait"in t,a=h?Dpe(NI(t.maxWait)||0,e):a,m="trailing"in t?!!t.trailing:m);function v(I){var U=r,F=i;return r=i=void 0,c=I,o=n.apply(F,U),o}function g(I){return c=I,s=setTimeout(_,e),d?v(I):o}function x(I){var U=I-l,F=I-c,L=e-U;return h?Lpe(L,a-F):L}function b(I){var U=I-l,F=I-c;return l===void 0||U>=e||U<0||h&&F>=a}function _(){var I=IM();if(b(I))return C(I);s=setTimeout(_,x(I))}function C(I){return s=void 0,m&&r?v(I):(r=i=void 0,o)}function T(){s!==void 0&&clearTimeout(s),c=0,r=l=i=s=void 0}function M(){return s===void 0?o:C(IM())}function O(){var I=IM(),U=b(I);if(r=arguments,i=this,l=I,U){if(s===void 0)return g(l);if(h)return clearTimeout(s),s=setTimeout(_,e),v(l)}return s===void 0&&(s=setTimeout(_,e)),o}return O.cancel=T,O.flush=M,O}var ez=Npe;const tz=ri(ez);var Upe=ez,Bpe=Ts,zpe="Expected a function";function Hpe(n,e,t){var r=!0,i=!0;if(typeof n!="function")throw new TypeError(zpe);return Bpe(t)&&(r="leading"in t?!!t.leading:r,i="trailing"in t?!!t.trailing:i),Upe(n,e,{leading:r,maxWait:e,trailing:i})}var kpe=Hpe;const nz=ri(kpe);var jpe=function(e,t,r){var i=r.getBoundingClientRect(),a=i.width,o=i.height,s=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=s-(r.getBoundingClientRect().left+window.pageXOffset),d=l-(r.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>a&&(c=a),d<0?d=0:d>o&&(d=o);var h=c/a,m=1-d/o;return{h:t.h,s:h,v:m,a:t.a,source:"hsv"}};function mm(n){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(n)}function $pe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Vpe(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,Wpe(r.key),r)}}function Gpe(n,e,t){return e&&Vpe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Wpe(n){var e=qpe(n,"string");return mm(e)==="symbol"?e:String(e)}function qpe(n,e){if(mm(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(mm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Xpe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&UA(n,e)}function UA(n,e){return UA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UA(n,e)}function Ype(n){var e=Jpe();return function(){var r=c1(n),i;if(e){var a=c1(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Kpe(this,i)}}function Kpe(n,e){if(e&&(mm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zpe(n)}function Zpe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Jpe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function c1(n){return c1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},c1(n)}var Qpe=function(n){Xpe(t,n);var e=Ype(t);function t(r){var i;return $pe(this,t),i=e.call(this,r),i.handleChange=function(a){typeof i.props.onChange=="function"&&i.throttle(i.props.onChange,jpe(a,i.props.hsl,i.container),a)},i.handleMouseDown=function(a){i.handleChange(a);var o=i.getContainerRenderWindow();o.addEventListener("mousemove",i.handleChange),o.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.throttle=nz(function(a,o,s){a(o,s)},50),i}return Gpe(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var i=this.container,a=window;!a.document.contains(i)&&a.parent!==a;)a=a.parent;return a}},{key:"unbindEventListeners",value:function(){var i=this.getContainerRenderWindow();i.removeEventListener("mousemove",this.handleChange),i.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var i=this,a=this.props.style||{},o=a.color,s=a.white,l=a.black,c=a.pointer,d=a.circle,h=Zu({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl(".concat(this.props.hsl.h,",100%, 50%)"),borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:"".concat(-(this.props.hsv.v*100)+100,"%"),left:"".concat(this.props.hsv.s*100,"%"),cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:o,white:s,black:l,pointer:c,circle:d}},{custom:!!this.props.style});return Oe.createElement("div",{style:h.color,ref:function(v){return i.container=v},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},Oe.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),Oe.createElement("div",{style:h.white,className:"saturation-white"},Oe.createElement("div",{style:h.black,className:"saturation-black"}),Oe.createElement("div",{style:h.pointer},this.props.pointer?Oe.createElement(this.props.pointer,this.props):Oe.createElement("div",{style:h.circle}))))}}]),t}(P.PureComponent||P.Component),eme=UB,tme=NB,nme=gB,rme=ts;function ime(n,e){var t=rme(n)?eme:tme;return t(n,nme(e))}var ame=ime,ome=ame;const sme=ri(ome);function u1(n){"@babel/helpers - typeof";return u1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u1(n)}var lme=/^\s+/,cme=/\s+$/;function jt(n,e){if(n=n||"",e=e||{},n instanceof jt)return n;if(!(this instanceof jt))return new jt(n,e);var t=ume(n);this._originalInput=n,this._r=t.r,this._g=t.g,this._b=t.b,this._a=t.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||t.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=t.ok}jt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),t,r,i,a,o,s;return t=e.r/255,r=e.g/255,i=e.b/255,t<=.03928?a=t/12.92:a=Math.pow((t+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),.2126*a+.7152*o+.0722*s},setAlpha:function(e){return this._a=rz(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=BI(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=BI(this._r,this._g,this._b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+t+", "+r+"%, "+i+"%)":"hsva("+t+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=UI(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=UI(this._r,this._g,this._b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+t+", "+r+"%, "+i+"%)":"hsla("+t+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return zI(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return pme(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(kr(this._r,255)*100)+"%",g:Math.round(kr(this._g,255)*100)+"%",b:Math.round(kr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(kr(this._r,255)*100)+"%, "+Math.round(kr(this._g,255)*100)+"%, "+Math.round(kr(this._b,255)*100)+"%)":"rgba("+Math.round(kr(this._r,255)*100)+"%, "+Math.round(kr(this._g,255)*100)+"%, "+Math.round(kr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Mme[zI(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+HI(this._r,this._g,this._b,this._a),r=t,i=this._gradientType?"GradientType = 1, ":"";if(e){var a=jt(e);r="#"+HI(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,a=!t&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return a?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return jt(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(yme,arguments)},brighten:function(){return this._applyModification(bme,arguments)},darken:function(){return this._applyModification(xme,arguments)},desaturate:function(){return this._applyModification(mme,arguments)},saturate:function(){return this._applyModification(gme,arguments)},greyscale:function(){return this._applyModification(vme,arguments)},spin:function(){return this._applyModification(_me,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(wme,arguments)},complement:function(){return this._applyCombination(Sme,arguments)},monochromatic:function(){return this._applyCombination(Tme,arguments)},splitcomplement:function(){return this._applyCombination(Cme,arguments)},triad:function(){return this._applyCombination(kI,[3])},tetrad:function(){return this._applyCombination(kI,[4])}};jt.fromRatio=function(n,e){if(u1(n)=="object"){var t={};for(var r in n)n.hasOwnProperty(r)&&(r==="a"?t[r]=n[r]:t[r]=t0(n[r]));n=t}return jt(n,e)};function ume(n){var e={r:0,g:0,b:0},t=1,r=null,i=null,a=null,o=!1,s=!1;return typeof n=="string"&&(n=Pme(n)),u1(n)=="object"&&(Ac(n.r)&&Ac(n.g)&&Ac(n.b)?(e=dme(n.r,n.g,n.b),o=!0,s=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Ac(n.h)&&Ac(n.s)&&Ac(n.v)?(r=t0(n.s),i=t0(n.v),e=hme(n.h,r,i),o=!0,s="hsv"):Ac(n.h)&&Ac(n.s)&&Ac(n.l)&&(r=t0(n.s),a=t0(n.l),e=fme(n.h,r,a),o=!0,s="hsl"),n.hasOwnProperty("a")&&(t=n.a)),t=rz(t),{ok:o,format:n.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}function dme(n,e,t){return{r:kr(n,255)*255,g:kr(e,255)*255,b:kr(t,255)*255}}function UI(n,e,t){n=kr(n,255),e=kr(e,255),t=kr(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),a,o,s=(r+i)/2;if(r==i)a=o=0;else{var l=r-i;switch(o=s>.5?l/(2-r-i):l/(r+i),r){case n:a=(e-t)/l+(e<t?6:0);break;case e:a=(t-n)/l+2;break;case t:a=(n-e)/l+4;break}a/=6}return{h:a,s:o,l:s}}function fme(n,e,t){var r,i,a;n=kr(n,360),e=kr(e,100),t=kr(t,100);function o(c,d,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?c+(d-c)*6*h:h<1/2?d:h<2/3?c+(d-c)*(2/3-h)*6:c}if(e===0)r=i=a=t;else{var s=t<.5?t*(1+e):t+e-t*e,l=2*t-s;r=o(l,s,n+1/3),i=o(l,s,n),a=o(l,s,n-1/3)}return{r:r*255,g:i*255,b:a*255}}function BI(n,e,t){n=kr(n,255),e=kr(e,255),t=kr(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),a,o,s=r,l=r-i;if(o=r===0?0:l/r,r==i)a=0;else{switch(r){case n:a=(e-t)/l+(e<t?6:0);break;case e:a=(t-n)/l+2;break;case t:a=(n-e)/l+4;break}a/=6}return{h:a,s:o,v:s}}function hme(n,e,t){n=kr(n,360)*6,e=kr(e,100),t=kr(t,100);var r=Math.floor(n),i=n-r,a=t*(1-e),o=t*(1-i*e),s=t*(1-(1-i)*e),l=r%6,c=[t,o,a,a,s,t][l],d=[s,t,t,o,a,a][l],h=[a,a,s,t,t,o][l];return{r:c*255,g:d*255,b:h*255}}function zI(n,e,t,r){var i=[rl(Math.round(n).toString(16)),rl(Math.round(e).toString(16)),rl(Math.round(t).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function pme(n,e,t,r,i){var a=[rl(Math.round(n).toString(16)),rl(Math.round(e).toString(16)),rl(Math.round(t).toString(16)),rl(iz(r))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function HI(n,e,t,r){var i=[rl(iz(r)),rl(Math.round(n).toString(16)),rl(Math.round(e).toString(16)),rl(Math.round(t).toString(16))];return i.join("")}jt.equals=function(n,e){return!n||!e?!1:jt(n).toRgbString()==jt(e).toRgbString()};jt.random=function(){return jt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function mme(n,e){e=e===0?0:e||10;var t=jt(n).toHsl();return t.s-=e/100,t.s=KC(t.s),jt(t)}function gme(n,e){e=e===0?0:e||10;var t=jt(n).toHsl();return t.s+=e/100,t.s=KC(t.s),jt(t)}function vme(n){return jt(n).desaturate(100)}function yme(n,e){e=e===0?0:e||10;var t=jt(n).toHsl();return t.l+=e/100,t.l=KC(t.l),jt(t)}function bme(n,e){e=e===0?0:e||10;var t=jt(n).toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),jt(t)}function xme(n,e){e=e===0?0:e||10;var t=jt(n).toHsl();return t.l-=e/100,t.l=KC(t.l),jt(t)}function _me(n,e){var t=jt(n).toHsl(),r=(t.h+e)%360;return t.h=r<0?360+r:r,jt(t)}function Sme(n){var e=jt(n).toHsl();return e.h=(e.h+180)%360,jt(e)}function kI(n,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var t=jt(n).toHsl(),r=[jt(n)],i=360/e,a=1;a<e;a++)r.push(jt({h:(t.h+a*i)%360,s:t.s,l:t.l}));return r}function Cme(n){var e=jt(n).toHsl(),t=e.h;return[jt(n),jt({h:(t+72)%360,s:e.s,l:e.l}),jt({h:(t+216)%360,s:e.s,l:e.l})]}function wme(n,e,t){e=e||6,t=t||30;var r=jt(n).toHsl(),i=360/t,a=[jt(n)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,a.push(jt(r));return a}function Tme(n,e){e=e||6;for(var t=jt(n).toHsv(),r=t.h,i=t.s,a=t.v,o=[],s=1/e;e--;)o.push(jt({h:r,s:i,v:a})),a=(a+s)%1;return o}jt.mix=function(n,e,t){t=t===0?0:t||50;var r=jt(n).toRgb(),i=jt(e).toRgb(),a=t/100,o={r:(i.r-r.r)*a+r.r,g:(i.g-r.g)*a+r.g,b:(i.b-r.b)*a+r.b,a:(i.a-r.a)*a+r.a};return jt(o)};jt.readability=function(n,e){var t=jt(n),r=jt(e);return(Math.max(t.getLuminance(),r.getLuminance())+.05)/(Math.min(t.getLuminance(),r.getLuminance())+.05)};jt.isReadable=function(n,e,t){var r=jt.readability(n,e),i,a;switch(a=!1,i=Ome(t),i.level+i.size){case"AAsmall":case"AAAlarge":a=r>=4.5;break;case"AAlarge":a=r>=3;break;case"AAAsmall":a=r>=7;break}return a};jt.mostReadable=function(n,e,t){var r=null,i=0,a,o,s,l;t=t||{},o=t.includeFallbackColors,s=t.level,l=t.size;for(var c=0;c<e.length;c++)a=jt.readability(n,e[c]),a>i&&(i=a,r=jt(e[c]));return jt.isReadable(n,r,{level:s,size:l})||!o?r:(t.includeFallbackColors=!1,jt.mostReadable(n,["#fff","#000"],t))};var BA=jt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Mme=jt.hexNames=Eme(BA);function Eme(n){var e={};for(var t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function rz(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function kr(n,e){Ame(n)&&(n="100%");var t=Rme(n);return n=Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(n*e,10)/100),Math.abs(n-e)<1e-6?1:n%e/parseFloat(e)}function KC(n){return Math.min(1,Math.max(0,n))}function qo(n){return parseInt(n,16)}function Ame(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function Rme(n){return typeof n=="string"&&n.indexOf("%")!=-1}function rl(n){return n.length==1?"0"+n:""+n}function t0(n){return n<=1&&(n=n*100+"%"),n}function iz(n){return Math.round(parseFloat(n)*255).toString(16)}function jI(n){return qo(n)/255}var Ks=function(){var n="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",t="(?:"+e+")|(?:"+n+")",r="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",i="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Ac(n){return!!Ks.CSS_UNIT.exec(n)}function Pme(n){n=n.replace(lme,"").replace(cme,"").toLowerCase();var e=!1;if(BA[n])n=BA[n],e=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t;return(t=Ks.rgb.exec(n))?{r:t[1],g:t[2],b:t[3]}:(t=Ks.rgba.exec(n))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=Ks.hsl.exec(n))?{h:t[1],s:t[2],l:t[3]}:(t=Ks.hsla.exec(n))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=Ks.hsv.exec(n))?{h:t[1],s:t[2],v:t[3]}:(t=Ks.hsva.exec(n))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=Ks.hex8.exec(n))?{r:qo(t[1]),g:qo(t[2]),b:qo(t[3]),a:jI(t[4]),format:e?"name":"hex8"}:(t=Ks.hex6.exec(n))?{r:qo(t[1]),g:qo(t[2]),b:qo(t[3]),format:e?"name":"hex"}:(t=Ks.hex4.exec(n))?{r:qo(t[1]+""+t[1]),g:qo(t[2]+""+t[2]),b:qo(t[3]+""+t[3]),a:jI(t[4]+""+t[4]),format:e?"name":"hex8"}:(t=Ks.hex3.exec(n))?{r:qo(t[1]+""+t[1]),g:qo(t[2]+""+t[2]),b:qo(t[3]+""+t[3]),format:e?"name":"hex"}:!1}function Ome(n){var e,t;return n=n||{level:"AA",size:"small"},e=(n.level||"AA").toUpperCase(),t=(n.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),t!=="small"&&t!=="large"&&(t="small"),{level:e,size:t}}var $I=function(e){var t=["r","g","b","a","h","s","l","v"],r=0,i=0;return sme(t,function(a){if(e[a]&&(r+=1,isNaN(e[a])||(i+=1),a==="s"||a==="l")){var o=/^\d+%$/;o.test(e[a])&&(i+=1)}}),r===i?e:!1},Qx=function(e,t){var r=e.hex?jt(e.hex):jt(e),i=r.toHsl(),a=r.toHsv(),o=r.toRgb(),s=r.toHex();i.s===0&&(i.h=t||0,a.h=t||0);var l=s==="000000"&&o.a===0;return{hsl:i,hex:l?"transparent":"#".concat(s),rgb:o,hsv:a,oldHue:e.h||t||i.h,source:e.source}},Fme=function(e){if(e==="transparent")return!0;var t=String(e).charAt(0)==="#"?1:0;return e.length!==4+t&&e.length<7+t&&jt(e).isValid()};function gm(n){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(n)}function zA(){return zA=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zA.apply(this,arguments)}function VI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Lv(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(t),!0).forEach(function(r){Ime(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):VI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Ime(n,e,t){return e=az(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Dme(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function GI(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,az(r.key),r)}}function Lme(n,e,t){return e&&GI(n.prototype,e),t&&GI(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function az(n){var e=Nme(n,"string");return gm(e)==="symbol"?e:String(e)}function Nme(n,e){if(gm(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(gm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ume(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&HA(n,e)}function HA(n,e){return HA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HA(n,e)}function Bme(n){var e=kme();return function(){var r=d1(n),i;if(e){var a=d1(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return zme(this,i)}}function zme(n,e){if(e&&(gm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hme(n)}function Hme(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function kme(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function d1(n){return d1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d1(n)}var jme=function(e){var t=function(r){Ume(a,r);var i=Bme(a);function a(o){var s;return Dme(this,a),s=i.call(this),s.handleChange=function(l,c){var d=$I(l);if(d){var h=Qx(l,l.h||s.state.oldHue);s.setState(h),s.props.onChangeComplete&&s.debounce(s.props.onChangeComplete,h,c),s.props.onChange&&s.props.onChange(h,c)}},s.handleSwatchHover=function(l,c){var d=$I(l);if(d){var h=Qx(l,l.h||s.state.oldHue);s.props.onSwatchHover&&s.props.onSwatchHover(h,c)}},s.state=Lv({},Qx(o.color,0)),s.debounce=tz(function(l,c,d){l(c,d)},100),s}return Lme(a,[{key:"render",value:function(){var s={};return this.props.onSwatchHover&&(s.onSwatchHover=this.handleSwatchHover),Oe.createElement(e,zA({},this.props,this.state,{onChange:this.handleChange},s))}}],[{key:"getDerivedStateFromProps",value:function(s,l){return Lv({},Qx(s.color,l.oldHue))}}]),a}(P.PureComponent||P.Component);return t.propTypes=Lv({},e.propTypes),t.defaultProps=Lv(Lv({},e.defaultProps),{},{color:{h:250,s:.5,l:.2,a:1}}),t};function vm(n){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(n)}function $me(n,e,t){return e=oz(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Vme(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Gme(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,oz(r.key),r)}}function Wme(n,e,t){return e&&Gme(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function oz(n){var e=qme(n,"string");return vm(e)==="symbol"?e:String(e)}function qme(n,e){if(vm(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(vm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Xme(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&kA(n,e)}function kA(n,e){return kA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kA(n,e)}function Yme(n){var e=Jme();return function(){var r=f1(n),i;if(e){var a=f1(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return Kme(this,i)}}function Kme(n,e){if(e&&(vm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zme(n)}function Zme(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Jme(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function f1(n){return f1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f1(n)}var Qme=1,sz=38,ege=40,tge=[sz,ege],nge=function(e){return tge.indexOf(e)>-1},rge=function(e){return Number(String(e).replace(/%/g,""))},ige=1,Nv=function(n){Xme(t,n);var e=Yme(t);function t(r){var i;return Vme(this,t),i=e.call(this),i.handleBlur=function(){i.state.blurValue&&i.setState({value:i.state.blurValue,blurValue:null})},i.handleChange=function(a){i.setUpdatedValue(a.target.value,a)},i.handleKeyDown=function(a){var o=rge(a.target.value);if(!isNaN(o)&&nge(a.keyCode)){var s=i.getArrowOffset(),l=a.keyCode===sz?o+s:o-s;i.setUpdatedValue(l,a)}},i.handleDrag=function(a){if(i.props.dragLabel){var o=Math.round(i.props.value+a.movementX);o>=0&&o<=i.props.dragMax&&i.props.onChange&&i.props.onChange(i.getValueObjectWithLabel(o),a)}},i.handleMouseDown=function(a){i.props.dragLabel&&(a.preventDefault(),i.handleDrag(a),window.addEventListener("mousemove",i.handleDrag),window.addEventListener("mouseup",i.handleMouseUp))},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleDrag),window.removeEventListener("mouseup",i.handleMouseUp)},i.state={value:String(r.value).toUpperCase(),blurValue:String(r.value).toUpperCase()},i.inputId="rc-editable-input-".concat(ige++),i}return Wme(t,[{key:"componentDidUpdate",value:function(i,a){this.props.value!==this.state.value&&(i.value!==this.props.value||a.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(i){return $me({},this.props.label,i)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||Qme}},{key:"setUpdatedValue",value:function(i,a){var o=this.props.label?this.getValueObjectWithLabel(i):i;this.props.onChange&&this.props.onChange(o,a),this.setState({value:i})}},{key:"render",value:function(){var i=this,a=Zu({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return Oe.createElement("div",{style:a.wrap},Oe.createElement("input",{id:this.inputId,style:a.input,ref:function(s){return i.input=s},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?Oe.createElement("label",{htmlFor:this.inputId,style:a.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(P.PureComponent||P.Component);function ym(n){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(n)}function jA(){return jA=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jA.apply(this,arguments)}function age(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function oge(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,lge(r.key),r)}}function sge(n,e,t){return e&&oge(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function lge(n){var e=cge(n,"string");return ym(e)==="symbol"?e:String(e)}function cge(n,e){if(ym(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(ym(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function uge(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&$A(n,e)}function $A(n,e){return $A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$A(n,e)}function dge(n){var e=pge();return function(){var r=h1(n),i;if(e){var a=h1(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return fge(this,i)}}function fge(n,e){if(e&&(ym(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hge(n)}function hge(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function pge(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function h1(n){return h1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h1(n)}var mge=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(r){uge(a,r);var i=dge(a);function a(){var o;age(this,a);for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];return o=i.call.apply(i,[this].concat(l)),o.state={focus:!1},o.handleFocus=function(){return o.setState({focus:!0})},o.handleBlur=function(){return o.setState({focus:!1})},o}return sge(a,[{key:"render",value:function(){return Oe.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},Oe.createElement(e,jA({},this.props,this.state)))}}]),a}(Oe.Component)};function q0(n){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q0(n)}function VA(){return VA=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},VA.apply(this,arguments)}function WI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function qI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?WI(Object(t),!0).forEach(function(r){gge(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):WI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function gge(n,e,t){return e=vge(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vge(n){var e=yge(n,"string");return q0(e)==="symbol"?e:String(e)}function yge(n,e){if(q0(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(q0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var bge=13,xge=function(e){var t=e.color,r=e.style,i=e.onClick,a=i===void 0?function(){}:i,o=e.onHover,s=e.title,l=s===void 0?t:s,c=e.children,d=e.focus,h=e.focusStyle,m=h===void 0?{}:h,v=t==="transparent",g=Zu({default:{swatch:qI(qI({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r),d?m:{})}}),x=function(M){return a(t,M)},b=function(M){return M.keyCode===bge&&a(t,M)},_=function(M){return o(t,M)},C={};return o&&(C.onMouseOver=_),Oe.createElement("div",VA({style:g.swatch,onClick:x,title:l,tabIndex:0,onKeyDown:b},C),c,v&&Oe.createElement(YC,{borderRadius:g.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const _ge=mge(xge);var Sge=function(e){var t=e.onChange,r=e.rgb,i=e.hsl,a=e.hex,o=e.disableAlpha,s=Zu({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),l=function(d,h){d.hex?Fme(d.hex)&&(t==null||t({hex:d.hex,source:"hex"},h)):d.r||d.g||d.b?t==null||t({r:d.r||(r==null?void 0:r.r),g:d.g||(r==null?void 0:r.g),b:d.b||(r==null?void 0:r.b),a:r==null?void 0:r.a,source:"rgb"},h):d.a&&(d.a<0?d.a=0:d.a>100&&(d.a=100),d.a/=100,t==null||t({h:i==null?void 0:i.h,s:i==null?void 0:i.s,l:i==null?void 0:i.l,a:d.a,source:"rgb"},h))};return Oe.createElement("div",{style:s.fields,className:"flexbox-fix"},Oe.createElement("div",{style:s.double},Oe.createElement(Nv,{style:{input:s.input,label:s.label},label:"hex",value:a==null?void 0:a.replace("#",""),onChange:l})),Oe.createElement("div",{style:s.single},Oe.createElement(Nv,{style:{input:s.input,label:s.label},label:"r",value:r==null?void 0:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),Oe.createElement("div",{style:s.single},Oe.createElement(Nv,{style:{input:s.input,label:s.label},label:"g",value:r==null?void 0:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),Oe.createElement("div",{style:s.single},Oe.createElement(Nv,{style:{input:s.input,label:s.label},label:"b",value:r==null?void 0:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),Oe.createElement("div",{style:s.alpha},Oe.createElement(Nv,{style:{input:s.input,label:s.label},label:"a",value:Math.round(((r==null?void 0:r.a)||0)*100),onChange:l,dragLabel:"true",dragMax:"100"})))};function X0(n){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X0(n)}function XI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function YI(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(t),!0).forEach(function(r){Cge(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):XI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Cge(n,e,t){return e=wge(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wge(n){var e=Tge(n,"string");return X0(e)==="symbol"?e:String(e)}function Tge(n,e){if(X0(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(X0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Mge=function(e){var t=e.colors,r=e.onClick,i=r===void 0?function(){}:r,a=e.onSwatchHover,o={colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{msBorderRadius:"3px",MozBorderRadius:"3px",OBorderRadius:"3px",WebkitBorderRadius:"3px",borderRadius:"3px",msBoxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)",MozBoxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)",OBoxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)",WebkitBoxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},s=function(c,d){i==null||i({hex:c,source:"hex"},d)};return Oe.createElement("div",{style:o.colors,className:"flexbox-fix"},t==null?void 0:t.map(function(l){var c=typeof l=="string"?{color:l,title:void 0}:l,d="".concat(c.color).concat((c==null?void 0:c.title)||"");return Oe.createElement("div",{key:d,style:o.swatchWrap},Oe.createElement(_ge,YI(YI({},c),{},{style:o.swatch,onClick:s,onHover:a,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px ".concat(c.color)}})))}))};function Y0(n){"@babel/helpers - typeof";return Y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y0(n)}function KI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ege(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(t),!0).forEach(function(r){Age(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):KI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Age(n,e,t){return e=Rge(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Rge(n){var e=Pge(n,"string");return Y0(e)==="symbol"?e:String(e)}function Pge(n,e){if(Y0(n)!=="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(Y0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var lz=function(e){var t=e.width,r=e.rgb,i=e.hex,a=e.hsv,o=e.hsl,s=e.onChange,l=e.onSwatchHover,c=e.disableAlpha,d=e.presetColors,h=e.renderers,m=e.styles,v=m===void 0?{}:m,g=e.className,x=g===void 0?"":g,b=Zu(Uhe({default:Ege({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba(".concat(r.r,",").concat(r.g,",").concat(r.b,",").concat(r.a,")"),boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},v),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},v),{disableAlpha:c});return Oe.createElement("div",{style:b.picker,className:"sketch-picker ".concat(x)},Oe.createElement("div",{style:b.saturation},Oe.createElement(Qpe,{style:b.Saturation,hsl:o,hsv:a,onChange:s})),Oe.createElement("div",{style:b.controls,className:"flexbox-fix"},Oe.createElement("div",{style:b.sliders},Oe.createElement("div",{style:b.hue},Oe.createElement(hpe,{style:b.Hue,hsl:o,onChange:s})),Oe.createElement("div",{style:b.alpha},Oe.createElement(tpe,{style:b.Alpha,rgb:r,hsl:o,renderers:h,onChange:s}))),Oe.createElement("div",{style:b.color},Oe.createElement(YC,null),Oe.createElement("div",{style:b.activeColor}))),Oe.createElement(Sge,{rgb:r,hsl:o,hex:i,onChange:s,disableAlpha:c}),Oe.createElement(Mge,{colors:d,onClick:s,onSwatchHover:l}))};lz.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};var Oge=jme(lz),Fge=["mode","popoverProps"],Ige=["#FF9D4E","#5BD8A6","#5B8FF9","#F7664E","#FF86B7","#2B9E9D","#9270CA","#6DC8EC","#667796","#F6BD16"],Dge=Oe.forwardRef(function(n,e){var t=n.mode,r=n.popoverProps,i=Dt(n,Fge),a=P.useContext(Lt.ConfigContext),o=a.getPrefixCls,s=o("pro-field-color-picker"),l=xo.useToken(),c=l.token,d=xr("#1890ff",{value:i.value,onChange:i.onChange}),h=at(d,2),m=h[0],v=h[1],g=Yn("ProFiledColorPicker"+m,function(){return ne({},".".concat(s),{width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",border:"1px solid ".concat(c.colorSplit),borderRadius:c.borderRadius,"&:hover":{borderColor:m}})}),x=g.wrapSSR,b=g.hashId,_=x(w.jsx("div",{className:"".concat(s," ").concat(b).trim(),style:{cursor:i.disabled?"not-allowed":"pointer",backgroundColor:i.disabled?c.colorBgContainerDisabled:c.colorBgContainer},children:w.jsx("div",{style:{backgroundColor:m,width:24,boxSizing:"border-box",height:24,borderRadius:c.borderRadius}})}));return P.useImperativeHandle(e,function(){}),t==="read"||i.disabled?_:w.jsx(my,R(R({trigger:"click",placement:"right"},r),{},{content:w.jsx("div",{style:{margin:"-12px -16px"},children:w.jsx(Oge,R(R({},i),{},{presetColors:i.colors||i.presetColors||Ige,color:m,onChange:function(T){var M=T.hex,O=T.rgb,I=O.r,U=O.g,F=O.b,L=O.a;if(L&&L<1){v("rgba(".concat(I,", ").concat(U,", ").concat(F,", ").concat(L,")"));return}v(M)}}))}),children:_}))}),Lge={label:"Recommended",colors:["#F5222D","#FA8C16","#FADB14","#8BBB11","#52C41A","#13A8A8","#1677FF","#2F54EB","#722ED1","#EB2F96","#F5222D4D","#FA8C164D","#FADB144D","#8BBB114D","#52C41A4D","#13A8A84D","#1677FF4D","#2F54EB4D","#722ED14D","#EB2F964D"]};function cz(){return Ku(qc,"5.5.0")>-1}function Nge(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return(typeof n=="undefined"||n===!1)&&cz()?AV:Dge}var Uge=function(e,t){var r=e.text,i=e.mode,a=e.render,o=e.renderFormItem,s=e.fieldProps,l=e.old,c=P.useContext(Lt.ConfigContext),d=c.getPrefixCls,h=Oe.useMemo(function(){return Nge(l)},[l]),m=d("pro-field-color-picker"),v=P.useMemo(function(){return l?"":Ut(ne({},m,cz()))},[m,l]);if(i==="read"){var g=w.jsx(h,{value:r,mode:"read",ref:t,className:v,open:!1});return a?a(r,R({mode:i},s),g):g}if(i==="edit"||i==="update"){var x=R({display:"table-cell"},s.style),b=w.jsx(h,R(R({ref:t,presets:[Lge]},s),{},{style:x,className:v}));return o?o(r,R(R({mode:i},s),{},{style:x}),b):b}return null};const Bge=Oe.forwardRef(Uge);Rn.extend(o3);var zge=function(e,t){return e?typeof t=="function"?t(Rn(e)):Rn(e).format((Array.isArray(t)?t[0]:t)||"YYYY-MM-DD"):"-"},Hge=function(e,t){var r=e.text,i=e.mode,a=e.format,o=e.label,s=e.light,l=e.render,c=e.renderFormItem,d=e.plain,h=e.showTime,m=e.fieldProps,v=e.picker,g=e.bordered,x=e.lightLabel,b=On(),_=P.useState(!1),C=at(_,2),T=C[0],M=C[1];if(i==="read"){var O=zge(r,m.format||a);return l?l(r,R({mode:i},m),w.jsx(w.Fragment,{children:O})):w.jsx(w.Fragment,{children:O})}if(i==="edit"||i==="update"){var I,U=m.disabled,F=m.value,L=m.placeholder,D=L===void 0?b.getMessage("tableForm.selectPlaceholder","请选择"):L,z=Sy(F);return s?I=w.jsx(Vl,{label:o,onClick:function(){var Y;m==null||(Y=m.onOpenChange)===null||Y===void 0||Y.call(m,!0),M(!0)},style:z?{paddingInlineEnd:0}:void 0,disabled:U,value:z||T?w.jsx(lm,R(R(R({picker:v,showTime:h,format:a,ref:t},m),{},{value:z,onOpenChange:function(Y){var j;M(Y),m==null||(j=m.onOpenChange)===null||j===void 0||j.call(m,Y)}},Qo(!1)),{},{open:T})):void 0,allowClear:!1,downIcon:z||T?!1:void 0,bordered:g,ref:x}):I=w.jsx(lm,R(R(R({picker:v,showTime:h,format:a,placeholder:D},Qo(d===void 0?!0:!d)),{},{ref:t},m),{},{value:z})),c?c(r,R({mode:i},m),I):I}return null};const hp=Oe.forwardRef(Hge);var kge=function(e,t){var r=e.text,i=e.mode,a=e.render,o=e.placeholder,s=e.renderFormItem,l=e.fieldProps,c=On(),d=o||c.getMessage("tableForm.inputPlaceholder","请输入"),h=P.useCallback(function(_){var C=_!=null?_:void 0;return!l.stringMode&&typeof C=="string"&&(C=Number(C)),typeof C=="number"&&!$u(C)&&!$u(l.precision)&&(C=Number(C.toFixed(l.precision))),C},[l]);if(i==="read"){var m,v={};l!=null&&l.precision&&(v={minimumFractionDigits:Number(l.precision),maximumFractionDigits:Number(l.precision)});var g=new Intl.NumberFormat(void 0,R(R({},v),(l==null?void 0:l.intlProps)||{})).format(Number(r)),x=l!=null&&l.stringMode?w.jsx("span",{children:r}):w.jsx("span",{ref:t,children:(l==null||(m=l.formatter)===null||m===void 0?void 0:m.call(l,g))||g});return a?a(r,R({mode:i},l),x):x}if(i==="edit"||i==="update"){var b=w.jsx(Nf,R(R({ref:t,min:0,placeholder:d},Br(l,["onChange","onBlur"])),{},{onChange:function(C){var T;return l==null||(T=l.onChange)===null||T===void 0?void 0:T.call(l,h(C))},onBlur:function(C){var T;return l==null||(T=l.onBlur)===null||T===void 0?void 0:T.call(l,h(C.target.value))}}));return s?s(r,R({mode:i},l),b):b}return null};const jge=Oe.forwardRef(kge);var $ge=function(e,t){var r=e.text,i=e.mode,a=e.render,o=e.placeholder,s=e.renderFormItem,l=e.fieldProps,c=e.separator,d=c===void 0?"~":c,h=e.separatorWidth,m=h===void 0?30:h,v=l.value,g=l.defaultValue,x=l.onChange,b=l.id,_=On(),C=xo.useToken(),T=C.token,M=xr(function(){return g},{value:v,onChange:x}),O=at(M,2),I=O[0],U=O[1],F=P.useRef(I);if(i==="read"){var L=function(Z){var J,Q=new Intl.NumberFormat(void 0,R({minimumSignificantDigits:2},(l==null?void 0:l.intlProps)||{})).format(Number(Z));return(l==null||(J=l.formatter)===null||J===void 0?void 0:J.call(l,Q))||Q},D=w.jsxs("span",{ref:t,children:[L(r[0])," ",d," ",L(r[1])]});return a?a(r,R({mode:i},l),D):D}if(i==="edit"||i==="update"){var z=function(){if(Array.isArray(F.current)){var Z=at(F.current,2),J=Z[0],Q=Z[1];typeof J=="number"&&typeof Q=="number"&&J>Q?U([Q,J]):J===void 0&&Q===void 0&&U(void 0)}},$=function(Z,J){var Q=gr(I||[]);Q[Z]=J===null?void 0:J,F.current=Q,U(Q)},Y=(l==null?void 0:l.placeholder)||o||[_.getMessage("tableForm.inputPlaceholder","请输入"),_.getMessage("tableForm.inputPlaceholder","请输入")],j=function(Z){return Array.isArray(Y)?Y[Z]:Y},V=Ra.Compact||ei.Group,B=Ra.Compact?{}:{compact:!0},G=w.jsxs(V,R(R({},B),{},{onBlur:z,children:[w.jsx(Nf,R(R({},l),{},{placeholder:j(0),id:b!=null?b:"".concat(b,"-0"),style:{width:"calc((100% - ".concat(m,"px) / 2)")},value:I==null?void 0:I[0],defaultValue:g==null?void 0:g[0],onChange:function(Z){return $(0,Z)}})),w.jsx(ei,{style:{width:m,textAlign:"center",borderInlineStart:0,borderInlineEnd:0,pointerEvents:"none",backgroundColor:T==null?void 0:T.colorBgContainer},placeholder:d,disabled:!0}),w.jsx(Nf,R(R({},l),{},{placeholder:j(1),id:b!=null?b:"".concat(b,"-1"),style:{width:"calc((100% - ".concat(m,"px) / 2)"),borderInlineStart:0},value:I==null?void 0:I[1],defaultValue:g==null?void 0:g[1],onChange:function(Z){return $(1,Z)}}))]}));return s?s(r,R({mode:i},l),G):G}return null};const Vge=Oe.forwardRef($ge);var uz={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(da,function(){return function(t,r,i){t=t||{};var a=r.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function s(c,d,h,m){return a.fromToBase(c,d,h,m)}i.en.relativeTime=o,a.fromToBase=function(c,d,h,m,v){for(var g,x,b,_=h.$locale().relativeTime||o,C=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],T=C.length,M=0;M<T;M+=1){var O=C[M];O.d&&(g=m?i(c).diff(h,O.d,!0):h.diff(c,O.d,!0));var I=(t.rounding||Math.round)(Math.abs(g));if(b=g>0,I<=O.r||!O.r){I<=1&&M>0&&(O=C[M-1]);var U=_[O.l];v&&(I=v(""+I)),x=typeof U=="string"?U.replace("%d",I):U(I,d,O.l,b);break}}if(d)return x;var F=b?_.future:_.past;return typeof F=="function"?F(x):F.replace("%s",x)},a.to=function(c,d){return s(c,d,this,!0)},a.from=function(c,d){return s(c,d,this)};var l=function(c){return c.$u?i.utc():i()};a.toNow=function(c){return this.to(l(this),c)},a.fromNow=function(c){return this.from(l(this),c)}}})})(uz);var Gge=uz.exports;const Wge=ri(Gge);Rn.extend(Wge);var qge=function(e,t){var r=e.text,i=e.mode,a=e.plain,o=e.render,s=e.renderFormItem,l=e.format,c=e.fieldProps,d=On();if(i==="read"){var h=w.jsx(vo,{title:Rn(r).format((c==null?void 0:c.format)||l||"YYYY-MM-DD HH:mm:ss"),children:Rn(r).fromNow()});return o?o(r,R({mode:i},c),w.jsx(w.Fragment,{children:h})):w.jsx(w.Fragment,{children:h})}if(i==="edit"||i==="update"){var m=d.getMessage("tableForm.selectPlaceholder","请选择"),v=Sy(c.value),g=w.jsx(lm,R(R(R({ref:t,placeholder:m,showTime:!0},Qo(a===void 0?!0:!a)),c),{},{value:v}));return s?s(r,R({mode:i},c),g):g}return null};const Xge=Oe.forwardRef(qge);var dz=Oe.forwardRef(function(n,e){var t=n.text,r=n.mode,i=n.render,a=n.renderFormItem,o=n.fieldProps,s=n.placeholder,l=n.width,c=On(),d=s||c.getMessage("tableForm.inputPlaceholder","请输入");if(r==="read"){var h=w.jsx(RV,R({ref:e,width:l||32,src:t},o));return i?i(t,R({mode:r},o),h):h}if(r==="edit"||r==="update"){var m=w.jsx(ei,R({ref:e,placeholder:d},o));return a?a(t,R({mode:r},o),m):m}return null}),Yge=function(e,t){var r=e.border,i=r===void 0?!1:r,a=e.children,o=P.useContext(Lt.ConfigContext),s=o.getPrefixCls,l=s("pro-field-index-column"),c=Yn("IndexColumn",function(){return ne({},".".concat(l),{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"18px",height:"18px","&-border":{color:"#fff",fontSize:"12px",lineHeight:"12px",backgroundColor:"#314659",borderRadius:"9px","&.top-three":{backgroundColor:"#979797"}}})}),d=c.wrapSSR,h=c.hashId;return d(w.jsx("div",{ref:t,className:Ut(l,h,ne(ne({},"".concat(l,"-border"),i),"top-three",a>3)),children:a}))};const ZI=Oe.forwardRef(Yge);var Kge=["contentRender","numberFormatOptions","numberPopoverRender","open"],Zge=["text","mode","render","renderFormItem","fieldProps","proFieldKey","plain","valueEnum","placeholder","locale","customSymbol","numberFormatOptions","numberPopoverRender"],fz=new Intl.NumberFormat("zh-Hans-CN",{currency:"CNY",style:"currency"}),Jge={style:"currency",currency:"USD"},Qge={style:"currency",currency:"RUB"},eve={style:"currency",currency:"RSD"},tve={style:"currency",currency:"MYR"},nve={style:"currency",currency:"BRL"},rve={default:fz,"zh-Hans-CN":{currency:"CNY",style:"currency"},"en-US":Jge,"ru-RU":Qge,"ms-MY":tve,"sr-RS":eve,"pt-BR":nve},JI=function(e,t,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",o=t==null?void 0:t.toString().replaceAll(",","");if(typeof o=="string"){var s=Number(o);if(Number.isNaN(s))return o;o=s}if(!o&&o!==0)return"";var l=!1;try{l=e!==!1&&Intl.NumberFormat.supportedLocalesOf([e.replace("_","-")],{localeMatcher:"lookup"}).length>0}catch(b){}try{var c=new Intl.NumberFormat(l&&e!==!1&&(e==null?void 0:e.replace("_","-"))||"zh-Hans-CN",R(R({},rve[e||"zh-Hans-CN"]||fz),{},{maximumFractionDigits:r},i)),d=c.format(o),h=function(_){var C=_.match(/\d+/);if(C){var T=C[0];return _.slice(_.indexOf(T))}else return _},m=h(d),v=d||"",g=at(v,1),x=g[0];return["+","-"].includes(x)?"".concat(a||"").concat(x).concat(m):"".concat(a||"").concat(m)}catch(b){return o}},DM=2,ive=Oe.forwardRef(function(n,e){var t=n.contentRender;n.numberFormatOptions,n.numberPopoverRender;var r=n.open,i=Dt(n,Kge),a=xr(function(){return i.defaultValue},{value:i.value,onChange:i.onChange}),o=at(a,2),s=o[0],l=o[1],c=t==null?void 0:t(R(R({},i),{},{value:s})),d=xy(c?r:!1);return w.jsx(my,R(R({placement:"topLeft"},d),{},{trigger:["focus","click"],content:c,getPopupContainer:function(m){return(m==null?void 0:m.parentElement)||document.body},children:w.jsx(Nf,R(R({ref:e},i),{},{value:s,onChange:l}))}))}),ave=function(e,t){var r,i=e.text,a=e.mode,o=e.render,s=e.renderFormItem,l=e.fieldProps;e.proFieldKey,e.plain,e.valueEnum;var c=e.placeholder,d=e.locale,h=e.customSymbol,m=h===void 0?l.customSymbol:h,v=e.numberFormatOptions,g=v===void 0?l==null?void 0:l.numberFormatOptions:v,x=e.numberPopoverRender,b=x===void 0?(l==null?void 0:l.numberPopoverRender)||!1:x,_=Dt(e,Zge),C=(r=l==null?void 0:l.precision)!==null&&r!==void 0?r:DM,T=On();d&&Bf[d]&&(T=Bf[d]);var M=c||T.getMessage("tableForm.inputPlaceholder","请输入"),O=P.useMemo(function(){if(m)return m;if(!(_.moneySymbol===!1||l.moneySymbol===!1))return T.getMessage("moneySymbol","¥")},[m,l.moneySymbol,T,_.moneySymbol]),I=P.useCallback(function(L){var D=new RegExp("\\B(?=(\\d{".concat(3+Math.max(C-DM,0),"})+(?!\\d))"),"g"),z=String(L).split("."),$=at(z,2),Y=$[0],j=$[1],V=Y.replace(D,","),B="";return j&&C>0&&(B=".".concat(j.slice(0,C===void 0?DM:C))),"".concat(V).concat(B)},[C]);if(a==="read"){var U=w.jsx("span",{ref:t,children:JI(d||!1,i,C,g!=null?g:l.numberFormatOptions,O)});return o?o(i,R({mode:a},l),U):U}if(a==="edit"||a==="update"){var F=w.jsx(ive,R(R({contentRender:function(D){if(b===!1||!D.value)return null;var z=JI(O||d||!1,"".concat(I(D.value)),C,R(R({},g),{},{notation:"compact"}),O);return typeof b=="function"?b==null?void 0:b(D,z):z},ref:t,precision:C,formatter:function(D){return D&&O?"".concat(O," ").concat(I(D)):D==null?void 0:D.toString()},parser:function(D){return O&&D?D.replace(new RegExp("\\".concat(O,"\\s?|(,*)"),"g"),""):D},placeholder:M},Br(l,["numberFormatOptions","precision","numberPopoverRender","customSymbol","moneySymbol","visible","open"])),{},{onBlur:l.onBlur?function(L){var D,z=L.target.value;O&&z&&(z=z.replace(new RegExp("\\".concat(O,"\\s?|(,*)"),"g"),"")),(D=l.onBlur)===null||D===void 0||D.call(l,z)}:void 0}));return s?s(i,R({mode:a},l),F):F}return null};const hz=Oe.forwardRef(ave);var QI=function(e){return e.map(function(t,r){var i;return Oe.isValidElement(t)?Oe.cloneElement(t,R(R({key:r},t==null?void 0:t.props),{},{style:R({},t==null||(i=t.props)===null||i===void 0?void 0:i.style)})):w.jsx(Oe.Fragment,{children:t},r)})},ove=function(e,t){var r=e.text,i=e.mode,a=e.render,o=e.fieldProps,s=P.useContext(Lt.ConfigContext),l=s.getPrefixCls,c=l("pro-field-option"),d=xo.useToken(),h=d.token;if(P.useImperativeHandle(t,function(){return{}}),a){var m=a(r,R({mode:i},o),w.jsx(w.Fragment,{}));return!m||(m==null?void 0:m.length)<1||!Array.isArray(m)?null:w.jsx("div",{style:{display:"flex",gap:h.margin,alignItems:"center"},className:c,children:QI(m)})}return!r||!Array.isArray(r)?Oe.isValidElement(r)?r:null:w.jsx("div",{style:{display:"flex",gap:h.margin,alignItems:"center"},className:c,children:QI(r)})};const sve=Oe.forwardRef(ove);var lve=["text","mode","render","renderFormItem","fieldProps","proFieldKey"],cve=function(e,t){var r=e.text,i=e.mode,a=e.render,o=e.renderFormItem,s=e.fieldProps;e.proFieldKey;var l=Dt(e,lve),c=On(),d=xr(function(){return l.open||l.visible||!1},{value:l.open||l.visible,onChange:l.onOpenChange||l.onVisible}),h=at(d,2),m=h[0],v=h[1];if(i==="read"){var g=w.jsx(w.Fragment,{children:"-"});return r&&(g=w.jsxs(Ra,{children:[w.jsx("span",{ref:t,children:m?r:"********"}),w.jsx("a",{onClick:function(){return v(!m)},children:m?w.jsx(uq,{}):w.jsx(lq,{})})]})),a?a(r,R({mode:i},s),g):g}if(i==="edit"||i==="update"){var x=w.jsx(ei.Password,R({placeholder:c.getMessage("tableForm.inputPlaceholder","请输入"),ref:t},s));return o?o(r,R({mode:i},s),x):x}return null};const uve=Oe.forwardRef(cve);function dve(n){return n===0?null:n>0?"+":"-"}function fve(n){return n===0?"#595959":n>0?"#ff4d4f":"#52c41a"}function hve(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return e>=0?n==null?void 0:n.toFixed(e):n}function p1(n){return Xt(n)==="symbol"||n instanceof Symbol?NaN:Number(n)}var pve=function(e,t){var r=e.text,i=e.prefix,a=e.precision,o=e.suffix,s=o===void 0?"%":o,l=e.mode,c=e.showColor,d=c===void 0?!1:c,h=e.render,m=e.renderFormItem,v=e.fieldProps,g=e.placeholder,x=e.showSymbol,b=On(),_=g||b.getMessage("tableForm.inputPlaceholder","请输入"),C=P.useMemo(function(){return typeof r=="string"&&r.includes("%")?p1(r.replace("%","")):p1(r)},[r]),T=P.useMemo(function(){return typeof x=="function"?x==null?void 0:x(r):x},[x,r]);if(l==="read"){var M=d?{color:fve(C)}:{},O=w.jsxs("span",{style:M,ref:t,children:[i&&w.jsx("span",{children:i}),T&&w.jsxs(P.Fragment,{children:[dve(C)," "]}),hve(Math.abs(C),a),s&&s]});return h?h(r,R(R({mode:l},v),{},{prefix:i,precision:a,showSymbol:T,suffix:s}),O):O}if(l==="edit"||l==="update"){var I=w.jsx(Nf,R({ref:t,formatter:function(F){return F&&i?"".concat(i," ").concat(F).replace(/\B(?=(\d{3})+(?!\d)$)/g,","):F},parser:function(F){return F?F.replace(/.*\s|,/g,""):""},placeholder:_},v));return m?m(r,R({mode:l},v),I):I}return null};const pz=Oe.forwardRef(pve);function mve(n){return n===100?"success":n<0?"exception":n<100?"active":"normal"}var gve=function(e,t){var r=e.text,i=e.mode,a=e.render,o=e.plain,s=e.renderFormItem,l=e.fieldProps,c=e.placeholder,d=On(),h=c||d.getMessage("tableForm.inputPlaceholder","请输入"),m=P.useMemo(function(){return typeof r=="string"&&r.includes("%")?p1(r.replace("%","")):p1(r)},[r]);if(i==="read"){var v=w.jsx(PV,R({ref:t,size:"small",style:{minWidth:100,maxWidth:320},percent:m,steps:o?10:void 0,status:mve(m)},l));return a?a(m,R({mode:i},l),v):v}if(i==="edit"||i==="update"){var g=w.jsx(Nf,R({ref:t,placeholder:h},l));return s?s(r,R({mode:i},l),g):g}return null};const mz=Oe.forwardRef(gve);var vve=["radioType","renderFormItem","mode","render"],yve=function(e,t){var r,i,a=e.radioType,o=e.renderFormItem,s=e.mode,l=e.render,c=Dt(e,vve),d=P.useContext(Lt.ConfigContext),h=d.getPrefixCls,m=h("pro-field-radio"),v=zm(c),g=at(v,3),x=g[0],b=g[1],_=g[2],C=P.useRef(),T=(r=pn.Item)===null||r===void 0||(i=r.useStatus)===null||i===void 0?void 0:i.call(r);P.useImperativeHandle(t,function(){return R(R({},C.current||{}),{},{fetchData:function(j){return _(j)}})},[_]);var M=Yn("FieldRadioRadio",function(Y){return ne(ne(ne({},".".concat(m,"-error"),{span:{color:Y.colorError}}),".".concat(m,"-warning"),{span:{color:Y.colorWarning}}),".".concat(m,"-vertical"),ne({},"".concat(Y.antCls,"-radio-wrapper"),{display:"flex",marginInlineEnd:0}))}),O=M.wrapSSR,I=M.hashId;if(x)return w.jsx(Yu,{size:"small"});if(s==="read"){var U=b!=null&&b.length?b==null?void 0:b.reduce(function(Y,j){var V;return R(R({},Y),{},ne({},(V=j.value)!==null&&V!==void 0?V:"",j.label))},{}):void 0,F=w.jsx(w.Fragment,{children:Lm(c.text,eu(c.valueEnum||U))});if(l){var L;return(L=l(c.text,R({mode:s},c.fieldProps),F))!==null&&L!==void 0?L:null}return F}if(s==="edit"){var D,z=O(w.jsx(OV.Group,R(R({ref:C,optionType:a},c.fieldProps),{},{className:Ut((D=c.fieldProps)===null||D===void 0?void 0:D.className,ne(ne({},"".concat(m,"-error"),(T==null?void 0:T.status)==="error"),"".concat(m,"-warning"),(T==null?void 0:T.status)==="warning"),I,"".concat(m,"-").concat(c.fieldProps.layout||"horizontal")),options:b})));if(o){var $;return($=o(c.text,R(R({mode:s},c.fieldProps),{},{options:b,loading:x}),z))!==null&&$!==void 0?$:null}return z}return null};const eD=Oe.forwardRef(yve);var bve=function(e,t){var r=e.text,i=e.mode,a=e.light,o=e.label,s=e.format,l=e.render,c=e.picker,d=e.renderFormItem,h=e.plain,m=e.showTime,v=e.lightLabel,g=e.bordered,x=e.fieldProps,b=On(),_=Array.isArray(r)?r:[],C=at(_,2),T=C[0],M=C[1],O=Oe.useState(!1),I=at(O,2),U=I[0],F=I[1],L=P.useCallback(function(G){if(typeof(x==null?void 0:x.format)=="function"){var W;return x==null||(W=x.format)===null||W===void 0?void 0:W.call(x,G)}return(x==null?void 0:x.format)||s||"YYYY-MM-DD"},[x,s]),D=T?Rn(T).format(L(Rn(T))):"",z=M?Rn(M).format(L(Rn(M))):"";if(i==="read"){var $=w.jsxs("div",{ref:t,style:{display:"flex",flexWrap:"wrap",gap:8,alignItems:"center"},children:[w.jsx("div",{children:D||"-"}),w.jsx("div",{children:z||"-"})]});return l?l(r,R({mode:i},x),w.jsx("span",{children:$})):$}if(i==="edit"||i==="update"){var Y=Sy(x.value),j,V=function(W){var Z;x==null||(Z=x.onChange)===null||Z===void 0||Z.call(x,W),W||F(!1)};if(a){var B;j=w.jsx(Vl,{label:o,onClick:function(){var W;x==null||(W=x.onOpenChange)===null||W===void 0||W.call(x,!0),F(!0)},style:Y?{paddingInlineEnd:0}:void 0,disabled:x.disabled,value:Y||U?w.jsx(lm.RangePicker,R(R(R({picker:c,showTime:m,format:s},Qo(!1)),x),{},{placeholder:(B=x.placeholder)!==null&&B!==void 0?B:[b.getMessage("tableForm.selectPlaceholder","请选择"),b.getMessage("tableForm.selectPlaceholder","请选择")],value:Y,onOpenChange:function(W){var Z;Y&&F(W),x==null||(Z=x.onOpenChange)===null||Z===void 0||Z.call(x,W)},onChange:V})):null,allowClear:!1,bordered:g,ref:v,downIcon:Y||U?!1:void 0})}else j=w.jsx(lm.RangePicker,R(R(R({ref:t,format:s,showTime:m,placeholder:[b.getMessage("tableForm.selectPlaceholder","请选择"),b.getMessage("tableForm.selectPlaceholder","请选择")]},Qo(h===void 0?!0:!h)),x),{},{value:Y}));return d?d(r,R({mode:i},x),j):j}return null};const pp=Oe.forwardRef(bve);var xve=function(e,t){var r=e.text,i=e.mode,a=e.render,o=e.renderFormItem,s=e.fieldProps;if(i==="read"){var l=w.jsx(dO,R(R({allowHalf:!0,disabled:!0,ref:t},s),{},{value:r}));return a?a(r,R({mode:i},s),w.jsx(w.Fragment,{children:l})):l}if(i==="edit"||i==="update"){var c=w.jsx(dO,R({allowHalf:!0,ref:t},s));return o?o(r,R({mode:i},s),c):c}return null};const _ve=Oe.forwardRef(xve);function Sve(n){var e=n,t="",r=!1;e<0&&(e=-e,r=!0);var i=Math.floor(e/(3600*24)),a=Math.floor(e/3600%24),o=Math.floor(e/60%60),s=Math.floor(e%60);return t="".concat(s,"秒"),o>0&&(t="".concat(o,"分钟").concat(t)),a>0&&(t="".concat(a,"小时").concat(t)),i>0&&(t="".concat(i,"天").concat(t)),r&&(t+="前"),t}var Cve=function(e,t){var r=e.text,i=e.mode,a=e.render,o=e.renderFormItem,s=e.fieldProps,l=e.placeholder,c=On(),d=l||c.getMessage("tableForm.inputPlaceholder","请输入");if(i==="read"){var h=Sve(Number(r)),m=w.jsx("span",{ref:t,children:h});return a?a(r,R({mode:i},s),m):m}if(i==="edit"||i==="update"){var v=w.jsx(Nf,R({ref:t,min:0,style:{width:"100%"},placeholder:d},s));return o?o(r,R({mode:i},s),v):v}return null};const wve=Oe.forwardRef(Cve);var Tve=["mode","render","renderFormItem","fieldProps","emptyText"],Mve=function(e,t){var r=e.mode,i=e.render,a=e.renderFormItem,o=e.fieldProps,s=e.emptyText,l=s===void 0?"-":s,c=Dt(e,Tve),d=P.useRef(),h=zm(e),m=at(h,3),v=m[0],g=m[1],x=m[2];if(P.useImperativeHandle(t,function(){return R(R({},d.current||{}),{},{fetchData:function(O){return x(O)}})},[x]),v)return w.jsx(Yu,{size:"small"});if(r==="read"){var b=g!=null&&g.length?g==null?void 0:g.reduce(function(M,O){var I;return R(R({},M),{},ne({},(I=O.value)!==null&&I!==void 0?I:"",O.label))},{}):void 0,_=w.jsx(w.Fragment,{children:Lm(c.text,eu(c.valueEnum||b))});if(i){var C;return(C=i(c.text,R({mode:r},o),w.jsx(w.Fragment,{children:_})))!==null&&C!==void 0?C:l}return _}if(r==="edit"||r==="update"){var T=w.jsx(FV,R(R({ref:d},Br(o||{},["allowClear"])),{},{options:g}));return a?a(c.text,R(R({mode:r},o),{},{options:g,loading:v}),T):T}return null};const Eve=Oe.forwardRef(Mve);var Ave=function(e,t){var r=e.text,i=e.mode,a=e.render,o=e.renderFormItem,s=e.fieldProps;if(i==="read"){var l=r;return a?a(r,R({mode:i},s),w.jsx(w.Fragment,{children:l})):w.jsx(w.Fragment,{children:l})}if(i==="edit"||i==="update"){var c=w.jsx(IV,R(R({ref:t},s),{},{style:R({minWidth:120},s==null?void 0:s.style)}));return o?o(r,R({mode:i},s),c):c}return null};const Rve=Oe.forwardRef(Ave);var Pve=function(e,t){var r=e.text,i=e.mode,a=e.render,o=e.light,s=e.label,l=e.renderFormItem,c=e.fieldProps,d=On(),h=P.useMemo(function(){var b,_;return r==null||"".concat(r).length<1?"-":r?(b=c==null?void 0:c.checkedChildren)!==null&&b!==void 0?b:d.getMessage("switch.open","打开"):(_=c==null?void 0:c.unCheckedChildren)!==null&&_!==void 0?_:d.getMessage("switch.close","关闭")},[c==null?void 0:c.checkedChildren,c==null?void 0:c.unCheckedChildren,r]);if(i==="read")return a?a(r,R({mode:i},c),w.jsx(w.Fragment,{children:h})):h!=null?h:"-";if(i==="edit"||i==="update"){var m,v=w.jsx(DV,R(R({ref:t,size:o?"small":void 0},Br(c,["value"])),{},{checked:(m=c==null?void 0:c.checked)!==null&&m!==void 0?m:c==null?void 0:c.value}));if(o){var g=c.disabled,x=c.bordered;return w.jsx(Vl,{label:s,disabled:g,bordered:x,downIcon:!1,value:w.jsx("div",{style:{paddingLeft:8},children:v}),allowClear:!1})}return l?l(r,R({mode:i},c),v):v}return null};const Ove=Oe.forwardRef(Pve);var Fve=function(e,t){var r=e.text,i=e.mode,a=e.render,o=e.renderFormItem,s=e.fieldProps,l=e.emptyText,c=l===void 0?"-":l,d=s||{},h=d.autoFocus,m=d.prefix,v=m===void 0?"":m,g=d.suffix,x=g===void 0?"":g,b=On(),_=P.useRef();if(P.useImperativeHandle(t,function(){return _.current},[]),P.useEffect(function(){if(h){var I;(I=_.current)===null||I===void 0||I.focus()}},[h]),i==="read"){var C=w.jsxs(w.Fragment,{children:[v,r!=null?r:c,x]});if(a){var T;return(T=a(r,R({mode:i},s),C))!==null&&T!==void 0?T:c}return C}if(i==="edit"||i==="update"){var M=b.getMessage("tableForm.inputPlaceholder","请输入"),O=w.jsx(ei,R({ref:_,placeholder:M,allowClear:!0},s));return o?o(r,R({mode:i},s),O):O}return null};const Ive=Oe.forwardRef(Fve);var Dve=function(e,t){var r=e.text,i=e.fieldProps,a=P.useContext(Lt.ConfigContext),o=a.getPrefixCls,s=o("pro-field-readonly"),l="".concat(s,"-textarea"),c=Yn("TextArea",function(){return ne({},".".concat(l),{display:"inline-block",lineHeight:"1.5715",maxWidth:"100%",whiteSpace:"pre-wrap"})}),d=c.wrapSSR,h=c.hashId;return d(w.jsx("span",R(R({ref:t,className:Ut(h,s,l)},Br(i,["autoSize","classNames","styles"])),{},{children:r!=null?r:"-"})))};const Lve=Oe.forwardRef(Dve);var Nve=function(e,t){var r=e.text,i=e.mode,a=e.render,o=e.renderFormItem,s=e.fieldProps,l=On();if(i==="read"){var c=w.jsx(Lve,R(R({},e),{},{ref:t}));return a?a(r,R({mode:i},Br(s,["showCount"])),c):c}if(i==="edit"||i==="update"){var d=w.jsx(ei.TextArea,R({ref:t,rows:3,onKeyPress:function(m){m.key==="Enter"&&m.stopPropagation()},placeholder:l.getMessage("tableForm.inputPlaceholder","请输入")},s));return o?o(r,R({mode:i},s),d):d}return null};const Uve=Oe.forwardRef(Nve);var Bve=function(e,t){var r=e.text,i=e.mode,a=e.light,o=e.label,s=e.format,l=e.render,c=e.renderFormItem,d=e.plain,h=e.fieldProps,m=e.lightLabel,v=P.useState(!1),g=at(v,2),x=g[0],b=g[1],_=On(),C=(h==null?void 0:h.format)||s||"HH:mm:ss",T=Rn.isDayjs(r)||typeof r=="number";if(i==="read"){var M=w.jsx("span",{ref:t,children:r?Rn(r,T?void 0:C).format(C):"-"});return l?l(r,R({mode:i},h),w.jsx("span",{children:M})):M}if(i==="edit"||i==="update"){var O,I=h.disabled,U=h.value,F=Sy(U,C);if(a){var L;O=w.jsx(Vl,{onClick:function(){var z;h==null||(z=h.onOpenChange)===null||z===void 0||z.call(h,!0),b(!0)},style:F?{paddingInlineEnd:0}:void 0,label:o,disabled:I,value:F||x?w.jsx(qE,R(R(R({},Qo(!1)),{},{format:s,ref:t},h),{},{placeholder:(L=h.placeholder)!==null&&L!==void 0?L:_.getMessage("tableForm.selectPlaceholder","请选择"),value:F,onOpenChange:function(z){var $;b(z),h==null||($=h.onOpenChange)===null||$===void 0||$.call(h,z)},open:x})):null,downIcon:F||x?!1:void 0,allowClear:!1,ref:m})}else O=w.jsx(lm.TimePicker,R(R(R({ref:t,format:s},Qo(d===void 0?!0:!d)),h),{},{value:F}));return c?c(r,R({mode:i},h),O):O}return null},zve=function(e,t){var r=e.text,i=e.light,a=e.label,o=e.mode,s=e.lightLabel,l=e.format,c=e.render,d=e.renderFormItem,h=e.plain,m=e.fieldProps,v=On(),g=P.useState(!1),x=at(g,2),b=x[0],_=x[1],C=(m==null?void 0:m.format)||l||"HH:mm:ss",T=Array.isArray(r)?r:[],M=at(T,2),O=M[0],I=M[1],U=Rn.isDayjs(O)||typeof O=="number",F=Rn.isDayjs(I)||typeof I=="number",L=O?Rn(O,U?void 0:C).format(C):"",D=I?Rn(I,F?void 0:C).format(C):"";if(o==="read"){var z=w.jsxs("div",{ref:t,children:[w.jsx("div",{children:L||"-"}),w.jsx("div",{children:D||"-"})]});return c?c(r,R({mode:o},m),w.jsx("span",{children:z})):z}if(o==="edit"||o==="update"){var $=Sy(m.value,C),Y;if(i){var j=m.disabled,V=m.placeholder,B=V===void 0?[v.getMessage("tableForm.selectPlaceholder","请选择"),v.getMessage("tableForm.selectPlaceholder","请选择")]:V;Y=w.jsx(Vl,{onClick:function(){var W;m==null||(W=m.onOpenChange)===null||W===void 0||W.call(m,!0),_(!0)},style:$?{paddingInlineEnd:0}:void 0,label:a,disabled:j,placeholder:B,value:$||b?w.jsx(qE.RangePicker,R(R(R({},Qo(!1)),{},{format:l,ref:t},m),{},{placeholder:B,value:$,onOpenChange:function(W){var Z;_(W),m==null||(Z=m.onOpenChange)===null||Z===void 0||Z.call(m,W)},open:b})):null,downIcon:$||b?!1:void 0,allowClear:!1,ref:s})}else Y=w.jsx(qE.RangePicker,R(R(R({ref:t,format:l},Qo(h===void 0?!0:!h)),m),{},{value:$}));return d?d(r,R({mode:o},m),Y):Y}return null},Hve=Oe.forwardRef(zve);const kve=Oe.forwardRef(Bve);var jve=["radioType","renderFormItem","mode","light","label","render"],$ve=["onSearch","onClear","onChange","onBlur","showSearch","autoClearSearchValue","treeData","fetchDataOnSearch","searchValue"],Vve=function(e,t){e.radioType;var r=e.renderFormItem,i=e.mode,a=e.light,o=e.label,s=e.render,l=Dt(e,jve),c=P.useContext(Lt.ConfigContext),d=c.getPrefixCls,h=d("pro-field-tree-select"),m=P.useRef(null),v=P.useState(!1),g=at(v,2),x=g[0],b=g[1],_=l.fieldProps,C=_.onSearch,T=_.onClear,M=_.onChange,O=_.onBlur,I=_.showSearch,U=_.autoClearSearchValue;_.treeData;var F=_.fetchDataOnSearch,L=_.searchValue,D=Dt(_,$ve),z=On(),$=zm(R(R({},l),{},{defaultKeyWords:L})),Y=at($,3),j=Y[0],V=Y[1],B=Y[2],G=xr(void 0,{onChange:C,value:L}),W=at(G,2),Z=W[0],J=W[1];P.useImperativeHandle(t,function(){return R(R({},m.current||{}),{},{fetchData:function(Ce){return B(Ce)}})});var Q=P.useMemo(function(){if(i==="read"){var re=(D==null?void 0:D.fieldNames)||{},Ce=re.value,Fe=Ce===void 0?"value":Ce,ge=re.label,fe=ge===void 0?"label":ge,ve=re.children,be=ve===void 0?"children":ve,we=new Map,Ie=function Ae(X){if(!(X!=null&&X.length))return we;for(var q=X.length,ye=0;ye<q;){var Re=X[ye++];we.set(Re[Fe],Re[fe]),Ae(Re[be])}return we};return Ie(V)}},[D==null?void 0:D.fieldNames,i,V]),ue=function(Ce,Fe,ge){I&&U&&(B(void 0),J(void 0)),M==null||M(Ce,Fe,ge)};if(i==="read"){var se=w.jsx(w.Fragment,{children:Lm(l.text,eu(l.valueEnum||Q))});if(s){var ae;return(ae=s(l.text,R(R({mode:i},D),{},{treeData:V}),se))!==null&&ae!==void 0?ae:null}return se}if(i==="edit"){var ie,te=Array.isArray(D==null?void 0:D.value)?D==null||(ie=D.value)===null||ie===void 0?void 0:ie.length:0,ee=w.jsx(Yu,{spinning:j,children:w.jsx(LV,R(R({open:x,onDropdownVisibleChange:function(Ce){var Fe;D==null||(Fe=D.onDropdownVisibleChange)===null||Fe===void 0||Fe.call(D,Ce),b(Ce)},ref:m,popupMatchSelectWidth:!a,placeholder:z.getMessage("tableForm.selectPlaceholder","请选择"),tagRender:a?function(re){var Ce;if(te<2)return w.jsx(w.Fragment,{children:re.label});var Fe=D==null||(Ce=D.value)===null||Ce===void 0?void 0:Ce.findIndex(function(ge){return ge===re.value||ge.value===re.value});return w.jsxs(w.Fragment,{children:[re.label," ",Fe<te-1?",":""]})}:void 0,bordered:!a},D),{},{treeData:V,showSearch:I,style:R({minWidth:60},D.style),allowClear:D.allowClear!==!1,searchValue:Z,autoClearSearchValue:U,onClear:function(){T==null||T(),B(void 0),I&&J(void 0)},onChange:ue,onSearch:function(Ce){F&&l!==null&&l!==void 0&&l.request&&B(Ce),J(Ce)},onBlur:function(Ce){J(void 0),B(void 0),O==null||O(Ce)},className:Ut(D==null?void 0:D.className,h)}))});if(r){var xe;ee=(xe=r(l.text,R(R({mode:i},D),{},{options:V,loading:j}),ee))!==null&&xe!==void 0?xe:null}if(a){var Ee,Se=D.disabled,ze=D.placeholder,Ue=!!D.value&&((Ee=D.value)===null||Ee===void 0?void 0:Ee.length)!==0;return w.jsx(Vl,{label:o,disabled:Se,placeholder:ze,onClick:function(){var Ce;b(!0),D==null||(Ce=D.onDropdownVisibleChange)===null||Ce===void 0||Ce.call(D,!0)},bordered:l.bordered,value:Ue||x?ee:null,style:Ue?{paddingInlineEnd:0}:void 0,allowClear:!1,downIcon:!1})}return ee}return null};const Gve=Oe.forwardRef(Vve);function lo(n){var e=P.useState(!1),t=at(e,2),r=t[0],i=t[1],a=P.useRef(null),o=P.useCallback(function(c){var d,h,m=(d=a.current)===null||d===void 0||(d=d.labelRef)===null||d===void 0||(d=d.current)===null||d===void 0?void 0:d.contains(c.target),v=(h=a.current)===null||h===void 0||(h=h.clearRef)===null||h===void 0||(h=h.current)===null||h===void 0?void 0:h.contains(c.target);return m&&!v},[a]),s=function(d){o(d)&&i(!0)},l=function(){i(!1)};return n.isLight?w.jsx("div",{onMouseDown:s,onMouseUp:l,children:Oe.cloneElement(n.children,{labelTrigger:r,lightLabel:a})}):w.jsx(w.Fragment,{children:n.children})}var gz={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(da,function(){var t="day";return function(r,i,a){var o=function(c){return c.add(4-c.isoWeekday(),t)},s=i.prototype;s.isoWeekYear=function(){return o(this).year()},s.isoWeek=function(c){if(!this.$utils().u(c))return this.add(7*(c-this.isoWeek()),t);var d,h,m,v,g=o(this),x=(d=this.isoWeekYear(),h=this.$u,m=(h?a.utc:a)().year(d).startOf("year"),v=4-m.isoWeekday(),m.isoWeekday()>4&&(v+=7),m.add(v,t));return g.diff(x,"week")+1},s.isoWeekday=function(c){return this.$utils().u(c)?this.day()||7:this.day(this.day()%7?c:c-7)};var l=s.startOf;s.startOf=function(c,d){var h=this.$utils(),m=!!h.u(d)||d;return h.p(c)==="isoweek"?m?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):l.bind(this)(c,d)}}})})(gz);var Wve=gz.exports;const qve=ri(Wve);var vz={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(da,function(){var t={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,a){var o=i.prototype,s=o.format;a.en.formats=t,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,d=function(h,m){return h.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(v,g,x){var b=x&&x.toUpperCase();return g||m[x]||t[x]||m[b].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(_,C,T){return C||T.slice(1)})})}(l,c===void 0?{}:c);return s.call(this,d)}}})})(vz);var Xve=vz.exports;const Yve=ri(Xve);var Kve=["fieldProps"],Zve=["fieldProps"],Jve=["fieldProps"],Qve=["fieldProps"],e0e=["text","valueType","mode","onChange","renderFormItem","value","readonly","fieldProps"],t0e=["placeholder"];Rn.extend(NV);Rn.extend(UV);Rn.extend(qve);Rn.extend(o3);Rn.extend(BV);Rn.extend(Yve);var n0e=function(e,t,r){var i=FU(r.fieldProps);return t.type==="progress"?w.jsx(mz,R(R({},r),{},{text:e,fieldProps:R({status:t.status?t.status:void 0},i)})):t.type==="money"?w.jsx(hz,R(R({locale:t.locale},r),{},{fieldProps:i,text:e,moneySymbol:t.moneySymbol})):t.type==="percent"?w.jsx(pz,R(R({},r),{},{text:e,showSymbol:t.showSymbol,precision:t.precision,fieldProps:i,showColor:t.showColor})):t.type==="image"?w.jsx(dz,R(R({},r),{},{text:e,width:t.width})):e},r0e=function(e,t,r,i){var a=r.mode,o=a===void 0?"read":a,s=r.emptyText,l=s===void 0?"-":s;if(l!==!1&&o==="read"&&t!=="option"&&t!=="switch"&&typeof e!="boolean"&&typeof e!="number"&&!e){var c=r.fieldProps,d=r.render;return d?d(e,R({mode:o},c),w.jsx(w.Fragment,{children:l})):w.jsx(w.Fragment,{children:l})}if(delete r.emptyText,Xt(t)==="object")return n0e(e,t,r);var h=i&&i[t];if(h){if(delete r.ref,o==="read"){var m;return(m=h.render)===null||m===void 0?void 0:m.call(h,e,R(R({text:e},r),{},{mode:o||"read"}),w.jsx(w.Fragment,{children:e}))}if(o==="update"||o==="edit"){var v;return(v=h.renderFormItem)===null||v===void 0?void 0:v.call(h,e,R({text:e},r),w.jsx(w.Fragment,{children:e}))}}if(t==="money")return w.jsx(hz,R(R({},r),{},{text:e}));if(t==="date")return w.jsx(lo,{isLight:r.light,children:w.jsx(hp,R({text:e,format:"YYYY-MM-DD"},r))});if(t==="dateWeek")return w.jsx(lo,{isLight:r.light,children:w.jsx(hp,R({text:e,format:"YYYY-wo",picker:"week"},r))});if(t==="dateWeekRange"){var g=r.fieldProps,x=Dt(r,Kve);return w.jsx(lo,{isLight:r.light,children:w.jsx(pp,R({text:e,format:"YYYY-W",showTime:!0,fieldProps:R({picker:"week"},g)},x))})}if(t==="dateMonthRange"){var b=r.fieldProps,_=Dt(r,Zve);return w.jsx(lo,{isLight:r.light,children:w.jsx(pp,R({text:e,format:"YYYY-MM",showTime:!0,fieldProps:R({picker:"month"},b)},_))})}if(t==="dateQuarterRange"){var C=r.fieldProps,T=Dt(r,Jve);return w.jsx(lo,{isLight:r.light,children:w.jsx(pp,R({text:e,format:"YYYY-Q",showTime:!0,fieldProps:R({picker:"quarter"},C)},T))})}if(t==="dateYearRange"){var M=r.fieldProps,O=Dt(r,Qve);return w.jsx(lo,{isLight:r.light,children:w.jsx(pp,R({text:e,format:"YYYY",showTime:!0,fieldProps:R({picker:"year"},M)},O))})}return t==="dateMonth"?w.jsx(lo,{isLight:r.light,children:w.jsx(hp,R({text:e,format:"YYYY-MM",picker:"month"},r))}):t==="dateQuarter"?w.jsx(lo,{isLight:r.light,children:w.jsx(hp,R({text:e,format:"YYYY-[Q]Q",picker:"quarter"},r))}):t==="dateYear"?w.jsx(lo,{isLight:r.light,children:w.jsx(hp,R({text:e,format:"YYYY",picker:"year"},r))}):t==="dateRange"?w.jsx(pp,R({text:e,format:"YYYY-MM-DD"},r)):t==="dateTime"?w.jsx(lo,{isLight:r.light,children:w.jsx(hp,R({text:e,format:"YYYY-MM-DD HH:mm:ss",showTime:!0},r))}):t==="dateTimeRange"?w.jsx(lo,{isLight:r.light,children:w.jsx(pp,R({text:e,format:"YYYY-MM-DD HH:mm:ss",showTime:!0},r))}):t==="time"?w.jsx(lo,{isLight:r.light,children:w.jsx(kve,R({text:e,format:"HH:mm:ss"},r))}):t==="timeRange"?w.jsx(lo,{isLight:r.light,children:w.jsx(Hve,R({text:e,format:"HH:mm:ss"},r))}):t==="fromNow"?w.jsx(Xge,R({text:e},r)):t==="index"?w.jsx(ZI,{children:e+1}):t==="indexBorder"?w.jsx(ZI,{border:!0,children:e+1}):t==="progress"?w.jsx(mz,R(R({},r),{},{text:e})):t==="percent"?w.jsx(pz,R({text:e},r)):t==="avatar"&&typeof e=="string"&&r.mode==="read"?w.jsx(s3,{src:e,size:22,shape:"circle"}):t==="code"?w.jsx(UF,R({text:e},r)):t==="jsonCode"?w.jsx(UF,R({text:e,language:"json"},r)):t==="textarea"?w.jsx(Uve,R({text:e},r)):t==="digit"?w.jsx(jge,R({text:e},r)):t==="digitRange"?w.jsx(Vge,R({text:e},r)):t==="second"?w.jsx(wve,R({text:e},r)):t==="select"||t==="text"&&(r.valueEnum||r.request)?w.jsx(lo,{isLight:r.light,children:w.jsx(mQ,R({text:e},r))}):t==="checkbox"?w.jsx(SQ,R({text:e},r)):t==="radio"?w.jsx(eD,R({text:e},r)):t==="radioButton"?w.jsx(eD,R({radioType:"button",text:e},r)):t==="rate"?w.jsx(_ve,R({text:e},r)):t==="slider"?w.jsx(Rve,R({text:e},r)):t==="switch"?w.jsx(Ove,R({text:e},r)):t==="option"?w.jsx(sve,R({text:e},r)):t==="password"?w.jsx(uve,R({text:e},r)):t==="image"?w.jsx(dz,R({text:e},r)):t==="cascader"?w.jsx(yQ,R({text:e},r)):t==="treeSelect"?w.jsx(Gve,R({text:e},r)):t==="color"?w.jsx(Bge,R({text:e},r)):t==="segmented"?w.jsx(Eve,R({text:e},r)):w.jsx(Ive,R({text:e},r))},i0e=function(e,t){var r,i,a,o,s,l,c=e.text,d=e.valueType,h=d===void 0?"text":d,m=e.mode,v=m===void 0?"read":m,g=e.onChange,x=e.renderFormItem,b=e.value,_=e.readonly,C=e.fieldProps,T=Dt(e,e0e),M=P.useContext(ju),O=zn(function(){for(var F,L=arguments.length,D=new Array(L),z=0;z<L;z++)D[z]=arguments[z];C==null||(F=C.onChange)===null||F===void 0||F.call.apply(F,[C].concat(D)),g==null||g.apply(void 0,D)}),I=_a(function(){return(b!==void 0||C)&&R(R({value:b},ti(C)),{},{onChange:O})},[b,C,O]),U=r0e(v==="edit"?(r=(i=I==null?void 0:I.value)!==null&&i!==void 0?i:c)!==null&&r!==void 0?r:"":(a=c!=null?c:I==null?void 0:I.value)!==null&&a!==void 0?a:"",h||"text",ti(R(R({ref:t},T),{},{mode:_?"read":v,renderFormItem:x?function(F,L,D){L.placeholder;var z=Dt(L,t0e),$=x(F,z,D);return Oe.isValidElement($)?Oe.cloneElement($,R(R({},I),$.props||{})):$}:void 0,placeholder:x?void 0:(o=T==null?void 0:T.placeholder)!==null&&o!==void 0?o:I==null?void 0:I.placeholder,fieldProps:FU(ti(R(R({},I),{},{placeholder:x?void 0:(s=T==null?void 0:T.placeholder)!==null&&s!==void 0?s:I==null?void 0:I.placeholder})),(l=Object.keys(M.valueTypeMap||{}))===null||l===void 0?void 0:l.includes(h))})),M.valueTypeMap||{});return w.jsx(Oe.Fragment,{children:U})},a0e=Oe.forwardRef(i0e),ky=Oe.createContext({mode:"edit"}),o0e=["fieldProps","children","labelCol","label","autoFocus","isDefaultDom","render","proFieldProps","renderFormItem","valueType","initialValue","onChange","valueEnum","params","name","dependenciesValues","cacheForSwr","valuePropName"],s0e=function(e){var t=e.fieldProps,r=e.children;e.labelCol,e.label;var i=e.autoFocus;e.isDefaultDom;var a=e.render,o=e.proFieldProps,s=e.renderFormItem,l=e.valueType;e.initialValue;var c=e.onChange,d=e.valueEnum,h=e.params;e.name;var m=e.dependenciesValues,v=e.cacheForSwr,g=v===void 0?!1:v,x=e.valuePropName,b=x===void 0?"value":x,_=Dt(e,o0e),C=P.useContext(ky),T=P.useMemo(function(){return m&&_.request?R(R({},h),m||{}):h},[m,h,_.request]),M=zn(function(){if(t!=null&&t.onChange){for(var U,F=arguments.length,L=new Array(F),D=0;D<F;D++)L[D]=arguments[D];t==null||(U=t.onChange)===null||U===void 0||U.call.apply(U,[t].concat(L));return}}),O=P.useMemo(function(){return R(R({autoFocus:i},t),{},{onChange:M})},[i,t,M]),I=P.useMemo(function(){if(r)return Oe.isValidElement(r)?Oe.cloneElement(r,R(R({},_),{},{onChange:function(){for(var F=arguments.length,L=new Array(F),D=0;D<F;D++)L[D]=arguments[D];if(t!=null&&t.onChange){var z;t==null||(z=t.onChange)===null||z===void 0||z.call.apply(z,[t].concat(L));return}c==null||c.apply(void 0,L)}},(r==null?void 0:r.props)||{})):w.jsx(w.Fragment,{children:r})},[r,t==null?void 0:t.onChange,c,_]);return I||w.jsx(a0e,R(R(R({text:t==null?void 0:t[b],render:a,renderFormItem:s,valueType:l||"text",cacheForSwr:g,fieldProps:O,valueEnum:yo(d)},o),_),{},{mode:(o==null?void 0:o.mode)||C.mode||"edit",params:T}))},m1=sB(P.memo(s0e,function(n,e){return $c(e,n,["onChange","onBlur"])})),l0e=["creatorButtonProps","deleteIconProps","copyIconProps","arrowSort","upIconProps","downIconProps","itemContainerRender","itemRender","alwaysShowItemLabel","prefixCls","creatorRecord","action","actionGuard","children","actionRender","fields","meta","field","index","formInstance","originName","containerClassName","containerStyle","min","max","count"],c0e=function(e){return Array.isArray(e)?e:typeof e=="function"?[e]:Yc(e)},u0e=function(e){var t,r;e.creatorButtonProps;var i=e.deleteIconProps,a=e.copyIconProps,o=e.arrowSort,s=e.upIconProps,l=e.downIconProps,c=e.itemContainerRender,d=e.itemRender,h=e.alwaysShowItemLabel,m=e.prefixCls;e.creatorRecord;var v=e.action;e.actionGuard;var g=e.children,x=e.actionRender,b=e.fields,_=e.meta,C=e.field,T=e.index,M=e.formInstance,O=e.originName,I=e.containerClassName,U=e.containerStyle,F=e.min,L=e.max,D=e.count,z=Dt(e,l0e),$=P.useContext(Zo),Y=$.hashId,j=((t=Lt.useConfig)===null||t===void 0?void 0:t.call(Lt))||{componentSize:"middle"},V=j.componentSize,B=P.useContext(bm),G=P.useRef(!1),W=P.useContext(ky),Z=W.mode,J=P.useState(!1),Q=at(J,2),ue=Q[0],se=Q[1],ae=P.useState(!1),ie=at(ae,2),te=ie[0],ee=ie[1];P.useEffect(function(){return function(){G.current=!0}},[]);var xe=function(){return M.getFieldValue([B.listName,O,T==null?void 0:T.toString()].flat(1).filter(function(q){return q!=null}))},Ee={getCurrentRowData:xe,setCurrentRowData:function(q){var ye,Re=(M==null||(ye=M.getFieldsValue)===null||ye===void 0?void 0:ye.call(M))||{},Ge=[B.listName,O,T==null?void 0:T.toString()].flat(1).filter(function(ht){return ht!=null}),Le=Ur(Re,Ge,R(R({},xe()),q||{}));return M.setFieldsValue(Le)}},Se=c0e(g).map(function(X){return typeof X=="function"?X==null?void 0:X(C,T,R(R({},v),Ee),D):X}).map(function(X,q){if(Oe.isValidElement(X)){var ye;return Oe.cloneElement(X,R({key:X.key||(X==null||(ye=X.props)===null||ye===void 0?void 0:ye.name)||q},(X==null?void 0:X.props)||{}))}return X}),ze=P.useMemo(function(){if(Z==="read"||a===!1||L===D)return null;var X=a,q=X.Icon,ye=q===void 0?xU:q,Re=X.tooltipText;return w.jsx(vo,{title:Re,children:te?w.jsx(dm,{}):w.jsx(ye,{className:Ut("".concat(m,"-action-icon action-copy"),Y),onClick:un(_t().mark(function Ge(){var Le;return _t().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:return ee(!0),Le=M==null?void 0:M.getFieldValue([B.listName,O,C.name].filter(function(xt){return xt!==void 0}).flat(1)),et.next=4,v.add(Le,D);case 4:ee(!1);case 5:case"end":return et.stop()}},Ge)}))})},"copy")},[a,L,D,te,m,Y,M,B.listName,C.name,O,v]),Ue=P.useMemo(function(){if(Z==="read"||i===!1||F===D)return null;var X=i,q=X.Icon,ye=q===void 0?_U:q,Re=X.tooltipText;return w.jsx(vo,{title:Re,children:ue?w.jsx(dm,{}):w.jsx(ye,{className:Ut("".concat(m,"-action-icon action-remove"),Y),onClick:un(_t().mark(function Ge(){return _t().wrap(function(ht){for(;;)switch(ht.prev=ht.next){case 0:return se(!0),ht.next=3,v.remove(C.name);case 3:G.current||se(!1);case 4:case"end":return ht.stop()}},Ge)}))})},"delete")},[i,F,D,ue,m,Y,v,C.name]),re=P.useMemo(function(){if(!o||Z==="read"||s===!1)return null;var X=T-1;if(X<0)return null;var q=s,ye=q.Icon,Re=ye===void 0?yU:ye,Ge=q.tooltipText;return w.jsx(vo,{title:Ge,children:w.jsx(Re,{className:Ut("".concat(m,"-action-icon action-up"),Y),onClick:un(_t().mark(function Le(){return _t().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:return et.next=2,v.move(T,X);case 2:case"end":return et.stop()}},Le)}))})},"up")},[s,m,Y,v,o]),Ce=P.useMemo(function(){if(!o||Z==="read"||l===!1)return null;var X=T+1;if(X>=D)return null;var q=l,ye=q.Icon,Re=ye===void 0?vU:ye,Ge=q.tooltipText;return w.jsx(vo,{title:Ge,children:w.jsx(Re,{className:Ut("".concat(m,"-action-icon action-down"),Y),onClick:un(_t().mark(function Le(){return _t().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:return et.next=2,v.move(T,X);case 2:case"end":return et.stop()}},Le)}))})},"down")},[s,m,Y,v,o]),Fe=P.useMemo(function(){return[ze,Ue,re,Ce].filter(function(X){return X!=null})},[ze,Ue,re,Ce]),ge=(x==null?void 0:x(C,v,Fe,D))||Fe,fe=ge.length>0&&Z!=="read"?w.jsx("div",{className:Ut("".concat(m,"-action"),ne({},"".concat(m,"-action-small"),V==="small"),Y),children:ge}):null,ve={name:z.name,field:C,index:T,record:M==null||(r=M.getFieldValue)===null||r===void 0?void 0:r.call(M,[B.listName,O,C.name].filter(function(X){return X!==void 0}).flat(1)),fields:b,operation:v,meta:_},be=Bm(),we=be.grid,Ie=(c==null?void 0:c(Se,ve))||Se,Ae=(d==null?void 0:d({listDom:w.jsx("div",{className:Ut("".concat(m,"-container"),I,Y),style:R({width:we?"100%":void 0},U),children:Ie}),action:fe},ve))||w.jsxs("div",{className:Ut("".concat(m,"-item"),Y,ne(ne({},"".concat(m,"-item-default"),h===void 0),"".concat(m,"-item-show-label"),h)),style:{display:"flex",alignItems:"flex-end"},children:[w.jsx("div",{className:Ut("".concat(m,"-container"),I,Y),style:R({width:we?"100%":void 0},U),children:Ie}),fe]});return w.jsx(bm.Provider,{value:R(R({},C),{},{listName:[B.listName,O,C.name].filter(function(X){return X!==void 0}).flat(1)}),children:Ae})},d0e=function(e){var t=On(),r=e.creatorButtonProps,i=e.prefixCls,a=e.children,o=e.creatorRecord,s=e.action,l=e.fields,c=e.actionGuard,d=e.max,h=e.fieldExtraRender,m=e.meta,v=e.containerClassName,g=e.containerStyle,x=e.onAfterAdd,b=e.onAfterRemove,_=P.useContext(Zo),C=_.hashId,T=P.useRef(new Map),M=P.useState(!1),O=at(M,2),I=O[0],U=O[1],F=P.useMemo(function(){return l.map(function(j){var V,B;if(!((V=T.current)!==null&&V!==void 0&&V.has(j.key.toString()))){var G;(G=T.current)===null||G===void 0||G.set(j.key.toString(),B0())}var W=(B=T.current)===null||B===void 0?void 0:B.get(j.key.toString());return R(R({},j),{},{uuid:W})})},[l]),L=P.useMemo(function(){var j=R({},s),V=F.length;return c!=null&&c.beforeAddRow?j.add=un(_t().mark(function B(){var G,W,Z,J,Q,ue=arguments;return _t().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:for(G=ue.length,W=new Array(G),Z=0;Z<G;Z++)W[Z]=ue[Z];return ae.next=3,c.beforeAddRow.apply(c,W.concat([V]));case 3:if(J=ae.sent,!J){ae.next=8;break}return Q=s.add.apply(s,W),x==null||x.apply(void 0,W.concat([V+1])),ae.abrupt("return",Q);case 8:return ae.abrupt("return",!1);case 9:case"end":return ae.stop()}},B)})):j.add=un(_t().mark(function B(){var G,W,Z,J,Q=arguments;return _t().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:for(G=Q.length,W=new Array(G),Z=0;Z<G;Z++)W[Z]=Q[Z];return J=s.add.apply(s,W),x==null||x.apply(void 0,W.concat([V+1])),se.abrupt("return",J);case 4:case"end":return se.stop()}},B)})),c!=null&&c.beforeRemoveRow?j.remove=un(_t().mark(function B(){var G,W,Z,J,Q,ue=arguments;return _t().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:for(G=ue.length,W=new Array(G),Z=0;Z<G;Z++)W[Z]=ue[Z];return ae.next=3,c.beforeRemoveRow.apply(c,W.concat([V]));case 3:if(J=ae.sent,!J){ae.next=8;break}return Q=s.remove.apply(s,W),b==null||b.apply(void 0,W.concat([V-1])),ae.abrupt("return",Q);case 8:return ae.abrupt("return",!1);case 9:case"end":return ae.stop()}},B)})):j.remove=un(_t().mark(function B(){var G,W,Z,J,Q=arguments;return _t().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:for(G=Q.length,W=new Array(G),Z=0;Z<G;Z++)W[Z]=Q[Z];return J=s.remove.apply(s,W),b==null||b.apply(void 0,W.concat([V-1])),se.abrupt("return",J);case 4:case"end":return se.stop()}},B)})),j},[s,c==null?void 0:c.beforeAddRow,c==null?void 0:c.beforeRemoveRow,x,b,F.length]),D=P.useMemo(function(){if(r===!1||F.length===d)return null;var j=r||{},V=j.position,B=V===void 0?"bottom":V,G=j.creatorButtonText,W=G===void 0?t.getMessage("editableTable.action.add","添加一行数据"):G;return w.jsx(lr,R(R({className:"".concat(i,"-creator-button-").concat(B," ").concat(C||"").trim(),type:"dashed",loading:I,block:!0,icon:w.jsx(Tq,{})},Br(r||{},["position","creatorButtonText"])),{},{onClick:un(_t().mark(function Z(){var J,Q;return _t().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return U(!0),Q=F.length,B==="top"&&(Q=0),se.next=5,L.add((J=yo(o))!==null&&J!==void 0?J:{},Q);case 5:U(!1);case 6:case"end":return se.stop()}},Z)})),children:W}))},[r,F.length,d,t,i,C,I,L,o]),z=P.useContext(ky),$=R({width:"max-content",maxWidth:"100%",minWidth:"100%"},g),Y=P.useMemo(function(){return F.map(function(j,V){return P.createElement(u0e,R(R({},e),{},{key:j.uuid,field:j,index:V,action:L,count:F.length}),a)})},[a,e,F,L]);return z.mode==="read"||e.readonly===!0?w.jsx(w.Fragment,{children:Y}):w.jsxs("div",{style:$,className:v,children:[r!==!1&&(r==null?void 0:r.position)==="top"&&D,Y,h&&h(L,m),r!==!1&&(r==null?void 0:r.position)!=="top"&&D]})},f0e=function(e){return ne(ne({},"".concat(e.antCls,"-pro"),ne({},"".concat(e.antCls,"-form:not(").concat(e.antCls,"-form-horizontal)"),ne({},e.componentCls,ne({},"&-item:not(".concat(e.componentCls,"-item-show-label)"),ne({},"".concat(e.antCls,"-form-item-label"),{display:"none"}))))),e.componentCls,ne(ne({maxWidth:"100%","&-item":{"&&-show-label":ne({},"".concat(e.antCls,"-form-item-label"),{display:"inline-block"}),"&&-default:first-child":{"div:first-of-type":ne({},"".concat(e.antCls,"-form-item"),ne({},"".concat(e.antCls,"-form-item-label"),{display:"inline-block"}))},"&&-default:not(:first-child)":{"div:first-of-type":ne({},"".concat(e.antCls,"-form-item"),ne({},"".concat(e.antCls,"-form-item-label"),{display:"none"}))}},"&-action":{display:"flex",height:e.controlHeight,marginBlockEnd:e.marginLG,lineHeight:e.controlHeight+"px","&-small":{height:e.controlHeightSM,lineHeight:e.controlHeightSM}},"&-action-icon":{marginInlineStart:8,cursor:"pointer",transition:"color 0.3s ease-in-out","&:hover":{color:e.colorPrimaryTextHover}}},"".concat(e.proComponentsCls,"-card ").concat(e.proComponentsCls,"-card-extra"),ne({},e.componentCls,{"&-action":{marginBlockEnd:0}})),"&-creator-button-top",{marginBlockEnd:24}))};function h0e(n){return Yn("ProFormList",function(e){var t=R(R({},e),{},{componentCls:".".concat(n)});return[f0e(t)]})}var p0e=["transform","actionRender","creatorButtonProps","label","alwaysShowItemLabel","tooltip","creatorRecord","itemRender","rules","itemContainerRender","fieldExtraRender","copyIconProps","children","deleteIconProps","arrowSort","upIconProps","downIconProps","actionRef","style","prefixCls","actionGuard","min","max","colProps","wrapperCol","rowProps","onAfterAdd","onAfterRemove","isValidateList","emptyListMessage","className","containerClassName","containerStyle","readonly"],bm=Oe.createContext({});function m0e(n){var e=P.useRef(),t=P.useContext(Lt.ConfigContext),r=P.useContext(bm),i=t.getPrefixCls("pro-form-list"),a=On(),o=Oe.useContext(Um),s=o.setFieldValueType,l=n.transform,c=n.actionRender,d=n.creatorButtonProps,h=n.label,m=n.alwaysShowItemLabel,v=n.tooltip,g=n.creatorRecord,x=n.itemRender,b=n.rules,_=n.itemContainerRender,C=n.fieldExtraRender,T=n.copyIconProps,M=T===void 0?{Icon:xU,tooltipText:a.getMessage("copyThisLine","复制此项")}:T,O=n.children,I=n.deleteIconProps,U=I===void 0?{Icon:_U,tooltipText:a.getMessage("deleteThisLine","删除此项")}:I,F=n.arrowSort,L=n.upIconProps,D=L===void 0?{Icon:yU,tooltipText:a.getMessage("sortUpThisLine","向上排序")}:L,z=n.downIconProps,$=z===void 0?{Icon:vU,tooltipText:a.getMessage("sortDownThisLine","向下排序")}:z,Y=n.actionRef,j=n.style,V=n.prefixCls,B=n.actionGuard,G=n.min,W=n.max,Z=n.colProps,J=n.wrapperCol,Q=n.rowProps,ue=n.onAfterAdd,se=n.onAfterRemove,ae=n.isValidateList,ie=ae===void 0?!1:ae,te=n.emptyListMessage,ee=te===void 0?"列表不能为空":te,xe=n.className,Ee=n.containerClassName,Se=n.containerStyle,ze=n.readonly,Ue=Dt(n,p0e),re=Bm({colProps:Z,rowProps:Q}),Ce=re.ColWrapper,Fe=re.RowWrapper,ge=P.useContext(_y),fe=P.useMemo(function(){return r.name===void 0?[Ue.name].flat(1):[r.name,Ue.name].flat(1)},[r.name,Ue.name]);P.useImperativeHandle(Y,function(){return R(R({},e.current),{},{get:function(Ae){return ge.formRef.current.getFieldValue([].concat(gr(fe),[Ae]))},getList:function(){return ge.formRef.current.getFieldValue(gr(fe))}})},[fe,ge.formRef]),P.useEffect(function(){ma(!!ge.formRef,"ProFormList 必须要放到 ProForm 中,否则会造成行为异常。"),ma(!!ge.formRef,"Proformlist must be placed in ProForm, otherwise it will cause abnormal behavior.")},[ge.formRef]),P.useEffect(function(){!s||!n.name||s([n.name].flat(1).filter(function(Ie){return Ie!==void 0}),{valueType:"formList",transform:l})},[n.name,s,l]);var ve=h0e(i),be=ve.wrapSSR,we=ve.hashId;return ge.formRef?be(w.jsx(Ce,{children:w.jsx("div",{className:Ut(i,we),style:j,children:w.jsx(pn.Item,R(R({label:h,prefixCls:V,tooltip:v,style:j,required:b==null?void 0:b.some(function(Ie){return Ie.required}),wrapperCol:J,className:xe},Ue),{},{name:ie?fe:void 0,rules:ie?[{validator:function(Ae,X){return!X||X.length===0?Promise.reject(new Error(ee)):Promise.resolve()},required:!0}]:void 0,children:w.jsx(pn.List,R(R({rules:b},Ue),{},{name:fe,children:function(Ae,X,q){return e.current=X,w.jsxs(Fe,{children:[w.jsx(d0e,{name:fe,readonly:!!ze,originName:Ue.name,copyIconProps:M,deleteIconProps:U,arrowSort:F,upIconProps:D,downIconProps:$,formInstance:ge.formRef.current,prefixCls:i,meta:q,fields:Ae,itemContainerRender:_,itemRender:x,fieldExtraRender:C,creatorButtonProps:d,creatorRecord:g,actionRender:c,action:X,actionGuard:B,alwaysShowItemLabel:m,min:G,max:W,count:Ae.length,onAfterAdd:function(Re,Ge,Le){ie&&ge.formRef.current.validateFields([fe]),ue==null||ue(Re,Ge,Le)},onAfterRemove:function(Re,Ge){ie&&Ge===0&&ge.formRef.current.validateFields([fe]),se==null||se(Re,Ge)},containerClassName:Ee,containerStyle:Se,children:O}),w.jsx(pn.ErrorList,{errors:q.errors})]})}}))}))})})):null}var g0e=["name","originDependencies","children","ignoreFormListField"],ZC=function(e){var t=e.name,r=e.originDependencies,i=r===void 0?t:r,a=e.children,o=e.ignoreFormListField,s=Dt(e,g0e),l=P.useContext(_y),c=P.useContext(bm),d=P.useMemo(function(){return t.map(function(h){var m,v=[h];return!o&&c.name!==void 0&&(m=c.listName)!==null&&m!==void 0&&m.length&&v.unshift(c.listName),v.flat(1)})},[c.listName,c.name,o,t==null?void 0:t.toString()]);return w.jsx(pn.Item,R(R({},s),{},{noStyle:!0,shouldUpdate:function(m,v,g){if(typeof s.shouldUpdate=="boolean")return s.shouldUpdate;if(typeof s.shouldUpdate=="function"){var x;return(x=s.shouldUpdate)===null||x===void 0?void 0:x.call(s,m,v,g)}return d.some(function(b){return!$c(Mr(m,b),Mr(v,b))})},children:function(m){for(var v={},g=0;g<t.length;g++){var x,b=d[g],_=i[g],C=[_].flat(1),T=(x=l.getFieldFormatValueObject)===null||x===void 0?void 0:x.call(l,b);if(T&&Object.keys(T).length)v=IC({},v,T),Mr(T,b)&&(v=Ur(v,C,Mr(T,b)));else{var M;T=(M=m.getFieldValue)===null||M===void 0?void 0:M.call(m,b),typeof T!="undefined"&&(v=Ur(v,C,T))}}return a==null?void 0:a(v,R(R({},m),l))}}))};ZC.displayName="ProFormDependency";var v0e=["children","value","valuePropName","onChange","fieldProps","space","type","transform","convertValue","lightProps"],y0e=["children","space","valuePropName"],b0e={space:Ra,group:ei.Group};function x0e(n){var e=arguments.length<=1?void 0:arguments[1];return e&&e.target&&n in e.target?e.target[n]:e}var _0e=function(e){var t=e.children,r=e.value,i=r===void 0?[]:r,a=e.valuePropName,o=e.onChange,s=e.fieldProps,l=e.space,c=e.type,d=c===void 0?"space":c;e.transform,e.convertValue,e.lightProps;var h=Dt(e,v0e),m=zn(function(M,O){var I,U=gr(i);U[O]=x0e(a||"value",M),o==null||o(U),s==null||(I=s.onChange)===null||I===void 0||I.call(s,U)}),v=-1,g=Yc(yo(t,i,e)).map(function(M){if(Oe.isValidElement(M)){var O,I,U;v+=1;var F=v,L=(M==null||(O=M.type)===null||O===void 0?void 0:O.displayName)==="ProFormComponent"||(M==null||(I=M.props)===null||I===void 0?void 0:I.readonly),D=L?R(R({key:F,ignoreFormItem:!0},M.props||{}),{},{fieldProps:R(R({},M==null||(U=M.props)===null||U===void 0?void 0:U.fieldProps),{},{onChange:function(){m(arguments.length<=0?void 0:arguments[0],F)}}),value:i==null?void 0:i[F],onChange:void 0}):R(R({key:F},M.props||{}),{},{value:i==null?void 0:i[F],onChange:function($){var Y,j;m($,F),(Y=(j=M.props).onChange)===null||Y===void 0||Y.call(j,$)}});return Oe.cloneElement(M,D)}return M}),x=b0e[d],b=Bm(h),_=b.RowWrapper,C=P.useMemo(function(){return R({},d==="group"?{compact:!0}:{})},[d]),T=P.useCallback(function(M){var O=M.children;return w.jsx(x,R(R(R({},C),l),{},{align:"start",wrap:!0,children:O}))},[x,l,C]);return w.jsx(_,{Wrapper:T,children:g})},S0e=Oe.forwardRef(function(n,e){var t=n.children,r=n.space,i=n.valuePropName,a=Dt(n,y0e);return P.useImperativeHandle(e,function(){return{}}),w.jsx(_0e,R(R(R({space:r,valuePropName:i},a.fieldProps),{},{onChange:void 0},a),{},{children:t}))}),C0e=sB(S0e),w0e=["children","onChange","onBlur","ignoreFormItem","valuePropName"],T0e=["children","addonAfter","addonBefore","valuePropName","addonWarpStyle","convertValue","help"],M0e=["valueType","transform","dataFormat","ignoreFormItem","lightProps","children"],E0e=Oe.createContext({}),A0e=function(e){var t,r,i=e.children,a=e.onChange,o=e.onBlur;e.ignoreFormItem;var s=e.valuePropName,l=s===void 0?"value":s,c=Dt(e,w0e),d=(i==null||(t=i.type)===null||t===void 0?void 0:t.displayName)!=="ProFormComponent",h=!Oe.isValidElement(i),m=zn(function(){for(var C,T,M,O,I=arguments.length,U=new Array(I),F=0;F<I;F++)U[F]=arguments[F];a==null||a.apply(void 0,U),!d&&(h||(i==null||(C=i.props)===null||C===void 0||(T=C.onChange)===null||T===void 0||T.call.apply(T,[C].concat(U)),i==null||(M=i.props)===null||M===void 0||(M=M.fieldProps)===null||M===void 0||(O=M.onChange)===null||O===void 0||O.call.apply(O,[M].concat(U))))}),v=zn(function(){var C,T,M,O;if(!d&&!h){for(var I=arguments.length,U=new Array(I),F=0;F<I;F++)U[F]=arguments[F];o==null||o.apply(void 0,U),i==null||(C=i.props)===null||C===void 0||(T=C.onBlur)===null||T===void 0||T.call.apply(T,[C].concat(U)),i==null||(M=i.props)===null||M===void 0||(M=M.fieldProps)===null||M===void 0||(O=M.onBlur)===null||O===void 0||O.call.apply(O,[M].concat(U))}}),g=_a(function(){var C;return Br((i==null||(C=i.props)===null||C===void 0?void 0:C.fieldProps)||{},["onBlur","onChange"])},[Br((i==null||(r=i.props)===null||r===void 0?void 0:r.fieldProps)||{},["onBlur","onChange"])]),x=e[l],b=P.useMemo(function(){if(!d&&!h)return ti(R(R(ne({id:c.id},l,x),g),{},{onBlur:v,onChange:m}))},[x,g,v,m,c.id,l]),_=P.useMemo(function(){if(!b&&Oe.isValidElement(i))return function(){for(var C,T,M=arguments.length,O=new Array(M),I=0;I<M;I++)O[I]=arguments[I];a==null||a.apply(void 0,O),i==null||(C=i.props)===null||C===void 0||(T=C.onChange)===null||T===void 0||T.call.apply(T,[C].concat(O))}},[b,i,a]);return Oe.isValidElement(i)?Oe.cloneElement(i,ti(R(R(R({},c),{},ne({},l,e[l]),i.props),{},{onChange:_,fieldProps:b,onBlur:d&&!h&&o}))):w.jsx(w.Fragment,{children:i})},tD=function(e){var t=e.children,r=e.addonAfter,i=e.addonBefore,a=e.valuePropName,o=e.addonWarpStyle,s=e.convertValue,l=e.help,c=Dt(e,T0e),d=P.useMemo(function(){var h=function(v){var g,x=(g=s==null?void 0:s(v,c.name))!==null&&g!==void 0?g:v;return c.getValueProps?c.getValueProps(x):ne({},a||"value",x)};return!s&&!c.getValueProps&&(h=void 0),!r&&!i?w.jsx(pn.Item,R(R({},c),{},{valuePropName:a,getValueProps:h,children:t})):w.jsx(pn.Item,R(R(R({},c),{},{help:typeof l!="function"?l:void 0,valuePropName:a,_internalItemRender:{mark:"pro_table_render",render:function(v,g){return w.jsxs(w.Fragment,{children:[w.jsxs("div",{style:R({display:"flex",alignItems:"center",flexWrap:"wrap"},o),children:[i?w.jsx("div",{style:{marginInlineEnd:8},children:i}):null,g.input,r?w.jsx("div",{style:{marginInlineStart:8},children:r}):null]}),typeof l=="function"?l({errors:v.errors,warnings:v.warnings}):g.errorList,g.extra]})}}},c),{},{getValueProps:h,children:t}))},[r,i,t,s==null?void 0:s.toString(),c]);return w.jsx(E0e.Provider,{value:{name:c.name,label:c.label},children:d})},yz=function(e){var t,r,i,a,o=(Lt===null||Lt===void 0||(t=Lt.useConfig)===null||t===void 0?void 0:t.call(Lt))||{componentSize:"middle"},s=o.componentSize,l=s,c=e.valueType,d=e.transform,h=e.dataFormat,m=e.ignoreFormItem,v=e.lightProps;e.children;var g=Dt(e,M0e),x=P.useContext(bm),b=P.useMemo(function(){return e.name===void 0?e.name:x.name!==void 0?[x.name,e.name].flat(1):e.name},[x.name,e.name]),_=Oe.useContext(Um),C=_.setFieldValueType,T=_.formItemProps;P.useEffect(function(){!C||!e.name||C([x.listName,e.name].flat(1).filter(function(L){return L!==void 0}),{valueType:c||"text",dateFormat:h,transform:d})},[x.listName,b,h,e.name,C,d,c]);var M=Oe.isValidElement(e.children)&&AX(c||e.children.props.valueType),O=P.useMemo(function(){return!!(!(v!=null&&v.light)||v!=null&&v.customLightMode||M)},[v==null?void 0:v.customLightMode,M,v==null?void 0:v.light]);if(typeof e.children=="function"){var I;return P.createElement(tD,R(R({},g),{},{name:b,key:g.proFormFieldKey||((I=g.name)===null||I===void 0?void 0:I.toString())}),e.children)}var U=w.jsx(A0e,{valuePropName:e.valuePropName,children:e.children},g.proFormFieldKey||((r=g.name)===null||r===void 0?void 0:r.toString())),F=O?U:P.createElement(tbe,R(R({},v),{},{key:g.proFormFieldKey||((i=g.name)===null||i===void 0?void 0:i.toString()),size:l}),U);return m?w.jsx(w.Fragment,{children:F}):w.jsx(tD,R(R(R({},T),g),{},{name:b,isListField:x.name!==void 0,children:F}),g.proFormFieldKey||((a=g.name)===null||a===void 0?void 0:a.toString()))},R0e=function(e){return ne({},e.componentCls,{"&-title":{marginBlockEnd:e.marginXL,fontWeight:"bold"},"&-container":ne({flexWrap:"wrap",maxWidth:"100%"},"> div".concat(e.antCls,"-space-item"),{maxWidth:"100%"}),"&-twoLine":ne(ne(ne(ne({display:"block",width:"100%"},"".concat(e.componentCls,"-title"),{width:"100%",margin:"8px 0"}),"".concat(e.componentCls,"-container"),{paddingInlineStart:16}),"".concat(e.antCls,"-space-item,").concat(e.antCls,"-form-item"),{width:"100%"}),"".concat(e.antCls,"-form-item"),{"&-control":{display:"flex",alignItems:"center",justifyContent:"flex-end","&-input":{alignItems:"center",justifyContent:"flex-end","&-content":{flex:"none"}}}})})};function P0e(n){return Yn("ProFormGroup",function(e){var t=R(R({},e),{},{componentCls:".".concat(n)});return[R0e(t)]})}var bz=Oe.forwardRef(function(n,e){var t=Oe.useContext(Um),r=t.groupProps,i=R(R({},r),n),a=i.children,o=i.collapsible,s=i.defaultCollapsed,l=i.style,c=i.labelLayout,d=i.title,h=d===void 0?n.label:d,m=i.tooltip,v=i.align,g=v===void 0?"start":v,x=i.direction,b=i.size,_=b===void 0?32:b,C=i.titleStyle,T=i.titleRender,M=i.spaceProps,O=i.extra,I=i.autoFocus,U=xr(function(){return s||!1},{value:n.collapsed,onChange:n.onCollapse}),F=at(U,2),L=F[0],D=F[1],z=P.useContext(Lt.ConfigContext),$=z.getPrefixCls,Y=Bm(n),j=Y.ColWrapper,V=Y.RowWrapper,B=$("pro-form-group"),G=P0e(B),W=G.wrapSSR,Z=G.hashId,J=o&&w.jsx(XR,{style:{marginInlineEnd:8},rotate:L?void 0:90}),Q=w.jsx(zf,{label:J?w.jsxs("div",{children:[J,h]}):h,tooltip:m}),ue=P.useCallback(function(xe){var Ee=xe.children;return w.jsx(Ra,R(R({},M),{},{className:Ut("".concat(B,"-container ").concat(Z),M==null?void 0:M.className),size:_,align:g,direction:x,style:R({rowGap:0},M==null?void 0:M.style),children:Ee}))},[g,B,x,Z,_,M]),se=T?T(Q,n):Q,ae=P.useMemo(function(){var xe=[],Ee=Oe.Children.toArray(a).map(function(Se,ze){var Ue;return Oe.isValidElement(Se)&&Se!==null&&Se!==void 0&&(Ue=Se.props)!==null&&Ue!==void 0&&Ue.hidden?(xe.push(Se),null):ze===0&&Oe.isValidElement(Se)&&I?Oe.cloneElement(Se,R(R({},Se.props),{},{autoFocus:I})):Se});return[w.jsx(V,{Wrapper:ue,children:Ee},"children"),xe.length>0?w.jsx("div",{style:{display:"none"},children:xe}):null]},[a,V,ue,I]),ie=at(ae,2),te=ie[0],ee=ie[1];return W(w.jsx(j,{children:w.jsxs("div",{className:Ut(B,Z,ne({},"".concat(B,"-twoLine"),c==="twoLine")),style:l,ref:e,children:[ee,(h||m||O)&&w.jsx("div",{className:"".concat(B,"-title ").concat(Z).trim(),style:C,onClick:function(){D(!L)},children:O?w.jsxs("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"},children:[se,w.jsx("span",{onClick:function(Ee){return Ee.stopPropagation()},children:O})]}):se}),w.jsx("div",{style:{display:o&&L?"none":void 0},children:te})]})}))});bz.displayName="ProForm-Group";var O0e=function(e){return ne({},e.componentCls,{"&-sidebar-dragger":{width:"5px",cursor:"ew-resize",padding:"4px 0 0",borderTop:"1px solid transparent",position:"absolute",top:0,left:0,bottom:0,zIndex:100,backgroundColor:"transparent","&-min-disabled":{cursor:"w-resize"},"&-max-disabled":{cursor:"e-resize"}}})};function F0e(n){return Yn("DrawerForm",function(e){var t=R(R({},e),{},{componentCls:".".concat(n)});return[O0e(t)]})}var I0e=["children","trigger","onVisibleChange","drawerProps","onFinish","submitTimeout","title","width","resize","onOpenChange","visible","open"];function D0e(n){var e,t,r=n.children,i=n.trigger,a=n.onVisibleChange,o=n.drawerProps,s=n.onFinish,l=n.submitTimeout,c=n.title,d=n.width,h=n.resize,m=n.onOpenChange,v=n.visible,g=n.open,x=Dt(n,I0e);ma(!x.footer||!(o!=null&&o.footer),"DrawerForm 是一个 ProForm 的特殊布局，如果想自定义按钮，请使用 submit.render 自定义。");var b=Oe.useMemo(function(){var fe,ve,be,we={onResize:function(){},maxWidth:FC()?window.innerWidth*.8:void 0,minWidth:300};return typeof h=="boolean"?h?we:{}:ti({onResize:(fe=h==null?void 0:h.onResize)!==null&&fe!==void 0?fe:we.onResize,maxWidth:(ve=h==null?void 0:h.maxWidth)!==null&&ve!==void 0?ve:we.maxWidth,minWidth:(be=h==null?void 0:h.minWidth)!==null&&be!==void 0?be:we.minWidth})},[h]),_=P.useContext(Lt.ConfigContext),C=_.getPrefixCls("pro-form-drawer"),T=F0e(C),M=T.wrapSSR,O=T.hashId,I=function(ve){return"".concat(C,"-").concat(ve," ").concat(O)},U=P.useState([]),F=at(U,2),L=F[1],D=P.useState(!1),z=at(D,2),$=z[0],Y=z[1],j=P.useState(!1),V=at(j,2),B=V[0],G=V[1],W=P.useState(d||(h?b==null?void 0:b.minWidth:800)),Z=at(W,2),J=Z[0],Q=Z[1],ue=xr(!!v,{value:g||v,onChange:m||a}),se=at(ue,2),ae=se[0],ie=se[1],te=P.useRef(null),ee=P.useCallback(function(fe){te.current===null&&fe&&L([]),te.current=fe},[]),xe=P.useRef(),Ee=P.useCallback(function(){var fe,ve,be,we=(fe=(ve=(be=x.formRef)===null||be===void 0?void 0:be.current)!==null&&ve!==void 0?ve:x.form)!==null&&fe!==void 0?fe:xe.current;we&&o!==null&&o!==void 0&&o.destroyOnClose&&we.resetFields()},[o==null?void 0:o.destroyOnClose,x.form,x.formRef]);P.useEffect(function(){ae&&(g||v)&&(m==null||m(!0),a==null||a(!0)),B&&Q(b==null?void 0:b.minWidth)},[v,ae,B]),P.useImperativeHandle(x.formRef,function(){return xe.current},[xe.current]);var Se=P.useMemo(function(){return i?Oe.cloneElement(i,R(R({key:"trigger"},i.props),{},{onClick:function(){var fe=un(_t().mark(function be(we){var Ie,Ae;return _t().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:ie(!ae),G(!Object.keys(b)),(Ie=i.props)===null||Ie===void 0||(Ae=Ie.onClick)===null||Ae===void 0||Ae.call(Ie,we);case 3:case"end":return q.stop()}},be)}));function ve(be){return fe.apply(this,arguments)}return ve}()})):null},[ie,i,ae,G,B]),ze=P.useMemo(function(){var fe,ve,be,we,Ie;return x.submitter===!1?!1:Sf({searchConfig:{submitText:(fe=(ve=_.locale)===null||ve===void 0||(ve=ve.Modal)===null||ve===void 0?void 0:ve.okText)!==null&&fe!==void 0?fe:"确认",resetText:(be=(we=_.locale)===null||we===void 0||(we=we.Modal)===null||we===void 0?void 0:we.cancelText)!==null&&be!==void 0?be:"取消"},resetButtonProps:{preventDefault:!0,disabled:l?$:void 0,onClick:function(X){var q;ie(!1),o==null||(q=o.onClose)===null||q===void 0||q.call(o,X)}}},(Ie=x.submitter)!==null&&Ie!==void 0?Ie:{})},[x.submitter,(e=_.locale)===null||e===void 0||(e=e.Modal)===null||e===void 0?void 0:e.okText,(t=_.locale)===null||t===void 0||(t=t.Modal)===null||t===void 0?void 0:t.cancelText,l,$,ie,o]),Ue=P.useCallback(function(fe,ve){return w.jsxs(w.Fragment,{children:[fe,te.current&&ve?w.jsx(Oe.Fragment,{children:R0.createPortal(ve,te.current)},"submitter"):ve]})},[]),re=zn(function(){var fe=un(_t().mark(function ve(be){var we,Ie,Ae;return _t().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return we=s==null?void 0:s(be),l&&we instanceof Promise&&(Y(!0),Ie=setTimeout(function(){return Y(!1)},l),we.finally(function(){clearTimeout(Ie),Y(!1)})),q.next=4,we;case 4:return Ae=q.sent,Ae&&ie(!1),q.abrupt("return",Ae);case 7:case"end":return q.stop()}},ve)}));return function(ve){return fe.apply(this,arguments)}}()),Ce=xy(ae,a),Fe=P.useCallback(function(fe){var ve,be,we=(document.body.offsetWidth||1e3)-(fe.clientX-document.body.offsetLeft),Ie=(ve=b==null?void 0:b.minWidth)!==null&&ve!==void 0?ve:d||800,Ae=(be=b==null?void 0:b.maxWidth)!==null&&be!==void 0?be:window.innerWidth*.8;if(we<Ie){Q(Ie);return}if(we>Ae){Q(Ae);return}Q(we)},[b==null?void 0:b.maxWidth,b==null?void 0:b.minWidth,d]),ge=P.useCallback(function(){document.removeEventListener("mousemove",Fe),document.removeEventListener("mouseup",ge)},[Fe]);return M(w.jsxs(w.Fragment,{children:[w.jsxs(zV,R(R(R({title:c,width:J},o),Ce),{},{afterOpenChange:function(ve){var be;ve||Ee(),o==null||(be=o.afterOpenChange)===null||be===void 0||be.call(o,ve)},onClose:function(ve){var be;l&&$||(ie(!1),o==null||(be=o.onClose)===null||be===void 0||be.call(o,ve))},footer:x.submitter!==!1&&w.jsx("div",{ref:ee,style:{display:"flex",justifyContent:"flex-end"}}),children:[h?w.jsx("div",{className:Ut(I("sidebar-dragger"),O,ne(ne({},I("sidebar-dragger-min-disabled"),J===(b==null?void 0:b.minWidth)),I("sidebar-dragger-max-disabled"),J===(b==null?void 0:b.maxWidth))),onMouseDown:function(ve){var be;b==null||(be=b.onResize)===null||be===void 0||be.call(b),ve.stopPropagation(),ve.preventDefault(),document.addEventListener("mousemove",Fe),document.addEventListener("mouseup",ge),G(!0)}}):null,w.jsx(w.Fragment,{children:w.jsx(qm,R(R({formComponentType:"DrawerForm",layout:"vertical"},x),{},{formRef:xe,onInit:function(ve,be){var we;x.formRef&&(x.formRef.current=be),x==null||(we=x.onInit)===null||we===void 0||we.call(x,ve,be),xe.current=be},submitter:ze,onFinish:function(){var fe=un(_t().mark(function ve(be){var we;return _t().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return Ae.next=2,re(be);case 2:return we=Ae.sent,Ae.abrupt("return",we);case 4:case"end":return Ae.stop()}},ve)}));return function(ve){return fe.apply(this,arguments)}}(),contentRender:Ue,children:r}))})]})),Se]}))}var L0e=function(e){return ne({},e.componentCls,{lineHeight:"30px","&::before":{display:"block",height:0,visibility:"hidden",content:"'.'"},"&-small":{lineHeight:e.lineHeight},"&-container":{display:"flex",flexWrap:"wrap",gap:e.marginXS},"&-item":ne({whiteSpace:"nowrap"},"".concat(e.antCls,"-form-item"),{marginBlock:0}),"&-line":{minWidth:"198px"},"&-line:not(:first-child)":{marginBlockStart:"16px",marginBlockEnd:8},"&-collapse-icon":{width:e.controlHeight,height:e.controlHeight,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},"&-effective":ne({},"".concat(e.componentCls,"-collapse-icon"),{backgroundColor:e.colorBgTextHover})})};function N0e(n){return Yn("LightFilter",function(e){var t=R(R({},e),{},{componentCls:".".concat(n)});return[L0e(t)]})}var U0e=["size","collapse","collapseLabel","initialValues","onValuesChange","form","placement","formRef","bordered","ignoreRules","footerRender"],B0e=function(e){var t=e.items,r=e.prefixCls,i=e.size,a=i===void 0?"middle":i,o=e.collapse,s=e.collapseLabel,l=e.onValuesChange,c=e.bordered,d=e.values,h=e.footerRender,m=e.placement,v=On(),g="".concat(r,"-light-filter"),x=N0e(g),b=x.wrapSSR,_=x.hashId,C=P.useState(!1),T=at(C,2),M=T[0],O=T[1],I=P.useState(function(){return R({},d)}),U=at(I,2),F=U[0],L=U[1];P.useEffect(function(){L(R({},d))},[d]);var D=P.useMemo(function(){var j=[],V=[];return t.forEach(function(B){var G=B.props||{},W=G.secondary;W||o?j.push(B):V.push(B)}),{collapseItems:j,outsideItems:V}},[e.items]),z=D.collapseItems,$=D.outsideItems,Y=function(){return s||(o?w.jsx(pq,{className:"".concat(g,"-collapse-icon ").concat(_).trim()}):w.jsx(Vl,{size:a,label:v.getMessage("form.lightFilter.more","更多筛选")}))};return b(w.jsx("div",{className:Ut(g,_,"".concat(g,"-").concat(a),ne({},"".concat(g,"-effective"),Object.keys(d).some(function(j){return Array.isArray(d[j])?d[j].length>0:d[j]}))),children:w.jsxs("div",{className:"".concat(g,"-container ").concat(_).trim(),children:[$.map(function(j,V){if(!(j!=null&&j.props))return j;var B=j.key,G=(j==null?void 0:j.props)||{},W=G.fieldProps,Z=W!=null&&W.placement?W==null?void 0:W.placement:m;return w.jsx("div",{className:"".concat(g,"-item ").concat(_).trim(),children:Oe.cloneElement(j,{fieldProps:R(R({},j.props.fieldProps),{},{placement:Z}),proFieldProps:R(R({},j.props.proFieldProps),{},{light:!0,label:j.props.label,bordered:c}),bordered:c})},B||V)}),z.length?w.jsx("div",{className:"".concat(g,"-item ").concat(_).trim(),children:w.jsx(CU,{padding:24,open:M,onOpenChange:function(V){O(V)},placement:m,label:Y(),footerRender:h,footer:{onConfirm:function(){l(R({},F)),O(!1)},onClear:function(){var V={};z.forEach(function(B){var G=B.props.name;V[G]=void 0}),l(V)}},children:z.map(function(j){var V=j.key,B=j.props,G=B.name,W=B.fieldProps,Z=R(R({},W),{},{onChange:function(ue){return L(R(R({},F),{},ne({},G,ue!=null&&ue.target?ue.target.value:ue))),!1}});F.hasOwnProperty(G)&&(Z[j.props.valuePropName||"value"]=F[G]);var J=W!=null&&W.placement?W==null?void 0:W.placement:m;return w.jsx("div",{className:"".concat(g,"-line ").concat(_).trim(),children:Oe.cloneElement(j,{fieldProps:R(R({},Z),{},{placement:J})})},V)})})},"more"):null]})}))};function z0e(n){var e=n.size,t=n.collapse,r=n.collapseLabel,i=n.initialValues,a=n.onValuesChange,o=n.form,s=n.placement,l=n.formRef,c=n.bordered;n.ignoreRules;var d=n.footerRender,h=Dt(n,U0e),m=P.useContext(Lt.ConfigContext),v=m.getPrefixCls,g=v("pro-form"),x=P.useState(function(){return R({},i)}),b=at(x,2),_=b[0],C=b[1],T=P.useRef();return P.useImperativeHandle(l,function(){return T.current},[T.current]),w.jsx(qm,R(R({size:e,initialValues:i,form:o,contentRender:function(O){return w.jsx(B0e,{prefixCls:g,items:O==null?void 0:O.flatMap(function(I){var U;return!I||!(I!=null&&I.type)?I:(I==null||(U=I.type)===null||U===void 0?void 0:U.displayName)==="ProForm-Group"?I.props.children:I}),size:e,bordered:c,collapse:t,collapseLabel:r,placement:s,values:_||{},footerRender:d,onValuesChange:function(U){var F,L,D=R(R({},_),U);C(D),(F=T.current)===null||F===void 0||F.setFieldsValue(D),(L=T.current)===null||L===void 0||L.submit(),a&&a(U,D)}})},formRef:T,formItemProps:{colon:!1,labelAlign:"left"},fieldProps:{style:{width:void 0}}},Br(h,["labelWidth"])),{},{onValuesChange:function(O,I){var U;C(I),a==null||a(O,I),(U=T.current)===null||U===void 0||U.submit()}}))}var H0e=["children","trigger","onVisibleChange","onOpenChange","modalProps","onFinish","submitTimeout","title","width","visible","open"];function k0e(n){var e,t,r=n.children,i=n.trigger,a=n.onVisibleChange,o=n.onOpenChange,s=n.modalProps,l=n.onFinish,c=n.submitTimeout,d=n.title,h=n.width,m=n.visible,v=n.open,g=Dt(n,H0e);ma(!g.footer||!(s!=null&&s.footer),"ModalForm 是一个 ProForm 的特殊布局，如果想自定义按钮，请使用 submit.render 自定义。");var x=P.useContext(Lt.ConfigContext),b=P.useState([]),_=at(b,2),C=_[1],T=P.useState(!1),M=at(T,2),O=M[0],I=M[1],U=xr(!!m,{value:v||m,onChange:o||a}),F=at(U,2),L=F[0],D=F[1],z=P.useRef(null),$=P.useCallback(function(J){z.current===null&&J&&C([]),z.current=J},[]),Y=P.useRef(),j=P.useCallback(function(){var J,Q,ue,se=(J=(Q=g.form)!==null&&Q!==void 0?Q:(ue=g.formRef)===null||ue===void 0?void 0:ue.current)!==null&&J!==void 0?J:Y.current;se&&s!==null&&s!==void 0&&s.destroyOnClose&&se.resetFields()},[s==null?void 0:s.destroyOnClose,g.form,g.formRef]);P.useImperativeHandle(g.formRef,function(){return Y.current},[Y.current]),P.useEffect(function(){(v||m)&&(o==null||o(!0),a==null||a(!0))},[m,v]);var V=P.useMemo(function(){return i?Oe.cloneElement(i,R(R({key:"trigger"},i.props),{},{onClick:function(){var J=un(_t().mark(function ue(se){var ae,ie;return _t().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:D(!L),(ae=i.props)===null||ae===void 0||(ie=ae.onClick)===null||ie===void 0||ie.call(ae,se);case 2:case"end":return ee.stop()}},ue)}));function Q(ue){return J.apply(this,arguments)}return Q}()})):null},[D,i,L]),B=P.useMemo(function(){var J,Q,ue,se,ae,ie,te;return g.submitter===!1?!1:Sf({searchConfig:{submitText:(J=(Q=s==null?void 0:s.okText)!==null&&Q!==void 0?Q:(ue=x.locale)===null||ue===void 0||(ue=ue.Modal)===null||ue===void 0?void 0:ue.okText)!==null&&J!==void 0?J:"确认",resetText:(se=(ae=s==null?void 0:s.cancelText)!==null&&ae!==void 0?ae:(ie=x.locale)===null||ie===void 0||(ie=ie.Modal)===null||ie===void 0?void 0:ie.cancelText)!==null&&se!==void 0?se:"取消"},resetButtonProps:{preventDefault:!0,disabled:c?O:void 0,onClick:function(xe){var Ee;D(!1),s==null||(Ee=s.onCancel)===null||Ee===void 0||Ee.call(s,xe)}}},(te=g.submitter)!==null&&te!==void 0?te:{})},[(e=x.locale)===null||e===void 0||(e=e.Modal)===null||e===void 0?void 0:e.cancelText,(t=x.locale)===null||t===void 0||(t=t.Modal)===null||t===void 0?void 0:t.okText,s,g.submitter,D,O,c]),G=P.useCallback(function(J,Q){return w.jsxs(w.Fragment,{children:[J,z.current&&Q?w.jsx(Oe.Fragment,{children:R0.createPortal(Q,z.current)},"submitter"):Q]})},[]),W=P.useCallback(function(){var J=un(_t().mark(function Q(ue){var se,ae,ie;return _t().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return se=l==null?void 0:l(ue),c&&se instanceof Promise&&(I(!0),ae=setTimeout(function(){return I(!1)},c),se.finally(function(){clearTimeout(ae),I(!1)})),ee.next=4,se;case 4:return ie=ee.sent,ie&&D(!1),ee.abrupt("return",ie);case 7:case"end":return ee.stop()}},Q)}));return function(Q){return J.apply(this,arguments)}}(),[l,D,c]),Z=xy(L);return w.jsxs(w.Fragment,{children:[w.jsx(cm,R(R(R({title:d,width:h||800},s),Z),{},{onCancel:function(Q){var ue;c&&O||(D(!1),s==null||(ue=s.onCancel)===null||ue===void 0||ue.call(s,Q))},afterClose:function(){var Q;j(),L&&D(!1),s==null||(Q=s.afterClose)===null||Q===void 0||Q.call(s)},footer:g.submitter!==!1?w.jsx("div",{ref:$,style:{display:"flex",justifyContent:"flex-end"}}):null,children:w.jsx(qm,R(R({formComponentType:"ModalForm",layout:"vertical"},g),{},{onInit:function(Q,ue){var se;g.formRef&&(g.formRef.current=ue),g==null||(se=g.onInit)===null||se===void 0||se.call(g,Q,ue),Y.current=ue},formRef:Y,submitter:B,onFinish:function(){var J=un(_t().mark(function Q(ue){var se;return _t().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.next=2,W(ue);case 2:return se=ie.sent,ie.abrupt("return",se);case 4:case"end":return ie.stop()}},Q)}));return function(Q){return J.apply(this,arguments)}}(),contentRender:G,children:r}))})),V]})}function nD(n){return n instanceof HTMLElement||n instanceof SVGElement}function j0e(n){return n&&Xt(n)==="object"&&nD(n.nativeElement)?n.nativeElement:nD(n)?n:null}function LM(n){var e=j0e(n);if(e)return e;if(n instanceof Oe.Component){var t;return(t=uO.findDOMNode)===null||t===void 0?void 0:t.call(uO,n)}return null}var GA=P.createContext(null);function $0e(n){var e=n.children,t=n.onBatchResize,r=P.useRef(0),i=P.useRef([]),a=P.useContext(GA),o=P.useCallback(function(s,l,c){r.current+=1;var d=r.current;i.current.push({size:s,element:l,data:c}),Promise.resolve().then(function(){d===r.current&&(t==null||t(i.current),i.current=[])}),a==null||a(s,l,c)},[t,a]);return P.createElement(GA.Provider,{value:o},e)}var xz=function(){if(typeof Map!="undefined")return Map;function n(e,t){var r=-1;return e.some(function(i,a){return i[0]===t?(r=a,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(t,r){var i=n(this.__entries__,t);~i?this.__entries__[i][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,i=n(r,t);~i&&r.splice(i,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var i=0,a=this.__entries__;i<a.length;i++){var o=a[i];t.call(r,o[1],o[0])}},e}()}(),WA=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,g1=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),V0e=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(g1):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),G0e=2;function W0e(n,e){var t=!1,r=!1,i=0;function a(){t&&(t=!1,n()),r&&s()}function o(){V0e(a)}function s(){var l=Date.now();if(t){if(l-i<G0e)return;r=!0}else t=!0,r=!1,setTimeout(o,e);i=l}return s}var q0e=20,X0e=["top","right","bottom","left","width","height","size","weight"],Y0e=typeof MutationObserver!="undefined",K0e=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=W0e(this.refresh.bind(this),q0e)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!WA||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Y0e?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!WA||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t,i=X0e.some(function(a){return!!~r.indexOf(a)});i&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),_z=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var i=r[t];Object.defineProperty(n,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return n},xm=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||g1},Sz=JC(0,0,0,0);function v1(n){return parseFloat(n)||0}function rD(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,i){var a=n["border-"+i+"-width"];return r+v1(a)},0)}function Z0e(n){for(var e=["top","right","bottom","left"],t={},r=0,i=e;r<i.length;r++){var a=i[r],o=n["padding-"+a];t[a]=v1(o)}return t}function J0e(n){var e=n.getBBox();return JC(0,0,e.width,e.height)}function Q0e(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return Sz;var r=xm(n).getComputedStyle(n),i=Z0e(r),a=i.left+i.right,o=i.top+i.bottom,s=v1(r.width),l=v1(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+a)!==e&&(s-=rD(r,"left","right")+a),Math.round(l+o)!==t&&(l-=rD(r,"top","bottom")+o)),!tye(n)){var c=Math.round(s+a)-e,d=Math.round(l+o)-t;Math.abs(c)!==1&&(s-=c),Math.abs(d)!==1&&(l-=d)}return JC(i.left,i.top,s,l)}var eye=function(){return typeof SVGGraphicsElement!="undefined"?function(n){return n instanceof xm(n).SVGGraphicsElement}:function(n){return n instanceof xm(n).SVGElement&&typeof n.getBBox=="function"}}();function tye(n){return n===xm(n).document.documentElement}function nye(n){return WA?eye(n)?J0e(n):Q0e(n):Sz}function rye(n){var e=n.x,t=n.y,r=n.width,i=n.height,a=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,o=Object.create(a.prototype);return _z(o,{x:e,y:t,width:r,height:i,top:t,right:e+r,bottom:i+t,left:e}),o}function JC(n,e,t,r){return{x:n,y:e,width:t,height:r}}var iye=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=JC(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=nye(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),aye=function(){function n(e,t){var r=rye(t);_z(this,{target:e,contentRect:r})}return n}(),oye=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new xz,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(e instanceof xm(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new iye(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(e instanceof xm(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new aye(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),Cz=typeof WeakMap!="undefined"?new WeakMap:new xz,wz=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=K0e.getInstance(),r=new oye(e,t,this);Cz.set(this,r)}return n}();["observe","unobserve","disconnect"].forEach(function(n){wz.prototype[n]=function(){var e;return(e=Cz.get(this))[n].apply(e,arguments)}});var sye=function(){return typeof g1.ResizeObserver!="undefined"?g1.ResizeObserver:wz}(),Bu=new Map;function lye(n){n.forEach(function(e){var t,r=e.target;(t=Bu.get(r))===null||t===void 0||t.forEach(function(i){return i(r)})})}var Tz=new sye(lye);function cye(n,e){Bu.has(n)||(Bu.set(n,new Set),Tz.observe(n)),Bu.get(n).add(e)}function uye(n,e){Bu.has(n)&&(Bu.get(n).delete(e),Bu.get(n).size||(Tz.unobserve(n),Bu.delete(n)))}var dye=function(n){_C(t,n);var e=SC(t);function t(){return Xu(this,t),e.apply(this,arguments)}return qu(t,[{key:"render",value:function(){return this.props.children}}]),t}(P.Component);function fye(n,e){var t=n.children,r=n.disabled,i=P.useRef(null),a=P.useRef(null),o=P.useContext(GA),s=typeof t=="function",l=s?t(i):t,c=P.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),d=!s&&P.isValidElement(l)&&DW(l),h=d?LW(l):null,m=IW(h,i),v=function(){var _;return LM(i.current)||(i.current&&Xt(i.current)==="object"?LM((_=i.current)===null||_===void 0?void 0:_.nativeElement):null)||LM(a.current)};P.useImperativeHandle(e,function(){return v()});var g=P.useRef(n);g.current=n;var x=P.useCallback(function(b){var _=g.current,C=_.onResize,T=_.data,M=b.getBoundingClientRect(),O=M.width,I=M.height,U=b.offsetWidth,F=b.offsetHeight,L=Math.floor(O),D=Math.floor(I);if(c.current.width!==L||c.current.height!==D||c.current.offsetWidth!==U||c.current.offsetHeight!==F){var z={width:L,height:D,offsetWidth:U,offsetHeight:F};c.current=z;var $=U===Math.round(O)?O:U,Y=F===Math.round(I)?I:F,j=R(R({},z),{},{offsetWidth:$,offsetHeight:Y});o==null||o(j,b,T),C&&Promise.resolve().then(function(){C(j,b)})}},[]);return P.useEffect(function(){var b=v();return b&&!r&&cye(b,x),function(){return uye(b,x)}},[i.current,r]),P.createElement(dye,{ref:a},d?P.cloneElement(l,{ref:m}):l)}var hye=P.forwardRef(fye),pye="rc-observer-key";function mye(n,e){var t=n.children,r=typeof t=="function"?[t]:Yc(t);return r.map(function(i,a){var o=(i==null?void 0:i.key)||"".concat(pye,"-").concat(a);return P.createElement(hye,Pn({},n,{key:o,ref:a===0?e:void 0}),i)})}var QC=P.forwardRef(mye);QC.Collection=$0e;var gye=function(e,t,r,i){return e?w.jsxs(w.Fragment,{children:[r.getMessage("tableForm.collapsed","展开"),i&&"(".concat(i,")"),w.jsx(U0,{style:{marginInlineStart:"0.5em",transition:"0.3s all",transform:"rotate(".concat(e?0:.5,"turn)")}})]}):w.jsxs(w.Fragment,{children:[r.getMessage("tableForm.expand","收起"),w.jsx(U0,{style:{marginInlineStart:"0.5em",transition:"0.3s all",transform:"rotate(".concat(e?0:.5,"turn)")}})]})},vye=function(e){var t=e.setCollapsed,r=e.collapsed,i=r===void 0?!1:r,a=e.submitter,o=e.style,s=e.hiddenNum,l=P.useContext(Lt.ConfigContext),c=l.getPrefixCls,d=On(),h=P.useContext(Zo),m=h.hashId,v=OU(e.collapseRender)||gye;return w.jsxs(Ra,{style:o,size:16,children:[a,e.collapseRender!==!1&&w.jsx("a",{className:"".concat(c("pro-query-filter-collapse-button")," ").concat(m).trim(),onClick:function(){return t(!i)},children:v==null?void 0:v(i,e,d,s)})]})},yye=function(e){return ne({},e.componentCls,ne(ne(ne(ne({"&&":{padding:24}},"".concat(e.antCls,"-form-item"),{marginBlock:0}),"".concat(e.proComponentsCls,"-form-group-title"),{marginBlock:0}),"&-row",{rowGap:24,"&-split":ne(ne({},"".concat(e.proComponentsCls,"-form-group"),{display:"flex",alignItems:"center",gap:e.marginXS}),"&:last-child",{marginBlockEnd:12}),"&-split-line":{"&:after":{position:"absolute",width:"100%",content:'""',height:1,insetBlockEnd:-12,borderBlockEnd:"1px dashed ".concat(e.colorSplit)}}}),"&-collapse-button",{display:"flex",alignItems:"center",color:e.colorPrimary}))};function bye(n){return Yn("QueryFilter",function(e){var t=R(R({},e),{},{componentCls:".".concat(n)});return[yye(t)]})}var xye=["collapsed","layout","defaultCollapsed","defaultColsNumber","defaultFormItemsNumber","span","searchGutter","searchText","resetText","optionRender","collapseRender","onReset","onCollapse","labelWidth","style","split","preserve","ignoreRules","showHiddenNum","submitterColSpanProps"],mp,_ye={xs:513,sm:513,md:785,lg:992,xl:1057,xxl:1/0},iD={vertical:[[513,1,"vertical"],[785,2,"vertical"],[1057,3,"vertical"],[1/0,4,"vertical"]],default:[[513,1,"vertical"],[701,2,"vertical"],[1062,3,"horizontal"],[1352,3,"horizontal"],[1/0,4,"horizontal"]]},Sye=function(e,t,r){if(r&&typeof r=="number")return{span:r,layout:e};var i=r?["xs","sm","md","lg","xl","xxl"].map(function(o){return[_ye[o],24/r[o],"horizontal"]}):iD[e||"default"],a=(i||iD.default).find(function(o){return t<o[0]+16});return a?{span:24/a[1],layout:a==null?void 0:a[2]}:{span:8,layout:"horizontal"}},Cye=function(e,t){return e==null?void 0:e.flatMap(function(r){var i,a;if((r==null||(i=r.type)===null||i===void 0?void 0:i.displayName)==="ProForm-Group"&&!((a=r.props)!==null&&a!==void 0&&a.title))return r.props.children;if(t&&Oe.isValidElement(r)){var o;return Oe.cloneElement(r,R(R({},r.props),{},{formItemProps:R(R({},(o=r.props)===null||o===void 0?void 0:o.formItemProps),{},{rules:[]})}))}return r})},wye=function(e){var t,r,i,a,o=On(),s=P.useContext(Zo),l=s.hashId,c=e.resetText||o.getMessage("tableForm.reset","重置"),d=e.searchText||o.getMessage("tableForm.search","搜索"),h=xr(function(){return e.defaultCollapsed&&!!e.submitter},{value:e.collapsed,onChange:e.onCollapse}),m=at(h,2),v=m[0],g=m[1],x=e.optionRender,b=e.collapseRender,_=e.split,C=e.items,T=e.spanSize,M=e.showLength,O=e.searchGutter,I=e.showHiddenNum,U=P.useMemo(function(){return!e.submitter||x===!1?null:Oe.cloneElement(e.submitter,R({searchConfig:{resetText:c,submitText:d},render:x&&function(J,Q){return x(R(R({},e),{},{resetText:c,searchText:d}),e,Q)}},e.submitter.props))},[e,c,d,x]),F=0,L=0,D=!1,z=0,$=0,Y=Cye(C,e.ignoreRules).map(function(J,Q){var ue,se,ae,ie,te=Oe.isValidElement(J)&&(ue=J==null||(se=J.props)===null||se===void 0?void 0:se.colSize)!==null&&ue!==void 0?ue:1,ee=Math.min(T.span*(te||1),24);if(F+=ee,z+=te,Q===0){var xe;D=ee===24&&!(J!=null&&(xe=J.props)!==null&&xe!==void 0&&xe.hidden)}var Ee=(J==null||(ae=J.props)===null||ae===void 0?void 0:ae.hidden)||v&&(D||z>M)&&!!Q;L+=1;var Se=Oe.isValidElement(J)&&(J.key||"".concat((ie=J.props)===null||ie===void 0?void 0:ie.name))||Q;return Oe.isValidElement(J)&&Ee?e.preserve?{itemDom:Oe.cloneElement(J,{hidden:!0,key:Se||Q}),hidden:!0,colSpan:ee}:{itemDom:null,colSpan:0,hidden:!0}:{itemDom:J,colSpan:ee,hidden:!1}}),j=Y.map(function(J,Q){var ue,se,ae=J.itemDom,ie=J.colSpan,te=ae==null||(ue=ae.props)===null||ue===void 0?void 0:ue.hidden;if(te)return ae;var ee=Oe.isValidElement(ae)&&(ae.key||"".concat((se=ae.props)===null||se===void 0?void 0:se.name))||Q;return 24-$%24<ie&&(F+=24-$%24,$+=24-$%24),$+=ie,_&&$%24===0&&Q<L-1?w.jsx(hn,{span:ie,className:"".concat(e.baseClassName,"-row-split-line ").concat(e.baseClassName,"-row-split ").concat(l).trim(),children:ae},ee):w.jsx(hn,{className:"".concat(e.baseClassName,"-row-split ").concat(l).trim(),span:ie,children:ae},ee)}),V=I&&Y.filter(function(J){return J.hidden}).length,B=P.useMemo(function(){return!(F<24||z<=M)},[z,M,F]),G=P.useMemo(function(){var J,Q,ue=$%24+((J=(Q=e.submitterColSpanProps)===null||Q===void 0?void 0:Q.span)!==null&&J!==void 0?J:T.span);if(ue>24){var se,ae;return 24-((se=(ae=e.submitterColSpanProps)===null||ae===void 0?void 0:ae.span)!==null&&se!==void 0?se:T.span)}return 24-ue},[$,$%24+((t=(r=e.submitterColSpanProps)===null||r===void 0?void 0:r.span)!==null&&t!==void 0?t:T.span),(i=e.submitterColSpanProps)===null||i===void 0?void 0:i.span]),W=P.useContext(Lt.ConfigContext),Z=W.getPrefixCls("pro-query-filter");return w.jsxs(zi,{gutter:O,justify:"start",className:Ut("".concat(Z,"-row"),l),children:[j,U&&w.jsx(hn,R(R({span:T.span,offset:G,className:Ut((a=e.submitterColSpanProps)===null||a===void 0?void 0:a.className)},e.submitterColSpanProps),{},{style:{textAlign:"end"},children:w.jsx(pn.Item,{label:" ",colon:!1,shouldUpdate:!1,className:"".concat(Z,"-actions ").concat(l).trim(),children:w.jsx(vye,{hiddenNum:V,collapsed:v,collapseRender:B?b:!1,submitter:U,setCollapsed:g},"pro-form-query-filter-actions")})}),"submitter")]},"resize-observer-row")},Tye=FC()?(mp=document)===null||mp===void 0||(mp=mp.body)===null||mp===void 0?void 0:mp.clientWidth:1024;function Mye(n){var e=n.collapsed,t=n.layout,r=n.defaultCollapsed,i=r===void 0?!0:r,a=n.defaultColsNumber,o=n.defaultFormItemsNumber,s=n.span,l=n.searchGutter,c=l===void 0?24:l;n.searchText,n.resetText;var d=n.optionRender,h=n.collapseRender,m=n.onReset,v=n.onCollapse,g=n.labelWidth,x=g===void 0?"80":g,b=n.style,_=n.split,C=n.preserve,T=C===void 0?!0:C,M=n.ignoreRules,O=n.showHiddenNum,I=O===void 0?!1:O,U=n.submitterColSpanProps,F=Dt(n,xye),L=P.useContext(Lt.ConfigContext),D=L.getPrefixCls("pro-query-filter"),z=bye(D),$=z.wrapSSR,Y=z.hashId,j=xr(function(){return typeof(b==null?void 0:b.width)=="number"?b==null?void 0:b.width:Tye}),V=at(j,2),B=V[0],G=V[1],W=P.useMemo(function(){return Sye(t,B+16,s)},[t,B,s]),Z=P.useMemo(function(){if(o!==void 0)return o;if(a!==void 0){var Q=24/W.span-1;return a>Q?Q:a}return Math.max(1,24/W.span-1)},[a,o,W.span]),J=P.useMemo(function(){if(x&&W.layout!=="vertical"&&x!=="auto")return{labelCol:{flex:"0 0 ".concat(x,"px")},wrapperCol:{style:{maxWidth:"calc(100% - ".concat(x,"px)")}},style:{flexWrap:"nowrap"}}},[W.layout,x]);return $(w.jsx(QC,{onResize:function(ue){B!==ue.width&&ue.width>17&&G(ue.width)},children:w.jsx("div",{className:"".concat(D,"-container ").concat(Y),style:n.containerStyle,children:w.jsx(qm,R(R({isKeyPressSubmit:!0,preserve:T},F),{},{className:Ut(D,Y,F.className),onReset:m,style:b,layout:W.layout,fieldProps:{style:{width:"100%"}},formItemProps:J,groupProps:{titleStyle:{display:"inline-block",marginInlineEnd:16}},contentRender:function(ue,se,ae){return w.jsx(wye,{spanSize:W,collapsed:e,form:ae,submitterColSpanProps:U,collapseRender:h,defaultCollapsed:i,onCollapse:v,optionRender:d,submitter:se,items:ue,split:_,baseClassName:D,resetText:n.resetText,searchText:n.searchText,searchGutter:c,preserve:T,ignoreRules:M,showLength:Z,showHiddenNum:I})}}))})},"resize-observer"))}var Eye=["onFinish","step","formRef","title","stepProps"];function Aye(n){var e=P.useRef(),t=P.useContext(Mz),r=P.useContext(Ez),i=R(R({},n),r),a=i.onFinish,o=i.step,s=i.formRef;i.title,i.stepProps;var l=Dt(i,Eye);return ma(!l.submitter,"StepForm 不包含提交按钮，请在 StepsForm 上"),P.useImperativeHandle(s,function(){return e.current},[s==null?void 0:s.current]),P.useEffect(function(){if(i.name||i.step){var c=(i.name||i.step).toString();return t==null||t.regForm(c,i),function(){t==null||t.unRegForm(c)}}},[]),t&&t!==null&&t!==void 0&&t.formArrayRef&&(t.formArrayRef.current[o||0]=e),w.jsx(qm,R({formRef:e,onFinish:function(){var c=un(_t().mark(function d(h){var m;return _t().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(l.name&&(t==null||t.onFormFinish(l.name,h)),!a){g.next=9;break}return t==null||t.setLoading(!0),g.next=5,a==null?void 0:a(h);case 5:return m=g.sent,m&&(t==null||t.next()),t==null||t.setLoading(!1),g.abrupt("return");case 9:t!=null&&t.lastStep||t==null||t.next();case 10:case"end":return g.stop()}},d)}));return function(d){return c.apply(this,arguments)}}(),onInit:function(d,h){var m;e.current=h,t&&t!==null&&t!==void 0&&t.formArrayRef&&(t.formArrayRef.current[o||0]=e),l==null||(m=l.onInit)===null||m===void 0||m.call(l,d,h)},layout:"vertical"},Br(l,["layoutType","columns"])))}var Rye=function(e){return ne({},e.componentCls,{"&-container":{width:"max-content",minWidth:"420px",maxWidth:"100%",margin:"auto"},"&-steps-container":ne({maxWidth:"1160px",margin:"auto"},"".concat(e.antCls,"-steps-vertical"),{height:"100%"}),"&-step":{display:"none",marginBlockStart:"32px","&-active":{display:"block"},"> form":{maxWidth:"100%"}}})};function Pye(n){return Yn("StepsForm",function(e){var t=R(R({},e),{},{componentCls:".".concat(n)});return[Rye(t)]})}var Oye=["current","onCurrentChange","submitter","stepsFormRender","stepsRender","stepFormRender","stepsProps","onFinish","formProps","containerStyle","formRef","formMapRef","layoutRender"],Mz=Oe.createContext(void 0),Fye={horizontal:function(e){var t=e.stepsDom,r=e.formDom;return w.jsxs(w.Fragment,{children:[w.jsx(zi,{gutter:{xs:8,sm:16,md:24},children:w.jsx(hn,{span:24,children:t})}),w.jsx(zi,{gutter:{xs:8,sm:16,md:24},children:w.jsx(hn,{span:24,children:r})})]})},vertical:function(e){var t=e.stepsDom,r=e.formDom;return w.jsxs(zi,{align:"stretch",wrap:!0,gutter:{xs:8,sm:16,md:24},children:[w.jsx(hn,{xxl:4,xl:6,lg:7,md:8,sm:10,xs:12,children:Oe.cloneElement(t,{style:{height:"100%"}})}),w.jsx(hn,{children:w.jsx("div",{style:{display:"flex",alignItems:"center",width:"100%",height:"100%"},children:r})})]})}},Ez=Oe.createContext(null);function Iye(n){var e=P.useContext(Lt.ConfigContext),t=e.getPrefixCls,r=t("pro-steps-form"),i=Pye(r),a=i.wrapSSR,o=i.hashId;n.current,n.onCurrentChange;var s=n.submitter,l=n.stepsFormRender,c=n.stepsRender,d=n.stepFormRender,h=n.stepsProps,m=n.onFinish,v=n.formProps,g=n.containerStyle,x=n.formRef,b=n.formMapRef,_=n.layoutRender,C=Dt(n,Oye),T=P.useRef(new Map),M=P.useRef(new Map),O=P.useRef([]),I=P.useState([]),U=at(I,2),F=U[0],L=U[1],D=P.useState(!1),z=at(D,2),$=z[0],Y=z[1],j=On(),V=xr(0,{value:n.current,onChange:n.onCurrentChange}),B=at(V,2),G=B[0],W=B[1],Z=P.useMemo(function(){return Fye[(h==null?void 0:h.direction)||"horizontal"]},[h==null?void 0:h.direction]),J=P.useMemo(function(){return G===F.length-1},[F.length,G]),Q=P.useCallback(function(ge,fe){M.current.has(ge)||L(function(ve){return[].concat(gr(ve),[ge])}),M.current.set(ge,fe)},[]),ue=P.useCallback(function(ge){L(function(fe){return fe.filter(function(ve){return ve!==ge})}),M.current.delete(ge),T.current.delete(ge)},[]);P.useImperativeHandle(b,function(){return O.current},[O.current]),P.useImperativeHandle(x,function(){var ge;return(ge=O.current[G||0])===null||ge===void 0?void 0:ge.current},[G,O.current]);var se=P.useCallback(function(){var ge=un(_t().mark(function fe(ve,be){var we,Ie;return _t().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(T.current.set(ve,be),!(!J||!m)){X.next=3;break}return X.abrupt("return");case 3:return Y(!0),we=IC.apply(void 0,[{}].concat(gr(Array.from(T.current.values())))),X.prev=5,X.next=8,m(we);case 8:Ie=X.sent,Ie&&(W(0),O.current.forEach(function(q){var ye;return(ye=q.current)===null||ye===void 0?void 0:ye.resetFields()})),X.next=15;break;case 12:X.prev=12,X.t0=X.catch(5),console.log(X.t0);case 15:return X.prev=15,Y(!1),X.finish(15);case 18:case"end":return X.stop()}},fe,null,[[5,12,15,18]])}));return function(fe,ve){return ge.apply(this,arguments)}}(),[J,m,Y,W]),ae=P.useMemo(function(){var ge=Ku(qc,"4.24.0")>-1,fe=ge?{items:F.map(function(ve){var be=M.current.get(ve);return R({key:ve,title:be==null?void 0:be.title},be==null?void 0:be.stepProps)})}:{};return w.jsx("div",{className:"".concat(r,"-steps-container ").concat(o).trim(),style:{maxWidth:Math.min(F.length*320,1160)},children:w.jsx(bS,R(R(R({},h),fe),{},{current:G,onChange:void 0,children:!ge&&F.map(function(ve){var be=M.current.get(ve);return w.jsx(bS.Step,R({title:be==null?void 0:be.title},be==null?void 0:be.stepProps),ve)})}))})},[F,o,r,G,h]),ie=zn(function(){var ge,fe=O.current[G];(ge=fe.current)===null||ge===void 0||ge.submit()}),te=zn(function(){G<1||W(G-1)}),ee=P.useMemo(function(){return s!==!1&&w.jsx(lr,R(R({type:"primary",loading:$},s==null?void 0:s.submitButtonProps),{},{onClick:function(){var fe;s==null||(fe=s.onSubmit)===null||fe===void 0||fe.call(s),ie()},children:j.getMessage("stepsForm.next","下一步")}),"next")},[j,$,ie,s]),xe=P.useMemo(function(){return s!==!1&&w.jsx(lr,R(R({},s==null?void 0:s.resetButtonProps),{},{onClick:function(){var fe;te(),s==null||(fe=s.onReset)===null||fe===void 0||fe.call(s)},children:j.getMessage("stepsForm.prev","上一步")}),"pre")},[j,te,s]),Ee=P.useMemo(function(){return s!==!1&&w.jsx(lr,R(R({type:"primary",loading:$},s==null?void 0:s.submitButtonProps),{},{onClick:function(){var fe;s==null||(fe=s.onSubmit)===null||fe===void 0||fe.call(s),ie()},children:j.getMessage("stepsForm.submit","提交")}),"submit")},[j,$,ie,s]),Se=zn(function(){G>F.length-2||W(G+1)}),ze=P.useMemo(function(){var ge=[],fe=G||0;if(fe<1?F.length===1?ge.push(Ee):ge.push(ee):fe+1===F.length?ge.push(xe,Ee):ge.push(xe,ee),ge=ge.filter(Oe.isValidElement),s&&s.render){var ve,be={form:(ve=O.current[G])===null||ve===void 0?void 0:ve.current,onSubmit:ie,step:G,onPre:te};return s.render(be,ge)}return s&&(s==null?void 0:s.render)===!1?null:ge},[F.length,ee,ie,xe,te,G,Ee,s]),Ue=P.useMemo(function(){return Yc(n.children).map(function(ge,fe){var ve=ge.props,be=ve.name||"".concat(fe),we=G===fe,Ie=we?{contentRender:d,submitter:!1}:{};return w.jsx("div",{className:Ut("".concat(r,"-step"),o,ne({},"".concat(r,"-step-active"),we)),children:w.jsx(Ez.Provider,{value:R(R(R(R({},Ie),v),ve),{},{name:be,step:fe}),children:ge})},be)})},[v,o,r,n.children,G,d]),re=P.useMemo(function(){return c?c(F.map(function(ge){var fe;return{key:ge,title:(fe=M.current.get(ge))===null||fe===void 0?void 0:fe.title}}),ae):ae},[F,ae,c]),Ce=P.useMemo(function(){return w.jsxs("div",{className:"".concat(r,"-container ").concat(o).trim(),style:g,children:[Ue,l?null:w.jsx(Ra,{children:ze})]})},[g,Ue,o,r,l,ze]),Fe=P.useMemo(function(){var ge={stepsDom:re,formDom:Ce};return l?l(_?_(ge):Z(ge),ze):_?_(ge):Z(ge)},[re,Ce,Z,l,ze,_]);return a(w.jsx("div",{className:Ut(r,o),children:w.jsx(pn.Provider,R(R({},C),{},{children:w.jsx(Mz.Provider,{value:{loading:$,setLoading:Y,regForm:Q,keyArray:F,next:Se,formArrayRef:O,formMapRef:M,lastStep:J,unRegForm:ue,onFormFinish:se},children:Fe})}))}))}function ew(n){return w.jsx(OC,{needDeps:!0,children:w.jsx(Iye,R({},n))})}ew.StepForm=Aye;ew.useForm=pn.useForm;var Dye=function(e){var t=e.children;return w.jsx(w.Fragment,{children:t})},Lye=["steps","columns","forceUpdate","grid"],Nye=function(e){var t=e.steps,r=e.columns,i=e.forceUpdate,a=e.grid,o=Dt(e,Lye),s=ZR(o),l=P.useCallback(function(d){var h,m;(h=(m=s.current).onCurrentChange)===null||h===void 0||h.call(m,d),i([])},[i,s]),c=P.useMemo(function(){return t==null?void 0:t.map(function(d,h){return P.createElement(Az,R(R({grid:a},d),{},{key:h,layoutType:"StepForm",columns:r[h]}))})},[r,a,t]);return w.jsx(ew,R(R({},o),{},{onCurrentChange:l,children:c}))},Uye=function(e,t){if(e.valueType==="dependency"){var r,i,a,o=(r=e.getFieldProps)===null||r===void 0?void 0:r.call(e);return ma(Array.isArray((i=e.name)!==null&&i!==void 0?i:o==null?void 0:o.name),'SchemaForm: fieldProps.name should be NamePath[] when valueType is "dependency"'),ma(typeof e.columns=="function",'SchemaForm: columns should be a function when valueType is "dependency"'),Array.isArray((a=e.name)!==null&&a!==void 0?a:o==null?void 0:o.name)?P.createElement(ZC,R(R({name:e.name},o),{},{key:e.key}),function(s){return!e.columns||typeof e.columns!="function"?null:t.genItems(e.columns(s))}):null}return!0},Bye=function(e){if(e.valueType==="divider"){var t;return P.createElement(xS,R(R({},(t=e.getFieldProps)===null||t===void 0?void 0:t.call(e)),{},{key:e.key}))}return!0},zye=["key"],Hye=function(e,t){var r=t.action,i=t.formRef,a=t.type,o=t.originItem,s=R(R({},Br(e,["dataIndex","width","render","renderFormItem","renderText","title"])),{},{name:e.name||e.key||e.dataIndex,width:e.width,render:e!=null&&e.render?function(h,m,v){var g,x,b,_;return e==null||(g=e.render)===null||g===void 0?void 0:g.call(e,h,m,v,r==null?void 0:r.current,R(R({type:a},e),{},{key:(x=e.key)===null||x===void 0?void 0:x.toString(),formItemProps:(b=e.getFormItemProps)===null||b===void 0?void 0:b.call(e),fieldProps:(_=e.getFieldProps)===null||_===void 0?void 0:_.call(e)}))}:void 0}),l=function(){var m=s.key,v=Dt(s,zye);return w.jsx(m1,R(R({},v),{},{ignoreFormItem:!0}),m)},c=e!=null&&e.renderFormItem?function(h,m){var v,g,x,b,_=ti(R(R({},m),{},{onChange:void 0}));return e==null||(v=e.renderFormItem)===null||v===void 0?void 0:v.call(e,R(R({type:a},e),{},{key:(g=e.key)===null||g===void 0?void 0:g.toString(),formItemProps:(x=e.getFormItemProps)===null||x===void 0?void 0:x.call(e),fieldProps:(b=e.getFieldProps)===null||b===void 0?void 0:b.call(e),originProps:o}),R(R({},_),{},{defaultRender:l,type:a}),i.current)}:void 0,d=function(){if(e!=null&&e.renderFormItem){var m=c==null?void 0:c(null,{});if(!m||e.ignoreFormItem)return m}return P.createElement(m1,R(R({},s),{},{key:[e.key,e.index||0].join("-"),renderFormItem:c}))};return e.dependencies?w.jsx(ZC,{name:e.dependencies||[],children:d},e.key):d()},kye=function(e,t){var r=t.genItems;if(e.valueType==="formList"&&e.dataIndex){var i,a;return!e.columns||!Array.isArray(e.columns)?null:P.createElement(m0e,R(R({},(i=e.getFormItemProps)===null||i===void 0?void 0:i.call(e)),{},{key:e.key,name:e.dataIndex,label:e.label,initialValue:e.initialValue,colProps:e.colProps,rowProps:e.rowProps},(a=e.getFieldProps)===null||a===void 0?void 0:a.call(e)),r(e.columns))}return!0},jye=function(e,t){var r=t.genItems;if(e.valueType==="formSet"&&e.dataIndex){var i,a;return!e.columns||!Array.isArray(e.columns)?null:P.createElement(C0e,R(R({},(i=e.getFormItemProps)===null||i===void 0?void 0:i.call(e)),{},{key:e.key,initialValue:e.initialValue,name:e.dataIndex,label:e.label,colProps:e.colProps,rowProps:e.rowProps},(a=e.getFieldProps)===null||a===void 0?void 0:a.call(e)),r(e.columns))}return!0},$ye=function(e,t){var r=t.genItems;if(e.valueType==="group"){var i;return!e.columns||!Array.isArray(e.columns)?null:w.jsx(nbe,R(R({label:e.label,colProps:e.colProps,rowProps:e.rowProps},(i=e.getFieldProps)===null||i===void 0?void 0:i.call(e)),{},{children:r(e.columns)}),e.key)}return!0},Vye=function(e){return e.valueType&&typeof e.valueType=="string"&&["index","indexBorder","option"].includes(e==null?void 0:e.valueType)?null:!0},aD=[Vye,$ye,kye,jye,Bye,Uye],Gye=function(e,t){for(var r=0;r<aD.length;r++){var i=aD[r],a=i(e,t);if(a!==!0)return a}return Hye(e,t)},Wye=["columns","layoutType","type","action","shouldUpdate","formRef"],qye={DrawerForm:D0e,QueryFilter:Mye,LightFilter:z0e,StepForm:ew.StepForm,StepsForm:Nye,ModalForm:k0e,Embed:Dye,Form:ns};function Az(n){var e=n.columns,t=n.layoutType,r=t===void 0?"Form":t,i=n.type,a=i===void 0?"form":i,o=n.action,s=n.shouldUpdate,l=s===void 0?function(j,V){return Uu(j)!==Uu(V)}:s,c=n.formRef,d=Dt(n,Wye),h=qye[r]||ns,m=pn.useForm(),v=at(m,1),g=v[0],x=pn.useFormInstance(),b=P.useState([]),_=at(b,2),C=_[1],T=P.useState(function(){return[]}),M=at(T,2),O=M[0],I=M[1],U=EX(n.form||x||g),F=P.useRef(),L=ZR(n),D=zn(function(j){return j.filter(function(V){return!(V.hideInForm&&a==="form")}).sort(function(V,B){return B.order||V.order?(B.order||0)-(V.order||0):(B.index||0)-(V.index||0)}).map(function(V,B){var G=yo(V.title,V,"form",w.jsx(zf,{label:V.title,tooltip:V.tooltip||V.tip})),W=ti({title:G,label:G,name:V.name,valueType:yo(V.valueType,{}),key:V.key||V.dataIndex||B,columns:V.columns,valueEnum:V.valueEnum,dataIndex:V.dataIndex||V.key,initialValue:V.initialValue,width:V.width,index:V.index,readonly:V.readonly,colSize:V.colSize,colProps:V.colProps,rowProps:V.rowProps,className:V.className,tooltip:V.tooltip||V.tip,dependencies:V.dependencies,proFieldProps:V.proFieldProps,ignoreFormItem:V.ignoreFormItem,getFieldProps:V.fieldProps?function(){return yo(V.fieldProps,U.current,V)}:void 0,getFormItemProps:V.formItemProps?function(){return yo(V.formItemProps,U.current,V)}:void 0,render:V.render,renderFormItem:V.renderFormItem,renderText:V.renderText,request:V.request,params:V.params,transform:V.transform,convertValue:V.convertValue,debounceTime:V.debounceTime,defaultKeyWords:V.defaultKeyWords});return Gye(W,{action:o,type:a,originItem:V,formRef:U,genItems:D})}).filter(function(V){return!!V})}),z=P.useCallback(function(j,V){var B=L.current.onValuesChange;(l===!0||typeof l=="function"&&l(V,F.current))&&I([]),F.current=V,B==null||B(j,V)},[L,l]),$=_a(function(){if(U.current&&!(e.length&&Array.isArray(e[0])))return D(e)},[e,d==null?void 0:d.open,o,a,O]),Y=_a(function(){return r==="StepsForm"?{forceUpdate:C,columns:e}:{}},[e,r]);return P.useImperativeHandle(c,function(){return U.current},[U.current]),w.jsx(h,R(R(R({},Y),d),{},{onInit:function(V,B){var G;c&&(c.current=B),d==null||(G=d.onInit)===null||G===void 0||G.call(d,V,B),U.current=B},form:n.form||g,formRef:U,onValuesChange:z,children:$}))}var Xye=function(e){var t=On(),r=pn.useFormInstance();if(e.render===!1)return null;var i=e.onSubmit,a=e.render,o=e.onReset,s=e.searchConfig,l=s===void 0?{}:s,c=e.submitButtonProps,d=e.resetButtonProps,h=xo.useToken(),m=h.token,v=function(){r.submit(),i==null||i()},g=function(){r.resetFields(),o==null||o()},x=l.submitText,b=x===void 0?t.getMessage("tableForm.submit","提交"):x,_=l.resetText,C=_===void 0?t.getMessage("tableForm.reset","重置"):_,T=[];d!==!1&&T.push(P.createElement(lr,R(R({},Br(d!=null?d:{},["preventDefault"])),{},{key:"rest",onClick:function(I){var U;d!=null&&d.preventDefault||g(),d==null||(U=d.onClick)===null||U===void 0||U.call(d,I)}}),C)),c!==!1&&T.push(P.createElement(lr,R(R({type:"primary"},Br(c||{},["preventDefault"])),{},{key:"submit",onClick:function(I){var U;c!=null&&c.preventDefault||v(),c==null||(U=c.onClick)===null||U===void 0||U.call(c,I)}}),b));var M=a?a(R(R({},e),{},{form:r,submit:v,reset:g}),T):T;return M?Array.isArray(M)?(M==null?void 0:M.length)<1?null:(M==null?void 0:M.length)===1?M[0]:w.jsx("div",{style:{display:"flex",gap:m.marginXS,alignItems:"center"},children:M}):M:null},Yye=["children","contentRender","submitter","fieldProps","formItemProps","groupProps","transformKey","formRef","onInit","form","loading","formComponentType","extraUrlParams","syncToUrl","onUrlSearchChange","onReset","omitNil","isKeyPressSubmit","autoFocusFirstInput","grid","rowProps","colProps"],Kye=["extraUrlParams","syncToUrl","isKeyPressSubmit","syncToUrlAsImportant","syncToInitialValues","children","contentRender","submitter","fieldProps","proFieldProps","formItemProps","groupProps","dateFormatter","formRef","onInit","form","formComponentType","onReset","grid","rowProps","colProps","omitNil","request","params","initialValues","formKey","readonly","onLoadingChange","loading"],aS=function(e,t,r){return e===!0?t:yo(e,t,r)},oD=function(e){return!e||Array.isArray(e)?e:[e]};function Zye(n){var e,t=n.children,r=n.contentRender,i=n.submitter;n.fieldProps,n.formItemProps,n.groupProps;var a=n.transformKey,o=n.formRef,s=n.onInit,l=n.form,c=n.loading;n.formComponentType;var d=n.extraUrlParams,h=d===void 0?{}:d,m=n.syncToUrl,v=n.onUrlSearchChange,g=n.onReset,x=n.omitNil,b=x===void 0?!0:x;n.isKeyPressSubmit;var _=n.autoFocusFirstInput,C=_===void 0?!0:_,T=n.grid,M=n.rowProps,O=n.colProps,I=Dt(n,Yye),U=pn.useFormInstance(),F=(Lt===null||Lt===void 0||(e=Lt.useConfig)===null||e===void 0?void 0:e.call(Lt))||{componentSize:"middle"},L=F.componentSize,D=P.useRef(l||U),z=Bm({grid:T,rowProps:M}),$=z.RowWrapper,Y=zn(function(){return U}),j=P.useMemo(function(){return{getFieldsFormatValue:function(Q){var ue;return a((ue=Y())===null||ue===void 0?void 0:ue.getFieldsValue(Q),b)},getFieldFormatValue:function(){var Q,ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],se=oD(ue);if(!se)throw new Error("nameList is require");var ae=(Q=Y())===null||Q===void 0?void 0:Q.getFieldValue(se),ie=se?Ur({},se,ae):ae,te=gr(se);return te.shift(),Mr(a(ie,b,te),se)},getFieldFormatValueObject:function(Q){var ue,se=oD(Q),ae=(ue=Y())===null||ue===void 0?void 0:ue.getFieldValue(se),ie=se?Ur({},se,ae):ae;return a(ie,b,se)},validateFieldsReturnFormatValue:function(){var J=un(_t().mark(function ue(se){var ae,ie,te;return _t().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(!(!Array.isArray(se)&&se)){xe.next=2;break}throw new Error("nameList must be array");case 2:return xe.next=4,(ae=Y())===null||ae===void 0?void 0:ae.validateFields(se);case 4:return ie=xe.sent,te=a(ie,b),xe.abrupt("return",te||{});case 7:case"end":return xe.stop()}},ue)}));function Q(ue){return J.apply(this,arguments)}return Q}()}},[b,a]),V=P.useMemo(function(){return Oe.Children.toArray(t).map(function(J,Q){return Q===0&&Oe.isValidElement(J)&&C?Oe.cloneElement(J,R(R({},J.props),{},{autoFocus:C})):J})},[C,t]),B=P.useMemo(function(){return typeof i=="boolean"||!i?{}:i},[i]),G=P.useMemo(function(){if(i!==!1)return w.jsx(Xye,R(R({},B),{},{onReset:function(){var Q,ue,se=a((Q=D.current)===null||Q===void 0?void 0:Q.getFieldsValue(),b);if(B==null||(ue=B.onReset)===null||ue===void 0||ue.call(B,se),g==null||g(se),m){var ae,ie=Object.keys(a((ae=D.current)===null||ae===void 0?void 0:ae.getFieldsValue(),!1)).reduce(function(te,ee){return R(R({},te),{},ne({},ee,se[ee]||void 0))},h);v(aS(m,ie||{},"set"))}},submitButtonProps:R({loading:c},B.submitButtonProps)}),"submitter")},[i,B,c,a,b,g,m,h,v]),W=P.useMemo(function(){var J=T?w.jsx($,{children:V}):V;return r?r(J,G,D.current):J},[T,$,V,r,G]),Z=f0(n.initialValues);return P.useEffect(function(){if(!(m||!n.initialValues||!Z||I.request)){var J=$c(n.initialValues,Z);ma(J,"initialValues 只在 form 初始化时生效，如果你需要异步加载推荐使用 request，或者 initialValues ? <Form/> : null "),ma(J,"The initialValues only take effect when the form is initialized, if you need to load asynchronously recommended request, or the initialValues ? <Form/> : null ")}},[n.initialValues]),P.useImperativeHandle(o,function(){return R(R({},D.current),j)},[j,D.current]),P.useEffect(function(){var J,Q,ue=a((J=D.current)===null||J===void 0||(Q=J.getFieldsValue)===null||Q===void 0?void 0:Q.call(J,!0),b);s==null||s(ue,R(R({},D.current),j))},[]),w.jsx(_y.Provider,{value:R(R({},j),{},{formRef:D}),children:w.jsx(Lt,{componentSize:I.size||L,children:w.jsxs(aP.Provider,{value:{grid:T,colProps:O},children:[I.component!==!1&&w.jsx("input",{type:"text",style:{display:"none"}}),W]})})})}var sD=0;function qm(n){var e=n.extraUrlParams,t=e===void 0?{}:e,r=n.syncToUrl,i=n.isKeyPressSubmit,a=n.syncToUrlAsImportant,o=a===void 0?!1:a,s=n.syncToInitialValues,l=s===void 0?!0:s;n.children,n.contentRender,n.submitter;var c=n.fieldProps,d=n.proFieldProps,h=n.formItemProps,m=n.groupProps,v=n.dateFormatter,g=v===void 0?"string":v,x=n.formRef;n.onInit;var b=n.form,_=n.formComponentType;n.onReset,n.grid,n.rowProps,n.colProps;var C=n.omitNil,T=C===void 0?!0:C,M=n.request,O=n.params,I=n.initialValues,U=n.formKey,F=U===void 0?sD:U;n.readonly;var L=n.onLoadingChange,D=n.loading,z=Dt(n,Kye),$=P.useRef({}),Y=xr(!1,{onChange:L,value:D}),j=at(Y,2),V=j[0],B=j[1],G=$Z({},{disabled:!r}),W=at(G,2),Z=W[0],J=W[1],Q=P.useRef(B0());P.useEffect(function(){sD+=0},[]);var ue=wX({request:M,params:O,proFieldKey:F}),se=at(ue,1),ae=se[0],ie=P.useContext(Lt.ConfigContext),te=ie.getPrefixCls,ee=te("pro-form"),xe=Yn("ProForm",function(Ie){return ne({},".".concat(ee),ne({},"> div:not(".concat(Ie.proComponentsCls,"-form-light-filter)"),{".pro-field":{maxWidth:"100%","@media screen and (max-width: 575px)":{maxWidth:"calc(93vw - 48px)"},"&-xs":{width:104},"&-s":{width:216},"&-sm":{width:216},"&-m":{width:328},"&-md":{width:328},"&-l":{width:440},"&-lg":{width:440},"&-xl":{width:552}}}))}),Ee=xe.wrapSSR,Se=xe.hashId,ze=P.useState(function(){return r?aS(r,Z,"get"):{}}),Ue=at(ze,2),re=Ue[0],Ce=Ue[1],Fe=P.useRef({}),ge=P.useRef({}),fe=zn(function(Ie,Ae,X){return fZ(pX(Ie,g,ge.current,Ae,X),Fe.current,Ae)});P.useEffect(function(){l||Ce({})},[l]);var ve=zn(function(){return R(R({},Z),t)});P.useEffect(function(){r&&J(aS(r,ve(),"set"))},[t,ve,r]);var be=P.useMemo(function(){if(typeof window!="undefined"&&_&&["DrawerForm"].includes(_))return function(Ie){return Ie.parentNode||document.body}},[_]),we=zn(un(_t().mark(function Ie(){var Ae,X,q,ye,Re,Ge,Le;return _t().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:if(z.onFinish){et.next=2;break}return et.abrupt("return");case 2:if(!V){et.next=4;break}return et.abrupt("return");case 4:return et.prev=4,q=$==null||(Ae=$.current)===null||Ae===void 0||(X=Ae.getFieldsFormatValue)===null||X===void 0?void 0:X.call(Ae),ye=z.onFinish(q),ye instanceof Promise&&B(!0),et.next=10,ye;case 10:r&&(Le=Object.keys($==null||(Re=$.current)===null||Re===void 0||(Ge=Re.getFieldsFormatValue)===null||Ge===void 0?void 0:Ge.call(Re,void 0,!1)).reduce(function(xt,St){var st;return R(R({},xt),{},ne({},St,(st=q[St])!==null&&st!==void 0?st:void 0))},t),Object.keys(Z).forEach(function(xt){Le[xt]!==!1&&Le[xt]!==0&&!Le[xt]&&(Le[xt]=void 0)}),J(aS(r,Le,"set"))),B(!1),et.next=18;break;case 14:et.prev=14,et.t0=et.catch(4),console.log(et.t0),B(!1);case 18:case"end":return et.stop()}},Ie,null,[[4,14]])})));return P.useImperativeHandle(x,function(){return $.current},[!ae]),!ae&&n.request?w.jsx("div",{style:{paddingTop:50,paddingBottom:50,textAlign:"center"},children:w.jsx(Yu,{})}):Ee(w.jsx(ky.Provider,{value:{mode:n.readonly?"read":"edit"},children:w.jsx(OC,{needDeps:!0,children:w.jsx(Um.Provider,{value:{formRef:$,fieldProps:c,proFieldProps:d,formItemProps:h,groupProps:m,formComponentType:_,getPopupContainer:be,formKey:Q.current,setFieldValueType:function(Ae,X){var q=X.valueType,ye=q===void 0?"text":q,Re=X.dateFormat,Ge=X.transform;Array.isArray(Ae)&&(Fe.current=Ur(Fe.current,Ae,Ge),ge.current=Ur(ge.current,Ae,{valueType:ye,dateFormat:Re}))}},children:w.jsx(bm.Provider,{value:{},children:w.jsx(pn,R(R({onKeyPress:function(Ae){if(i&&Ae.key==="Enter"){var X;(X=$.current)===null||X===void 0||X.submit()}},autoComplete:"off",form:b},Br(z,["ref","labelWidth","autoFocusFirstInput"])),{},{ref:function(Ae){$.current&&($.current.nativeElement=Ae==null?void 0:Ae.nativeElement)},initialValues:o?R(R(R({},I),ae),re):R(R(R({},re),I),ae),onValuesChange:function(Ae,X){var q;z==null||(q=z.onValuesChange)===null||q===void 0||q.call(z,fe(Ae,!!T),fe(X,!!T))},className:Ut(n.className,ee,Se),onFinish:we,children:w.jsx(Zye,R(R({transformKey:fe,autoComplete:"off",loading:V,onUrlSearchChange:J},n),{},{formRef:$,initialValues:R(R({},I),ae)}))}))})})})}))}var Jye=function(e){return ne(ne({},"".concat(e.componentCls,"-collapse-label"),{paddingInline:1,paddingBlock:1}),"".concat(e.componentCls,"-container"),ne({},"".concat(e.antCls,"-form-item"),{marginBlockEnd:0}))};function Qye(n){return Yn("LightWrapper",function(e){var t=R(R({},e),{},{componentCls:".".concat(n)});return[Jye(t)]})}var ebe=["label","size","disabled","onChange","className","style","children","valuePropName","placeholder","labelFormatter","bordered","footerRender","allowClear","otherFieldProps","valueType","placement"],tbe=function(e){var t=e.label,r=e.size,i=e.disabled,a=e.onChange,o=e.className,s=e.style,l=e.children,c=e.valuePropName,d=e.placeholder,h=e.labelFormatter,m=e.bordered,v=e.footerRender,g=e.allowClear,x=e.otherFieldProps,b=e.valueType,_=e.placement,C=Dt(e,ebe),T=P.useContext(Lt.ConfigContext),M=T.getPrefixCls,O=M("pro-field-light-wrapper"),I=Qye(O),U=I.wrapSSR,F=I.hashId,L=P.useState(e[c]),D=at(L,2),z=D[0],$=D[1],Y=xr(!1),j=at(Y,2),V=j[0],B=j[1],G=function(){for(var Q,ue=arguments.length,se=new Array(ue),ae=0;ae<ue;ae++)se[ae]=arguments[ae];x==null||(Q=x.onChange)===null||Q===void 0||Q.call.apply(Q,[x].concat(se)),a==null||a.apply(void 0,se)},W=e[c],Z=P.useMemo(function(){var J;return W&&(b!=null&&(J=b.toLowerCase())!==null&&J!==void 0&&J.endsWith("range")&&b!=="digitRange"&&!h?mX(W,MU[b]||"YYYY-MM-DD"):Array.isArray(W)?W.map(function(Q){return Xt(Q)==="object"&&Q.label&&Q.value?Q.label:Q}):W)},[W,b,h]);return U(w.jsx(CU,{disabled:i,open:V,onOpenChange:B,placement:_,label:w.jsx(Vl,{ellipsis:!0,size:r,onClear:function(){G==null||G(),$(null)},bordered:m,style:s,className:o,label:t,placeholder:d,value:Z,disabled:i,formatter:h,allowClear:g}),footer:{onClear:function(){return $(null)},onConfirm:function(){G==null||G(z),B(!1)}},footerRender:v,children:w.jsx("div",{className:Ut("".concat(O,"-container"),F,o),style:s,children:Oe.cloneElement(l,R(R({},C),{},ne(ne({},c,z),"onChange",function(Q){$(Q!=null&&Q.target?Q.target.value:Q)}),l.props))})}))};function ns(n){return w.jsx(qm,R({layout:"vertical",contentRender:function(t,r){return w.jsxs(w.Fragment,{children:[t,r]})}},n))}ns.Group=bz;ns.useForm=pn.useForm;ns.Item=yz;ns.useWatch=pn.useWatch;ns.ErrorList=pn.ErrorList;ns.Provider=pn.Provider;ns.useFormInstance=pn.useFormInstance;ns.EditOrReadOnlyContext=ky;var nbe=ns.Group,rbe=function(e){return ne({},e.componentCls,{position:"fixed",insetInlineEnd:0,bottom:0,zIndex:99,display:"flex",alignItems:"center",width:"100%",paddingInline:24,paddingBlock:0,boxSizing:"border-box",lineHeight:"64px",backgroundColor:fo(e.colorBgElevated,.6),borderBlockStart:"1px solid ".concat(e.colorSplit),"-webkit-backdrop-filter":"blur(8px)",backdropFilter:"blur(8px)",color:e.colorText,transition:"all 0.2s ease 0s","&-left":{flex:1,color:e.colorText},"&-right":{color:e.colorText,"> *":{marginInlineEnd:8,"&:last-child":{marginBlock:0,marginInline:0}}}})};function ibe(n){return Yn("ProLayoutFooterToolbar",function(e){var t=R(R({},e),{},{componentCls:".".concat(n)});return[rbe(t)]})}function abe(n,e){var t=e.stylish;return Yn("ProLayoutFooterToolbarStylish",function(r){var i=R(R({},r),{},{componentCls:".".concat(n)});return t?[ne({},"".concat(i.componentCls),t==null?void 0:t(i))]:[]})}var obe=["children","className","extra","portalDom","style","renderContent"],sbe=function(e){var t=e.children,r=e.className,i=e.extra,a=e.portalDom,o=a===void 0?!0:a,s=e.style,l=e.renderContent,c=Dt(e,obe),d=P.useContext(Lt.ConfigContext),h=d.getPrefixCls,m=d.getTargetContainer,v=e.prefixCls||h("pro"),g="".concat(v,"-footer-bar"),x=ibe(g),b=x.wrapSSR,_=x.hashId,C=P.useContext(wP),T=P.useMemo(function(){var L=C.hasSiderMenu,D=C.isMobile,z=C.siderWidth;if(L)return z?D?"100%":"calc(100% - ".concat(z,"px)"):"100%"},[C.collapsed,C.hasSiderMenu,C.isMobile,C.siderWidth]),M=P.useMemo(function(){return typeof window=="undefined"||typeof document=="undefined"?null:(m==null?void 0:m())||document.body},[]),O=abe("".concat(g,".").concat(g,"-stylish"),{stylish:e.stylish}),I=w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"".concat(g,"-left ").concat(_).trim(),children:i}),w.jsx("div",{className:"".concat(g,"-right ").concat(_).trim(),children:t})]});P.useEffect(function(){return!C||!(C!=null&&C.setHasFooterToolbar)?function(){}:(C==null||C.setHasFooterToolbar(!0),function(){var L;C==null||(L=C.setHasFooterToolbar)===null||L===void 0||L.call(C,!1)})},[]);var U=w.jsx("div",R(R({className:Ut(r,_,g,ne({},"".concat(g,"-stylish"),!!e.stylish)),style:R({width:T},s)},Br(c,["prefixCls"])),{},{children:l?l(R(R(R({},e),C),{},{leftWidth:T}),I):I})),F=!FC()||!o||!M?U:R0.createPortal(U,M,g);return O.wrapSSR(b(w.jsx(Oe.Fragment,{children:F},g)))},wP=P.createContext({}),lbe=function(e){return ne({},e.componentCls,{width:"100%","&-wide":{maxWidth:1152,margin:"0 auto"}})};function cbe(n){return Yn("ProLayoutGridContent",function(e){var t=R(R({},e),{},{componentCls:".".concat(n)});return[lbe(t)]})}var ube=function(e){var t=P.useContext(wP),r=e.children,i=e.contentWidth,a=e.className,o=e.style,s=P.useContext(Lt.ConfigContext),l=s.getPrefixCls,c=e.prefixCls||l("pro"),d=i||t.contentWidth,h="".concat(c,"-grid-content"),m=cbe(h),v=m.wrapSSR,g=m.hashId,x=d==="Fixed"&&t.layout==="top";return v(w.jsx("div",{className:Ut(h,g,a,ne({},"".concat(h,"-wide"),x)),style:o,children:w.jsx("div",{className:"".concat(c,"-grid-content-children ").concat(g).trim(),children:r})}))},qA={exports:{}},tw={},Rz={exports:{}},Pz={exports:{}};(function(n){function e(t){"@babel/helpers - typeof";return n.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},n.exports.__esModule=!0,n.exports.default=n.exports,e(t)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(Pz);var nw=Pz.exports;(function(n){var e=nw.default;function t(r,i){if(typeof WeakMap=="function")var a=new WeakMap,o=new WeakMap;return(n.exports=t=function(l,c){if(!c&&l&&l.__esModule)return l;var d,h,m={__proto__:null,default:l};if(l===null||e(l)!="object"&&typeof l!="function")return m;if(d=c?o:a){if(d.has(l))return d.get(l);d.set(l,m)}for(var v in l)v!=="default"&&{}.hasOwnProperty.call(l,v)&&((h=(d=Object.defineProperty)&&Object.getOwnPropertyDescriptor(l,v))&&(h.get||h.set)?d(m,v,h):m[v]=l[v]);return m},n.exports.__esModule=!0,n.exports.default=n.exports)(r,i)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(Rz);var jy=Rz.exports,Oz={exports:{}};(function(n){function e(){return n.exports=e=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var a in i)({}).hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},n.exports.__esModule=!0,n.exports.default=n.exports,e.apply(null,arguments)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(Oz);var TP=Oz.exports,MP={};Object.defineProperty(MP,"__esModule",{value:!0});var dbe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};MP.default=dbe;var $y={},Fz={exports:{}},Iz={exports:{}};(function(n){function e(t){if(Array.isArray(t))return t}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(Iz);var fbe=Iz.exports,Dz={exports:{}};(function(n){function e(t,r){var i=t==null?null:typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var a,o,s,l,c=[],d=!0,h=!1;try{if(s=(i=i.call(t)).next,r===0){if(Object(i)!==i)return;d=!1}else for(;!(d=(a=s.call(i)).done)&&(c.push(a.value),c.length!==r);d=!0);}catch(m){h=!0,o=m}finally{try{if(!d&&i.return!=null&&(l=i.return(),Object(l)!==l))return}finally{if(h)throw o}}return c}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(Dz);var hbe=Dz.exports,Lz={exports:{}},Nz={exports:{}};(function(n){function e(t,r){(r==null||r>t.length)&&(r=t.length);for(var i=0,a=Array(r);i<r;i++)a[i]=t[i];return a}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(Nz);var pbe=Nz.exports;(function(n){var e=pbe;function t(r,i){if(r){if(typeof r=="string")return e(r,i);var a={}.toString.call(r).slice(8,-1);return a==="Object"&&r.constructor&&(a=r.constructor.name),a==="Map"||a==="Set"?Array.from(r):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?e(r,i):void 0}}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(Lz);var mbe=Lz.exports,Uz={exports:{}};(function(n){function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(Uz);var gbe=Uz.exports;(function(n){var e=fbe,t=hbe,r=mbe,i=gbe;function a(o,s){return e(o)||t(o,s)||r(o,s)||i()}n.exports=a,n.exports.__esModule=!0,n.exports.default=n.exports})(Fz);var Bz=Fz.exports,zz={exports:{}},Hz={exports:{}},kz={exports:{}};(function(n){var e=nw.default;function t(r,i){if(e(r)!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var o=a.call(r,i||"default");if(e(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(r)}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(kz);var vbe=kz.exports;(function(n){var e=nw.default,t=vbe;function r(i){var a=t(i,"string");return e(a)=="symbol"?a:a+""}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports})(Hz);var ybe=Hz.exports;(function(n){var e=ybe;function t(r,i,a){return(i=e(i))in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,r}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})(zz);var jz=zz.exports,$z={exports:{}},Vz={exports:{}};(function(n){function e(t,r){if(t==null)return{};var i={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)!==-1)continue;i[a]=t[a]}return i}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(Vz);var bbe=Vz.exports;(function(n){var e=bbe;function t(r,i){if(r==null)return{};var a,o,s=e(r,i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);for(o=0;o<l.length;o++)a=l[o],i.indexOf(a)===-1&&{}.propertyIsEnumerable.call(r,a)&&(s[a]=r[a])}return s}n.exports=t,n.exports.__esModule=!0,n.exports.default=n.exports})($z);var Gz=$z.exports;const Wz=M6(O7);var Vy={};Object.defineProperty(Vy,"__esModule",{value:!0});Vy.default=void 0;var xbe=P,_be=(0,xbe.createContext)({});Vy.default=_be;var Gy={},qz={exports:{}};(function(n){var e=jz;function t(i,a){var o=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);a&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),o.push.apply(o,s)}return o}function r(i){for(var a=1;a<arguments.length;a++){var o=arguments[a]!=null?arguments[a]:{};a%2?t(Object(o),!0).forEach(function(s){e(i,s,o[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(o,s))})}return i}n.exports=r,n.exports.__esModule=!0,n.exports.default=n.exports})(qz);var EP=qz.exports,Pa={},Xm={},AP={};Object.defineProperty(AP,"__esModule",{value:!0});AP.default=Sbe;function Sbe(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}var RP={};Object.defineProperty(RP,"__esModule",{value:!0});RP.default=Cbe;function Cbe(n,e){if(!n)return!1;if(n.contains)return n.contains(e);for(var t=e;t;){if(t===n)return!0;t=t.parentNode}return!1}var PP=$l.default;Object.defineProperty(Xm,"__esModule",{value:!0});Xm.clearContainerCache=Pbe;Xm.injectCSS=FP;Xm.removeCSS=Abe;Xm.updateCSS=Obe;var lD=PP(EP),wbe=PP(AP),Tbe=PP(RP),cD="data-rc-order",uD="data-rc-priority",Mbe="rc-util-key",y1=new Map;function Xz(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=n.mark;return e?e.startsWith("data-")?e:"data-".concat(e):Mbe}function rw(n){if(n.attachTo)return n.attachTo;var e=document.querySelector("head");return e||document.body}function Ebe(n){return n==="queue"?"prependQueue":n?"prepend":"append"}function OP(n){return Array.from((y1.get(n)||n).children).filter(function(e){return e.tagName==="STYLE"})}function FP(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(0,wbe.default)())return null;var t=e.csp,r=e.prepend,i=e.priority,a=i===void 0?0:i,o=Ebe(r),s=o==="prependQueue",l=document.createElement("style");l.setAttribute(cD,o),s&&a&&l.setAttribute(uD,"".concat(a)),t!=null&&t.nonce&&(l.nonce=t==null?void 0:t.nonce),l.innerHTML=n;var c=rw(e),d=c.firstChild;if(r){if(s){var h=(e.styles||OP(c)).filter(function(m){if(!["prepend","prependQueue"].includes(m.getAttribute(cD)))return!1;var v=Number(m.getAttribute(uD)||0);return a>=v});if(h.length)return c.insertBefore(l,h[h.length-1].nextSibling),l}c.insertBefore(l,d)}else c.appendChild(l);return l}function Yz(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=rw(e);return(e.styles||OP(t)).find(function(r){return r.getAttribute(Xz(e))===n})}function Abe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=Yz(n,e);if(t){var r=rw(e);r.removeChild(t)}}function Rbe(n,e){var t=y1.get(n);if(!t||!(0,Tbe.default)(document,t)){var r=FP("",e),i=r.parentNode;y1.set(n,i),n.removeChild(r)}}function Pbe(){y1.clear()}function Obe(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=rw(t),i=OP(r),a=(0,lD.default)((0,lD.default)({},t),{},{styles:i});Rbe(r,a);var o=Yz(e,a);if(o){var s,l;if((s=a.csp)!==null&&s!==void 0&&s.nonce&&o.nonce!==((l=a.csp)===null||l===void 0?void 0:l.nonce)){var c;o.nonce=(c=a.csp)===null||c===void 0?void 0:c.nonce}return o.innerHTML!==n&&(o.innerHTML=n),o}var d=FP(n,a);return d.setAttribute(Xz(a),e),d}var iw={};Object.defineProperty(iw,"__esModule",{value:!0});iw.getShadowRoot=Fbe;iw.inShadow=Zz;function Kz(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}function Zz(n){return Kz(n)instanceof ShadowRoot}function Fbe(n){return Zz(n)?Kz(n):null}var Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.call=IP;Ms.default=void 0;Ms.note=Qz;Ms.noteOnce=t4;Ms.preMessage=void 0;Ms.resetWarned=e4;Ms.warning=Jz;Ms.warningOnce=Wy;var XA={},Ibe=Ms.preMessage=function(e){};function Jz(n,e){}function Qz(n,e){}function e4(){XA={}}function IP(n,e,t){!e&&!XA[t]&&(n(!1,t),XA[t]=!0)}function Wy(n,e){IP(Jz,n,e)}function t4(n,e){IP(Qz,n,e)}Wy.preMessage=Ibe;Wy.resetWarned=e4;Wy.noteOnce=t4;Ms.default=Wy;var Dbe=jy.default,aw=$l.default;Object.defineProperty(Pa,"__esModule",{value:!0});Pa.generate=KA;Pa.getSecondaryColor=$be;Pa.iconStyles=void 0;Pa.isIconDefinition=jbe;Pa.normalizeAttrs=YA;Pa.normalizeTwoToneColors=Vbe;Pa.useInsertStyles=Pa.svgBaseProps=void 0;Pa.warning=kbe;var NM=aw(EP),dD=aw(nw),Lbe=Wz,Nbe=Xm,Ube=iw,Bbe=aw(Ms),b1=Dbe(P),zbe=aw(Vy);function Hbe(n){return n.replace(/-(.)/g,function(e,t){return t.toUpperCase()})}function kbe(n,e){(0,Bbe.default)(n,"[@ant-design/icons] ".concat(e))}function jbe(n){return(0,dD.default)(n)==="object"&&typeof n.name=="string"&&typeof n.theme=="string"&&((0,dD.default)(n.icon)==="object"||typeof n.icon=="function")}function YA(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(n).reduce(function(e,t){var r=n[t];switch(t){case"class":e.className=r,delete e.class;break;default:delete e[t],e[Hbe(t)]=r}return e},{})}function KA(n,e,t){return t?b1.default.createElement(n.tag,(0,NM.default)((0,NM.default)({key:e},YA(n.attrs)),t),(n.children||[]).map(function(r,i){return KA(r,"".concat(e,"-").concat(n.tag,"-").concat(i))})):b1.default.createElement(n.tag,(0,NM.default)({key:e},YA(n.attrs)),(n.children||[]).map(function(r,i){return KA(r,"".concat(e,"-").concat(n.tag,"-").concat(i))}))}function $be(n){return(0,Lbe.generate)(n)[0]}function Vbe(n){return n?Array.isArray(n)?n:[n]:[]}Pa.svgBaseProps={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"};var Gbe=Pa.iconStyles=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`;Pa.useInsertStyles=function(e){var t=(0,b1.useContext)(zbe.default),r=t.csp,i=t.prefixCls,a=t.layer,o=Gbe;i&&(o=o.replace(/anticon/g,i)),a&&(o="@layer ".concat(a,` {
`).concat(o,`
}`)),(0,b1.useEffect)(function(){var s=e.current,l=(0,Ube.getShadowRoot)(s);(0,Nbe.updateCSS)(o,"@ant-design-icons",{prepend:!a,csp:r,attachTo:l})},[])};var n4=$l.default,Wbe=jy.default;Object.defineProperty(Gy,"__esModule",{value:!0});Gy.default=void 0;var qbe=n4(Gz),n0=n4(EP),Xbe=Wbe(P),hf=Pa,Ybe=["icon","className","onClick","style","primaryColor","secondaryColor"],g0={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function Kbe(n){var e=n.primaryColor,t=n.secondaryColor;g0.primaryColor=e,g0.secondaryColor=t||(0,hf.getSecondaryColor)(e),g0.calculated=!!t}function Zbe(){return(0,n0.default)({},g0)}var ow=function(e){var t=e.icon,r=e.className,i=e.onClick,a=e.style,o=e.primaryColor,s=e.secondaryColor,l=(0,qbe.default)(e,Ybe),c=Xbe.useRef(),d=g0;if(o&&(d={primaryColor:o,secondaryColor:s||(0,hf.getSecondaryColor)(o)}),(0,hf.useInsertStyles)(c),(0,hf.warning)((0,hf.isIconDefinition)(t),"icon should be icon definiton, but got ".concat(t)),!(0,hf.isIconDefinition)(t))return null;var h=t;return h&&typeof h.icon=="function"&&(h=(0,n0.default)((0,n0.default)({},h),{},{icon:h.icon(d.primaryColor,d.secondaryColor)})),(0,hf.generate)(h.icon,"svg-".concat(h.name),(0,n0.default)((0,n0.default)({className:r,onClick:i,style:a,"data-icon":h.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},l),{},{ref:c}))};ow.displayName="IconReact";ow.getTwoToneColors=Zbe;ow.setTwoToneColors=Kbe;Gy.default=ow;var sw={},r4=$l.default;Object.defineProperty(sw,"__esModule",{value:!0});sw.getTwoToneColor=txe;sw.setTwoToneColor=exe;var Jbe=r4(Bz),i4=r4(Gy),Qbe=Pa;function exe(n){var e=(0,Qbe.normalizeTwoToneColors)(n),t=(0,Jbe.default)(e,2),r=t[0],i=t[1];return i4.default.setTwoToneColors({primaryColor:r,secondaryColor:i})}function txe(){var n=i4.default.getTwoToneColors();return n.calculated?[n.primaryColor,n.secondaryColor]:n.primaryColor}var rh=$l.default,nxe=jy.default;Object.defineProperty($y,"__esModule",{value:!0});$y.default=void 0;var rxe=rh(TP),ixe=rh(Bz),fD=rh(jz),axe=rh(Gz),e_=nxe(P),oxe=rh(lU),sxe=Wz,lxe=rh(Vy),cxe=rh(Gy),DP=sw,uxe=Pa,dxe=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];(0,DP.setTwoToneColor)(sxe.blue.primary);var lw=e_.forwardRef(function(n,e){var t=n.className,r=n.icon,i=n.spin,a=n.rotate,o=n.tabIndex,s=n.onClick,l=n.twoToneColor,c=(0,axe.default)(n,dxe),d=e_.useContext(lxe.default),h=d.prefixCls,m=h===void 0?"anticon":h,v=d.rootClassName,g=(0,oxe.default)(v,m,(0,fD.default)((0,fD.default)({},"".concat(m,"-").concat(r.name),!!r.name),"".concat(m,"-spin"),!!i||r.name==="loading"),t),x=o;x===void 0&&s&&(x=-1);var b=a?{msTransform:"rotate(".concat(a,"deg)"),transform:"rotate(".concat(a,"deg)")}:void 0,_=(0,uxe.normalizeTwoToneColors)(l),C=(0,ixe.default)(_,2),T=C[0],M=C[1];return e_.createElement("span",(0,rxe.default)({role:"img","aria-label":r.name},c,{ref:e,tabIndex:x,onClick:s,className:g}),e_.createElement(cxe.default,{icon:r,primaryColor:T,secondaryColor:M,style:b}))});lw.displayName="AntdIcon";lw.getTwoToneColor=DP.getTwoToneColor;lw.setTwoToneColor=DP.setTwoToneColor;$y.default=lw;var fxe=jy.default,LP=$l.default;Object.defineProperty(tw,"__esModule",{value:!0});tw.default=void 0;var hxe=LP(TP),a4=fxe(P),pxe=LP(MP),mxe=LP($y),gxe=function(e,t){return a4.createElement(mxe.default,(0,hxe.default)({},e,{ref:t,icon:pxe.default}))},vxe=a4.forwardRef(gxe);tw.default=vxe;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const t=r(tw);function r(a){return a&&a.__esModule?a:{default:a}}const i=t;e.default=i,n.exports=i})(qA,qA.exports);var yxe=qA.exports;const bxe=ri(yxe);var ZA={exports:{}},cw={},NP={};Object.defineProperty(NP,"__esModule",{value:!0});var xxe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"};NP.default=xxe;var _xe=jy.default,UP=$l.default;Object.defineProperty(cw,"__esModule",{value:!0});cw.default=void 0;var Sxe=UP(TP),o4=_xe(P),Cxe=UP(NP),wxe=UP($y),Txe=function(e,t){return o4.createElement(wxe.default,(0,Sxe.default)({},e,{ref:t,icon:Cxe.default}))},Mxe=o4.forwardRef(Txe);cw.default=Mxe;(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const t=r(cw);function r(a){return a&&a.__esModule?a:{default:a}}const i=t;e.default=i,n.exports=i})(ZA,ZA.exports);var Exe=ZA.exports;const Axe=ri(Exe);var hD=function(){return{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},Rxe=function(e){var t;return ne({},e.componentCls,R(R({},am==null?void 0:am(e)),{},ne(ne(ne(ne(ne(ne(ne(ne({position:"relative",backgroundColor:e.colorWhite,paddingBlock:e.pageHeaderPaddingVertical+2,paddingInline:e.pageHeaderPadding,"&&-ghost":{backgroundColor:e.pageHeaderBgGhost},"&-no-children":{height:(t=e.layout)===null||t===void 0||(t=t.pageContainer)===null||t===void 0?void 0:t.paddingBlockPageContainerContent},"&&-has-breadcrumb":{paddingBlockStart:e.pageHeaderPaddingBreadCrumb},"&&-has-footer":{paddingBlockEnd:0},"& &-back":ne({marginInlineEnd:e.margin,fontSize:16,lineHeight:1,"&-button":R(R({fontSize:16},vM==null?void 0:vM(e)),{},{color:e.pageHeaderColorBack,cursor:"pointer"})},"".concat(e.componentCls,"-rlt &"),{float:"right",marginInlineEnd:0,marginInlineStart:0})},"& ".concat("ant","-divider-vertical"),{height:14,marginBlock:0,marginInline:e.marginSM,verticalAlign:"middle"}),"& &-breadcrumb + &-heading",{marginBlockStart:e.marginXS}),"& &-heading",{display:"flex",justifyContent:"space-between","&-left":{display:"flex",alignItems:"center",marginBlock:e.marginXS/2,marginInlineEnd:0,marginInlineStart:0,overflow:"hidden"},"&-title":R(R({marginInlineEnd:e.marginSM,marginBlockEnd:0,color:e.colorTextHeading,fontWeight:600,fontSize:e.pageHeaderFontSizeHeaderTitle,lineHeight:e.controlHeight+"px"},hD()),{},ne({},"".concat(e.componentCls,"-rlt &"),{marginInlineEnd:0,marginInlineStart:e.marginSM})),"&-avatar":ne({marginInlineEnd:e.marginSM},"".concat(e.componentCls,"-rlt &"),{float:"right",marginInlineEnd:0,marginInlineStart:e.marginSM}),"&-tags":ne({},"".concat(e.componentCls,"-rlt &"),{float:"right"}),"&-sub-title":R(R({marginInlineEnd:e.marginSM,color:e.colorTextSecondary,fontSize:e.pageHeaderFontSizeHeaderSubTitle,lineHeight:e.lineHeight},hD()),{},ne({},"".concat(e.componentCls,"-rlt &"),{float:"right",marginInlineEnd:0,marginInlineStart:12})),"&-extra":ne(ne({marginBlock:e.marginXS/2,marginInlineEnd:0,marginInlineStart:0,whiteSpace:"nowrap","> *":ne({"white-space":"unset"},"".concat(e.componentCls,"-rlt &"),{marginInlineEnd:e.marginSM,marginInlineStart:0})},"".concat(e.componentCls,"-rlt &"),{float:"left"}),"*:first-child",ne({},"".concat(e.componentCls,"-rlt &"),{marginInlineEnd:0}))}),"&-content",{paddingBlockStart:e.pageHeaderPaddingContentPadding}),"&-footer",{marginBlockStart:e.margin}),"&-compact &-heading",{flexWrap:"wrap"}),"&-wide",{maxWidth:1152,margin:"0 auto"}),"&-rtl",{direction:"rtl"})))};function Pxe(n){return Yn("ProLayoutPageHeader",function(e){var t=R(R({},e),{},{componentCls:".".concat(n),pageHeaderBgGhost:"transparent",pageHeaderPadding:16,pageHeaderPaddingVertical:4,pageHeaderPaddingBreadCrumb:e.paddingSM,pageHeaderColorBack:e.colorTextHeading,pageHeaderFontSizeHeaderTitle:e.fontSizeHeading4,pageHeaderFontSizeHeaderSubTitle:14,pageHeaderPaddingContentPadding:e.paddingSM});return[Rxe(t)]})}var Oxe=function(e,t,r,i){return!r||!i?null:w.jsx("div",{className:"".concat(e,"-back ").concat(t).trim(),children:w.jsx("div",{role:"button",onClick:function(o){i==null||i(o)},className:"".concat(e,"-back-button ").concat(t).trim(),"aria-label":"back",children:r})})},Fxe=function(e,t){var r;return(r=e.items)!==null&&r!==void 0&&r.length?w.jsx(HV,R(R({},e),{},{className:Ut("".concat(t,"-breadcrumb"),e.className)})):null},Ixe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ltr";return e.backIcon!==void 0?e.backIcon:t==="rtl"?w.jsx(Axe,{}):w.jsx(bxe,{})},Dxe=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"ltr",i=arguments.length>3?arguments[3]:void 0,a=t.title,o=t.avatar,s=t.subTitle,l=t.tags,c=t.extra,d=t.onBack,h="".concat(e,"-heading"),m=a||s||l||c;if(!m)return null;var v=Ixe(t,r),g=Oxe(e,i,v,d),x=g||o||m;return w.jsxs("div",{className:h+" "+i,children:[x&&w.jsxs("div",{className:"".concat(h,"-left ").concat(i).trim(),children:[g,o&&w.jsx(s3,R({className:Ut("".concat(h,"-avatar"),i,o.className)},o)),a&&w.jsx("span",{className:"".concat(h,"-title ").concat(i).trim(),title:typeof a=="string"?a:void 0,children:a}),s&&w.jsx("span",{className:"".concat(h,"-sub-title ").concat(i).trim(),title:typeof s=="string"?s:void 0,children:s}),l&&w.jsx("span",{className:"".concat(h,"-tags ").concat(i).trim(),children:l})]}),c&&w.jsx("span",{className:"".concat(h,"-extra ").concat(i).trim(),children:w.jsx(Ra,{children:c})})]})},Lxe=function(e,t,r){return t?w.jsx("div",{className:"".concat(e,"-footer ").concat(r).trim(),children:t}):null},Nxe=function(e,t,r){return w.jsx("div",{className:"".concat(e,"-content ").concat(r).trim(),children:t})},Uxe=function n(e){return e==null?void 0:e.map(function(t){var r;return ma(!!t.breadcrumbName,"Route.breadcrumbName is deprecated, please use Route.title instead."),R(R({},t),{},{breadcrumbName:void 0,children:void 0,title:t.title||t.breadcrumbName},(r=t.children)!==null&&r!==void 0&&r.length?{menu:{items:n(t.children)}}:{})})},Bxe=function(e){var t,r=P.useState(!1),i=at(r,2),a=i[0],o=i[1],s=function(J){var Q=J.width;return o(Q<768)},l=P.useContext(Lt.ConfigContext),c=l.getPrefixCls,d=l.direction,h=e.prefixCls,m=e.style,v=e.footer,g=e.children,x=e.breadcrumb,b=e.breadcrumbRender,_=e.className,C=e.contentWidth,T=e.layout,M=e.ghost,O=M===void 0?!0:M,I=c("page-header",h),U=Pxe(I),F=U.wrapSSR,L=U.hashId,D=function(){return x&&!(x!=null&&x.items)&&x!==null&&x!==void 0&&x.routes&&(ma(!1,"The routes of Breadcrumb is deprecated, please use items instead."),x.items=Uxe(x.routes)),x!=null&&x.items?Fxe(x,I):null},z=D(),$=x&&"props"in x,Y=(t=b==null?void 0:b(R(R({},e),{},{prefixCls:I}),z))!==null&&t!==void 0?t:z,j=$?x:Y,V=Ut(I,L,_,ne(ne(ne(ne(ne(ne({},"".concat(I,"-has-breadcrumb"),!!j),"".concat(I,"-has-footer"),!!v),"".concat(I,"-rtl"),d==="rtl"),"".concat(I,"-compact"),a),"".concat(I,"-wide"),C==="Fixed"&&T=="top"),"".concat(I,"-ghost"),O)),B=Dxe(I,e,d,L),G=g&&Nxe(I,g,L),W=Lxe(I,v,L);return!j&&!B&&!W&&!G?w.jsx("div",{className:Ut(L,["".concat(I,"-no-children")])}):F(w.jsx(QC,{onResize:s,children:w.jsxs("div",{className:V,style:m,children:[j,B,G,W]})}))},zxe=["isLoading","pastDelay","timedOut","error","retry"],Hxe=function(e){e.isLoading,e.pastDelay,e.timedOut,e.error,e.retry;var t=Dt(e,zxe);return w.jsx("div",{style:{paddingBlockStart:100,textAlign:"center"},children:w.jsx(Yu,R({size:"large"},t))})},kxe=function(e){if(!e)return 1;var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||1;return(window.devicePixelRatio||1)/t},jxe=function(e){var t=im(),r=t.token,i=e.children,a=e.style,o=e.className,s=e.markStyle,l=e.markClassName,c=e.zIndex,d=c===void 0?9:c,h=e.gapX,m=h===void 0?212:h,v=e.gapY,g=v===void 0?222:v,x=e.width,b=x===void 0?120:x,_=e.height,C=_===void 0?64:_,T=e.rotate,M=T===void 0?-22:T,O=e.image,I=e.offsetLeft,U=e.offsetTop,F=e.fontStyle,L=F===void 0?"normal":F,D=e.fontWeight,z=D===void 0?"normal":D,$=e.fontColor,Y=$===void 0?r.colorFill:$,j=e.fontSize,V=j===void 0?16:j,B=e.fontFamily,G=B===void 0?"sans-serif":B,W=e.prefixCls,Z=P.useContext(Lt.ConfigContext),J=Z.getPrefixCls,Q=J("pro-layout-watermark",W),ue=Ut("".concat(Q,"-wrapper"),o),se=Ut(Q,l),ae=P.useState(""),ie=at(ae,2),te=ie[0],ee=ie[1];return P.useEffect(function(){var xe=document.createElement("canvas"),Ee=xe.getContext("2d"),Se=kxe(Ee),ze="".concat((m+b)*Se,"px"),Ue="".concat((g+C)*Se,"px"),re=I||m/2,Ce=U||g/2;if(xe.setAttribute("width",ze),xe.setAttribute("height",Ue),!Ee){console.error("当前环境不支持Canvas");return}Ee.translate(re*Se,Ce*Se),Ee.rotate(Math.PI/180*Number(M));var Fe=b*Se,ge=C*Se,fe=function(we){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Ae=Number(V)*Se;Ee.font="".concat(L," normal ").concat(z," ").concat(Ae,"px/").concat(ge,"px ").concat(G),Ee.fillStyle=Y,Array.isArray(we)?we==null||we.forEach(function(X,q){return Ee.fillText(X,0,q*Ae+Ie)}):Ee.fillText(we,0,Ie?Ie+Ae:0),ee(xe.toDataURL())};if(O){var ve=new Image;ve.crossOrigin="anonymous",ve.referrerPolicy="no-referrer",ve.src=O,ve.onload=function(){if(Ee.drawImage(ve,0,0,Fe,ge),ee(xe.toDataURL()),e.content){fe(e.content,ve.height+8);return}};return}if(e.content){fe(e.content);return}},[m,g,I,U,M,L,z,b,C,G,Y,O,e.content,V]),w.jsxs("div",{style:R({position:"relative"},a),className:ue,children:[i,w.jsx("div",{className:se,style:R(R({zIndex:d,position:"absolute",left:0,top:0,width:"100%",height:"100%",backgroundSize:"".concat(m+b,"px"),pointerEvents:"none",backgroundRepeat:"repeat"},te?{backgroundImage:"url('".concat(te,"')")}:{}),s)})]})},$xe=[576,768,992,1200].map(function(n){return"@media (max-width: ".concat(n,"px)")}),uw=at($xe,4),pD=uw[0],mD=uw[1],Vxe=uw[2],Gxe=uw[3],Wxe=function(e){var t,r,i,a,o,s,l,c,d,h,m,v,g,x,b,_,C,T;return ne({},e.componentCls,ne(ne(ne(ne(ne(ne({position:"relative","&-children-container":{paddingBlockStart:0,paddingBlockEnd:(t=e.layout)===null||t===void 0||(t=t.pageContainer)===null||t===void 0?void 0:t.paddingBlockPageContainerContent,paddingInline:(r=e.layout)===null||r===void 0||(r=r.pageContainer)===null||r===void 0?void 0:r.paddingInlinePageContainerContent},"&-children-container-no-header":{paddingBlockStart:(i=e.layout)===null||i===void 0||(i=i.pageContainer)===null||i===void 0?void 0:i.paddingBlockPageContainerContent},"&-affix":ne({},"".concat(e.antCls,"-affix"),ne({},"".concat(e.componentCls,"-warp"),{backgroundColor:(a=e.layout)===null||a===void 0||(a=a.pageContainer)===null||a===void 0?void 0:a.colorBgPageContainerFixed,transition:"background-color 0.3s",boxShadow:"0 2px 8px #f0f1f2"}))},"& &-warp-page-header",ne(ne(ne(ne({paddingBlockStart:((o=(s=e.layout)===null||s===void 0||(s=s.pageContainer)===null||s===void 0?void 0:s.paddingBlockPageContainerContent)!==null&&o!==void 0?o:40)/4,paddingBlockEnd:((l=(c=e.layout)===null||c===void 0||(c=c.pageContainer)===null||c===void 0?void 0:c.paddingBlockPageContainerContent)!==null&&l!==void 0?l:40)/2,paddingInlineStart:(d=e.layout)===null||d===void 0||(d=d.pageContainer)===null||d===void 0?void 0:d.paddingInlinePageContainerContent,paddingInlineEnd:(h=e.layout)===null||h===void 0||(h=h.pageContainer)===null||h===void 0?void 0:h.paddingInlinePageContainerContent},"& ~ ".concat(e.proComponentsCls,"-grid-content"),ne({},"".concat(e.proComponentsCls,"-page-container-children-content"),{paddingBlock:((m=(v=e.layout)===null||v===void 0||(v=v.pageContainer)===null||v===void 0?void 0:v.paddingBlockPageContainerContent)!==null&&m!==void 0?m:24)/3})),"".concat(e.antCls,"-page-header-breadcrumb"),{paddingBlockStart:((g=(x=e.layout)===null||x===void 0||(x=x.pageContainer)===null||x===void 0?void 0:x.paddingBlockPageContainerContent)!==null&&g!==void 0?g:40)/4+10}),"".concat(e.antCls,"-page-header-heading"),{paddingBlockStart:((b=(_=e.layout)===null||_===void 0||(_=_.pageContainer)===null||_===void 0?void 0:_.paddingBlockPageContainerContent)!==null&&b!==void 0?b:40)/4}),"".concat(e.antCls,"-page-header-footer"),{marginBlockStart:((C=(T=e.layout)===null||T===void 0||(T=T.pageContainer)===null||T===void 0?void 0:T.paddingBlockPageContainerContent)!==null&&C!==void 0?C:40)/4})),"&-detail",ne({display:"flex"},pD,{display:"block"})),"&-main",{width:"100%"}),"&-row",ne({display:"flex",width:"100%"},mD,{display:"block"})),"&-content",{flex:"auto",width:"100%"}),"&-extraContent",ne(ne(ne(ne({flex:"0 1 auto",minWidth:"242px",marginInlineStart:88,textAlign:"end"},Gxe,{marginInlineStart:44}),Vxe,{marginInlineStart:20}),mD,{marginInlineStart:0,textAlign:"start"}),pD,{marginInlineStart:0})))};function qxe(n,e){return Yn("ProLayoutPageContainer",function(t){var r,i=R(R({},t),{},{componentCls:".".concat(n),layout:R(R({},t==null?void 0:t.layout),{},{pageContainer:R(R({},t==null||(r=t.layout)===null||r===void 0?void 0:r.pageContainer),e)})});return[Wxe(i)]})}function Xxe(n,e){var t=e.stylish;return Yn("ProLayoutPageContainerStylish",function(r){var i=R(R({},r),{},{componentCls:".".concat(n)});return t?[ne({},"div".concat(i.componentCls),t==null?void 0:t(i))]:[]})}var Yxe=["title","content","pageHeaderRender","header","prefixedClassName","extraContent","childrenContentStyle","style","prefixCls","hashId","value","breadcrumbRender"],Kxe=["children","loading","className","style","footer","affixProps","token","fixedHeader","breadcrumbRender","footerToolBarProps","childrenContentStyle"];function Zxe(n){return Xt(n)==="object"?n:{spinning:n}}var Jxe=function(e){var t=e.tabList,r=e.tabActiveKey,i=e.onTabChange,a=e.hashId,o=e.tabBarExtraContent,s=e.tabProps,l=e.prefixedClassName;return Array.isArray(t)||o?w.jsx(ku,R(R({className:"".concat(l,"-tabs ").concat(a).trim(),activeKey:r,onChange:function(d){i&&i(d)},tabBarExtraContent:o,items:t==null?void 0:t.map(function(c,d){var h;return R(R({label:c.tab},c),{},{key:((h=c.key)===null||h===void 0?void 0:h.toString())||(d==null?void 0:d.toString())})})},s),{},{children:Ku(qc,"4.23.0")<0?t==null?void 0:t.map(function(c,d){return w.jsx(ku.TabPane,R({tab:c.tab},c),c.key||d)}):null})):null},Qxe=function(e,t,r,i){return!e&&!t?null:w.jsx("div",{className:"".concat(r,"-detail ").concat(i).trim(),children:w.jsx("div",{className:"".concat(r,"-main ").concat(i).trim(),children:w.jsxs("div",{className:"".concat(r,"-row ").concat(i).trim(),children:[e&&w.jsx("div",{className:"".concat(r,"-content ").concat(i).trim(),children:e}),t&&w.jsx("div",{className:"".concat(r,"-extraContent ").concat(i).trim(),children:t})]})})})},e_e=function(e){var t,r=e.title,i=e.content,a=e.pageHeaderRender,o=e.header,s=e.prefixedClassName,l=e.extraContent;e.childrenContentStyle,e.style;var c=e.prefixCls,d=e.hashId,h=e.value,m=e.breadcrumbRender,v=Dt(e,Yxe),g=function(){if(m)return m};if(a===!1)return null;if(a)return w.jsxs(w.Fragment,{children:[" ",a(R(R({},e),h))]});var x=r;!r&&r!==!1&&(x=h.title);var b=R(R(R({},h),{},{title:x},v),{},{footer:Jxe(R(R({},v),{},{hashId:d,breadcrumbRender:m,prefixedClassName:s}))},o),_=b,C=_.breadcrumb,T=(!C||!(C!=null&&C.itemRender)&&!(C!=null&&(t=C.items)!==null&&t!==void 0&&t.length))&&!m;return["title","subTitle","extra","tags","footer","avatar","backIcon"].every(function(M){return!b[M]})&&T&&!i&&!l?null:w.jsx(Bxe,R(R({},b),{},{className:"".concat(s,"-warp-page-header ").concat(d).trim(),breadcrumb:m===!1?void 0:R(R({},b.breadcrumb),h.breadcrumbProps),breadcrumbRender:g(),prefixCls:c,children:(o==null?void 0:o.children)||Qxe(i,l,s,d)}))},t_e=function(e){var t,r,i=e.children,a=e.loading,o=a===void 0?!1:a,s=e.className,l=e.style,c=e.footer,d=e.affixProps,h=e.token,m=e.fixedHeader,v=e.breadcrumbRender,g=e.footerToolBarProps,x=e.childrenContentStyle,b=Dt(e,Kxe),_=P.useContext(wP);P.useEffect(function(){var W;return!_||!(_!=null&&_.setHasPageContainer)?function(){}:(_==null||(W=_.setHasPageContainer)===null||W===void 0||W.call(_,function(Z){return Z+1}),function(){var Z;_==null||(Z=_.setHasPageContainer)===null||Z===void 0||Z.call(_,function(J){return J-1})})},[]);var C=P.useContext(Zo),T=C.token,M=P.useContext(Lt.ConfigContext),O=M.getPrefixCls,I=e.prefixCls||O("pro"),U="".concat(I,"-page-container"),F=qxe(U,h),L=F.wrapSSR,D=F.hashId,z=Xxe("".concat(U,".").concat(U,"-stylish"),{stylish:e.stylish}),$=P.useMemo(function(){var W;return v==!1?!1:v||(b==null||(W=b.header)===null||W===void 0?void 0:W.breadcrumbRender)},[v,b==null||(t=b.header)===null||t===void 0?void 0:t.breadcrumbRender]),Y=e_e(R(R({},b),{},{breadcrumbRender:$,ghost:!0,hashId:D,prefixCls:void 0,prefixedClassName:U,value:_})),j=P.useMemo(function(){if(Oe.isValidElement(o))return o;if(typeof o=="boolean"&&!o)return null;var W=Zxe(o);return W.spinning?w.jsx(Hxe,R({},W)):null},[o]),V=P.useMemo(function(){return i?w.jsx(w.Fragment,{children:w.jsx("div",{className:Ut(D,"".concat(U,"-children-container"),ne({},"".concat(U,"-children-container-no-header"),!Y)),style:x,children:i})}):null},[i,U,x,D]),B=P.useMemo(function(){var W=j||V;if(e.waterMarkProps||_.waterMarkProps){var Z=R(R({},_.waterMarkProps),e.waterMarkProps);return w.jsx(jxe,R(R({},Z),{},{children:W}))}return W},[e.waterMarkProps,_.waterMarkProps,j,V]),G=Ut(U,D,s,ne(ne(ne({},"".concat(U,"-with-footer"),c),"".concat(U,"-with-affix"),m&&Y),"".concat(U,"-stylish"),!!b.stylish));return L(z.wrapSSR(w.jsxs(w.Fragment,{children:[w.jsxs("div",{style:l,className:G,children:[m&&Y?w.jsx(kV,R(R({offsetTop:_.hasHeader&&_.fixedHeader?(r=T.layout)===null||r===void 0||(r=r.header)===null||r===void 0?void 0:r.heightLayoutHeader:1},d),{},{className:"".concat(U,"-affix ").concat(D).trim(),children:w.jsx("div",{className:"".concat(U,"-warp ").concat(D).trim(),children:Y})})):Y,B&&w.jsx(ube,{children:B})]}),c&&w.jsx(sbe,R(R({stylish:b.footerStylish,prefixCls:I},g),{},{children:c}))]})))},ih=function(e){return w.jsx(OC,{needDeps:!0,children:w.jsx(t_e,R({},e))})},n_e=NU(Object.keys,Object),r_e=Object.prototype,i_e=r_e.hasOwnProperty;function s4(n){if(!NC(n))return n_e(n);var e=[];for(var t in Object(n))i_e.call(n,t)&&t!="constructor"&&e.push(t);return e}var JA=Qf(Gl,"DataView"),QA=Qf(Gl,"Promise"),eR=Qf(Gl,"Set"),tR=Qf(Gl,"WeakMap"),gD="[object Map]",a_e="[object Object]",vD="[object Promise]",yD="[object Set]",bD="[object WeakMap]",xD="[object DataView]",o_e=Jf(JA),s_e=Jf(z0),l_e=Jf(QA),c_e=Jf(eR),u_e=Jf(tR),Lc=Nm;(JA&&Lc(new JA(new ArrayBuffer(1)))!=xD||z0&&Lc(new z0)!=gD||QA&&Lc(QA.resolve())!=vD||eR&&Lc(new eR)!=yD||tR&&Lc(new tR)!=bD)&&(Lc=function(n){var e=Nm(n),t=e==a_e?n.constructor:void 0,r=t?Jf(t):"";if(r)switch(r){case o_e:return xD;case s_e:return gD;case l_e:return vD;case c_e:return yD;case u_e:return bD}return e});var d_e="[object Map]",f_e="[object Set]",h_e=Object.prototype,p_e=h_e.hasOwnProperty;function m_e(n){if(n==null)return!0;if(wy(n)&&(jf(n)||typeof n=="string"||typeof n.splice=="function"||k0(n)||UC(n)||QS(n)))return!n.length;var e=Lc(n);if(e==d_e||e==f_e)return!n.size;if(NC(n))return!s4(n).length;for(var t in n)if(p_e.call(n,t))return!1;return!0}var g_e="__lodash_hash_undefined__";function v_e(n){return this.__data__.set(n,g_e),this}function y_e(n){return this.__data__.has(n)}function x1(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new eh;++e<t;)this.add(n[e])}x1.prototype.add=x1.prototype.push=v_e;x1.prototype.has=y_e;function b_e(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function x_e(n,e){return n.has(e)}var __e=1,S_e=2;function l4(n,e,t,r,i,a){var o=t&__e,s=n.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(n),d=a.get(e);if(c&&d)return c==e&&d==n;var h=-1,m=!0,v=t&S_e?new x1:void 0;for(a.set(n,e),a.set(e,n);++h<s;){var g=n[h],x=e[h];if(r)var b=o?r(x,g,h,e,n,a):r(g,x,h,n,e,a);if(b!==void 0){if(b)continue;m=!1;break}if(v){if(!b_e(e,function(_,C){if(!x_e(v,C)&&(g===_||i(g,_,t,r,a)))return v.push(C)})){m=!1;break}}else if(!(g===x||i(g,x,t,r,a))){m=!1;break}}return a.delete(n),a.delete(e),m}function C_e(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}function w_e(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var T_e=1,M_e=2,E_e="[object Boolean]",A_e="[object Date]",R_e="[object Error]",P_e="[object Map]",O_e="[object Number]",F_e="[object RegExp]",I_e="[object Set]",D_e="[object String]",L_e="[object Symbol]",N_e="[object ArrayBuffer]",U_e="[object DataView]",_D=fm?fm.prototype:void 0,UM=_D?_D.valueOf:void 0;function B_e(n,e,t,r,i,a,o){switch(t){case U_e:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case N_e:return!(n.byteLength!=e.byteLength||!a(new JS(n),new JS(e)));case E_e:case A_e:case O_e:return Cy(+n,+e);case R_e:return n.name==e.name&&n.message==e.message;case F_e:case D_e:return n==e+"";case P_e:var s=C_e;case I_e:var l=r&T_e;if(s||(s=w_e),n.size!=e.size&&!l)return!1;var c=o.get(n);if(c)return c==e;r|=M_e,o.set(n,e);var d=l4(s(n),s(e),r,i,a,o);return o.delete(n),d;case L_e:if(UM)return UM.call(n)==UM.call(e)}return!1}function z_e(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}function H_e(n,e,t){var r=e(n);return jf(n)?r:z_e(r,t(n))}function k_e(n,e){for(var t=-1,r=n==null?0:n.length,i=0,a=[];++t<r;){var o=n[t];e(o,t,n)&&(a[i++]=o)}return a}function j_e(){return[]}var $_e=Object.prototype,V_e=$_e.propertyIsEnumerable,SD=Object.getOwnPropertySymbols,G_e=SD?function(n){return n==null?[]:(n=Object(n),k_e(SD(n),function(e){return V_e.call(n,e)}))}:j_e;function W_e(n){return wy(n)?VU(n):s4(n)}function CD(n){return H_e(n,W_e,G_e)}var q_e=1,X_e=Object.prototype,Y_e=X_e.hasOwnProperty;function K_e(n,e,t,r,i,a){var o=t&q_e,s=CD(n),l=s.length,c=CD(e),d=c.length;if(l!=d&&!o)return!1;for(var h=l;h--;){var m=s[h];if(!(o?m in e:Y_e.call(e,m)))return!1}var v=a.get(n),g=a.get(e);if(v&&g)return v==e&&g==n;var x=!0;a.set(n,e),a.set(e,n);for(var b=o;++h<l;){m=s[h];var _=n[m],C=e[m];if(r)var T=o?r(C,_,m,e,n,a):r(_,C,m,n,e,a);if(!(T===void 0?_===C||i(_,C,t,r,a):T)){x=!1;break}b||(b=m=="constructor")}if(x&&!b){var M=n.constructor,O=e.constructor;M!=O&&"constructor"in n&&"constructor"in e&&!(typeof M=="function"&&M instanceof M&&typeof O=="function"&&O instanceof O)&&(x=!1)}return a.delete(n),a.delete(e),x}var Z_e=1,wD="[object Arguments]",TD="[object Array]",t_="[object Object]",J_e=Object.prototype,MD=J_e.hasOwnProperty;function Q_e(n,e,t,r,i,a){var o=jf(n),s=jf(e),l=o?TD:Lc(n),c=s?TD:Lc(e);l=l==wD?t_:l,c=c==wD?t_:c;var d=l==t_,h=c==t_,m=l==c;if(m&&k0(n)){if(!k0(e))return!1;o=!0,d=!1}if(m&&!d)return a||(a=new Vc),o||UC(n)?l4(n,e,t,r,i,a):B_e(n,e,l,t,r,i,a);if(!(t&Z_e)){var v=d&&MD.call(n,"__wrapped__"),g=h&&MD.call(e,"__wrapped__");if(v||g){var x=v?n.value():n,b=g?e.value():e;return a||(a=new Vc),i(x,b,t,r,a)}}return m?(a||(a=new Vc),K_e(n,e,t,r,i,a)):!1}function c4(n,e,t,r,i){return n===e?!0:n==null||e==null||!kf(n)&&!kf(e)?n!==n&&e!==e:Q_e(n,e,t,r,c4,i)}function eSe(n,e){return c4(n,e)}function tSe(n,e,t){var r,i;if(n===!1)return!1;var a=e.total,o=e.current,s=e.pageSize,l=e.setPageInfo,c=Xt(n)==="object"?n:{};return R(R({showTotal:function(h,m){return"".concat(t.getMessage("pagination.total.range","第")," ").concat(m[0],"-").concat(m[1]," ").concat(t.getMessage("pagination.total.total","条/总共")," ").concat(h," ").concat(t.getMessage("pagination.total.item","条"))},total:a},c),{},{current:n!==!0&&n&&(r=n.current)!==null&&r!==void 0?r:o,pageSize:n!==!0&&n&&(i=n.pageSize)!==null&&i!==void 0?i:s,onChange:function(h,m){var v=n,g=v.onChange;g==null||g(h,m||20),(m!==s||o!==h)&&l({pageSize:m,current:h})}})}function nSe(n,e,t){var r=R(R({},t.editableUtils),{},{pageInfo:e.pageInfo,reload:function(){var i=un(_t().mark(function o(s){return _t().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(!s){c.next=3;break}return c.next=3,e.setPageInfo({current:1});case 3:return c.next=5,e==null?void 0:e.reload();case 5:case"end":return c.stop()}},o)}));function a(o){return i.apply(this,arguments)}return a}(),reloadAndRest:function(){var i=un(_t().mark(function o(){return _t().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return t.onCleanSelected(),l.next=3,e.setPageInfo({current:1});case 3:return l.next=5,e==null?void 0:e.reload();case 5:case"end":return l.stop()}},o)}));function a(){return i.apply(this,arguments)}return a}(),reset:function(){var i=un(_t().mark(function o(){var s;return _t().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,t.resetAll();case 2:return c.next=4,e==null||(s=e.reset)===null||s===void 0?void 0:s.call(e);case 4:return c.next=6,e==null?void 0:e.reload();case 6:case"end":return c.stop()}},o)}));function a(){return i.apply(this,arguments)}return a}(),fullScreen:function(){return t.fullScreen()},clearSelected:function(){return t.onCleanSelected()},setPageInfo:function(a){return e.setPageInfo(a)}});n.current=r}function rSe(n,e){return e.filter(function(t){return t}).length<1?n:e.reduce(function(t,r){return r(t)},n)}var u4=function(e,t){return t===void 0?!1:typeof t=="boolean"?t:t[e]},iSe=function(e){var t;return e&&Xt(e)==="object"&&(e==null||(t=e.props)===null||t===void 0?void 0:t.colSpan)},Ym=function(e,t){return e?Array.isArray(e)?e.join("-"):e.toString():"".concat(t)};function aSe(n){return Array.isArray(n)?n.join(","):n==null?void 0:n.toString()}function ED(n){var e={},t={};return n.forEach(function(r){var i=aSe(r.dataIndex);if(i){if(r.filters){var a=r.defaultFilteredValue;a===void 0?e[i]=null:e[i]=r.defaultFilteredValue}r.sorter&&r.defaultSortOrder&&(t[i]=r.defaultSortOrder)}}),{sort:t,filter:e}}function oSe(){var n,e,t,r,i,a,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=P.useRef(),l=P.useRef(null),c=P.useRef(),d=P.useRef(),h=P.useState(""),m=at(h,2),v=m[0],g=m[1],x=P.useRef([]),b=xr(function(){return o.size||o.defaultSize||"middle"},{value:o.size,onChange:o.onSizeChange}),_=at(b,2),C=_[0],T=_[1],M=P.useMemo(function(){var z,$;if(o!=null&&(z=o.columnsState)!==null&&z!==void 0&&z.defaultValue)return o.columnsState.defaultValue;var Y={};return($=o.columns)===null||$===void 0||$.forEach(function(j,V){var B=j.key,G=j.dataIndex,W=j.fixed,Z=j.disable,J=Ym(B!=null?B:G,V);J&&(Y[J]={show:!0,fixed:W,disable:Z})}),Y},[o.columns]),O=xr(function(){var z,$,Y=o.columnsState||{},j=Y.persistenceType,V=Y.persistenceKey;if(V&&j&&typeof window!="undefined"){var B=window[j];try{var G=B==null?void 0:B.getItem(V);if(G){var W;if(o!=null&&(W=o.columnsState)!==null&&W!==void 0&&W.defaultValue){var Z;return vA({},o==null||(Z=o.columnsState)===null||Z===void 0?void 0:Z.defaultValue,JSON.parse(G))}return JSON.parse(G)}}catch(J){console.warn(J)}}return o.columnsStateMap||((z=o.columnsState)===null||z===void 0?void 0:z.value)||(($=o.columnsState)===null||$===void 0?void 0:$.defaultValue)||M},{value:((n=o.columnsState)===null||n===void 0?void 0:n.value)||o.columnsStateMap,onChange:((e=o.columnsState)===null||e===void 0?void 0:e.onChange)||o.onColumnsStateChange}),I=at(O,2),U=I[0],F=I[1];P.useEffect(function(){var z=o.columnsState||{},$=z.persistenceType,Y=z.persistenceKey;if(Y&&$&&typeof window!="undefined"){var j=window[$];try{var V=j==null?void 0:j.getItem(Y);if(V){var B;if(o!=null&&(B=o.columnsState)!==null&&B!==void 0&&B.defaultValue){var G;F(vA({},o==null||(G=o.columnsState)===null||G===void 0?void 0:G.defaultValue,JSON.parse(V)))}else F(JSON.parse(V))}else F(M)}catch(W){console.warn(W)}}},[(t=o.columnsState)===null||t===void 0?void 0:t.persistenceKey,(r=o.columnsState)===null||r===void 0?void 0:r.persistenceType,M]),ma(!o.columnsStateMap,"columnsStateMap已经废弃，请使用 columnsState.value 替换"),ma(!o.columnsStateMap,"columnsStateMap has been discarded, please use columnsState.value replacement");var L=P.useCallback(function(){var z=o.columnsState||{},$=z.persistenceType,Y=z.persistenceKey;if(!(!Y||!$||typeof window=="undefined")){var j=window[$];try{j==null||j.removeItem(Y)}catch(V){console.warn(V)}}},[o.columnsState]);P.useEffect(function(){var z,$;if(!(!((z=o.columnsState)!==null&&z!==void 0&&z.persistenceKey)||!(($=o.columnsState)!==null&&$!==void 0&&$.persistenceType))&&typeof window!="undefined"){var Y=o.columnsState,j=Y.persistenceType,V=Y.persistenceKey,B=window[j];try{B==null||B.setItem(V,JSON.stringify(U))}catch(G){console.warn(G),L()}}},[(i=o.columnsState)===null||i===void 0?void 0:i.persistenceKey,U,(a=o.columnsState)===null||a===void 0?void 0:a.persistenceType]);var D={action:s.current,setAction:function($){s.current=$},sortKeyColumns:x.current,setSortKeyColumns:function($){x.current=$},propsRef:d,columnsMap:U,keyWords:v,setKeyWords:function($){return g($)},setTableSize:T,tableSize:C,prefixName:c.current,setPrefixName:function($){c.current=$},setColumnsMap:F,columns:o.columns,rootDomRef:l,clearPersistenceStorage:L,defaultColumnKeyMap:M};return Object.defineProperty(D,"prefixName",{get:function(){return c.current}}),Object.defineProperty(D,"sortKeyColumns",{get:function(){return x.current}}),Object.defineProperty(D,"action",{get:function(){return s.current}}),D}var Ju=P.createContext({}),sSe=function(e){var t=oSe(e.initValue);return w.jsx(Ju.Provider,{value:t,children:e.children})},lSe=function(e){return ne({},e.componentCls,{marginBlockEnd:16,backgroundColor:fo(e.colorTextBase,.02),borderRadius:e.borderRadius,border:"none","&-container":{paddingBlock:e.paddingSM,paddingInline:e.paddingLG},"&-info":{display:"flex",alignItems:"center",transition:"all 0.3s",color:e.colorTextTertiary,"&-content":{flex:1},"&-option":{minWidth:48,paddingInlineStart:16}}})};function cSe(n){return Yn("ProTableAlert",function(e){var t=R(R({},e),{},{componentCls:".".concat(n)});return[lSe(t)]})}var uSe=function(e){var t=e.intl,r=e.onCleanSelected;return[w.jsx("a",{onClick:r,children:t.getMessage("alert.clear","清空")},"0")]};function dSe(n){var e=n.selectedRowKeys,t=e===void 0?[]:e,r=n.onCleanSelected,i=n.alwaysShowAlert,a=n.selectedRows,o=n.alertInfoRender,s=o===void 0?function(T){var M=T.intl;return w.jsxs(Ra,{children:[M.getMessage("alert.selected","已选择"),t.length,M.getMessage("alert.item","项"),"  "]})}:o,l=n.alertOptionRender,c=l===void 0?uSe:l,d=On(),h=c&&c({onCleanSelected:r,selectedRowKeys:t,selectedRows:a,intl:d}),m=P.useContext(Lt.ConfigContext),v=m.getPrefixCls,g=v("pro-table-alert"),x=cSe(g),b=x.wrapSSR,_=x.hashId;if(s===!1)return null;var C=s({intl:d,selectedRowKeys:t,selectedRows:a,onCleanSelected:r});return C===!1||t.length<1&&!i?null:b(w.jsx("div",{className:"".concat(g," ").concat(_).trim(),children:w.jsx("div",{className:"".concat(g,"-container ").concat(_).trim(),children:w.jsxs("div",{className:"".concat(g,"-info ").concat(_).trim(),children:[w.jsx("div",{className:"".concat(g,"-info-content ").concat(_).trim(),children:C}),h?w.jsx("div",{className:"".concat(g,"-info-option ").concat(_).trim(),children:h}):null]})})}))}function fSe(n){var e=n.replace(/[A-Z]/g,function(t){return"-".concat(t.toLowerCase())});return e.startsWith("-")&&(e=e.slice(1)),e}var hSe=function(e,t){return!e&&t!==!1?(t==null?void 0:t.filterType)==="light"?"LightFilter":"QueryFilter":"Form"},pSe=function(e,t,r){return!e&&r==="LightFilter"?Br(R({},t),["labelWidth","defaultCollapsed","filterType"]):e?{}:Br(R({labelWidth:t?t==null?void 0:t.labelWidth:void 0,defaultCollapsed:!0},t),["filterType"])},mSe=function(e,t){return e?Br(t,["ignoreRules"]):R({ignoreRules:!0},t)},gSe=function(e){var t=e.onSubmit,r=e.formRef,i=e.dateFormatter,a=i===void 0?"string":i,o=e.type,s=e.columns,l=e.action,c=e.ghost,d=e.manualRequest,h=e.onReset,m=e.submitButtonLoading,v=e.search,g=e.form,x=e.bordered,b=P.useContext(Zo),_=b.hashId,C=o==="form",T=function(){var z=un(_t().mark(function $(Y,j){return _t().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:t&&t(Y,j);case 1:case"end":return B.stop()}},$)}));return function(Y,j){return z.apply(this,arguments)}}(),M=P.useContext(Lt.ConfigContext),O=M.getPrefixCls,I=P.useMemo(function(){return s.filter(function(z){return!(z===Uf.EXPAND_COLUMN||z===Uf.SELECTION_COLUMN||(z.hideInSearch||z.search===!1)&&o!=="form"||o==="form"&&z.hideInForm)}).map(function(z){var $,Y=!z.valueType||["textarea","jsonCode","code"].includes(z==null?void 0:z.valueType)&&o==="table"?"text":z==null?void 0:z.valueType,j=(z==null?void 0:z.key)||(z==null||($=z.dataIndex)===null||$===void 0?void 0:$.toString());return R(R(R({},z),{},{width:void 0},z.search&&Xt(z.search)==="object"?z.search:{}),{},{valueType:Y,proFieldProps:R(R({},z.proFieldProps),{},{proFieldKey:j?"table-field-".concat(j):void 0})})})},[s,o]),U=O("pro-table-search"),F=O("pro-table-form"),L=P.useMemo(function(){return hSe(C,v)},[v,C]),D=P.useMemo(function(){return{submitter:{submitButtonProps:{loading:m}}}},[m]);return w.jsx("div",{className:Ut(_,ne(ne(ne(ne(ne(ne(ne(ne(ne({},O("pro-card"),!0),"".concat(O("pro-card"),"-border"),!!x),"".concat(O("pro-card"),"-bordered"),!!x),"".concat(O("pro-card"),"-ghost"),!!c),U,!0),F,C),O("pro-table-search-".concat(fSe(L))),!0),"".concat(U,"-ghost"),c),v==null?void 0:v.className,v!==!1&&(v==null?void 0:v.className))),children:w.jsx(Az,R(R(R(R({layoutType:L,columns:I,type:o},D),pSe(C,v,L)),mSe(C,g||{})),{},{formRef:r,action:l,dateFormatter:a,onInit:function($,Y){if(r.current=Y,o!=="form"){var j,V,B,G=(j=l.current)===null||j===void 0?void 0:j.pageInfo,W=$,Z=W.current,J=Z===void 0?G==null?void 0:G.current:Z,Q=W.pageSize,ue=Q===void 0?G==null?void 0:G.pageSize:Q;if((V=l.current)===null||V===void 0||(B=V.setPageInfo)===null||B===void 0||B.call(V,R(R({},G),{},{current:parseInt(J,10),pageSize:parseInt(ue,10)})),d)return;T($,!0)}},onReset:function($){h==null||h($)},onFinish:function($){T($,!1)},initialValues:g==null?void 0:g.initialValues}))})},vSe=function(n){_C(t,n);var e=SC(t);function t(){var r;Xu(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a)),ne(Ll(r),"onSubmit",function(s,l){var c=r.props,d=c.pagination,h=c.beforeSearchSubmit,m=h===void 0?function(O){return O}:h,v=c.action,g=c.onSubmit,x=c.onFormSearchSubmit,b=d?ti({current:d.current,pageSize:d.pageSize}):{},_=R(R({},s),{},{_timestamp:Date.now()},b),C=Br(m(_),Object.keys(b));if(x(C),!l){var T,M;(T=v.current)===null||T===void 0||(M=T.setPageInfo)===null||M===void 0||M.call(T,{current:1})}g&&!l&&(g==null||g(s))}),ne(Ll(r),"onReset",function(s){var l,c,d=r.props,h=d.pagination,m=d.beforeSearchSubmit,v=m===void 0?function(T){return T}:m,g=d.action,x=d.onFormSearchSubmit,b=d.onReset,_=h?ti({current:h.current,pageSize:h.pageSize}):{},C=Br(v(R(R({},s),_)),Object.keys(_));x(C),(l=g.current)===null||l===void 0||(c=l.setPageInfo)===null||c===void 0||c.call(l,{current:1}),b==null||b()}),ne(Ll(r),"isEqual",function(s){var l=r.props,c=l.columns,d=l.loading,h=l.formRef,m=l.type,v=l.cardBordered,g=l.dateFormatter,x=l.form,b=l.search,_=l.manualRequest,C={columns:c,loading:d,formRef:h,type:m,cardBordered:v,dateFormatter:g,form:x,search:b,manualRequest:_};return!$c(C,{columns:s.columns,formRef:s.formRef,loading:s.loading,type:s.type,cardBordered:s.cardBordered,dateFormatter:s.dateFormatter,form:s.form,search:s.search,manualRequest:s.manualRequest})}),ne(Ll(r),"shouldComponentUpdate",function(s){return r.isEqual(s)}),ne(Ll(r),"render",function(){var s=r.props,l=s.columns,c=s.loading,d=s.formRef,h=s.type,m=s.action,v=s.cardBordered,g=s.dateFormatter,x=s.form,b=s.search,_=s.pagination,C=s.ghost,T=s.manualRequest,M=_?ti({current:_.current,pageSize:_.pageSize}):{};return w.jsx(gSe,{submitButtonLoading:c,columns:l,type:h,ghost:C,formRef:d,onSubmit:r.onSubmit,manualRequest:T,onReset:r.onReset,dateFormatter:g,search:b,form:R(R({autoFocusFirstInput:!1},x),{},{extraUrlParams:R(R({},M),x==null?void 0:x.extraUrlParams)}),action:m,bordered:u4("search",v)})}),r}return qu(t)}(Oe.Component),ySe=function(e){return ne(ne(ne({},e.componentCls,{width:"auto","&-title":{display:"flex",alignItems:"center",justifyContent:"space-between",height:"32px"},"&-overlay":ne(ne(ne(ne({},"".concat(e.antCls,"-popover-inner-content"),{width:"200px",paddingBlock:0,paddingInline:0,paddingBlockEnd:8}),"".concat(e.antCls,"-tree-node-content-wrapper:hover"),{backgroundColor:"transparent"}),"".concat(e.antCls,"-tree-draggable-icon"),{cursor:"grab"}),"".concat(e.antCls,"-tree-treenode"),ne(ne({alignItems:"center","&:hover":ne({},"".concat(e.componentCls,"-list-item-option"),{display:"block"})},"".concat(e.antCls,"-tree-checkbox"),{marginInlineEnd:"4px"}),"".concat(e.antCls,"-tree-title"),{width:"100%"}))}),"".concat(e.componentCls,"-action-rest-button"),{color:e.colorPrimary}),"".concat(e.componentCls,"-list"),ne(ne(ne({display:"flex",flexDirection:"column",width:"100%",paddingBlockStart:8},"&".concat(e.componentCls,"-list-group"),{paddingBlockStart:0}),"&-title",{marginBlockStart:"6px",marginBlockEnd:"6px",paddingInlineStart:"24px",color:e.colorTextSecondary,fontSize:"12px"}),"&-item",{display:"flex",alignItems:"center",maxHeight:24,justifyContent:"space-between","&-title":{flex:1,maxWidth:80,textOverflow:"ellipsis",overflow:"hidden",wordBreak:"break-all",whiteSpace:"nowrap"},"&-option":{display:"none",float:"right",cursor:"pointer","> span":{"> span.anticon":{color:e.colorPrimary}},"> span + span":{marginInlineStart:4}}}))};function bSe(n){return Yn("ColumnSetting",function(e){var t=R(R({},e),{},{componentCls:".".concat(n)});return[ySe(t)]})}var xSe=["key","dataIndex","children"],_Se=["disabled"],BM=function(e){var t=e.title,r=e.show,i=e.children,a=e.columnKey,o=e.fixed,s=P.useContext(Ju),l=s.columnsMap,c=s.setColumnsMap;return r?w.jsx(vo,{title:t,children:w.jsx("span",{onClick:function(h){h.stopPropagation(),h.preventDefault();var m=l[a]||{},v=R(R({},l),{},ne({},a,R(R({},m),{},{fixed:o})));c(v)},children:i})}):null},SSe=function(e){var t=e.columnKey,r=e.isLeaf,i=e.title,a=e.className,o=e.fixed,s=e.showListItemOption,l=On(),c=P.useContext(Zo),d=c.hashId,h=w.jsxs("span",{className:"".concat(a,"-list-item-option ").concat(d).trim(),children:[w.jsx(BM,{columnKey:t,fixed:"left",title:l.getMessage("tableToolBar.leftPin","固定在列首"),show:o!=="left",children:w.jsx(Vq,{})}),w.jsx(BM,{columnKey:t,fixed:void 0,title:l.getMessage("tableToolBar.noPin","不固定"),show:!!o,children:w.jsx(jq,{})}),w.jsx(BM,{columnKey:t,fixed:"right",title:l.getMessage("tableToolBar.rightPin","固定在列尾"),show:o!=="right",children:w.jsx(Hq,{})})]});return w.jsxs("span",{className:"".concat(a,"-list-item ").concat(d).trim(),children:[w.jsx("div",{className:"".concat(a,"-list-item-title ").concat(d).trim(),children:i}),s&&!r?h:null]},t)},zM=function(e){var t,r,i,a=e.list,o=e.draggable,s=e.checkable,l=e.showListItemOption,c=e.className,d=e.showTitle,h=d===void 0?!0:d,m=e.title,v=e.listHeight,g=v===void 0?280:v,x=P.useContext(Zo),b=x.hashId,_=P.useContext(Ju),C=_.columnsMap,T=_.setColumnsMap,M=_.sortKeyColumns,O=_.setSortKeyColumns,I=a&&a.length>0,U=P.useMemo(function(){if(!I)return{};var z=[],$=new Map,Y=function j(V,B){return V.map(function(G){var W,Z=G.key;G.dataIndex;var J=G.children,Q=Dt(G,xSe),ue=Ym(Z,[B==null?void 0:B.columnKey,Q.index].filter(Boolean).join("-")),se=C[ue||"null"]||{show:!0};se.show!==!1&&!J&&z.push(ue);var ae=R(R({key:ue},Br(Q,["className"])),{},{selectable:!1,disabled:se.disable===!0,disableCheckbox:typeof se.disable=="boolean"?se.disable:(W=se.disable)===null||W===void 0?void 0:W.checkbox,isLeaf:B?!0:void 0});if(J){var ie;ae.children=j(J,R(R({},se),{},{columnKey:ue})),(ie=ae.children)!==null&&ie!==void 0&&ie.every(function(te){return z==null?void 0:z.includes(te.key)})&&z.push(ue)}return $.set(Z,ae),ae})};return{list:Y(a),keys:z,map:$}},[C,a,I]),F=zn(function(z,$,Y){var j=R({},C),V=gr(M),B=V.findIndex(function(J){return J===z}),G=V.findIndex(function(J){return J===$}),W=Y>=B;if(!(B<0)){var Z=V[B];V.splice(B,1),Y===0?V.unshift(Z):V.splice(W?G:G+1,0,Z),V.forEach(function(J,Q){j[J]=R(R({},j[J]||{}),{},{order:Q})}),T(j),O(V)}}),L=zn(function(z){var $=R({},C),Y=function j(V){var B,G=R({},$[V]);if(G.show=z.checked,(B=U.map)!==null&&B!==void 0&&(B=B.get(V))!==null&&B!==void 0&&B.children){var W;(W=U.map.get(V))===null||W===void 0||(W=W.children)===null||W===void 0||W.forEach(function(Z){return j(Z.key)})}$[V]=G};Y(z.node.key),T(R({},$))});if(!I)return null;var D=w.jsx(jV,{itemHeight:24,draggable:o&&!!((t=U.list)!==null&&t!==void 0&&t.length)&&((r=U.list)===null||r===void 0?void 0:r.length)>1,checkable:s,onDrop:function($){var Y=$.node.key,j=$.dragNode.key,V=$.dropPosition,B=$.dropToGap,G=V===-1||!B?V+1:V;F(j,Y,G)},blockNode:!0,onCheck:function($,Y){return L(Y)},checkedKeys:U.keys,showLine:!1,titleRender:function($){var Y=R(R({},$),{},{children:void 0});if(!Y.title)return null;var j=yo(Y.title,Y),V=w.jsx(Kf.Text,{style:{width:80},ellipsis:{tooltip:j},children:j});return w.jsx(SSe,R(R({className:c},Br(Y,["key"])),{},{showListItemOption:l,title:V,columnKey:Y.key}))},height:g,treeData:(i=U.list)===null||i===void 0?void 0:i.map(function(z){z.disabled;var $=Dt(z,_Se);return $})});return w.jsxs(w.Fragment,{children:[h&&w.jsx("span",{className:"".concat(c,"-list-title ").concat(b).trim(),children:m}),D]})},CSe=function(e){var t=e.localColumns,r=e.className,i=e.draggable,a=e.checkable,o=e.showListItemOption,s=e.listsHeight,l=P.useContext(Zo),c=l.hashId,d=[],h=[],m=[],v=On();t.forEach(function(b){if(!b.hideInSetting){var _=b.fixed;if(_==="left"){h.push(b);return}if(_==="right"){d.push(b);return}m.push(b)}});var g=d&&d.length>0,x=h&&h.length>0;return w.jsxs("div",{className:Ut("".concat(r,"-list"),c,ne({},"".concat(r,"-list-group"),g||x)),children:[w.jsx(zM,{title:v.getMessage("tableToolBar.leftFixedTitle","固定在左侧"),list:h,draggable:i,checkable:a,showListItemOption:o,className:r,listHeight:s}),w.jsx(zM,{list:m,draggable:i,checkable:a,showListItemOption:o,title:v.getMessage("tableToolBar.noFixedTitle","不固定"),showTitle:x||g,className:r,listHeight:s}),w.jsx(zM,{title:v.getMessage("tableToolBar.rightFixedTitle","固定在右侧"),list:d,draggable:i,checkable:a,showListItemOption:o,className:r,listHeight:s})]})};function wSe(n){var e,t,r,i,a=P.useRef(null),o=P.useContext(Ju),s=n.columns,l=n.checkedReset,c=l===void 0?!0:l,d=o.columnsMap,h=o.setColumnsMap,m=o.clearPersistenceStorage;P.useEffect(function(){var L;if((L=o.propsRef.current)!==null&&L!==void 0&&(L=L.columnsState)!==null&&L!==void 0&&L.value){var D;a.current=JSON.parse(JSON.stringify(((D=o.propsRef.current)===null||D===void 0||(D=D.columnsState)===null||D===void 0?void 0:D.value)||{}))}},[]);var v=zn(function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,D={},z=function $(Y){Y.forEach(function(j){var V=j.key,B=j.fixed,G=j.index,W=j.children,Z=j.disable,J=Ym(V,G);if(J){var Q,ue;D[J]={show:Z?(Q=d[J])===null||Q===void 0?void 0:Q.show:L,fixed:B,disable:Z,order:(ue=d[J])===null||ue===void 0?void 0:ue.order}}W&&$(W)})};z(s),h(D)}),g=zn(function(L){L.target.checked?v():v(!1)}),x=zn(function(){var L;m==null||m(),h(((L=o.propsRef.current)===null||L===void 0||(L=L.columnsState)===null||L===void 0?void 0:L.defaultValue)||a.current||o.defaultColumnKeyMap)}),b=Object.values(d).filter(function(L){return!L||L.show===!1}),_=b.length>0&&b.length!==s.length,C=On(),T=P.useContext(Lt.ConfigContext),M=T.getPrefixCls,O=M("pro-table-column-setting"),I=bSe(O),U=I.wrapSSR,F=I.hashId;return U(w.jsx(my,{arrow:!1,title:w.jsxs("div",{className:"".concat(O,"-title ").concat(F).trim(),children:[n.checkable===!1?w.jsx("div",{}):w.jsx(a3,{indeterminate:_,checked:b.length===0&&b.length!==s.length,onChange:function(D){g(D)},children:C.getMessage("tableToolBar.columnDisplay","列展示")}),c?w.jsx("a",{onClick:x,className:"".concat(O,"-action-rest-button ").concat(F).trim(),children:C.getMessage("tableToolBar.reset","重置")}):null,n!=null&&n.extra?w.jsx(Ra,{size:12,align:"center",children:n.extra}):null]}),overlayClassName:"".concat(O,"-overlay ").concat(F).trim(),trigger:"click",placement:"bottomRight",content:w.jsx(CSe,{checkable:(e=n.checkable)!==null&&e!==void 0?e:!0,draggable:(t=n.draggable)!==null&&t!==void 0?t:!0,showListItemOption:(r=n.showListItemOption)!==null&&r!==void 0?r:!0,className:O,localColumns:s,listsHeight:n.listsHeight}),children:n.children||w.jsx(vo,{title:C.getMessage("tableToolBar.columnSetting","列设置"),children:(i=n.settingIcon)!==null&&i!==void 0?i:w.jsx(Nq,{})})}))}var TSe=function(e){var t=P.useContext(Zo),r=t.hashId,i=e.items,a=i===void 0?[]:i,o=e.type,s=o===void 0?"inline":o,l=e.prefixCls,c=e.activeKey,d=e.defaultActiveKey,h=xr(c||d,{value:c,onChange:e.onChange}),m=at(h,2),v=m[0],g=m[1];if(a.length<1)return null;var x=a.find(function(_){return _.key===v})||a[0];if(s==="inline")return w.jsx("div",{className:Ut("".concat(l,"-menu"),"".concat(l,"-inline-menu"),r),children:a.map(function(_,C){return w.jsx("div",{onClick:function(){g(_.key)},className:Ut("".concat(l,"-inline-menu-item"),x.key===_.key?"".concat(l,"-inline-menu-item-active"):void 0,r),children:_.label},_.key||C)})});if(s==="tab")return w.jsx(ku,{items:a.map(function(_){var C;return R(R({},_),{},{key:(C=_.key)===null||C===void 0?void 0:C.toString()})}),activeKey:x.key,onTabClick:function(C){return g(C)},children:Ku(qc,"4.23.0")<0?a==null?void 0:a.map(function(_,C){return P.createElement(ku.TabPane,R(R({},_),{},{key:_.key||C,tab:_.label}))}):null});var b=EU({selectedKeys:[x.key],onClick:function(C){g(C.key)},items:a.map(function(_,C){return{key:_.key||C,disabled:_.disabled,label:_.label}})});return w.jsx("div",{className:Ut("".concat(l,"-menu"),"".concat(l,"-dropdownmenu")),children:w.jsx(l3,R(R({trigger:["click"]},b),{},{children:w.jsxs(Ra,{className:"".concat(l,"-dropdownmenu-label"),children:[x.label,w.jsx(U0,{})]})}))})},MSe=function(e){return ne({},e.componentCls,ne(ne(ne({lineHeight:"1","&-container":{display:"flex",justifyContent:"space-between",paddingBlock:e.padding,paddingInline:0,"&-mobile":{flexDirection:"column"}},"&-title":{display:"flex",alignItems:"center",justifyContent:"flex-start",color:e.colorTextHeading,fontWeight:"500",fontSize:e.fontSizeLG},"&-search:not(:last-child)":{display:"flex",alignItems:"center",justifyContent:"flex-start"},"&-setting-item":{marginBlock:0,marginInline:4,color:e.colorIconHover,fontSize:e.fontSizeLG,cursor:"pointer","> span":{display:"block",width:"100%",height:"100%"},"&:hover":{color:e.colorPrimary}},"&-left":ne(ne({display:"flex",flexWrap:"wrap",alignItems:"center",gap:e.marginXS,justifyContent:"flex-start",maxWidth:"calc(100% - 200px)"},"".concat(e.antCls,"-tabs"),{width:"100%"}),"&-has-tabs",{overflow:"hidden"}),"&-right":{flex:1,display:"flex",flexWrap:"wrap",justifyContent:"flex-end",gap:e.marginXS},"&-extra-line":{marginBlockEnd:e.margin},"&-setting-items":{display:"flex",gap:e.marginXS,lineHeight:"32px",alignItems:"center"},"&-filter":ne({"&:not(:last-child)":{marginInlineEnd:e.margin},display:"flex",alignItems:"center"},"div$".concat(e.antCls,"-pro-table-search"),{marginBlock:0,marginInline:0,paddingBlock:0,paddingInline:0}),"&-inline-menu-item":{display:"inline-block",marginInlineEnd:e.marginLG,cursor:"pointer",opacity:"0.75","&-active":{fontWeight:"bold",opacity:"1"}}},"".concat(e.antCls,"-tabs-top > ").concat(e.antCls,"-tabs-nav"),ne({marginBlockEnd:0,"&::before":{borderBlockEnd:0}},"".concat(e.antCls,"-tabs-nav-list"),{marginBlockStart:0,"${token.antCls}-tabs-tab":{paddingBlockStart:0}})),"&-dropdownmenu-label",{fontWeight:"bold",fontSize:e.fontSizeIcon,textAlign:"center",cursor:"pointer"}),"@media (max-width: 768px)",ne({},e.componentCls,{"&-container":{display:"flex",flexWrap:"wrap",flexDirection:"column"},"&-left":{marginBlockEnd:"16px",maxWidth:"100%"}})))};function ESe(n){return Yn("ProTableListToolBar",function(e){var t=R(R({},e),{},{componentCls:".".concat(n)});return[MSe(t)]})}function ASe(n){if(Oe.isValidElement(n))return n;if(n){var e=n,t=e.icon,r=e.tooltip,i=e.onClick,a=e.key;return t&&r?w.jsx(vo,{title:r,children:w.jsx("span",{onClick:function(){i&&i(a)},children:t},a)}):w.jsx("span",{onClick:function(){i&&i(a)},children:t},a)}return null}var RSe=function(e){var t,r=e.prefixCls,i=e.tabs,a=e.multipleLine,o=e.filtersNode;return a?w.jsx("div",{className:"".concat(r,"-extra-line"),children:i!=null&&i.items&&i!==null&&i!==void 0&&i.items.length?w.jsx(ku,{style:{width:"100%"},defaultActiveKey:i.defaultActiveKey,activeKey:i.activeKey,items:i.items.map(function(s,l){var c;return R(R({label:s.tab},s),{},{key:((c=s.key)===null||c===void 0?void 0:c.toString())||(l==null?void 0:l.toString())})}),onChange:i.onChange,tabBarExtraContent:o,children:(t=i.items)===null||t===void 0?void 0:t.map(function(s,l){return Ku(qc,"4.23.0")<0?P.createElement(ku.TabPane,R(R({},s),{},{key:s.key||l,tab:s.tab})):null})}):o}):null},PSe=function(e){var t=e.prefixCls,r=e.title,i=e.subTitle,a=e.tooltip,o=e.className,s=e.style,l=e.search,c=e.onSearch,d=e.multipleLine,h=d===void 0?!1:d,m=e.filter,v=e.actions,g=v===void 0?[]:v,x=e.settings,b=x===void 0?[]:x,_=e.tabs,C=e.menu,T=P.useContext(Lt.ConfigContext),M=T.getPrefixCls,O=xo.useToken(),I=O.token,U=M("pro-table-list-toolbar",t),F=ESe(U),L=F.wrapSSR,D=F.hashId,z=On(),$=P.useState(!1),Y=at($,2),j=Y[0],V=Y[1],B=z.getMessage("tableForm.inputPlaceholder","请输入"),G=P.useMemo(function(){return l?Oe.isValidElement(l)?l:w.jsx(ei.Search,R(R({style:{width:200},placeholder:B},l),{},{onSearch:un(_t().mark(function te(){var ee,xe,Ee,Se,ze,Ue,re=arguments;return _t().wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:for(Ee=re.length,Se=new Array(Ee),ze=0;ze<Ee;ze++)Se[ze]=re[ze];return Fe.next=3,(ee=(xe=l).onSearch)===null||ee===void 0?void 0:ee.call.apply(ee,[xe].concat(Se));case 3:Ue=Fe.sent,Ue!==!1&&(c==null||c(Se==null?void 0:Se[0]));case 5:case"end":return Fe.stop()}},te)}))})):null},[B,c,l]),W=P.useMemo(function(){return m?w.jsx("div",{className:"".concat(U,"-filter ").concat(D).trim(),children:m}):null},[m,D,U]),Z=P.useMemo(function(){return C||r||i||a},[C,i,r,a]),J=P.useMemo(function(){return Array.isArray(g)?g.length<1?null:w.jsx("div",{style:{display:"flex",alignItems:"center",gap:I.marginXS},children:g.map(function(te,ee){return Oe.isValidElement(te)?Oe.cloneElement(te,R({key:ee},te==null?void 0:te.props)):w.jsx(Oe.Fragment,{children:te},ee)})}):g},[g]),Q=P.useMemo(function(){return!!(Z&&G||!h&&W||J||b!=null&&b.length)},[J,W,Z,h,G,b==null?void 0:b.length]),ue=P.useMemo(function(){return a||r||i||C||!Z&&G},[Z,C,G,i,r,a]),se=P.useMemo(function(){return!ue&&Q?w.jsx("div",{className:"".concat(U,"-left ").concat(D).trim()}):!C&&(Z||!G)?w.jsx("div",{className:"".concat(U,"-left ").concat(D).trim(),children:w.jsx("div",{className:"".concat(U,"-title ").concat(D).trim(),children:w.jsx(zf,{tooltip:a,label:r,subTitle:i})})}):w.jsxs("div",{className:Ut("".concat(U,"-left"),D,ne(ne(ne({},"".concat(U,"-left-has-tabs"),(C==null?void 0:C.type)==="tab"),"".concat(U,"-left-has-dropdown"),(C==null?void 0:C.type)==="dropdown"),"".concat(U,"-left-has-inline-menu"),(C==null?void 0:C.type)==="inline")),children:[Z&&!C&&w.jsx("div",{className:"".concat(U,"-title ").concat(D).trim(),children:w.jsx(zf,{tooltip:a,label:r,subTitle:i})}),C&&w.jsx(TSe,R(R({},C),{},{prefixCls:U})),!Z&&G?w.jsx("div",{className:"".concat(U,"-search ").concat(D).trim(),children:G}):null]})},[ue,Q,Z,D,C,U,G,i,r,a]),ae=P.useMemo(function(){return Q?w.jsxs("div",{className:"".concat(U,"-right ").concat(D).trim(),style:j?{}:{alignItems:"center"},children:[h?null:W,Z&&G?w.jsx("div",{className:"".concat(U,"-search ").concat(D).trim(),children:G}):null,J,b!=null&&b.length?w.jsx("div",{className:"".concat(U,"-setting-items ").concat(D).trim(),children:b.map(function(te,ee){var xe=ASe(te);return w.jsx("div",{className:"".concat(U,"-setting-item ").concat(D).trim(),children:xe},ee)})}):null]}):null},[Q,U,D,j,Z,G,h,W,J,b]),ie=P.useMemo(function(){if(!Q&&!ue)return null;var te=Ut("".concat(U,"-container"),D,ne({},"".concat(U,"-container-mobile"),j));return w.jsxs("div",{className:te,children:[se,ae]})},[ue,Q,D,j,se,U,ae]);return L(w.jsx(QC,{onResize:function(ee){ee.width<375!==j&&V(ee.width<375)},children:w.jsxs("div",{style:s,className:Ut(U,D,o),children:[ie,w.jsx(RSe,{filtersNode:W,prefixCls:U,tabs:_,multipleLine:h})]})}))},OSe=function(e){var t=e.icon,r=t===void 0?w.jsx(tq,{}):t,i=P.useContext(Ju),a=On(),o=EU({selectedKeys:[i.tableSize],onClick:function(l){var c,d=l.key;(c=i.setTableSize)===null||c===void 0||c.call(i,d)},style:{width:80},items:[{key:"large",label:a.getMessage("tableToolBar.densityLarger","宽松")},{key:"middle",label:a.getMessage("tableToolBar.densityMiddle","中等")},{key:"small",label:a.getMessage("tableToolBar.densitySmall","紧凑")}]});return w.jsx(l3,R(R({},o),{},{trigger:["click"],children:w.jsx(vo,{title:a.getMessage("tableToolBar.density","表格密度"),children:r})}))};const FSe=Oe.memo(OSe);var ISe=function(){var e=On(),t=P.useState(!1),r=at(t,2),i=r[0],a=r[1];return P.useEffect(function(){FC()&&(document.onfullscreenchange=function(){a(!!document.fullscreenElement)})},[]),i?w.jsx(vo,{title:e.getMessage("tableToolBar.exitFullScreen","全屏"),children:w.jsx(yq,{})}):w.jsx(vo,{title:e.getMessage("tableToolBar.fullScreen","全屏"),children:w.jsx(xq,{})})};const d4=Oe.memo(ISe);var DSe=["headerTitle","tooltip","toolBarRender","action","options","selectedRowKeys","selectedRows","toolbar","onSearch","columns","optionsRender"];function LSe(n,e){var t,r=n.intl;return{reload:{text:r.getMessage("tableToolBar.reload","刷新"),icon:(t=e.reloadIcon)!==null&&t!==void 0?t:w.jsx(Oq,{})},density:{text:r.getMessage("tableToolBar.density","表格密度"),icon:w.jsx(FSe,{icon:e.densityIcon})},fullScreen:{text:r.getMessage("tableToolBar.fullScreen","全屏"),icon:w.jsx(d4,{})}}}function NSe(n,e,t,r){return Object.keys(n).filter(function(i){return i}).map(function(i){var a=n[i];if(!a)return null;var o=a===!0?e[i]:function(l){a==null||a(l,t.current)};if(typeof o!="function"&&(o=function(){}),i==="setting")return P.createElement(wSe,R(R({},n[i]),{},{columns:r,key:i}));if(i==="fullScreen")return w.jsx("span",{onClick:o,children:w.jsx(d4,{})},i);var s=LSe(e,n)[i];return s?w.jsx("span",{onClick:o,children:w.jsx(vo,{title:s.text,children:s.icon})},i):null}).filter(function(i){return i})}function USe(n){var e=n.headerTitle,t=n.tooltip,r=n.toolBarRender,i=n.action,a=n.options,o=n.selectedRowKeys,s=n.selectedRows,l=n.toolbar,c=n.onSearch,d=n.columns,h=n.optionsRender,m=Dt(n,DSe),v=P.useContext(Ju),g=On(),x=P.useMemo(function(){var C={reload:function(){var I;return i==null||(I=i.current)===null||I===void 0?void 0:I.reload()},density:!0,setting:!0,search:!1,fullScreen:function(){var I,U;return i==null||(I=i.current)===null||I===void 0||(U=I.fullScreen)===null||U===void 0?void 0:U.call(I)}};if(a===!1)return[];var T=R(R({},C),{},{fullScreen:!1},a),M=NSe(T,R(R({},C),{},{intl:g}),i,d);return h?h(R({headerTitle:e,tooltip:t,toolBarRender:r,action:i,options:a,selectedRowKeys:o,selectedRows:s,toolbar:l,onSearch:c,columns:d,optionsRender:h},m),M):M},[i,d,e,g,c,h,a,m,o,s,r,l,t]),b=r?r(i==null?void 0:i.current,{selectedRowKeys:o,selectedRows:s}):[],_=P.useMemo(function(){if(!a||!a.search)return!1;var C={value:v.keyWords,onChange:function(M){return v.setKeyWords(M.target.value)}};return a.search===!0?C:R(R({},C),a.search)},[v,a]);return P.useEffect(function(){v.keyWords===void 0&&(c==null||c(""))},[v.keyWords,c]),w.jsx(PSe,R({title:e,tooltip:t||m.tip,search:_,onSearch:c,actions:b,settings:x},l))}var BSe=function(n){_C(t,n);var e=SC(t);function t(){var r;Xu(this,t);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a)),ne(Ll(r),"onSearch",function(s){var l,c,d,h,m=r.props,v=m.options,g=m.onFormSearchSubmit,x=m.actionRef;if(!(!v||!v.search)){var b=v.search===!0?{}:v.search,_=b.name,C=_===void 0?"keyword":_,T=(l=v.search)===null||l===void 0||(c=l.onSearch)===null||c===void 0?void 0:c.call(l,s);T!==!1&&(x==null||(d=x.current)===null||d===void 0||(h=d.setPageInfo)===null||h===void 0||h.call(d,{current:1}),g(ti(ne({_timestamp:Date.now()},C,s))))}}),ne(Ll(r),"isEquals",function(s){var l=r.props,c=l.hideToolbar,d=l.tableColumn,h=l.options,m=l.tooltip,v=l.toolbar,g=l.selectedRows,x=l.selectedRowKeys,b=l.headerTitle,_=l.actionRef,C=l.toolBarRender;return $c({hideToolbar:c,tableColumn:d,options:h,tooltip:m,toolbar:v,selectedRows:g,selectedRowKeys:x,headerTitle:b,actionRef:_,toolBarRender:C},{hideToolbar:s.hideToolbar,tableColumn:s.tableColumn,options:s.options,tooltip:s.tooltip,toolbar:s.toolbar,selectedRows:s.selectedRows,selectedRowKeys:s.selectedRowKeys,headerTitle:s.headerTitle,actionRef:s.actionRef,toolBarRender:s.toolBarRender},["render","renderFormItem"])}),ne(Ll(r),"shouldComponentUpdate",function(s){return s.searchNode?!0:!r.isEquals(s)}),ne(Ll(r),"render",function(){var s=r.props,l=s.hideToolbar,c=s.tableColumn,d=s.options,h=s.searchNode,m=s.tooltip,v=s.toolbar,g=s.selectedRows,x=s.selectedRowKeys,b=s.headerTitle,_=s.actionRef,C=s.toolBarRender,T=s.optionsRender;return l?null:w.jsx(USe,{tooltip:m,columns:c,options:d,headerTitle:b,action:_,onSearch:r.onSearch,selectedRows:g,selectedRowKeys:x,toolBarRender:C,toolbar:R({filter:h},v),optionsRender:T})}),r}return qu(t)}(Oe.Component),zSe=new F3("turn",{"0%":{transform:"rotate(0deg)"},"25%":{transform:"rotate(90deg)"},"50%":{transform:"rotate(180deg)"},"75%":{transform:"rotate(270deg)"},"100%":{transform:"rotate(360deg)"}}),HSe=function(e){return ne(ne(ne({},e.componentCls,ne(ne(ne(ne(ne(ne(ne(ne(ne({zIndex:1},"".concat(e.antCls,"-table-wrapper ").concat(e.antCls,"-table-pagination").concat(e.antCls,"-pagination"),{marginBlockEnd:0}),"&:not(:root):fullscreen",{minHeight:"100vh",overflow:"auto",background:e.colorBgContainer}),"&-extra",{marginBlockEnd:16}),"&-polling",ne({},"".concat(e.componentCls,"-list-toolbar-setting-item"),{".anticon.anticon-reload":{transform:"rotate(0deg)",animationName:zSe,animationDuration:"1s",animationTimingFunction:"linear",animationIterationCount:"infinite"}})),"td".concat(e.antCls,"-table-cell"),{">a":{fontSize:e.fontSize}}),"".concat(e.antCls,"-table").concat(e.antCls,"-table-tbody").concat(e.antCls,"-table-wrapper:only-child").concat(e.antCls,"-table"),{marginBlock:0,marginInline:0}),"".concat(e.antCls,"-table").concat(e.antCls,"-table-middle ").concat(e.componentCls),ne({marginBlock:0,marginInline:-8},"".concat(e.proComponentsCls,"-card"),{backgroundColor:"initial"})),"& &-search",ne(ne(ne(ne({marginBlockEnd:"16px",background:e.colorBgContainer,"&-ghost":{background:"transparent"}},"&".concat(e.componentCls,"-form"),{marginBlock:0,marginInline:0,paddingBlock:0,paddingInline:16,overflow:"unset"}),"&-light-filter",{marginBlockEnd:0,paddingBlock:0,paddingInline:0}),"&-form-option",ne(ne(ne({},"".concat(e.antCls,"-form-item"),{}),"".concat(e.antCls,"-form-item-label"),{}),"".concat(e.antCls,"-form-item-control-input"),{})),"@media (max-width: 575px)",ne({},e.componentCls,ne({height:"auto !important",paddingBlockEnd:"24px"},"".concat(e.antCls,"-form-item-label"),{minWidth:"80px",textAlign:"start"})))),"&-toolbar",{display:"flex",alignItems:"center",justifyContent:"space-between",height:"64px",paddingInline:24,paddingBlock:0,"&-option":{display:"flex",alignItems:"center",justifyContent:"flex-end"},"&-title":{flex:"1",color:e.colorTextLabel,fontWeight:"500",fontSize:"16px",lineHeight:"24px",opacity:"0.85"}})),"@media (max-width: ".concat(e.screenXS,")px"),ne({},e.componentCls,ne({},"".concat(e.antCls,"-table"),{width:"100%",overflowX:"auto","&-thead > tr,&-tbody > tr":{"> th,> td":{whiteSpace:"pre",">span":{display:"block"}}}}))),"@media (max-width: 575px)",ne({},"".concat(e.componentCls,"-toolbar"),{flexDirection:"column",alignItems:"flex-start",justifyContent:"flex-start",height:"auto",marginBlockEnd:"16px",marginInlineStart:"16px",paddingBlock:8,paddingInline:8,paddingBlockStart:"16px",lineHeight:"normal","&-title":{marginBlockEnd:16},"&-option":{display:"flex",justifyContent:"space-between",width:"100%"},"&-default-option":{display:"flex",flex:"1",alignItems:"center",justifyContent:"flex-end"}}))};function kSe(n){return Yn("ProTable",function(e){var t=R(R({},e),{},{componentCls:".".concat(n)});return[HSe(t)]})}var jSe=["data","success","total"],$Se=function(e){var t=e.pageInfo;if(t){var r=t.current,i=t.defaultCurrent,a=t.pageSize,o=t.defaultPageSize;return{current:r||i||1,total:0,pageSize:a||o||20}}return{current:1,total:0,pageSize:20}},VSe=function(e,t,r){var i,a=P.useRef(!1),o=P.useRef(null),s=r||{},l=s.onLoad,c=s.manual,d=s.polling,h=s.onRequestError,m=s.debounceTime,v=m===void 0?20:m,g=s.effects,x=g===void 0?[]:g,b=P.useRef(c),_=P.useRef(),C=xr(t,{value:r==null?void 0:r.dataSource,onChange:r==null?void 0:r.onDataSourceChange}),T=at(C,2),M=T[0],O=T[1],I=xr(!1,{value:Xt(r==null?void 0:r.loading)==="object"?r==null||(i=r.loading)===null||i===void 0?void 0:i.spinning:r==null?void 0:r.loading,onChange:r==null?void 0:r.onLoadingChange}),U=at(I,2),F=U[0],L=U[1],D=xr(function(){return $Se(r)},{onChange:r==null?void 0:r.onPageInfoChange}),z=at(D,2),$=z[0],Y=z[1],j=zn(function(ee){(ee.current!==$.current||ee.pageSize!==$.pageSize||ee.total!==$.total)&&Y(ee)}),V=xr(!1),B=at(V,2),G=B[0],W=B[1],Z=function(xe,Ee){R0.unstable_batchedUpdates(function(){O(xe),($==null?void 0:$.total)!==Ee&&j(R(R({},$),{},{total:Ee||xe.length}))})},J=f0($==null?void 0:$.current),Q=f0($==null?void 0:$.pageSize),ue=f0(d),se=zn(function(){R0.unstable_batchedUpdates(function(){L(!1),W(!1)})}),ae=function(){var ee=un(_t().mark(function xe(Ee){var Se,ze,Ue,re,Ce,Fe,ge,fe,ve,be,we,Ie;return _t().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(!b.current){X.next=3;break}return b.current=!1,X.abrupt("return");case 3:return Ee?W(!0):L(!0),Se=$||{},ze=Se.pageSize,Ue=Se.current,X.prev=5,re=(r==null?void 0:r.pageInfo)!==!1?{current:Ue,pageSize:ze}:void 0,X.next=9,e==null?void 0:e(re);case 9:if(X.t0=X.sent,X.t0){X.next=12;break}X.t0={};case 12:if(Ce=X.t0,Fe=Ce.data,ge=Fe===void 0?[]:Fe,fe=Ce.success,ve=Ce.total,be=ve===void 0?0:ve,we=Dt(Ce,jSe),fe!==!1){X.next=21;break}return X.abrupt("return",[]);case 21:return Ie=rSe(ge,[r.postData].filter(function(q){return q})),Z(Ie,be),l==null||l(Ie,we),X.abrupt("return",Ie);case 27:if(X.prev=27,X.t1=X.catch(5),h!==void 0){X.next=31;break}throw new Error(X.t1);case 31:M===void 0&&O([]),h(X.t1);case 33:return X.prev=33,se(),X.finish(33);case 36:return X.abrupt("return",[]);case 37:case"end":return X.stop()}},xe,null,[[5,27,33,36]])}));return function(Ee){return ee.apply(this,arguments)}}(),ie=KR(function(){var ee=un(_t().mark(function xe(Ee){var Se,ze,Ue;return _t().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(_.current&&clearTimeout(_.current),e){Ce.next=3;break}return Ce.abrupt("return");case 3:return Se=new AbortController,o.current=Se,Ce.prev=5,Ce.next=8,Promise.race([ae(Ee),new Promise(function(Fe,ge){var fe,ve;(fe=o.current)===null||fe===void 0||(fe=fe.signal)===null||fe===void 0||(ve=fe.addEventListener)===null||ve===void 0||ve.call(fe,"abort",function(){ge("aborted"),ie.cancel(),se()})})]);case 8:if(ze=Ce.sent,!Se.signal.aborted){Ce.next=11;break}return Ce.abrupt("return");case 11:return Ue=yo(d,ze),Ue&&!a.current&&(_.current=setTimeout(function(){ie.run(Ue)},Math.max(Ue,2e3))),Ce.abrupt("return",ze);case 16:if(Ce.prev=16,Ce.t0=Ce.catch(5),Ce.t0!=="aborted"){Ce.next=20;break}return Ce.abrupt("return");case 20:throw Ce.t0;case 21:case"end":return Ce.stop()}},xe,null,[[5,16]])}));return function(xe){return ee.apply(this,arguments)}}(),v||30),te=function(){var xe;(xe=o.current)===null||xe===void 0||xe.abort(),ie.cancel(),se()};return P.useEffect(function(){return d||clearTimeout(_.current),!ue&&d&&ie.run(!0),function(){clearTimeout(_.current)}},[d]),P.useEffect(function(){return a.current=!1,function(){a.current=!0}},[]),P.useEffect(function(){var ee=$||{},xe=ee.current,Ee=ee.pageSize;(!J||J===xe)&&(!Q||Q===Ee)||r.pageInfo&&M&&(M==null?void 0:M.length)>Ee||xe!==void 0&&M&&M.length<=Ee&&(te(),ie.run(!1))},[$==null?void 0:$.current]),P.useEffect(function(){Q&&(te(),ie.run(!1))},[$==null?void 0:$.pageSize]),KS(function(){return te(),ie.run(!1),c||(b.current=!1),function(){te()}},[].concat(gr(x),[c])),{dataSource:M,setDataSource:O,loading:Xt(r==null?void 0:r.loading)==="object"?R(R({},r==null?void 0:r.loading),{},{spinning:F}):F,reload:function(){var ee=un(_t().mark(function Ee(){return _t().wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return te(),ze.abrupt("return",ie.run(!1));case 2:case"end":return ze.stop()}},Ee)}));function xe(){return ee.apply(this,arguments)}return xe}(),pageInfo:$,pollingLoading:G,reset:function(){var ee=un(_t().mark(function Ee(){var Se,ze,Ue,re,Ce,Fe,ge,fe;return _t().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:Se=r||{},ze=Se.pageInfo,Ue=ze||{},re=Ue.defaultCurrent,Ce=re===void 0?1:re,Fe=Ue.defaultPageSize,ge=Fe===void 0?20:Fe,fe={current:Ce,total:0,pageSize:ge},j(fe);case 4:case"end":return be.stop()}},Ee)}));function xe(){return ee.apply(this,arguments)}return xe}(),setPageInfo:function(){var ee=un(_t().mark(function Ee(Se){return _t().wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:j(R(R({},$),Se));case 1:case"end":return Ue.stop()}},Ee)}));function xe(Ee){return ee.apply(this,arguments)}return xe}()}},GSe=function(e){return function(t,r){var i,a,o=t.fixed,s=t.index,l=r.fixed,c=r.index;if(o==="left"&&l!=="left"||l==="right"&&o!=="right")return-2;if(l==="left"&&o!=="left"||o==="right"&&l!=="right")return 2;var d=t.key||"".concat(s),h=r.key||"".concat(c);if((i=e[d])!==null&&i!==void 0&&i.order||(a=e[h])!==null&&a!==void 0&&a.order){var m,v;return(((m=e[d])===null||m===void 0?void 0:m.order)||0)-(((v=e[h])===null||v===void 0?void 0:v.order)||0)}return(t.index||0)-(r.index||0)}},WSe=["children"],qSe=["",null,void 0],AD=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(function(i){return i!==void 0}).map(function(i){return typeof i=="number"?i.toString():i}).flat(1)},XSe=function(e){var t=P.useContext(Um),r=e.columnProps,i=e.prefixName,a=e.text,o=e.counter,s=e.rowData,l=e.index,c=e.recordKey,d=e.subName,h=e.proFieldProps,m=e.editableUtils,v=ns.useFormInstance(),g=c||l,x=P.useMemo(function(){var F,L;return(F=m==null||(L=m.getRealIndex)===null||L===void 0?void 0:L.call(m,s))!==null&&F!==void 0?F:l},[m,l,s]),b=P.useState(function(){var F,L;return AD(i,i?d:[],i?x:g,(F=(L=r==null?void 0:r.key)!==null&&L!==void 0?L:r==null?void 0:r.dataIndex)!==null&&F!==void 0?F:l)}),_=at(b,2),C=_[0],T=_[1],M=P.useMemo(function(){return C.slice(0,-1)},[C]);P.useEffect(function(){var F,L,D=AD(i,i?d:[],i?x:g,(F=(L=r==null?void 0:r.key)!==null&&L!==void 0?L:r==null?void 0:r.dataIndex)!==null&&F!==void 0?F:l);D.join("-")!==C.join("-")&&T(D)},[r==null?void 0:r.dataIndex,r==null?void 0:r.key,l,c,i,g,d,C,x]);var O=P.useMemo(function(){return[v,R(R({},r),{},{rowKey:M,rowIndex:l,isEditable:!0})]},[r,v,l,M]),I=P.useCallback(function(F){var L=F.children,D=Dt(F,WSe);return w.jsx(lX,R(R({popoverProps:{getPopupContainer:t.getPopupContainer||function(){return o.rootDomRef.current||document.body}},errorType:"popover",name:C},D),{},{children:L}),g)},[g,C]),U=P.useCallback(function(){var F,L,D=R({},hA.apply(void 0,[r==null?void 0:r.formItemProps].concat(gr(O))));D.messageVariables=R({label:(r==null?void 0:r.title)||"此项",type:(r==null?void 0:r.valueType)||"文本"},D==null?void 0:D.messageVariables),D.initialValue=(F=(L=i?null:a)!==null&&L!==void 0?L:D==null?void 0:D.initialValue)!==null&&F!==void 0?F:r==null?void 0:r.initialValue;var z=w.jsx(m1,R({cacheForSwr:!0,name:C,proFormFieldKey:g,ignoreFormItem:!0,fieldProps:hA.apply(void 0,[r==null?void 0:r.fieldProps].concat(gr(O)))},h),C.join("-"));return r!=null&&r.renderFormItem&&(z=r.renderFormItem(R(R({},r),{},{index:l,isEditable:!0,type:"table"}),{defaultRender:function(){return w.jsx(w.Fragment,{children:z})},type:"form",recordKey:c,record:R(R({},s),v==null?void 0:v.getFieldValue([g])),isEditable:!0},v,e.editableUtils),r.ignoreFormItem)?w.jsx(w.Fragment,{children:z}):w.jsx(I,R(R({},D),{},{children:z}),C.join("-"))},[r,O,i,a,g,C,h,I,l,c,s,v,e.editableUtils]);return C.length===0?null:typeof(r==null?void 0:r.renderFormItem)=="function"||typeof(r==null?void 0:r.fieldProps)=="function"||typeof(r==null?void 0:r.formItemProps)=="function"?w.jsx(pn.Item,{noStyle:!0,shouldUpdate:function(L,D){if(L===D)return!1;var z=[M].flat(1);try{return JSON.stringify(Mr(L,z))!==JSON.stringify(Mr(D,z))}catch($){return!0}},children:function(){return U()}}):U()};function f4(n){var e,t,r=n.text,i=n.valueType,a=n.rowData,o=n.columnProps,s=n.index;if((!i||["textarea","text"].includes(i.toString()))&&!(o!=null&&o.valueEnum)&&n.mode==="read")return qSe.includes(r)?n.columnEmptyText:r;if(typeof i=="function"&&a)return f4(R(R({},n),{},{valueType:i(a,n.type)||"text"}));var l=(o==null?void 0:o.key)||(o==null||(e=o.dataIndex)===null||e===void 0?void 0:e.toString()),c=o!=null&&o.dependencies?[n.prefixName,n.prefixName?s==null?void 0:s.toString():(t=n.recordKey)===null||t===void 0?void 0:t.toString(),o==null?void 0:o.dependencies].filter(Boolean).flat(1):[],d={valueEnum:yo(o==null?void 0:o.valueEnum,a),request:o==null?void 0:o.request,dependencies:o!=null&&o.dependencies?[c]:void 0,originDependencies:o!=null&&o.dependencies?[o==null?void 0:o.dependencies]:void 0,params:yo(o==null?void 0:o.params,a,o),readonly:o==null?void 0:o.readonly,text:i==="index"||i==="indexBorder"?n.index:r,mode:n.mode,renderFormItem:void 0,valueType:i,record:a,proFieldProps:{emptyText:n.columnEmptyText,proFieldKey:l?"table-field-".concat(l):void 0}};return n.mode!=="edit"?w.jsx(m1,R({mode:"read",ignoreFormItem:!0,fieldProps:hA(o==null?void 0:o.fieldProps,null,o)},d)):w.jsx(XSe,R(R({},n),{},{proFieldProps:d}),n.recordKey)}var YSe=function(e){var t,r=e.title,i=typeof(e==null?void 0:e.ellipsis)=="boolean"?e==null?void 0:e.ellipsis:e==null||(t=e.ellipsis)===null||t===void 0?void 0:t.showTitle;return r&&typeof r=="function"?r(e,"table",w.jsx(zf,{label:null,tooltip:e.tooltip||e.tip})):w.jsx(zf,{label:r,tooltip:e.tooltip||e.tip,ellipsis:i})};function KSe(n,e,t,r){return typeof r=="boolean"?r===!1:(r==null?void 0:r(n,e,t))===!1}var ZSe=function(e,t,r){var i=Array.isArray(r)?Mr(t,r):t[r],a=String(i);return String(a)===String(e)};function JSe(n){var e=n.columnProps,t=n.text,r=n.rowData,i=n.index,a=n.columnEmptyText,o=n.counter,s=n.type,l=n.subName,c=n.marginSM,d=n.editableUtils,h=o.action,m=o.prefixName,v=d.isEditable(R(R({},r),{},{index:i})),g=v.isEditable,x=v.recordKey,b=e.renderText,_=b===void 0?function(F){return F}:b,C=_(t,r,i,h),T=g&&!KSe(t,r,i,e==null?void 0:e.editable)?"edit":"read",M=f4({text:C,valueType:e.valueType||"text",index:i,rowData:r,subName:l,columnProps:R(R({},e),{},{entry:r,entity:r}),counter:o,columnEmptyText:a,type:s,recordKey:x,mode:T,prefixName:m,editableUtils:d}),O=T==="edit"?M:yX(M,e,C);if(T==="edit")return e.valueType==="option"?w.jsx("div",{style:{display:"flex",alignItems:"center",gap:c,justifyContent:e.align==="center"?"center":"flex-start"},children:d.actionRender(R(R({},r),{},{index:e.index||i}))}):O;if(!e.render){var I=Oe.isValidElement(O)||["string","number"].includes(Xt(O));return!$u(O)&&I?O:null}var U=e.render(O,r,i,R(R({},h),d),R(R({},e),{},{isEditable:g,type:"table"}));return iSe(U)?U:U&&e.valueType==="option"&&Array.isArray(U)?w.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:8},children:U}):U}function h4(n,e){var t,r=n.columns,i=n.counter,a=n.columnEmptyText,o=n.type,s=n.editableUtils,l=n.marginSM,c=n.rowKey,d=c===void 0?"id":c,h=n.childrenColumnName,m=h===void 0?"children":h,v=n.proFilter,g=v===void 0?{}:v,x=n.proSort,b=new Map;return r==null||(t=r.map(function(_,C){if(_===Uf.EXPAND_COLUMN||_===Uf.SELECTION_COLUMN)return _;var T=_,M=T.key,O=T.dataIndex,I=T.valueEnum,U=T.valueType,F=U===void 0?"text":U,L=T.children,D=T.onFilter,z=T.filters,$=z===void 0?[]:z,Y=T.sorter,j=T.filteredValue,V=Ym(M||(O==null?void 0:O.toString()),[e==null?void 0:e.key,C].filter(Boolean).join("-")),B=!I&&!F&&!L;if(B)return R({index:C},_);var G=i.columnsMap[V]||{fixed:_.fixed},W=function(){return D===!0?function(ae,ie){return ZSe(ae,ie,O)}:OU(D)},Z=V&&(g==null?void 0:g[V])!==void 0?g==null?void 0:g[V]:null,J=V&&x[V]!==void 0?x[V]:null,Q=d,ue=R(R({index:C,key:V},_),{},{title:YSe(_),valueEnum:I,filters:$===!0?lB(yo(I,void 0)).filter(function(se){return se&&se.value!=="all"}):$,onFilter:W(),filteredValue:j!==void 0?j:$&&W()==null?Z:void 0,sortOrder:Y===!0?J:void 0,fixed:G.fixed,width:_.width||(_.fixed?200:void 0),children:_.children?h4(R(R({},n),{},{columns:(_==null?void 0:_.children)||[]}),R(R({},_),{},{key:V})):void 0,render:function(ae,ie,te){typeof d=="function"&&(Q=d(ie,te));var ee;if(Xt(ie)==="object"&&ie!==null&&Reflect.has(ie,Q)){var xe;ee=ie[Q];var Ee=b.get(ee)||[];(xe=ie[m])===null||xe===void 0||xe.forEach(function(ze){var Ue=ze[Q];b.has(Ue)||b.set(Ue,Ee.concat([te,m]))})}var Se={columnProps:_,text:ae,rowData:ie,index:te,columnEmptyText:a,counter:i,type:o,marginSM:l,subName:b.get(ee),editableUtils:s};return JSe(Se)}});return RX(ue)}))===null||t===void 0?void 0:t.filter(function(_){return!_.hideInTable})}var QSe=["rowKey","tableClassName","defaultClassName","action","tableColumn","type","pagination","rowSelection","size","defaultSize","tableStyle","toolbarDom","hideToolbar","searchNode","style","cardProps","alertDom","name","onSortChange","onFilterChange","options","isLightFilter","className","cardBordered","editableUtils","getRowKey"],e1e=["cardBordered","request","className","params","defaultData","headerTitle","postData","ghost","pagination","actionRef","columns","toolBarRender","optionsRender","onLoad","onRequestError","style","cardProps","tableStyle","tableClassName","columnsStateMap","onColumnsStateChange","options","search","name","onLoadingChange","rowSelection","beforeSearchSubmit","tableAlertRender","defaultClassName","formRef","type","columnEmptyText","toolbar","rowKey","manualRequest","polling","tooltip","revalidateOnFocus","searchFormRender"];function t1e(n){var e=n.rowKey,t=n.tableClassName,r=n.defaultClassName,i=n.action,a=n.tableColumn,o=n.type,s=n.pagination,l=n.rowSelection,c=n.size;n.defaultSize;var d=n.tableStyle,h=n.toolbarDom,m=n.hideToolbar,v=n.searchNode,g=n.style,x=n.cardProps,b=n.alertDom;n.name;var _=n.onSortChange,C=n.onFilterChange,T=n.options,M=n.isLightFilter,O=n.className,I=n.cardBordered,U=n.editableUtils,F=n.getRowKey,L=Dt(n,QSe),D=P.useContext(Ju),z=P.useMemo(function(){var ue=function se(ae){return ae.map(function(ie){var te=Ym(ie.key,ie.index),ee=D.columnsMap[te];return ee&&ee.show===!1?!1:ie.children?R(R({},ie),{},{children:se(ie.children)}):ie}).filter(Boolean)};return ue(a)},[D.columnsMap,a]),$=function(se){var ae=U.newLineRecord||{},ie=ae.options,te=ae.defaultValue,ee=(ie==null?void 0:ie.position)==="top";if(ie!=null&&ie.parentKey){var xe,Ee,Se={data:se,getRowKey:F,row:R(R({},te),{},{map_row_parentKey:(xe=ho(ie.parentKey))===null||xe===void 0?void 0:xe.toString()}),key:ie==null?void 0:ie.recordKey,childrenColumnName:((Ee=n.expandable)===null||Ee===void 0?void 0:Ee.childrenColumnName)||"children"};return Qv(Se,ee?"top":"update")}if(ee)return[te].concat(gr(i.dataSource));if(s&&s!==null&&s!==void 0&&s.current&&s!==null&&s!==void 0&&s.pageSize){var ze=gr(i.dataSource);return(s==null?void 0:s.pageSize)>ze.length?(ze.push(te),ze):(ze.splice((s==null?void 0:s.current)*(s==null?void 0:s.pageSize)-1,0,te),ze)}return[].concat(gr(i.dataSource),[te])},Y=function(){return R(R({},L),{},{size:c,rowSelection:l===!1?void 0:l,className:t,style:d,columns:z,loading:i.loading,dataSource:U.newLineRecord?$(i.dataSource):i.dataSource,pagination:s,onChange:function(ae,ie,te,ee){var xe;if((xe=L.onChange)===null||xe===void 0||xe.call(L,ae,ie,te,ee),C(ti(ie)),Array.isArray(te)){var Ee,Se=te.reduce(function(Fe,ge){return R(R({},Fe),{},ne({},"".concat(ge.field),ge.order))},{});_((Ee=ti(Se))!==null&&Ee!==void 0?Ee:{})}else{var ze,Ue,re=(ze=te.column)===null||ze===void 0?void 0:ze.sorter,Ce=(re==null?void 0:re.toString())===re;_((Ue=ti(ne({},"".concat(Ce?re:te.field),te.order)))!==null&&Ue!==void 0?Ue:{})}}})},j=P.useMemo(function(){return n.search===!1&&!n.headerTitle&&n.toolBarRender===!1},[]),V=w.jsx(aP.Provider,{value:{grid:!1,colProps:void 0,rowProps:void 0},children:w.jsx(Uf,R(R({},Y()),{},{rowKey:e}))}),B=n.tableViewRender?n.tableViewRender(R(R({},Y()),{},{rowSelection:l!==!1?l:void 0}),V):V,G=P.useMemo(function(){if(n.editable&&!n.name){var ue,se,ae;return w.jsxs(w.Fragment,{children:[h,b,P.createElement(ns,R(R({},(ue=n.editable)===null||ue===void 0?void 0:ue.formProps),{},{formRef:(se=n.editable)===null||se===void 0||(se=se.formProps)===null||se===void 0?void 0:se.formRef,component:!1,form:(ae=n.editable)===null||ae===void 0?void 0:ae.form,onValuesChange:U.onValuesChange,key:"table",submitter:!1,omitNil:!1,dateFormatter:n.dateFormatter}),B)]})}return w.jsxs(w.Fragment,{children:[h,b,B]})},[b,n.loading,!!n.editable,B,h]),W=P.useMemo(function(){return x===!1||j===!0||n.name?{}:m?{padding:0}:h?{paddingBlockStart:0}:h&&s===!1?{paddingBlockStart:0}:{padding:0}},[j,s,n.name,x,h,m]),Z=x===!1||j===!0||n.name?G:w.jsx(Ty,R(R({ghost:n.ghost,bordered:u4("table",I),bodyStyle:W},x),{},{children:G})),J=function(){return n.tableRender?n.tableRender(n,Z,{toolbar:h||void 0,alert:b||void 0,table:B||void 0}):Z},Q=w.jsxs("div",{className:Ut(O,ne({},"".concat(r,"-polling"),i.pollingLoading)),style:g,ref:D.rootDomRef,children:[M?null:v,o!=="form"&&n.tableExtraRender&&w.jsx("div",{className:Ut(O,"".concat(r,"-extra")),children:n.tableExtraRender(n,i.dataSource||[])}),o!=="form"&&J()]});return!T||!(T!=null&&T.fullScreen)?Q:w.jsx(Lt,{getPopupContainer:function(){return D.rootDomRef.current||document.body},children:Q})}var n1e={},r1e=function(e){var t;e.cardBordered;var r=e.request,i=e.className,a=e.params,o=a===void 0?n1e:a,s=e.defaultData,l=e.headerTitle,c=e.postData,d=e.ghost,h=e.pagination,m=e.actionRef,v=e.columns,g=v===void 0?[]:v,x=e.toolBarRender,b=e.optionsRender,_=e.onLoad,C=e.onRequestError;e.style,e.cardProps,e.tableStyle,e.tableClassName,e.columnsStateMap,e.onColumnsStateChange;var T=e.options,M=e.search,O=e.name,I=e.onLoadingChange,U=e.rowSelection,F=U===void 0?!1:U,L=e.beforeSearchSubmit,D=e.tableAlertRender,z=e.defaultClassName,$=e.formRef,Y=e.type,j=Y===void 0?"table":Y,V=e.columnEmptyText,B=V===void 0?"-":V,G=e.toolbar,W=e.rowKey,Z=e.manualRequest,J=e.polling,Q=e.tooltip,ue=e.revalidateOnFocus,se=ue===void 0?!1:ue,ae=e.searchFormRender,ie=Dt(e,e1e),te=kSe(e.defaultClassName),ee=te.wrapSSR,xe=te.hashId,Ee=Ut(z,i,xe),Se=P.useRef(),ze=P.useRef(),Ue=$||ze;P.useImperativeHandle(m,function(){return Se.current});var re=xr(F?(F==null?void 0:F.defaultSelectedRowKeys)||[]:void 0,{value:F?F.selectedRowKeys:void 0}),Ce=at(re,2),Fe=Ce[0],ge=Ce[1],fe=xr(function(){if(!(Z||M!==!1))return{}}),ve=at(fe,2),be=ve[0],we=ve[1],Ie=xr({}),Ae=at(Ie,2),X=Ae[0],q=Ae[1],ye=xr({}),Re=at(ye,2),Ge=Re[0],Le=Re[1],ht=P.useCallback(function(gt){for(var wt=[],kt=0;kt<gt.length;kt++){var sn=gt[kt];sn.children?ht(sn.children):wt.push(sn)}return wt},[]),et=P.useMemo(function(){var gt=ht(g);return gt==null?void 0:gt.every(function(wt){return!!wt.filters&&!!wt.onFilter||wt.filters===void 0&&wt.onFilter===void 0})},[ht,g]),xt=P.useMemo(function(){var gt=ht(g);return gt==null?void 0:gt.every(function(wt){return wt.sorter!==!0})},[ht,g]);P.useEffect(function(){var gt=ED(g),wt=gt.sort,kt=gt.filter;et||q(kt),xt||Le(wt)},[]);var St=On(),st=Xt(h)==="object"?h:{defaultCurrent:1,defaultPageSize:20,pageSize:20,current:1},dt=P.useContext(Ju),Ft=P.useMemo(function(){if(r)return function(){var gt=un(_t().mark(function wt(kt){var sn,Rr;return _t().wrap(function(vi){for(;;)switch(vi.prev=vi.next){case 0:return sn=R(R(R({},kt||{}),be),o),delete sn._timestamp,vi.next=4,r(sn,Ge,X);case 4:return Rr=vi.sent,vi.abrupt("return",Rr);case 6:case"end":return vi.stop()}},wt)}));return function(wt){return gt.apply(this,arguments)}}()},[be,o,X,Ge,r]),pe=VSe(Ft,s,{pageInfo:h===!1?!1:st,loading:e.loading,dataSource:e.dataSource,onDataSourceChange:e.onDataSourceChange,onLoad:_,onLoadingChange:I,onRequestError:C,postData:c,revalidateOnFocus:se,manual:be===void 0,polling:J,effects:[Uu(o),Uu(be),Uu(X),Uu(Ge)],debounceTime:e.debounceTime,onPageInfoChange:function(wt){var kt,sn;!h||!Ft||(h==null||(kt=h.onChange)===null||kt===void 0||kt.call(h,wt.current,wt.pageSize),h==null||(sn=h.onShowSizeChange)===null||sn===void 0||sn.call(h,wt.current,wt.pageSize))}});P.useEffect(function(){var gt;if(!(e.manualRequest||!e.request||!se||(gt=e.form)!==null&&gt!==void 0&&gt.ignoreRules)){var wt=function(){document.visibilityState==="visible"&&pe.reload()};return document.addEventListener("visibilitychange",wt),function(){return document.removeEventListener("visibilitychange",wt)}}},[]);var Te=Oe.useRef(new Map),$e=Oe.useMemo(function(){return typeof W=="function"?W:function(gt,wt){var kt;return wt===-1?gt==null?void 0:gt[W]:e.name?wt==null?void 0:wt.toString():(kt=gt==null?void 0:gt[W])!==null&&kt!==void 0?kt:wt==null?void 0:wt.toString()}},[e.name,W]);P.useMemo(function(){var gt;if((gt=pe.dataSource)!==null&&gt!==void 0&&gt.length){var wt=pe.dataSource.map(function(kt){var sn=$e(kt,-1);return Te.current.set(sn,kt),sn});return wt}return[]},[pe.dataSource,$e]);var me=P.useMemo(function(){var gt=h===!1?!1:R({},h),wt=R(R({},pe.pageInfo),{},{setPageInfo:function(sn){var Rr=sn.pageSize,Nn=sn.current,vi=pe.pageInfo;if(Rr===vi.pageSize||vi.current===1){pe.setPageInfo({pageSize:Rr,current:Nn});return}r&&pe.setDataSource([]),pe.setPageInfo({pageSize:Rr,current:j==="list"?Nn:1})}});return r&&gt&&(delete gt.onChange,delete gt.onShowSizeChange),tSe(gt,wt,St)},[h,pe,St]);KS(function(){var gt;e.request&&!m_e(o)&&pe.dataSource&&!eSe(pe.dataSource,s)&&(pe==null||(gt=pe.pageInfo)===null||gt===void 0?void 0:gt.current)!==1&&pe.setPageInfo({current:1})},[o]),dt.setPrefixName(e.name);var Xe=P.useCallback(function(){F&&F.onChange&&F.onChange([],[],{type:"none"}),ge([])},[F,ge]);dt.propsRef.current=e;var tt=xZ(R(R({},e.editable),{},{tableName:e.name,getRowKey:$e,childrenColumnName:((t=e.expandable)===null||t===void 0?void 0:t.childrenColumnName)||"children",dataSource:pe.dataSource||[],setDataSource:function(wt){var kt,sn;(kt=e.editable)===null||kt===void 0||(sn=kt.onValuesChange)===null||sn===void 0||sn.call(kt,void 0,wt),pe.setDataSource(wt)}})),ct=xo==null?void 0:xo.useToken(),nt=ct.token;nSe(Se,pe,{fullScreen:function(){var wt;if(!(!((wt=dt.rootDomRef)!==null&&wt!==void 0&&wt.current)||!document.fullscreenEnabled))if(document.fullscreenElement)document.exitFullscreen();else{var kt;(kt=dt.rootDomRef)===null||kt===void 0||kt.current.requestFullscreen()}},onCleanSelected:function(){Xe()},resetAll:function(){var wt;Xe();var kt=ED(g),sn=kt.sort,Rr=kt.filter;q(Rr),Le(sn),dt.setKeyWords(void 0),pe.setPageInfo({current:1}),Ue==null||(wt=Ue.current)===null||wt===void 0||wt.resetFields(),we({})},editableUtils:tt}),dt.setAction(Se.current);var Qe=P.useMemo(function(){var gt;return h4({columns:g,counter:dt,columnEmptyText:B,type:j,marginSM:nt.marginSM,editableUtils:tt,rowKey:W,childrenColumnName:(gt=e.expandable)===null||gt===void 0?void 0:gt.childrenColumnName,proFilter:X,proSort:Ge}).sort(GSe(dt.columnsMap))},[g,dt==null?void 0:dt.sortKeyColumns,dt==null?void 0:dt.columnsMap,B,j,tt.editableKeys&&tt.editableKeys.join(","),X,Ge]);PU(function(){if(Qe&&Qe.length>0){var gt=Qe.map(function(wt){return Ym(wt.key,wt.index)});dt.setSortKeyColumns(gt)}},[Qe],["render","renderFormItem"],100),KS(function(){var gt=pe.pageInfo,wt=h||{},kt=wt.current,sn=kt===void 0?gt==null?void 0:gt.current:kt,Rr=wt.pageSize,Nn=Rr===void 0?gt==null?void 0:gt.pageSize:Rr;h&&(sn||Nn)&&(Nn!==(gt==null?void 0:gt.pageSize)||sn!==(gt==null?void 0:gt.current))&&pe.setPageInfo({pageSize:Nn||gt.pageSize,current:sn||gt.current})},[h&&h.pageSize,h&&h.current]);var pt=R(R({selectedRowKeys:Fe},F),{},{onChange:function(wt,kt,sn){F&&F.onChange&&F.onChange(wt,kt,sn),ge(wt)}}),Rt=M!==!1&&(M==null?void 0:M.filterType)==="light",Yt=P.useCallback(function(gt){if(T&&T.search){var wt,kt,sn=T.search===!0?{}:T.search,Rr=sn.name,Nn=Rr===void 0?"keyword":Rr,vi=(wt=T.search)===null||wt===void 0||(kt=wt.onSearch)===null||kt===void 0?void 0:kt.call(wt,dt.keyWords);if(vi!==!1){we(R(R({},gt),{},ne({},Nn,dt.keyWords)));return}}we(gt)},[dt.keyWords,T,we]),Kt=P.useMemo(function(){if(Xt(pe.loading)==="object"){var gt;return((gt=pe.loading)===null||gt===void 0?void 0:gt.spinning)||!1}return pe.loading},[pe.loading]),cr=P.useMemo(function(){var gt=M===!1&&j!=="form"?null:w.jsx(vSe,{pagination:me,beforeSearchSubmit:L,action:Se,columns:g,onFormSearchSubmit:function(kt){Yt(kt)},ghost:d,onReset:e.onReset,onSubmit:e.onSubmit,loading:!!Kt,manualRequest:Z,search:M,form:e.form,formRef:Ue,type:e.type||"table",cardBordered:e.cardBordered,dateFormatter:e.dateFormatter});return ae&&gt?w.jsx(w.Fragment,{children:ae(e,gt)}):gt},[L,Ue,d,Kt,Z,Yt,me,e,g,M,ae,j]),jr=P.useMemo(function(){return Fe==null?void 0:Fe.map(function(gt){var wt;return(wt=Te.current)===null||wt===void 0?void 0:wt.get(gt)})},[pe.dataSource,Fe]),rs=P.useMemo(function(){return T===!1&&!l&&!x&&!G&&!Rt},[T,l,x,G,Rt]),Ia=x===!1?null:w.jsx(BSe,{headerTitle:l,hideToolbar:rs,selectedRows:jr,selectedRowKeys:Fe,tableColumn:Qe,tooltip:Q,toolbar:G,onFormSearchSubmit:function(wt){we(R(R({},be),wt))},searchNode:Rt?cr:null,options:T,optionsRender:b,actionRef:Se,toolBarRender:x}),wo=F!==!1?w.jsx(dSe,{selectedRowKeys:Fe,selectedRows:jr,onCleanSelected:Xe,alertOptionRender:ie.tableAlertOptionRender,alertInfoRender:D,alwaysShowAlert:F==null?void 0:F.alwaysShowAlert}):null;return ee(w.jsx(t1e,R(R({},e),{},{name:O,defaultClassName:z,size:dt.tableSize,onSizeChange:dt.setTableSize,pagination:me,searchNode:cr,rowSelection:F!==!1?pt:void 0,className:Ee,tableColumn:Qe,isLightFilter:Rt,action:pe,alertDom:wo,toolbarDom:Ia,hideToolbar:rs,onSortChange:function(wt){xt||wt===Ge||Le(wt)},onFilterChange:function(wt){et||wt===X||q(wt)},editableUtils:tt,getRowKey:$e})))},_m=function(e){var t=P.useContext(Lt.ConfigContext),r=t.getPrefixCls,i=e.ErrorBoundary===!1?Oe.Fragment:e.ErrorBoundary||S7;return w.jsx(sSe,{initValue:e,children:w.jsx(OC,{needDeps:!0,children:w.jsx(i,{children:w.jsx(r1e,R({defaultClassName:"".concat(r("pro-table"))},e))})})})};_m.Summary=Uf.Summary;const i1e="_pageContainer_1c0wy_1",a1e="_heroSection_1c0wy_9",o1e="_heroTitle_1c0wy_16",s1e="_heroDesc_1c0wy_21",l1e="_section_1c0wy_27",c1e="_sectionTitle_1c0wy_30",u1e="_divider_1c0wy_35",d1e="_productCard_1c0wy_61",f1e="_productImgWrapper_1c0wy_72",h1e="_productImg_1c0wy_72",p1e="_productTitle_1c0wy_86",m1e="_goMore_1c0wy_92",Vr={pageContainer:i1e,heroSection:a1e,heroTitle:o1e,heroDesc:s1e,section:l1e,sectionTitle:c1e,divider:u1e,productCard:d1e,productImgWrapper:f1e,productImg:h1e,productTitle:p1e,goMore:m1e},g1e=({title:n,index:e,desc:t})=>w.jsxs("div",{style:{borderRadius:"8px",fontSize:"14px",lineHeight:"22px",padding:"16px 19px",minWidth:"220px",flex:1,border:"1px solid #E5E8ED",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.08)",height:"100%"},children:[w.jsxs("div",{style:{display:"flex",gap:"4px",alignItems:"center"},children:[w.jsx("div",{style:{width:48,height:48,lineHeight:"22px",backgroundSize:"100%",textAlign:"center",padding:"8px 16px 16px 12px",color:"#FFF",fontWeight:"bold",backgroundImage:"url('https://gw.alipayobjects.com/zos/bmw-prod/daaf8d50-8e6d-4251-905d-676a24ddfa12.svg')"},children:e}),w.jsx("div",{style:{fontSize:"16px",paddingBottom:8},children:n})]}),w.jsx("div",{style:{fontSize:"14px",textAlign:"justify",lineHeight:"22px",marginBottom:8},children:t})]}),p4="/png/parallel-gripper-full-HpjoEhTK.png",m4="/png/parallel-gripper-portable-CH0anQB8.png",g4="/png/product-full-CZ_xqpa1.png",v4="/png/product-portable-D6EuOg2C.png",y4="/png/head-camera-DGsb_TPd.png",b4="/png/sensor1-IgmNfTb2.png",x4="/png/sensor2-D7IcHAbh.png",_4="/png/sensor3-Cz9qFTxv.png",S4="/png/sensor4-DxSov4Ay.png",v1e="/png/API-DRy-UcJO.png",y1e="/png/DATA-B1VmkTyz.png",ln=n=>typeof n=="string",Uv=()=>{let n,e;const t=new Promise((r,i)=>{n=r,e=i});return t.resolve=n,t.reject=e,t},RD=n=>n==null?"":""+n,b1e=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},x1e=/###/g,PD=n=>n&&n.indexOf("###")>-1?n.replace(x1e,"."):n,OD=n=>!n||ln(n),v0=(n,e,t)=>{const r=ln(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(OD(n))return{};const a=PD(r[i]);!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++i}return OD(n)?{}:{obj:n,k:PD(r[i])}},FD=(n,e,t)=>{const{obj:r,k:i}=v0(n,e,Object);if(r!==void 0||e.length===1){r[i]=t;return}let a=e[e.length-1],o=e.slice(0,e.length-1),s=v0(n,o,Object);for(;s.obj===void 0&&o.length;)a=`${o[o.length-1]}.${a}`,o=o.slice(0,o.length-1),s=v0(n,o,Object),s!=null&&s.obj&&typeof s.obj[`${s.k}.${a}`]!="undefined"&&(s.obj=void 0);s.obj[`${s.k}.${a}`]=t},_1e=(n,e,t,r)=>{const{obj:i,k:a}=v0(n,e,Object);i[a]=i[a]||[],i[a].push(t)},_1=(n,e)=>{const{obj:t,k:r}=v0(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},S1e=(n,e,t)=>{const r=_1(n,t);return r!==void 0?r:_1(e,t)},C4=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?ln(n[r])||n[r]instanceof String||ln(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):C4(n[r],e[r],t):n[r]=e[r]);return n},gp=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var C1e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const w1e=n=>ln(n)?n.replace(/[&<>"'\/]/g,e=>C1e[e]):n;class T1e{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const M1e=[" ",",","?","!",";"],E1e=new T1e(20),A1e=(n,e,t)=>{e=e||"",t=t||"";const r=M1e.filter(o=>e.indexOf(o)<0&&t.indexOf(o)<0);if(r.length===0)return!0;const i=E1e.getRegExp(`(${r.map(o=>o==="?"?"\\?":o).join("|")})`);let a=!i.test(n);if(!a){const o=n.indexOf(t);o>0&&!i.test(n.substring(0,o))&&(a=!0)}return a},nR=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let i=n;for(let a=0;a<r.length;){if(!i||typeof i!="object")return;let o,s="";for(let l=a;l<r.length;++l)if(l!==a&&(s+=t),s+=r[l],o=i[s],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<r.length-1)continue;a+=l-a+1;break}i=o}return i},K0=n=>n==null?void 0:n.replace("_","-"),R1e={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,r;(r=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||r.call(t,console,e)}};class S1{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||R1e,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,i){return i&&!this.debug?null:(ln(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new S1(this.logger,qe({prefix:`${this.prefix}:${e}:`},this.options))}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new S1(this.logger,e)}}var Nl=new S1;class dw{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(t)||0;this.observers[r].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let o=0;o<a;o++)i(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let o=0;o<a;o++)i.apply(i,[e,...t])})}}class ID extends dw{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,i={}){var c,d;const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;e.indexOf(".")>-1?s=e.split("."):(s=[e,t],r&&(Array.isArray(r)?s.push(...r):ln(r)&&a?s.push(...r.split(a)):s.push(r)));const l=_1(this.data,s);return!l&&!t&&!r&&e.indexOf(".")>-1&&(e=s[0],t=s[1],r=s.slice(2).join(".")),l||!o||!ln(r)?l:nR((d=(c=this.data)==null?void 0:c[e])==null?void 0:d[t],r,a)}addResource(e,t,r,i,a={silent:!1}){const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let s=[e,t];r&&(s=s.concat(o?r.split(o):r)),e.indexOf(".")>-1&&(s=e.split("."),i=t,t=s[1]),this.addNamespaces(t),FD(this.data,s,i),a.silent||this.emit("added",e,t,r,i)}addResources(e,t,r,i={silent:!1}){for(const a in r)(ln(r[a])||Array.isArray(r[a]))&&this.addResource(e,t,a,r[a],{silent:!0});i.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,i,a,o={silent:!1,skipCopy:!1}){let s=[e,t];e.indexOf(".")>-1&&(s=e.split("."),i=r,r=t,t=s[1]),this.addNamespaces(t);let l=_1(this.data,s)||{};o.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?C4(l,r,a):l=qe(qe({},l),r),FD(this.data,s,l),o.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}}var w4={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,i){return n.forEach(a=>{var o,s;e=(s=(o=this.processors[a])==null?void 0:o.process(e,t,r,i))!=null?s:e}),e}};const T4=Symbol("i18next/PATH_KEY");function P1e(){const n=[],e=Object.create(null);let t;return e.get=(r,i)=>{var a;return(a=t==null?void 0:t.revoke)==null||a.call(t),i===T4?n:(n.push(i),t=Proxy.revocable(r,e),t.proxy)},Proxy.revocable(Object.create(null),e).proxy}function rR(n,e){var r;const{[T4]:t}=n(P1e());return t.join((r=e==null?void 0:e.keySeparator)!=null?r:".")}const DD={},HM=n=>!ln(n)&&typeof n!="boolean"&&typeof n!="number";class C1 extends dw{constructor(e,t={}){super(),b1e(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Nl.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r=qe({},t);if(e==null)return!1;const i=this.resolve(e,r);if((i==null?void 0:i.res)===void 0)return!1;const a=HM(i.res);return!(r.returnObjects===!1&&a)}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const o=r&&e.indexOf(r)>-1,s=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!A1e(e,r,i);if(o&&!s){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:ln(a)?[a]:a};const c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(a=c.shift()),e=c.join(i)}return{key:e,namespaces:ln(a)?[a]:a}}translate(e,t,r){let i=typeof t=="object"?qe({},t):t;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i=qe({},i)),i||(i={}),e==null)return"";typeof e=="function"&&(e=rR(e,qe(qe({},this.options),i))),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:s,namespaces:l}=this.extractFromKey(e[e.length-1],i),c=l[l.length-1];let d=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const h=i.lng||this.language,m=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((h==null?void 0:h.toLowerCase())==="cimode")return m?a?{res:`${c}${d}${s}`,usedKey:s,exactUsedKey:s,usedLng:h,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${d}${s}`:a?{res:s,usedKey:s,exactUsedKey:s,usedLng:h,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:s;const v=this.resolve(e,i);let g=v==null?void 0:v.res;const x=(v==null?void 0:v.usedKey)||s,b=(v==null?void 0:v.exactUsedKey)||s,_=["[object Number]","[object Function]","[object RegExp]"],C=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject,M=i.count!==void 0&&!ln(i.count),O=C1.hasDefaultValue(i),I=M?this.pluralResolver.getSuffix(h,i.count,i):"",U=i.ordinal&&M?this.pluralResolver.getSuffix(h,i.count,{ordinal:!1}):"",F=M&&!i.ordinal&&i.count===0,L=F&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${I}`]||i[`defaultValue${U}`]||i.defaultValue;let D=g;T&&!g&&O&&(D=L);const z=HM(D),$=Object.prototype.toString.apply(D);if(T&&D&&z&&_.indexOf($)<0&&!(ln(C)&&Array.isArray(D))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Y=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,D,mn(qe({},i),{ns:l})):`key '${s} (${this.language})' returned an object instead of string.`;return a?(v.res=Y,v.usedParams=this.getUsedParamsDetails(i),v):Y}if(o){const Y=Array.isArray(D),j=Y?[]:{},V=Y?b:x;for(const B in D)if(Object.prototype.hasOwnProperty.call(D,B)){const G=`${V}${o}${B}`;O&&!g?j[B]=this.translate(G,mn(qe({},i),{defaultValue:HM(L)?L[B]:void 0,joinArrays:!1,ns:l})):j[B]=this.translate(G,mn(qe({},i),{joinArrays:!1,ns:l})),j[B]===G&&(j[B]=D[B])}g=j}}else if(T&&ln(C)&&Array.isArray(g))g=g.join(C),g&&(g=this.extendTranslation(g,e,i,r));else{let Y=!1,j=!1;!this.isValidLookup(g)&&O&&(Y=!0,g=L),this.isValidLookup(g)||(j=!0,g=s);const B=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&j?void 0:g,G=O&&L!==g&&this.options.updateMissing;if(j||Y||G){if(this.logger.log(G?"updateKey":"missingKey",h,c,s,G?L:g),o){const Q=this.resolve(s,mn(qe({},i),{keySeparator:!1}));Q&&Q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let W=[];const Z=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Z&&Z[0])for(let Q=0;Q<Z.length;Q++)W.push(Z[Q]);else this.options.saveMissingTo==="all"?W=this.languageUtils.toResolveHierarchy(i.lng||this.language):W.push(i.lng||this.language);const J=(Q,ue,se)=>{var ie;const ae=O&&se!==g?se:B;this.options.missingKeyHandler?this.options.missingKeyHandler(Q,c,ue,ae,G,i):(ie=this.backendConnector)!=null&&ie.saveMissing&&this.backendConnector.saveMissing(Q,c,ue,ae,G,i),this.emit("missingKey",Q,c,ue,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&M?W.forEach(Q=>{const ue=this.pluralResolver.getSuffixes(Q,i);F&&i[`defaultValue${this.options.pluralSeparator}zero`]&&ue.indexOf(`${this.options.pluralSeparator}zero`)<0&&ue.push(`${this.options.pluralSeparator}zero`),ue.forEach(se=>{J([Q],s+se,i[`defaultValue${se}`]||L)})}):J(W,s,L))}g=this.extendTranslation(g,e,i,v,r),j&&g===s&&this.options.appendNamespaceToMissingKey&&(g=`${c}${d}${s}`),(j||Y)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${d}${s}`:s,Y?g:void 0,i))}return a?(v.res=g,v.usedParams=this.getUsedParamsDetails(i),v):g}extendTranslation(e,t,r,i,a){var l,c;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,qe(qe({},this.options.interpolation.defaultVariables),r),r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init(mn(qe({},r),{interpolation:qe(qe({},this.options.interpolation),r.interpolation)}));const d=ln(e)&&(((c=r==null?void 0:r.interpolation)==null?void 0:c.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(d){const v=e.match(this.interpolator.nestingRegexp);h=v&&v.length}let m=r.replace&&!ln(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(m=qe(qe({},this.options.interpolation.defaultVariables),m)),e=this.interpolator.interpolate(e,m,r.lng||this.language||i.usedLng,r),d){const v=e.match(this.interpolator.nestingRegexp),g=v&&v.length;h<g&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...v)=>(a==null?void 0:a[0])===v[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${t[0]}`),null):this.translate(...v,t),r)),r.interpolation&&this.interpolator.reset()}const o=r.postProcess||this.options.postProcess,s=ln(o)?[o]:o;return e!=null&&(s!=null&&s.length)&&r.applyPostProcessor!==!1&&(e=w4.handle(s,e,t,this.options&&this.options.postProcessPassResolved?qe({i18nResolved:mn(qe({},i),{usedParams:this.getUsedParamsDetails(r)})},r):r,this)),e}resolve(e,t={}){let r,i,a,o,s;return ln(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,t),d=c.key;i=d;let h=c.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const m=t.count!==void 0&&!ln(t.count),v=m&&!t.ordinal&&t.count===0,g=t.context!==void 0&&(ln(t.context)||typeof t.context=="number")&&t.context!=="",x=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);h.forEach(b=>{var _,C;this.isValidLookup(r)||(s=b,!DD[`${x[0]}-${b}`]&&((_=this.utils)!=null&&_.hasLoadedNamespace)&&!((C=this.utils)!=null&&C.hasLoadedNamespace(s))&&(DD[`${x[0]}-${b}`]=!0,this.logger.warn(`key "${i}" for languages "${x.join(", ")}" won't get resolved as namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(T=>{var I;if(this.isValidLookup(r))return;o=T;const M=[d];if((I=this.i18nFormat)!=null&&I.addLookupKeys)this.i18nFormat.addLookupKeys(M,d,T,b,t);else{let U;m&&(U=this.pluralResolver.getSuffix(T,t.count,t));const F=`${this.options.pluralSeparator}zero`,L=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(t.ordinal&&U.indexOf(L)===0&&M.push(d+U.replace(L,this.options.pluralSeparator)),M.push(d+U),v&&M.push(d+F)),g){const D=`${d}${this.options.contextSeparator||"_"}${t.context}`;M.push(D),m&&(t.ordinal&&U.indexOf(L)===0&&M.push(D+U.replace(L,this.options.pluralSeparator)),M.push(D+U),v&&M.push(D+F))}}let O;for(;O=M.pop();)this.isValidLookup(r)||(a=O,r=this.getResource(T,b,O,t))}))})}),{res:r,usedKey:i,exactUsedKey:a,usedLng:o,usedNS:s}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,i={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,t,r,i):this.resourceStore.getResource(e,t,r,i)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!ln(e.replace);let i=r?e.replace:e;if(r&&typeof e.count!="undefined"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i=qe(qe({},this.options.interpolation.defaultVariables),i)),!r){i=qe({},i);for(const a of t)delete i[a]}return i}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class LD{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Nl.create("languageUtils")}getScriptPartFromCode(e){if(e=K0(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=K0(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(ln(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch(r){}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return t=i;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return t=a;t=this.options.supportedLngs.find(o=>{if(o===a)return o;if(!(o.indexOf("-")<0&&a.indexOf("-")<0)&&(o.indexOf("-")>0&&a.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===a||o.indexOf(a)===0&&a.length>1))return o})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),ln(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),i=[],a=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return ln(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):ln(e)&&a(this.formatLanguageCode(e)),r.forEach(o=>{i.indexOf(o)<0&&a(this.formatLanguageCode(o))}),i}}const ND={zero:0,one:1,two:2,few:3,many:4,other:5},UD={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class O1e{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Nl.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=K0(e==="dev"?"en":e),i=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let o;try{o=new Intl.PluralRules(r,{type:i})}catch(s){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),UD;if(!e.match(/-|_/))return UD;const l=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(l,t)}return this.pluralRulesCache[a]=o,o}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(i=>`${t}${i}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((i,a)=>ND[i]-ND[a]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,t,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const BD=(n,e,t,r=".",i=!0)=>{let a=S1e(n,e,t);return!a&&i&&ln(t)&&(a=nR(n,t,r),a===void 0&&(a=nR(e,t,r))),a},kM=n=>n.replace(/\$/g,"$$$$");class zD{constructor(e={}){var t;this.logger=Nl.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:i,prefix:a,prefixEscaped:o,suffix:s,suffixEscaped:l,formatSeparator:c,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:m,nestingPrefixEscaped:v,nestingSuffix:g,nestingSuffixEscaped:x,nestingOptionsSeparator:b,maxReplaces:_,alwaysFormat:C}=e.interpolation;this.escape=t!==void 0?t:w1e,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?gp(a):o||"{{",this.suffix=s?gp(s):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=m?gp(m):v||gp("$t("),this.nestingSuffix=g?gp(g):x||gp(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=_||1e3,this.alwaysFormat=C!==void 0?C:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>(t==null?void 0:t.source)===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,r,i){var v;let a,o,s;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=g=>{if(g.indexOf(this.formatSeparator)<0){const C=BD(t,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(C,void 0,r,mn(qe(qe({},i),t),{interpolationkey:g})):C}const x=g.split(this.formatSeparator),b=x.shift().trim(),_=x.join(this.formatSeparator).trim();return this.format(BD(t,l,b,this.options.keySeparator,this.options.ignoreJSONStructure),_,r,mn(qe(qe({},i),t),{interpolationkey:b}))};this.resetRegExp();const d=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,h=((v=i==null?void 0:i.interpolation)==null?void 0:v.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>kM(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?kM(this.escape(g)):kM(g)}].forEach(g=>{for(s=0;a=g.regex.exec(e);){const x=a[1].trim();if(o=c(x),o===void 0)if(typeof d=="function"){const _=d(e,a,i);o=ln(_)?_:""}else if(i&&Object.prototype.hasOwnProperty.call(i,x))o="";else if(h){o=a[0];continue}else this.logger.warn(`missed to pass in variable ${x} for interpolating ${e}`),o="";else!ln(o)&&!this.useRawValueToEscape&&(o=RD(o));const b=g.safeValue(o);if(e=e.replace(a[0],b),h?(g.regex.lastIndex+=o.length,g.regex.lastIndex-=a[0].length):g.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,t,r={}){let i,a,o;const s=(l,c)=>{var x;const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const h=l.split(new RegExp(`${d}[ ]*{`));let m=`{${h[1]}`;l=h[0],m=this.interpolate(m,o);const v=m.match(/'/g),g=m.match(/"/g);(((x=v==null?void 0:v.length)!=null?x:0)%2===0&&!g||g.length%2!==0)&&(m=m.replace(/'/g,'"'));try{o=JSON.parse(m),c&&(o=qe(qe({},c),o))}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,b),`${l}${d}${m}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];o=qe({},r),o=o.replace&&!ln(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const c=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(c!==-1&&(l=i[1].slice(c).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),i[1]=i[1].slice(0,c)),a=t(s.call(this,i[1].trim(),o),o),a&&i[0]===e&&!ln(a))return a;ln(a)||(a=RD(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),l.length&&(a=l.reduce((d,h)=>this.format(d,h,r.lng,mn(qe({},r),{interpolationkey:i[1].trim()})),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const F1e=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(o=>{if(o){const[s,...l]=o.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),d=s.trim();t[d]||(t[d]=c),c==="false"&&(t[d]=!1),c==="true"&&(t[d]=!0),isNaN(c)||(t[d]=parseInt(c,10))}})}return{formatName:e,formatOptions:t}},HD=n=>{const e={};return(t,r,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a=mn(qe({},a),{[i.interpolationkey]:void 0}));const o=r+JSON.stringify(a);let s=e[o];return s||(s=n(K0(r),i),e[o]=s),s(t)}},I1e=n=>(e,t,r)=>n(K0(t),r)(e);class D1e{constructor(e={}){this.logger=Nl.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?HD:I1e;this.formats={number:r((i,a)=>{const o=new Intl.NumberFormat(i,qe({},a));return s=>o.format(s)}),currency:r((i,a)=>{const o=new Intl.NumberFormat(i,mn(qe({},a),{style:"currency"}));return s=>o.format(s)}),datetime:r((i,a)=>{const o=new Intl.DateTimeFormat(i,qe({},a));return s=>o.format(s)}),relativetime:r((i,a)=>{const o=new Intl.RelativeTimeFormat(i,qe({},a));return s=>o.format(s,a.range||"day")}),list:r((i,a)=>{const o=new Intl.ListFormat(i,qe({},a));return s=>o.format(s)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=HD(t)}format(e,t,r,i={}){const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(s=>s.indexOf(")")>-1)){const s=a.findIndex(l=>l.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,s)].join(this.formatSeparator)}return a.reduce((s,l)=>{var h;const{formatName:c,formatOptions:d}=F1e(l);if(this.formats[c]){let m=s;try{const v=((h=i==null?void 0:i.formatParams)==null?void 0:h[i.interpolationkey])||{},g=v.locale||v.lng||i.locale||i.lng||r;m=this.formats[c](s,g,qe(qe(qe({},d),i),v))}catch(v){this.logger.warn(v)}return m}else this.logger.warn(`there was no format function for ${c}`);return s},e)}}const L1e=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class N1e extends dw{constructor(e,t,r,i={}){var a,o;super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Nl.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(o=(a=this.backend)==null?void 0:a.init)==null||o.call(a,r,i.backend,i)}queueLoad(e,t,r,i){const a={},o={},s={},l={};return e.forEach(c=>{let d=!0;t.forEach(h=>{const m=`${c}|${h}`;!r.reload&&this.store.hasResourceBundle(c,h)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?o[m]===void 0&&(o[m]=!0):(this.state[m]=1,d=!1,o[m]===void 0&&(o[m]=!0),a[m]===void 0&&(a[m]=!0),l[h]===void 0&&(l[h]=!0)))}),d||(s[c]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}loaded(e,t,r){const i=e.split("|"),a=i[0],o=i[1];t&&this.emit("failedLoading",a,o,t),!t&&r&&this.store.addResourceBundle(a,o,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const s={};this.queue.forEach(l=>{_1e(l.loaded,[a],o),L1e(l,e),t&&l.errors.push(t),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{s[c]||(s[c]={});const d=l.loaded[c];d.length&&d.forEach(h=>{s[c][h]===void 0&&(s[c][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(l=>!l.done)}read(e,t,r,i=0,a=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:i,wait:a,callback:o});return}this.readingCalls++;const s=(c,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(c&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,i+1,a*2,o)},a);return}o(c,d)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,t);c&&typeof c.then=="function"?c.then(d=>s(null,d)).catch(s):s(null,c)}catch(c){s(c)}return}return l(e,t,s)}prepareLoading(e,t,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();ln(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ln(t)&&(t=[t]);const a=this.queueLoad(e,t,r,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),i=r[0],a=r[1];this.read(i,a,"read",void 0,void 0,(o,s)=>{o&&this.logger.warn(`${t}loading namespace ${a} for language ${i} failed`,o),!o&&s&&this.logger.log(`${t}loaded namespace ${a} for language ${i}`,s),this.loaded(e,o,s)})}saveMissing(e,t,r,i,a,o={},s=()=>{}){var l,c,d,h,m;if((c=(l=this.services)==null?void 0:l.utils)!=null&&c.hasLoadedNamespace&&!((h=(d=this.services)==null?void 0:d.utils)!=null&&h.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((m=this.backend)!=null&&m.create){const v=mn(qe({},o),{isUpdate:a}),g=this.backend.create.bind(this.backend);if(g.length<6)try{let x;g.length===5?x=g(e,t,r,i,v):x=g(e,t,r,i),x&&typeof x.then=="function"?x.then(b=>s(null,b)).catch(s):s(null,x)}catch(x){s(x)}else g(e,t,r,i,s,v)}!e||!e[0]||this.store.addResource(e[0],t,r,i)}}}const kD=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),ln(n[1])&&(e.defaultValue=n[1]),ln(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),jD=n=>{var e,t;return ln(n.ns)&&(n.ns=[n.ns]),ln(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),ln(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},n_=()=>{},U1e=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class y0 extends dw{constructor(e={},t){if(super(),this.options=jD(e),this.services={},this.logger=Nl,this.modules={external:[]},U1e(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(ln(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=kD();this.options=qe(qe(qe({},r),this.options),jD(e)),this.options.interpolation=qe(qe({},r.interpolation),this.options.interpolation),e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?Nl.init(i(this.modules.logger),this.options):Nl.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=D1e;const d=new LD(this.options);this.store=new ID(this.options.resources,this.options);const h=this.services;h.logger=Nl,h.resourceStore=this.store,h.languageUtils=d,h.pluralResolver=new O1e(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(h.formatter=i(c),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new zD(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new N1e(i(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(v,...g)=>{this.emit(v,...g)}),this.modules.languageDetector&&(h.languageDetector=i(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=i(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new C1(this.services,this.options),this.translator.on("*",(v,...g)=>{this.emit(v,...g)}),this.modules.external.forEach(v=>{v.init&&v.init(this)})}if(this.format=this.options.interpolation.format,t||(t=n_),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...d)=>this.store[c](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...d)=>(this.store[c](...d),this)});const s=Uv(),l=()=>{const c=(d,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),s.resolve(h),t(d,h)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),s}loadResources(e,t=n_){var a,o;let r=t;const i=ln(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const s=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(h=>{h!=="cimode"&&s.indexOf(h)<0&&s.push(h)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),(o=(a=this.options.preload)==null?void 0:a.forEach)==null||o.call(a,c=>l(c)),this.services.backendConnector.load(s,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,t,r){const i=Uv();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=n_),this.services.backendConnector.reload(e,t,a=>{i.resolve(),r(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&w4.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=Uv();this.emit("languageChanging",e);const i=s=>{this.language=s,this.languages=this.services.languageUtils.toResolveHierarchy(s),this.resolvedLanguage=void 0,this.setResolvedLanguage(s)},a=(s,l)=>{l?this.isLanguageChangingTo===e&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...c)=>this.t(...c)),t&&t(s,(...c)=>this.t(...c))},o=s=>{var d,h;!e&&!s&&this.services.languageDetector&&(s=[]);const l=ln(s)?s:s&&s[0],c=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(ln(s)?[s]:s);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),(h=(d=this.services.languageDetector)==null?void 0:d.cacheUserLanguage)==null||h.call(d,c)),this.loadResources(c,m=>{a(m,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),r}getFixedT(e,t,r){const i=(a,o,...s)=>{let l;typeof o!="object"?l=this.options.overloadTranslationOptionHandler([a,o].concat(s)):l=qe({},o),l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const c=this.options.keySeparator||".";let d;return l.keyPrefix&&Array.isArray(a)?d=a.map(h=>(typeof h=="function"&&(h=rR(h,qe(qe({},this.options),o))),`${l.keyPrefix}${c}${h}`)):(typeof a=="function"&&(a=rR(a,qe(qe({},this.options),o))),d=l.keyPrefix?`${l.keyPrefix}${c}${a}`:a),this.t(d,l)};return ln(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=r,i}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const o=(s,l)=>{const c=this.services.backendConnector.state[`${s}|${l}`];return c===-1||c===0||c===2};if(t.precheck){const s=t.precheck(this,o);if(s!==void 0)return s}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(r,e)&&(!i||o(a,e)))}loadNamespaces(e,t){const r=Uv();return this.options.ns?(ln(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),t&&t(i)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Uv();ln(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=i.concat(a),this.loadResources(o=>{r.resolve(),t&&t(o)}),r):(t&&t(),Promise.resolve())}dir(e){var i,a;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const o=new Intl.Locale(e);if(o&&o.getTextInfo){const s=o.getTextInfo();if(s&&s.direction)return s.direction}}catch(o){}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new LD(kD());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){const r=new y0(e,t);return r.createInstance=y0.createInstance,r}cloneInstance(e={},t=n_){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i=mn(qe(qe({},this.options),e),{isClone:!0}),a=new y0(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(s=>{a[s]=this[s]}),a.services=qe({},this.services),a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const s=Object.keys(this.store.data).reduce((l,c)=>(l[c]=qe({},this.store.data[c]),l[c]=Object.keys(l[c]).reduce((d,h)=>(d[h]=qe({},l[c][h]),d),l[c]),l),{});a.store=new ID(s,i),a.services.resourceStore=a.store}return e.interpolation&&(a.services.interpolator=new zD(i)),a.translator=new C1(a.services,i),a.translator.on("*",(s,...l)=>{a.emit(s,...l)}),a.init(i,t),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Oa=y0.createInstance();Oa.createInstance;Oa.dir;Oa.init;Oa.loadResources;Oa.reloadResources;Oa.use;Oa.changeLanguage;Oa.getFixedT;Oa.t;Oa.exists;Oa.setDefaultNamespace;Oa.hasLoadedNamespace;Oa.loadNamespaces;Oa.loadLanguages;const B1e=(n,e,t,r)=>{var a,o,s,l;const i=[t,qe({code:e},r||{})];if((o=(a=n==null?void 0:n.services)==null?void 0:a.logger)!=null&&o.forward)return n.services.logger.forward(i,"warn","react-i18next::",!0);Vf(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(s=n==null?void 0:n.services)==null?void 0:s.logger)!=null&&l.warn?n.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},$D={},M4=(n,e,t,r)=>{Vf(t)&&$D[t]||(Vf(t)&&($D[t]=new Date),B1e(n,e,t,r))},E4=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},iR=(n,e,t)=>{n.loadNamespaces(e,E4(n,t))},VD=(n,e,t,r)=>{if(Vf(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return iR(n,t,r);t.forEach(i=>{n.options.ns.indexOf(i)<0&&n.options.ns.push(i)}),n.loadLanguages(e,E4(n,r))},z1e=(n,e,t={})=>!e.languages||!e.languages.length?(M4(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,i)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,n))return!1}}),Vf=n=>typeof n=="string",H1e=n=>typeof n=="object"&&n!==null,k1e=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,j1e={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},$1e=n=>j1e[n],V1e=n=>n.replace(k1e,$1e);let aR={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:V1e};const G1e=(n={})=>{aR=qe(qe({},aR),n)},W1e=()=>aR;let A4;const q1e=n=>{A4=n},X1e=()=>A4,Y1e={type:"3rdParty",init(n){G1e(n.options.react),q1e(n)}},K1e=P.createContext();class Z1e{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const J1e=(n,e)=>Vf(e)?e:H1e(e)&&Vf(e.defaultValue)?e.defaultValue:Array.isArray(n)?n[n.length-1]:n,Q1e={t:J1e,ready:!1},eCe=()=>()=>{},ah=(n,e={})=>{var L,D,z;const{i18n:t}=e,{i18n:r,defaultNS:i}=P.useContext(K1e)||{},a=t||r||X1e();a&&!a.reportNamespaces&&(a.reportNamespaces=new Z1e),a||M4(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=P.useMemo(()=>{var $;return qe(qe(qe({},W1e()),($=a==null?void 0:a.options)==null?void 0:$.react),e)},[a,e]),{useSuspense:s,keyPrefix:l}=o,c=i||((L=a==null?void 0:a.options)==null?void 0:L.defaultNS),d=Vf(c)?[c]:c||["translation"],h=P.useMemo(()=>d,d);(z=(D=a==null?void 0:a.reportNamespaces)==null?void 0:D.addUsedNamespaces)==null||z.call(D,h);const m=P.useRef(0),v=P.useCallback($=>{if(!a)return eCe;const{bindI18n:Y,bindI18nStore:j}=o,V=()=>{m.current+=1,$()};return Y&&a.on(Y,V),j&&a.store.on(j,V),()=>{Y&&Y.split(" ").forEach(B=>a.off(B,V)),j&&j.split(" ").forEach(B=>a.store.off(B,V))}},[a,o]),g=P.useRef(),x=P.useCallback(()=>{if(!a)return Q1e;const $=!!(a.isInitialized||a.initializedStoreOnce)&&h.every(W=>z1e(W,a,o)),Y=e.lng||a.language,j=m.current,V=g.current;if(V&&V.ready===$&&V.lng===Y&&V.keyPrefix===l&&V.revision===j)return V;const G={t:a.getFixedT(Y,o.nsMode==="fallback"?h:h[0],l),ready:$,lng:Y,keyPrefix:l,revision:j};return g.current=G,G},[a,h,l,o,e.lng]),[b,_]=P.useState(0),{t:C,ready:T}=CS.useSyncExternalStore(v,x,x);P.useEffect(()=>{if(a&&!T&&!s){const $=()=>_(Y=>Y+1);e.lng?VD(a,e.lng,h,$):iR(a,h,$)}},[a,e.lng,h,T,s,b]);const M=a||{},O=P.useRef(null),I=P.useRef(),U=$=>{const Y=Object.getOwnPropertyDescriptors($);Y.__original&&delete Y.__original;const j=Object.create(Object.getPrototypeOf($),Y);if(!Object.prototype.hasOwnProperty.call(j,"__original"))try{Object.defineProperty(j,"__original",{value:$,writable:!1,enumerable:!1,configurable:!1})}catch(V){}return j},F=P.useMemo(()=>{const $=M,Y=$==null?void 0:$.language;let j=$;$&&(O.current&&O.current.__original===$?I.current!==Y?(j=U($),O.current=j,I.current=Y):j=O.current:(j=U($),O.current=j,I.current=Y));const V=[C,j,T];return V.t=C,V.i18n=j,V.ready=T,V},[C,M,T,M.resolvedLanguage,M.language,M.languages]);if(a&&s&&!T)throw new Promise($=>{const Y=()=>$();e.lng?VD(a,e.lng,h,Y):iR(a,h,Y)});return F},tCe=[{title:"多模态数据采集软硬件系统FastUMI Pro",desc:["精度达1mm，全球首创双链路定位(行业最高)","多模态数据采集，支持压敏与视触觉传感器","仅重600g，全球最轻，可负载2kg，稳定性强，支持长时采集","无惧强光、遮挡，唯一支持复杂工业场景的系统","快速适配，免更换本体，快速适配数十种机器人","配套完整代码生态，易于部署与扩展"]},{title:"数据扩增与增强系统AugKit",desc:["仅使用原始数据1/10，扩增后模型效果达原始训练的90%+","相同数据量下，模型整体成功率提升10~20%，降低采集标注成本","增强模型鲁棒性与部署稳定性"]},{title:"智能标注系统Labelkit",desc:["支持视觉、触觉、动作等多模态输入，自动标注多维度信息，效率提升50%+","精准满足VLA模型训练的语义标注需求","集成人工复核+自学习模型双模式","标注质量持续提升，已完成15万条高质量样本标注"]},{title:"数据质量评估系统Qualikit",desc:["构建全流程标准化数据质量闭环体系，保障数据可信度与适配性","完成数十个主流开源数据集标准测评，实现行业对标与闭环优化","统一评估指标体系，部署成功率提升10~20%","智能识别低质样本，自动标记缺陷数据，支持筛选与训练可复现性保障"]},{title:"多模测评MODEL BENCHMARK",desc:["基于真实场景实机评测，构建权威可复现的多模态模型评估体系","覆盖家庭/工业环境，全面指标体系（感知精度、成功率等）","季度发布排名，评测结果高度一致，支持数据定价/模型评级/交易匹配"]},{title:"模型训练MODEL TRAINING",desc:["多智能体协同标注引擎，效率提升50%+，满足VLA模型语义标注需求","覆盖家庭/工业典型操作任务，逻辑一致性校验降低误标率","已完成标注样本>15万条，预标注+自学习形成优化闭环"]}],nCe=[{title:"Multi-modal Data Acquisition Hardware & Software System FastUMI Pro",desc:["Accuracy up to 1mm, world's first dual-link positioning (industry highest)","Multi-modal data acquisition, supporting pressure-sensitive and visual-tactile sensors","Only 600g in weight (world's lightest), load capacity of 2kg, high stability for long-term acquisition","Immune to strong light and occlusion, the only system supporting complex industrial scenarios","Fast adaptation without replacing the main body, compatible with dozens of robots","Complete supporting code ecosystem, easy to deploy and expand"]},{title:"Data Augmentation & Enhancement System AugKit",desc:["Using only 1/10 of the original data, the model performance after augmentation reaches over 90% of the original training effect","With the same data volume, the overall success rate of the model is increased by 10~20%, reducing data collection and annotation costs","Enhance model robustness and deployment stability"]},{title:"Intelligent Annotation System Labelkit",desc:["Supports multi-modal input (vision, touch, motion, etc.), automatically annotates multi-dimensional information, efficiency increased by 50%+","Accurately meets the semantic annotation requirements of VLA model training","Integrates dual modes: manual review + self-learning model","Continuous improvement of annotation quality, completed 150,000 high-quality sample annotations"]},{title:"Data Quality Evaluation System Qualikit",desc:["Build a standardized closed-loop data quality system throughout collection, annotation, training and evaluation to ensure data credibility and adaptability","Completed standard evaluation of dozens of mainstream open-source datasets to achieve industry benchmarking and closed-loop optimization","Unified evaluation index system, increasing deployment success rate by 10~20% without increasing data volume","Intelligently identify low-quality samples, automatically mark defective data to improve collection efficiency, support screening mechanism and training reproducibility guarantee"]},{title:"Multi-modal Evaluation MODEL BENCHMARK",desc:["Build an authoritative, reproducible and tradable multi-modal model capability evaluation system based on real-scenario physical tests","Covers household and industrial environments with standard task processes and scenario configurations, comprehensive index system including perception accuracy, success rate, frequency, adaptability and stability","Quarterly release of rankings by task type and capability dimension, highly consistent evaluation results across time and platforms to ensure horizontal comparability and reproducibility verification, supporting data pricing, model rating and transaction matching to connect R&D-evaluation-transaction closed loop"]},{title:"Model Training MODEL TRAINING",desc:["Multi-agent collaborative annotation engine, efficiency increased by 50%+, meeting the semantic annotation requirements of VLA model training","50% higher annotation efficiency compared with traditional manual processes, annotated data used for strategy model update to optimize automatic annotation strategies","Covers all typical operation tasks in household and industrial environments, with logical consistency verification and anomaly detection mechanism to significantly reduce misannotation rate, completed over 150,000 annotated samples, forming an optimization closed loop through pre-annotation + manual confirmation + self-learning feedback"]}],rCe=[{title:"非平动便携版本",imgUrl:p4},{title:"非平动全功能版本",imgUrl:m4},{title:"平动便携版本",imgUrl:v4},{title:"平动全功能版本",imgUrl:g4},{title:"头箍相机",imgUrl:y4},{title:"触觉传感器",imgUrl:b4},{title:"触觉传感器",imgUrl:x4},{title:"触觉传感器",imgUrl:_4},{title:"触觉传感器",imgUrl:S4}],iCe=[{title:"Non-parallel Portable Version",imgUrl:p4},{title:"Non-parallel Full Function Version",imgUrl:m4},{title:"Parallel Portable Version",imgUrl:v4},{title:"Parallel Full Function Version",imgUrl:g4},{title:"Head Camera",imgUrl:y4},{title:"Touch Sensor",imgUrl:b4},{title:"Touch Sensor",imgUrl:x4},{title:"Touch Sensor",imgUrl:_4},{title:"Touch Sensor",imgUrl:S4}],{Title:GD,Paragraph:r_}=Kf;function aCe(){const{t:n,i18n:e}=ah(),t=e.language,r=t==="zh"?rCe:iCe,i=t==="zh"?tCe:nCe;return w.jsxs(ih,{className:Vr.pageContainer,children:[w.jsxs("div",{className:Vr.heroSection,children:[w.jsx("h1",{className:HR(Vr.heroTitle,"text-gradient-ripple"),children:n("landing.welcome")}),w.jsx(r_,{className:Vr.heroDesc,children:n("landing.desc")})]}),w.jsxs("div",{className:Vr.section,children:[w.jsx(GD,{level:3,className:Vr.sectionTitle,children:"我们的能力"}),w.jsx(xS,{className:Vr.divider}),w.jsx(zi,{gutter:[24,24],children:i.map((a,o)=>w.jsx(hn,{xs:24,sm:12,lg:8,children:w.jsx(g1e,{title:a.title,index:o+1,desc:a.desc.join(`
`)})},o))})]}),w.jsxs("div",{className:Vr.section,children:[w.jsx(GD,{level:3,className:Vr.sectionTitle,children:"我们的产品"}),w.jsx(xS,{className:Vr.divider}),w.jsxs(zi,{gutter:[24,24],children:[r.map((a,o)=>w.jsx(hn,{xs:12,sm:8,lg:6,children:w.jsx(Ai,{className:Vr.productCard,hoverable:!0,cover:w.jsx("div",{className:Vr.productImgWrapper,children:w.jsx("img",{src:a.imgUrl,alt:a.title,className:Vr.productImg})}),children:w.jsx(Ai.Meta,{title:w.jsx(r_,{className:Vr.productTitle,children:a.title})})})},o)),w.jsx(hn,{xs:12,sm:8,lg:6,children:w.jsx(Ai,{className:Vr.productCard,hoverable:!0,cover:w.jsx("div",{className:Vr.productImgWrapper,children:w.jsx("img",{src:v1e,style:{padding:"32px"},className:Vr.productImg})}),children:w.jsx(Ai.Meta,{title:w.jsx(r_,{className:Vr.productTitle,children:n("landing.monitoringTools")})})})}),w.jsx(hn,{xs:12,sm:8,lg:6,children:w.jsx(Ai,{className:Vr.productCard,hoverable:!0,cover:w.jsx("div",{style:{padding:"32px"},className:Vr.productImgWrapper,children:w.jsx("img",{src:y1e,className:Vr.productImg})}),children:w.jsx(Ai.Meta,{title:w.jsx(r_,{className:Vr.productTitle,children:n("landing.dataCollector")})})})}),w.jsx(hn,{xs:12,sm:8,lg:6,children:w.jsxs("div",{onClick:()=>{window.open("https://www.fastumi.com/pro/","_blank")},className:Vr.goMore,children:[w.jsx("span",{children:"FastUmi Pro"}),w.jsxs("span",{children:["GO! ",w.jsx(aq,{})]})]})})]})]})]})}function R4(n,e){return function(){return n.apply(e,arguments)}}const{toString:oCe}=Object.prototype,{getPrototypeOf:BP}=Object,{iterator:fw,toStringTag:P4}=Symbol,hw=(n=>e=>{const t=oCe.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),sl=n=>(n=n.toLowerCase(),e=>hw(e)===n),pw=n=>e=>typeof e===n,{isArray:Km}=Array,Sm=pw("undefined");function qy(n){return n!==null&&!Sm(n)&&n.constructor!==null&&!Sm(n.constructor)&&_o(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const O4=sl("ArrayBuffer");function sCe(n){let e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&O4(n.buffer),e}const lCe=pw("string"),_o=pw("function"),F4=pw("number"),Xy=n=>n!==null&&typeof n=="object",cCe=n=>n===!0||n===!1,oS=n=>{if(hw(n)!=="object")return!1;const e=BP(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(P4 in n)&&!(fw in n)},uCe=n=>{if(!Xy(n)||qy(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch(e){return!1}},dCe=sl("Date"),fCe=sl("File"),hCe=sl("Blob"),pCe=sl("FileList"),mCe=n=>Xy(n)&&_o(n.pipe),gCe=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||_o(n.append)&&((e=hw(n))==="formdata"||e==="object"&&_o(n.toString)&&n.toString()==="[object FormData]"))},vCe=sl("URLSearchParams"),[yCe,bCe,xCe,_Ce]=["ReadableStream","Request","Response","Headers"].map(sl),SCe=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Yy(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n=="undefined")return;let r,i;if(typeof n!="object"&&(n=[n]),Km(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{if(qy(n))return;const a=t?Object.getOwnPropertyNames(n):Object.keys(n),o=a.length;let s;for(r=0;r<o;r++)s=a[r],e.call(null,n[s],s,n)}}function I4(n,e){if(qy(n))return null;e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const Tf=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,D4=n=>!Sm(n)&&n!==Tf;function oR(){const{caseless:n,skipUndefined:e}=D4(this)&&this||{},t={},r=(i,a)=>{const o=n&&I4(t,a)||a;oS(t[o])&&oS(i)?t[o]=oR(t[o],i):oS(i)?t[o]=oR({},i):Km(i)?t[o]=i.slice():(!e||!Sm(i))&&(t[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Yy(arguments[i],r);return t}const CCe=(n,e,t,{allOwnKeys:r}={})=>(Yy(e,(i,a)=>{t&&_o(i)?n[a]=R4(i,t):n[a]=i},{allOwnKeys:r}),n),wCe=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),TCe=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},MCe=(n,e,t,r)=>{let i,a,o;const s={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),a=i.length;a-- >0;)o=i[a],(!r||r(o,n,e))&&!s[o]&&(e[o]=n[o],s[o]=!0);n=t!==!1&&BP(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},ECe=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},ACe=n=>{if(!n)return null;if(Km(n))return n;let e=n.length;if(!F4(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},RCe=(n=>e=>n&&e instanceof n)(typeof Uint8Array!="undefined"&&BP(Uint8Array)),PCe=(n,e)=>{const r=(n&&n[fw]).call(n);let i;for(;(i=r.next())&&!i.done;){const a=i.value;e.call(n,a[0],a[1])}},OCe=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},FCe=sl("HTMLFormElement"),ICe=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),WD=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),DCe=sl("RegExp"),L4=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Yy(t,(i,a)=>{let o;(o=e(i,a,n))!==!1&&(r[a]=o||i)}),Object.defineProperties(n,r)},LCe=n=>{L4(n,(e,t)=>{if(_o(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(_o(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},NCe=(n,e)=>{const t={},r=i=>{i.forEach(a=>{t[a]=!0})};return Km(n)?r(n):r(String(n).split(e)),t},UCe=()=>{},BCe=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function zCe(n){return!!(n&&_o(n.append)&&n[P4]==="FormData"&&n[fw])}const HCe=n=>{const e=new Array(10),t=(r,i)=>{if(Xy(r)){if(e.indexOf(r)>=0)return;if(qy(r))return r;if(!("toJSON"in r)){e[i]=r;const a=Km(r)?[]:{};return Yy(r,(o,s)=>{const l=t(o,i+1);!Sm(l)&&(a[s]=l)}),e[i]=void 0,a}}return r};return t(n,0)},kCe=sl("AsyncFunction"),jCe=n=>n&&(Xy(n)||_o(n))&&_o(n.then)&&_o(n.catch),N4=((n,e)=>n?setImmediate:e?((t,r)=>(Tf.addEventListener("message",({source:i,data:a})=>{i===Tf&&a===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Tf.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",_o(Tf.postMessage)),$Ce=typeof queueMicrotask!="undefined"?queueMicrotask.bind(Tf):typeof process!="undefined"&&process.nextTick||N4,VCe=n=>n!=null&&_o(n[fw]),Je={isArray:Km,isArrayBuffer:O4,isBuffer:qy,isFormData:gCe,isArrayBufferView:sCe,isString:lCe,isNumber:F4,isBoolean:cCe,isObject:Xy,isPlainObject:oS,isEmptyObject:uCe,isReadableStream:yCe,isRequest:bCe,isResponse:xCe,isHeaders:_Ce,isUndefined:Sm,isDate:dCe,isFile:fCe,isBlob:hCe,isRegExp:DCe,isFunction:_o,isStream:mCe,isURLSearchParams:vCe,isTypedArray:RCe,isFileList:pCe,forEach:Yy,merge:oR,extend:CCe,trim:SCe,stripBOM:wCe,inherits:TCe,toFlatObject:MCe,kindOf:hw,kindOfTest:sl,endsWith:ECe,toArray:ACe,forEachEntry:PCe,matchAll:OCe,isHTMLForm:FCe,hasOwnProperty:WD,hasOwnProp:WD,reduceDescriptors:L4,freezeMethods:LCe,toObjectSet:NCe,toCamelCase:ICe,noop:UCe,toFiniteNumber:BCe,findKey:I4,global:Tf,isContextDefined:D4,isSpecCompliantForm:zCe,toJSONObject:HCe,isAsyncFn:kCe,isThenable:jCe,setImmediate:N4,asap:$Ce,isIterable:VCe};function vn(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Je.inherits(vn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Je.toJSONObject(this.config),code:this.code,status:this.status}}});const U4=vn.prototype,B4={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{B4[n]={value:n}});Object.defineProperties(vn,B4);Object.defineProperty(U4,"isAxiosError",{value:!0});vn.from=(n,e,t,r,i,a)=>{const o=Object.create(U4);Je.toFlatObject(n,o,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const s=n&&n.message?n.message:"Error",l=e==null&&n?n.code:e;return vn.call(o,s,l,t,r,i),n&&o.cause==null&&Object.defineProperty(o,"cause",{value:n,configurable:!0}),o.name=n&&n.name||"Error",a&&Object.assign(o,a),o};const GCe=null;function sR(n){return Je.isPlainObject(n)||Je.isArray(n)}function z4(n){return Je.endsWith(n,"[]")?n.slice(0,-2):n}function qD(n,e,t){return n?n.concat(e).map(function(i,a){return i=z4(i),!t&&a?"["+i+"]":i}).join(t?".":""):e}function WCe(n){return Je.isArray(n)&&!n.some(sR)}const qCe=Je.toFlatObject(Je,{},null,function(e){return/^is[A-Z]/.test(e)});function mw(n,e,t){if(!Je.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Je.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,b){return!Je.isUndefined(b[x])});const r=t.metaTokens,i=t.visitor||d,a=t.dots,o=t.indexes,l=(t.Blob||typeof Blob!="undefined"&&Blob)&&Je.isSpecCompliantForm(e);if(!Je.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(Je.isDate(g))return g.toISOString();if(Je.isBoolean(g))return g.toString();if(!l&&Je.isBlob(g))throw new vn("Blob is not supported. Use a Buffer instead.");return Je.isArrayBuffer(g)||Je.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,x,b){let _=g;if(g&&!b&&typeof g=="object"){if(Je.endsWith(x,"{}"))x=r?x:x.slice(0,-2),g=JSON.stringify(g);else if(Je.isArray(g)&&WCe(g)||(Je.isFileList(g)||Je.endsWith(x,"[]"))&&(_=Je.toArray(g)))return x=z4(x),_.forEach(function(T,M){!(Je.isUndefined(T)||T===null)&&e.append(o===!0?qD([x],M,a):o===null?x:x+"[]",c(T))}),!1}return sR(g)?!0:(e.append(qD(b,x,a),c(g)),!1)}const h=[],m=Object.assign(qCe,{defaultVisitor:d,convertValue:c,isVisitable:sR});function v(g,x){if(!Je.isUndefined(g)){if(h.indexOf(g)!==-1)throw Error("Circular reference detected in "+x.join("."));h.push(g),Je.forEach(g,function(_,C){(!(Je.isUndefined(_)||_===null)&&i.call(e,_,Je.isString(C)?C.trim():C,x,m))===!0&&v(_,x?x.concat(C):[C])}),h.pop()}}if(!Je.isObject(n))throw new TypeError("data must be an object");return v(n),e}function XD(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function zP(n,e){this._pairs=[],n&&mw(n,this,e)}const H4=zP.prototype;H4.append=function(e,t){this._pairs.push([e,t])};H4.toString=function(e){const t=e?function(r){return e.call(this,r,XD)}:XD;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function XCe(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function k4(n,e,t){if(!e)return n;const r=t&&t.encode||XCe;Je.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let a;if(i?a=i(e,t):a=Je.isURLSearchParams(e)?e.toString():new zP(e,t).toString(r),a){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+a}return n}class YD{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Je.forEach(this.handlers,function(r){r!==null&&e(r)})}}const j4={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},YCe=typeof URLSearchParams!="undefined"?URLSearchParams:zP,KCe=typeof FormData!="undefined"?FormData:null,ZCe=typeof Blob!="undefined"?Blob:null,JCe={isBrowser:!0,classes:{URLSearchParams:YCe,FormData:KCe,Blob:ZCe},protocols:["http","https","file","blob","url","data"]},HP=typeof window!="undefined"&&typeof document!="undefined",lR=typeof navigator=="object"&&navigator||void 0,QCe=HP&&(!lR||["ReactNative","NativeScript","NS"].indexOf(lR.product)<0),ewe=typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",twe=HP&&window.location.href||"http://localhost",nwe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:HP,hasStandardBrowserEnv:QCe,hasStandardBrowserWebWorkerEnv:ewe,navigator:lR,origin:twe},Symbol.toStringTag,{value:"Module"})),Ma=qe(qe({},nwe),JCe);function rwe(n,e){return mw(n,new Ma.classes.URLSearchParams,qe({visitor:function(t,r,i,a){return Ma.isNode&&Je.isBuffer(t)?(this.append(r,t.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function iwe(n){return Je.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function awe(n){const e={},t=Object.keys(n);let r;const i=t.length;let a;for(r=0;r<i;r++)a=t[r],e[a]=n[a];return e}function $4(n){function e(t,r,i,a){let o=t[a++];if(o==="__proto__")return!0;const s=Number.isFinite(+o),l=a>=t.length;return o=!o&&Je.isArray(i)?i.length:o,l?(Je.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!s):((!i[o]||!Je.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],a)&&Je.isArray(i[o])&&(i[o]=awe(i[o])),!s)}if(Je.isFormData(n)&&Je.isFunction(n.entries)){const t={};return Je.forEachEntry(n,(r,i)=>{e(iwe(r),i,t,0)}),t}return null}function owe(n,e,t){if(Je.isString(n))try{return(e||JSON.parse)(n),Je.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Ky={transitional:j4,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=Je.isObject(e);if(a&&Je.isHTMLForm(e)&&(e=new FormData(e)),Je.isFormData(e))return i?JSON.stringify($4(e)):e;if(Je.isArrayBuffer(e)||Je.isBuffer(e)||Je.isStream(e)||Je.isFile(e)||Je.isBlob(e)||Je.isReadableStream(e))return e;if(Je.isArrayBufferView(e))return e.buffer;if(Je.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return rwe(e,this.formSerializer).toString();if((s=Je.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return mw(s?{"files[]":e}:e,l&&new l,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),owe(e)):e}],transformResponse:[function(e){const t=this.transitional||Ky.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(Je.isResponse(e)||Je.isReadableStream(e))return e;if(e&&Je.isString(e)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(s){if(o)throw s.name==="SyntaxError"?vn.from(s,vn.ERR_BAD_RESPONSE,this,null,this.response):s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ma.classes.FormData,Blob:Ma.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Je.forEach(["delete","get","head","post","put","patch"],n=>{Ky.headers[n]={}});const swe=Je.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),lwe=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&swe[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},KD=Symbol("internals");function Bv(n){return n&&String(n).trim().toLowerCase()}function sS(n){return n===!1||n==null?n:Je.isArray(n)?n.map(sS):String(n)}function cwe(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const uwe=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function jM(n,e,t,r,i){if(Je.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!Je.isString(e)){if(Je.isString(r))return e.indexOf(r)!==-1;if(Je.isRegExp(r))return r.test(e)}}function dwe(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function fwe(n,e){const t=Je.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,a,o){return this[r].call(this,e,i,a,o)},configurable:!0})})}let So=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function a(s,l,c){const d=Bv(l);if(!d)throw new Error("header name must be a non-empty string");const h=Je.findKey(i,d);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=sS(s))}const o=(s,l)=>Je.forEach(s,(c,d)=>a(c,d,l));if(Je.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Je.isString(e)&&(e=e.trim())&&!uwe(e))o(lwe(e),t);else if(Je.isObject(e)&&Je.isIterable(e)){let s={},l,c;for(const d of e){if(!Je.isArray(d))throw TypeError("Object iterator must return a key-value pair");s[c=d[0]]=(l=s[c])?Je.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(s,t)}else e!=null&&a(t,e,r);return this}get(e,t){if(e=Bv(e),e){const r=Je.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return cwe(i);if(Je.isFunction(t))return t.call(this,i,r);if(Je.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Bv(e),e){const r=Je.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||jM(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function a(o){if(o=Bv(o),o){const s=Je.findKey(r,o);s&&(!t||jM(r,r[s],s,t))&&(delete r[s],i=!0)}}return Je.isArray(e)?e.forEach(a):a(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const a=t[r];(!e||jM(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const t=this,r={};return Je.forEach(this,(i,a)=>{const o=Je.findKey(r,a);if(o){t[o]=sS(i),delete t[a];return}const s=e?dwe(a):String(a).trim();s!==a&&delete t[a],t[s]=sS(i),r[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Je.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&Je.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[KD]=this[KD]={accessors:{}}).accessors,i=this.prototype;function a(o){const s=Bv(o);r[s]||(fwe(i,o),r[s]=!0)}return Je.isArray(e)?e.forEach(a):a(e),this}};So.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Je.reduceDescriptors(So.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});Je.freezeMethods(So);function $M(n,e){const t=this||Ky,r=e||t,i=So.from(r.headers);let a=r.data;return Je.forEach(n,function(s){a=s.call(t,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function V4(n){return!!(n&&n.__CANCEL__)}function Zm(n,e,t){vn.call(this,n==null?"canceled":n,vn.ERR_CANCELED,e,t),this.name="CanceledError"}Je.inherits(Zm,vn,{__CANCEL__:!0});function G4(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new vn("Request failed with status code "+t.status,[vn.ERR_BAD_REQUEST,vn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function hwe(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function pwe(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,a=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=r[a];o||(o=c),t[i]=l,r[i]=c;let h=a,m=0;for(;h!==i;)m+=t[h++],h=h%n;if(i=(i+1)%n,i===a&&(a=(a+1)%n),c-o<e)return;const v=d&&c-d;return v?Math.round(m*1e3/v):void 0}}function mwe(n,e){let t=0,r=1e3/e,i,a;const o=(c,d=Date.now())=>{t=d,i=null,a&&(clearTimeout(a),a=null),n(...c)};return[(...c)=>{const d=Date.now(),h=d-t;h>=r?o(c,d):(i=c,a||(a=setTimeout(()=>{a=null,o(i)},r-h)))},()=>i&&o(i)]}const w1=(n,e,t=3)=>{let r=0;const i=pwe(50,250);return mwe(a=>{const o=a.loaded,s=a.lengthComputable?a.total:void 0,l=o-r,c=i(l),d=o<=s;r=o;const h={loaded:o,total:s,progress:s?o/s:void 0,bytes:l,rate:c||void 0,estimated:c&&s&&d?(s-o)/c:void 0,event:a,lengthComputable:s!=null,[e?"download":"upload"]:!0};n(h)},t)},ZD=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},JD=n=>(...e)=>Je.asap(()=>n(...e)),gwe=Ma.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Ma.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Ma.origin),Ma.navigator&&/(msie|trident)/i.test(Ma.navigator.userAgent)):()=>!0,vwe=Ma.hasStandardBrowserEnv?{write(n,e,t,r,i,a,o){if(typeof document=="undefined")return;const s=[`${n}=${encodeURIComponent(e)}`];Je.isNumber(t)&&s.push(`expires=${new Date(t).toUTCString()}`),Je.isString(r)&&s.push(`path=${r}`),Je.isString(i)&&s.push(`domain=${i}`),a===!0&&s.push("secure"),Je.isString(o)&&s.push(`SameSite=${o}`),document.cookie=s.join("; ")},read(n){if(typeof document=="undefined")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ywe(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function bwe(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function W4(n,e,t){let r=!ywe(e);return n&&(r||t==!1)?bwe(n,e):e}const QD=n=>n instanceof So?qe({},n):n;function Gf(n,e){e=e||{};const t={};function r(c,d,h,m){return Je.isPlainObject(c)&&Je.isPlainObject(d)?Je.merge.call({caseless:m},c,d):Je.isPlainObject(d)?Je.merge({},d):Je.isArray(d)?d.slice():d}function i(c,d,h,m){if(Je.isUndefined(d)){if(!Je.isUndefined(c))return r(void 0,c,h,m)}else return r(c,d,h,m)}function a(c,d){if(!Je.isUndefined(d))return r(void 0,d)}function o(c,d){if(Je.isUndefined(d)){if(!Je.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function s(c,d,h){if(h in e)return r(c,d);if(h in n)return r(void 0,c)}const l={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(c,d,h)=>i(QD(c),QD(d),h,!0)};return Je.forEach(Object.keys(qe(qe({},n),e)),function(d){const h=l[d]||i,m=h(n[d],e[d],d);Je.isUndefined(m)&&h!==s||(t[d]=m)}),t}const q4=n=>{const e=Gf({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=e;if(e.headers=o=So.from(o),e.url=k4(W4(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),Je.isFormData(t)){if(Ma.hasStandardBrowserEnv||Ma.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Je.isFunction(t.getHeaders)){const l=t.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([d,h])=>{c.includes(d.toLowerCase())&&o.set(d,h)})}}if(Ma.hasStandardBrowserEnv&&(r&&Je.isFunction(r)&&(r=r(e)),r||r!==!1&&gwe(e.url))){const l=i&&a&&vwe.read(a);l&&o.set(i,l)}return e},xwe=typeof XMLHttpRequest!="undefined",_we=xwe&&function(n){return new Promise(function(t,r){const i=q4(n);let a=i.data;const o=So.from(i.headers).normalize();let{responseType:s,onUploadProgress:l,onDownloadProgress:c}=i,d,h,m,v,g;function x(){v&&v(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function _(){if(!b)return;const T=So.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),O={data:!s||s==="text"||s==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:T,config:n,request:b};G4(function(U){t(U),x()},function(U){r(U),x()},O),b=null}"onloadend"in b?b.onloadend=_:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(_)},b.onabort=function(){b&&(r(new vn("Request aborted",vn.ECONNABORTED,n,b)),b=null)},b.onerror=function(M){const O=M&&M.message?M.message:"Network Error",I=new vn(O,vn.ERR_NETWORK,n,b);I.event=M||null,r(I),b=null},b.ontimeout=function(){let M=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const O=i.transitional||j4;i.timeoutErrorMessage&&(M=i.timeoutErrorMessage),r(new vn(M,O.clarifyTimeoutError?vn.ETIMEDOUT:vn.ECONNABORTED,n,b)),b=null},a===void 0&&o.setContentType(null),"setRequestHeader"in b&&Je.forEach(o.toJSON(),function(M,O){b.setRequestHeader(O,M)}),Je.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),s&&s!=="json"&&(b.responseType=i.responseType),c&&([m,g]=w1(c,!0),b.addEventListener("progress",m)),l&&b.upload&&([h,v]=w1(l),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(d=T=>{b&&(r(!T||T.type?new Zm(null,n,b):T),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const C=hwe(i.url);if(C&&Ma.protocols.indexOf(C)===-1){r(new vn("Unsupported protocol "+C+":",vn.ERR_BAD_REQUEST,n));return}b.send(a||null)})},Swe=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const a=function(c){if(!i){i=!0,s();const d=c instanceof Error?c:this.reason;r.abort(d instanceof vn?d:new Zm(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,a(new vn(`timeout ${e} of ms exceeded`,vn.ETIMEDOUT))},e);const s=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),n=null)};n.forEach(c=>c.addEventListener("abort",a));const{signal:l}=r;return l.unsubscribe=()=>Je.asap(s),l}},Cwe=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},wwe=function(n,e){return KT(this,null,function*(){try{for(var t=cO(Twe(n)),r,i,a;r=!(i=yield new Yd(t.next())).done;r=!1){const o=i.value;yield*ZT(Cwe(o,e))}}catch(i){a=[i]}finally{try{r&&(i=t.return)&&(yield new Yd(i.call(t)))}finally{if(a)throw a[0]}}})},Twe=function(n){return KT(this,null,function*(){if(n[Symbol.asyncIterator]){yield*ZT(n);return}const e=n.getReader();try{for(;;){const{done:t,value:r}=yield new Yd(e.read());if(t)break;yield r}}finally{yield new Yd(e.cancel())}})},eL=(n,e,t,r)=>{const i=wwe(n,e);let a=0,o,s=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({pull(c){return Bt(this,null,function*(){try{const{done:d,value:h}=yield i.next();if(d){s(),c.close();return}let m=h.byteLength;if(t){let v=a+=m;t(v)}c.enqueue(new Uint8Array(h))}catch(d){throw s(d),d}})},cancel(c){return s(c),i.return()}},{highWaterMark:2})},tL=64*1024,{isFunction:i_}=Je,Mwe=(({Request:n,Response:e})=>({Request:n,Response:e}))(Je.global),{ReadableStream:nL,TextEncoder:rL}=Je.global,iL=(n,...e)=>{try{return!!n(...e)}catch(t){return!1}},Ewe=n=>{n=Je.merge.call({skipUndefined:!0},Mwe,n);const{fetch:e,Request:t,Response:r}=n,i=e?i_(e):typeof fetch=="function",a=i_(t),o=i_(r);if(!i)return!1;const s=i&&i_(nL),l=i&&(typeof rL=="function"?(g=>x=>g.encode(x))(new rL):g=>Bt(void 0,null,function*(){return new Uint8Array(yield new t(g).arrayBuffer())})),c=a&&s&&iL(()=>{let g=!1;const x=new t(Ma.origin,{body:new nL,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!x}),d=o&&s&&iL(()=>Je.isReadableStream(new r("").body)),h={stream:d&&(g=>g.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!h[g]&&(h[g]=(x,b)=>{let _=x&&x[g];if(_)return _.call(x);throw new vn(`Response type '${g}' is not supported`,vn.ERR_NOT_SUPPORT,b)})});const m=g=>Bt(void 0,null,function*(){if(g==null)return 0;if(Je.isBlob(g))return g.size;if(Je.isSpecCompliantForm(g))return(yield new t(Ma.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(Je.isArrayBufferView(g)||Je.isArrayBuffer(g))return g.byteLength;if(Je.isURLSearchParams(g)&&(g=g+""),Je.isString(g))return(yield l(g)).byteLength}),v=(g,x)=>Bt(void 0,null,function*(){const b=Je.toFiniteNumber(g.getContentLength());return b==null?m(x):b});return g=>Bt(void 0,null,function*(){let{url:x,method:b,data:_,signal:C,cancelToken:T,timeout:M,onDownloadProgress:O,onUploadProgress:I,responseType:U,headers:F,withCredentials:L="same-origin",fetchOptions:D}=q4(g),z=e||fetch;U=U?(U+"").toLowerCase():"text";let $=Swe([C,T&&T.toAbortSignal()],M),Y=null;const j=$&&$.unsubscribe&&(()=>{$.unsubscribe()});let V;try{if(I&&c&&b!=="get"&&b!=="head"&&(V=yield v(F,_))!==0){let Q=new t(x,{method:"POST",body:_,duplex:"half"}),ue;if(Je.isFormData(_)&&(ue=Q.headers.get("content-type"))&&F.setContentType(ue),Q.body){const[se,ae]=ZD(V,w1(JD(I)));_=eL(Q.body,tL,se,ae)}}Je.isString(L)||(L=L?"include":"omit");const B=a&&"credentials"in t.prototype,G=mn(qe({},D),{signal:$,method:b.toUpperCase(),headers:F.normalize().toJSON(),body:_,duplex:"half",credentials:B?L:void 0});Y=a&&new t(x,G);let W=yield a?z(Y,D):z(x,G);const Z=d&&(U==="stream"||U==="response");if(d&&(O||Z&&j)){const Q={};["status","statusText","headers"].forEach(ie=>{Q[ie]=W[ie]});const ue=Je.toFiniteNumber(W.headers.get("content-length")),[se,ae]=O&&ZD(ue,w1(JD(O),!0))||[];W=new r(eL(W.body,tL,se,()=>{ae&&ae(),j&&j()}),Q)}U=U||"text";let J=yield h[Je.findKey(h,U)||"text"](W,g);return!Z&&j&&j(),yield new Promise((Q,ue)=>{G4(Q,ue,{data:J,headers:So.from(W.headers),status:W.status,statusText:W.statusText,config:g,request:Y})})}catch(B){throw j&&j(),B&&B.name==="TypeError"&&/Load failed|fetch/i.test(B.message)?Object.assign(new vn("Network Error",vn.ERR_NETWORK,g,Y),{cause:B.cause||B}):vn.from(B,B&&B.code,g,Y)}})},Awe=new Map,X4=n=>{let e=n&&n.env||{};const{fetch:t,Request:r,Response:i}=e,a=[r,i,t];let o=a.length,s=o,l,c,d=Awe;for(;s--;)l=a[s],c=d.get(l),c===void 0&&d.set(l,c=s?new Map:Ewe(e)),d=c;return c};X4();const kP={http:GCe,xhr:_we,fetch:{get:X4}};Je.forEach(kP,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch(t){}Object.defineProperty(n,"adapterName",{value:e})}});const aL=n=>`- ${n}`,Rwe=n=>Je.isFunction(n)||n===null||n===!1;function Pwe(n,e){n=Je.isArray(n)?n:[n];const{length:t}=n;let r,i;const a={};for(let o=0;o<t;o++){r=n[o];let s;if(i=r,!Rwe(r)&&(i=kP[(s=String(r)).toLowerCase()],i===void 0))throw new vn(`Unknown adapter '${s}'`);if(i&&(Je.isFunction(i)||(i=i.get(e))))break;a[s||"#"+o]=i}if(!i){const o=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=t?o.length>1?`since :
`+o.map(aL).join(`
`):" "+aL(o[0]):"as no adapter specified";throw new vn("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i}const Y4={getAdapter:Pwe,adapters:kP};function VM(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Zm(null,n)}function oL(n){return VM(n),n.headers=So.from(n.headers),n.data=$M.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Y4.getAdapter(n.adapter||Ky.adapter,n)(n).then(function(r){return VM(n),r.data=$M.call(n,n.transformResponse,r),r.headers=So.from(r.headers),r},function(r){return V4(r)||(VM(n),r&&r.response&&(r.response.data=$M.call(n,n.transformResponse,r.response),r.response.headers=So.from(r.response.headers))),Promise.reject(r)})}const K4="1.13.2",gw={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{gw[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const sL={};gw.transitional=function(e,t,r){function i(a,o){return"[Axios v"+K4+"] Transitional option '"+a+"'"+o+(r?". "+r:"")}return(a,o,s)=>{if(e===!1)throw new vn(i(o," has been removed"+(t?" in "+t:"")),vn.ERR_DEPRECATED);return t&&!sL[o]&&(sL[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(a,o,s):!0}};gw.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Owe(n,e,t){if(typeof n!="object")throw new vn("options must be an object",vn.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const a=r[i],o=e[a];if(o){const s=n[a],l=s===void 0||o(s,a,n);if(l!==!0)throw new vn("option "+a+" must be "+l,vn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new vn("Unknown option "+a,vn.ERR_BAD_OPTION)}}const lS={assertOptions:Owe,validators:gw},Ol=lS.validators;let Ff=class{constructor(e){this.defaults=e||{},this.interceptors={request:new YD,response:new YD}}request(e,t){return Bt(this,null,function*(){try{return yield this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?a&&!String(r.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+a):r.stack=a}catch(o){}}throw r}})}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Gf(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:a}=t;r!==void 0&&lS.assertOptions(r,{silentJSONParsing:Ol.transitional(Ol.boolean),forcedJSONParsing:Ol.transitional(Ol.boolean),clarifyTimeoutError:Ol.transitional(Ol.boolean)},!1),i!=null&&(Je.isFunction(i)?t.paramsSerializer={serialize:i}:lS.assertOptions(i,{encode:Ol.function,serialize:Ol.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),lS.assertOptions(t,{baseUrl:Ol.spelling("baseURL"),withXsrfToken:Ol.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=a&&Je.merge(a.common,a[t.method]);a&&Je.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),t.headers=So.concat(o,a);const s=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(l=l&&x.synchronous,s.unshift(x.fulfilled,x.rejected))});const c=[];this.interceptors.response.forEach(function(x){c.push(x.fulfilled,x.rejected)});let d,h=0,m;if(!l){const g=[oL.bind(this),void 0];for(g.unshift(...s),g.push(...c),m=g.length,d=Promise.resolve(t);h<m;)d=d.then(g[h++],g[h++]);return d}m=s.length;let v=t;for(;h<m;){const g=s[h++],x=s[h++];try{v=g(v)}catch(b){x.call(this,b);break}}try{d=oL.call(this,v)}catch(g){return Promise.reject(g)}for(h=0,m=c.length;h<m;)d=d.then(c[h++],c[h++]);return d}getUri(e){e=Gf(this.defaults,e);const t=W4(e.baseURL,e.url,e.allowAbsoluteUrls);return k4(t,e.params,e.paramsSerializer)}};Je.forEach(["delete","get","head","options"],function(e){Ff.prototype[e]=function(t,r){return this.request(Gf(r||{},{method:e,url:t,data:(r||{}).data}))}});Je.forEach(["post","put","patch"],function(e){function t(r){return function(a,o,s){return this.request(Gf(s||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}Ff.prototype[e]=t(),Ff.prototype[e+"Form"]=t(!0)});let Fwe=class Z4{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(a){t=a});const r=this;this.promise.then(i=>{if(!r._listeners)return;let a=r._listeners.length;for(;a-- >0;)r._listeners[a](i);r._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(s=>{r.subscribe(s),a=s}).then(i);return o.cancel=function(){r.unsubscribe(a)},o},e(function(a,o,s){r.reason||(r.reason=new Zm(a,o,s),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Z4(function(i){e=i}),cancel:e}}};function Iwe(n){return function(t){return n.apply(null,t)}}function Dwe(n){return Je.isObject(n)&&n.isAxiosError===!0}const cR={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(cR).forEach(([n,e])=>{cR[e]=n});function J4(n){const e=new Ff(n),t=R4(Ff.prototype.request,e);return Je.extend(t,Ff.prototype,e,{allOwnKeys:!0}),Je.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return J4(Gf(n,i))},t}const qr=J4(Ky);qr.Axios=Ff;qr.CanceledError=Zm;qr.CancelToken=Fwe;qr.isCancel=V4;qr.VERSION=K4;qr.toFormData=mw;qr.AxiosError=vn;qr.Cancel=qr.CanceledError;qr.all=function(e){return Promise.all(e)};qr.spread=Iwe;qr.isAxiosError=Dwe;qr.mergeConfig=Gf;qr.AxiosHeaders=So;qr.formToJSON=n=>$4(Je.isHTMLForm(n)?new FormData(n):n);qr.getAdapter=Y4.getAdapter;qr.HttpStatusCode=cR;qr.default=qr;const{Axios:iNe,AxiosError:aNe,CanceledError:oNe,isCancel:sNe,CancelToken:lNe,VERSION:cNe,all:uNe,Cancel:dNe,isAxiosError:fNe,spread:hNe,toFormData:pNe,AxiosHeaders:mNe,HttpStatusCode:gNe,formToJSON:vNe,getAdapter:yNe,mergeConfig:bNe}=qr,jP=qr.create({baseURL:"http://localhost:8887",timeout:60*10*1e3,headers:{"Content-Type":"application/json;charset=utf-8"}}),T1=new Map,Q4=n=>{const{url:e,method:t="get",params:r,data:i}=n,a=r?JSON.stringify(r):"",o=i?JSON.stringify(i):"";return`${e}-${t}-${a}-${o}`},Lwe=(n,e)=>{const t=Q4(n);!T1.has(t)&&n.ignoreRepeat!==!1&&T1.set(t,{cancel:e,url:n.url,method:n.method})},uR=n=>{const e=Q4(n);T1.has(e)&&T1.delete(e)};jP.interceptors.request.use(n=>{const e=qr.CancelToken.source();n.cancelToken=e.token,Lwe(n,e.cancel);const t=localStorage.getItem("token");return t&&(n.headers.Authorization=`Bearer ${t}`),n},n=>(uR(n.config),Promise.reject(n)));jP.interceptors.response.use(n=>{const e=n.config;uR(e);const{data:t,status:r}=n;return t.code===401&&($n.error("登录状态已过期，请重新登录"),localStorage.removeItem("token")),t.code===500?Promise.reject(new Error((t==null?void 0:t.msg)||"服务器错误")):r<200||r>=400?e.showError!==!1?Promise.reject(new Error((t==null?void 0:t.msg)||"服务器错误")):Promise.reject(new Error(`HTTP 错误：${r}`)):t},n=>{uR(n.config);const e=n.config;if(qr.isCancel(n))return console.log("请求被取消：",n.message),Promise.reject(new Error("请求已取消"));if(!n.response)return(e==null?void 0:e.showError)!==!1&&$n.error("网络连接错误"),Promise.reject(new Error("网络错误"));const{status:t,data:r}=n.response;return r.code===401&&($n.error("登录状态已过期，请重新登录"),localStorage.removeItem("token")),(e==null?void 0:e.showError)!==!1&&$n.error((r==null?void 0:r.message)||`请求失败：${t}`),Promise.reject(n)});const Zy=(n,e,t)=>jP.get(n,qe({params:e},t)),Nwe=n=>Bt(void 0,null,function*(){return Zy("api/v1/admin/user/",n).then(e=>e.data)}),Uwe=n=>Bt(void 0,null,function*(){return Zy("api/v1/role/",n).then(e=>e.data)}),Bwe=n=>Bt(void 0,null,function*(){return Zy("api/v1/permission/",n).then(e=>e.data)});var e5={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(da,function(){var t={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(i,a,o){var s,l=function(m,v,g){g===void 0&&(g={});var x=new Date(m),b=function(_,C){C===void 0&&(C={});var T=C.timeZoneName||"short",M=_+"|"+T,O=r[M];return O||(O=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:_,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:T}),r[M]=O),O}(v,g);return b.formatToParts(x)},c=function(m,v){for(var g=l(m,v),x=[],b=0;b<g.length;b+=1){var _=g[b],C=_.type,T=_.value,M=t[C];M>=0&&(x[M]=parseInt(T,10))}var O=x[3],I=O===24?0:O,U=x[0]+"-"+x[1]+"-"+x[2]+" "+I+":"+x[4]+":"+x[5]+":000",F=+m;return(o.utc(U).valueOf()-(F-=F%1e3))/6e4},d=a.prototype;d.tz=function(m,v){m===void 0&&(m=s);var g,x=this.utcOffset(),b=this.toDate(),_=b.toLocaleString("en-US",{timeZone:m}),C=Math.round((b-new Date(_))/1e3/60),T=15*-Math.round(b.getTimezoneOffset()/15)-C;if(!Number(T))g=this.utcOffset(0,v);else if(g=o(_,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(T,!0),v){var M=g.utcOffset();g=g.add(x-M,"minute")}return g.$x.$timezone=m,g},d.offsetName=function(m){var v=this.$x.$timezone||o.tz.guess(),g=l(this.valueOf(),v,{timeZoneName:m}).find(function(x){return x.type.toLowerCase()==="timezonename"});return g&&g.value};var h=d.startOf;d.startOf=function(m,v){if(!this.$x||!this.$x.$timezone)return h.call(this,m,v);var g=o(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return h.call(g,m,v).tz(this.$x.$timezone,!0)},o.tz=function(m,v,g){var x=g&&v,b=g||v||s,_=c(+o(),b);if(typeof m!="string")return o(m).tz(b);var C=function(I,U,F){var L=I-60*U*1e3,D=c(L,F);if(U===D)return[L,U];var z=c(L-=60*(D-U)*1e3,F);return D===z?[L,D]:[I-60*Math.min(D,z)*1e3,Math.max(D,z)]}(o.utc(m,x).valueOf(),_,b),T=C[0],M=C[1],O=o(T).utcOffset(M);return O.$x.$timezone=b,O},o.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},o.tz.setDefault=function(m){s=m}}})})(e5);var zwe=e5.exports;const Hwe=ri(zwe);var t5={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(da,function(){var t="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(a,o,s){var l=o.prototype;s.utc=function(x){var b={date:x,utc:!0,args:arguments};return new o(b)},l.utc=function(x){var b=s(this.toDate(),{locale:this.$L,utc:!0});return x?b.add(this.utcOffset(),t):b},l.local=function(){return s(this.toDate(),{locale:this.$L,utc:!1})};var c=l.parse;l.parse=function(x){x.utc&&(this.$u=!0),this.$utils().u(x.$offset)||(this.$offset=x.$offset),c.call(this,x)};var d=l.init;l.init=function(){if(this.$u){var x=this.$d;this.$y=x.getUTCFullYear(),this.$M=x.getUTCMonth(),this.$D=x.getUTCDate(),this.$W=x.getUTCDay(),this.$H=x.getUTCHours(),this.$m=x.getUTCMinutes(),this.$s=x.getUTCSeconds(),this.$ms=x.getUTCMilliseconds()}else d.call(this)};var h=l.utcOffset;l.utcOffset=function(x,b){var _=this.$utils().u;if(_(x))return this.$u?0:_(this.$offset)?h.call(this):this.$offset;if(typeof x=="string"&&(x=function(O){O===void 0&&(O="");var I=O.match(r);if(!I)return null;var U=(""+I[0]).match(i)||["-",0,0],F=U[0],L=60*+U[1]+ +U[2];return L===0?0:F==="+"?L:-L}(x),x===null))return this;var C=Math.abs(x)<=16?60*x:x;if(C===0)return this.utc(b);var T=this.clone();if(b)return T.$offset=C,T.$u=!1,T;var M=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(T=this.local().add(C+M,t)).$offset=C,T.$x.$localOffset=M,T};var m=l.format;l.format=function(x){var b=x||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return m.call(this,b)},l.valueOf=function(){var x=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*x},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var v=l.toDate;l.toDate=function(x){return x==="s"&&this.$offset?s(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():v.call(this)};var g=l.diff;l.diff=function(x,b,_){if(x&&this.$u===x.$u)return g.call(this,x,b,_);var C=this.local(),T=s(x).local();return g.call(C,T,b,_)}}})})(t5);var kwe=t5.exports;const jwe=ri(kwe);Rn.extend(jwe);Rn.extend(Hwe);function $we(n,e="YYYY-MM-DD HH:mm:ss",t=!0,r){const i=Rn.utc(n).tz(r);return t?`${i.format(e)} ${i.format("z")}`:i.format(e)}function $P(n,e="YYYY-MM-DD HH:mm:ss"){return Rn($we(n)).format(e)}function Vwe({initialValues:n,onFormInstanceReady:e}){const[t]=pn.useForm(),[r,i]=P.useState(!1);return P.useEffect(()=>{e(t)},[]),BR({message:"您还有未保存的修改，确定要离开吗？",when:({currentLocation:a,nextLocation:o})=>r&&a.pathname!==o.pathname}),w.jsxs(pn,{layout:"horizontal",form:t,name:"form_in_modal",initialValues:n,preserve:!1,labelAlign:"left",onChange:()=>{i(!0)},labelCol:{flex:"50px"},wrapperCol:{flex:1},className:"mt-4",children:[w.jsx(pn.Item,{name:"name",label:"Name",children:w.jsx(ei,{})}),w.jsx(pn.Item,{name:"phone",label:"Phone",children:w.jsx(ei,{})}),w.jsx(pn.Item,{name:"email",label:"Email",children:w.jsx(ei,{})}),w.jsx(pn.Item,{name:["address","city"],label:"City",children:w.jsx(ei,{})}),w.jsx(pn.Item,{name:["address","street"],label:"Street",children:w.jsx(ei,{})})]})}function Gwe({open:n,onCreate:e,onCancel:t,initialValues:r}){const[i,a]=P.useState(),[o,s]=P.useState(!1);return w.jsx(cm,{title:"Edit",open:n,destroyOnHidden:!0,maskClosable:!1,onCancel:t,confirmLoading:o,okButtonProps:{htmlType:"submit"},cancelButtonProps:{disabled:o},onOk:()=>Bt(this,null,function*(){try{const l=yield i==null?void 0:i.validateFields();s(!0),e(l).finally(()=>{s(!1),t()})}catch(l){console.log("Failed:",l)}}),children:w.jsx(Vwe,{initialValues:r,onFormInstanceReady:l=>{a(l)}})})}const Wwe="https://jsonplaceholder.typicode.com/",qwe=(...e)=>Bt(void 0,[...e],function*(n={}){return yield(yield fetch(Wwe+"users")).json()}),Xwe=({data:n,onRefresh:e})=>{const[t,r]=P.useState(!1),i=l=>qwe(),a=l=>(console.log("Received values of form: ",l),i()),o=()=>r(!0),s=()=>r(!1);return w.jsxs(w.Fragment,{children:[w.jsx(lr,{type:"link",size:"small",onClick:o,children:"编辑"}),w.jsx(Gwe,{open:t,initialValues:n,onCreate:a,onCancel:s})]})};function Ywe(){const n=bC(),e=P.useRef(void 0),t=[{title:"用户名",dataIndex:"email",key:"email"},{title:"昵称",dataIndex:"nickname",key:"nickname"},{title:"手机号",dataIndex:"phone",key:"phone",copyable:!0},{title:"创建时间",dataIndex:"created_at",key:"created_at",render:(r,i)=>$P(i.created_at),search:!1},{title:"操作",dataIndex:"id",search:!1,key:"id",render:(r,i)=>w.jsxs(Ra,{children:[w.jsx(Xwe,{data:i,onRefresh:()=>{var a;(a=e.current)==null||a.reload()}}),w.jsx(lr,{onClick:()=>{n(`${pi.userManagementDetail}/443`)},type:"link",children:"详情"})]})}];return w.jsx(ih,{title:"用户管理",children:w.jsx(_m,{actionRef:e,search:{filterType:"query"},columns:t,rowKey:"id",request:(r,i,a)=>Bt(this,null,function*(){const o=yield Nwe(qe({current:r.current,pageSize:r.pageSize},r));return{data:(o==null?void 0:o.items)||[],total:(o==null?void 0:o.total)||0}})})})}function Kwe(){return w.jsx("div",{className:"text-indigo-700",children:w.jsx(xC,{})})}function Zwe({initialValues:n,onFormInstanceReady:e}){const[t]=pn.useForm(),[r,i]=P.useState(!1);return P.useEffect(()=>{e(t)},[]),BR({message:"您还有未保存的修改，确定要离开吗？",when:({currentLocation:a,nextLocation:o})=>r&&a.pathname!==o.pathname}),w.jsxs(pn,{layout:"horizontal",form:t,name:"form_in_modal",initialValues:n,preserve:!1,labelAlign:"left",onChange:()=>{i(!0)},labelCol:{flex:"50px"},wrapperCol:{flex:1},className:"mt-4",children:[w.jsx(pn.Item,{name:"code",label:"标识",children:w.jsx(ei,{})}),w.jsx(pn.Item,{name:"name",label:"名称",children:w.jsx(ei,{})}),w.jsx(pn.Item,{name:"description",label:"备注",children:w.jsx(ei,{})})]})}function Jwe({open:n,onCreate:e,onCancel:t,initialValues:r}){const[i,a]=P.useState(),[o,s]=P.useState(!1);return w.jsx(cm,{title:"Edit",open:n,destroyOnHidden:!0,maskClosable:!1,onCancel:t,confirmLoading:o,okButtonProps:{htmlType:"submit"},cancelButtonProps:{disabled:o},onOk:()=>Bt(this,null,function*(){try{const l=yield i==null?void 0:i.validateFields();s(!0),e(l).finally(()=>{s(!1),t()})}catch(l){console.log("Failed:",l)}}),children:w.jsx(Zwe,{initialValues:r,onFormInstanceReady:l=>{a(l)}})})}const n5=(...e)=>Bt(void 0,[...e],function*(n={current:1,size:10}){const t=[{id:"1",code:"device:add",created_at:"2025-12-12T03:22:22.319000",name:"新增设备",description:""},{id:"1-1",code:"device:edit",created_at:"2025-12-12T03:22:22.319000",name:"修改设备",description:""},{id:"2",code:"organization:add",created_at:"2025-12-12T03:22:22.319000",name:"新增客户",description:""},{id:"2-2",code:"organization:edit",created_at:"2025-12-12T03:22:22.319000",name:"修改客户",description:""}];return Promise.resolve(t)}),Qwe=({data:n,onRefresh:e})=>{const[t,r]=P.useState(!1),i=l=>n5(),a=l=>(console.log("Received values of form: ",l),i()),o=()=>r(!0),s=()=>r(!1);return w.jsxs(w.Fragment,{children:[w.jsx(lr,{type:"link",size:"small",onClick:o,children:"编辑"}),w.jsx(Jwe,{open:t,initialValues:n,onCreate:a,onCancel:s})]})};function eTe(){const n=P.useRef(void 0),e=[{title:"权限标识",dataIndex:"code",key:"code"},{title:"权限名称",dataIndex:"name",key:"name"},{title:"备注",dataIndex:"description",key:"description"},{title:"创建时间",dataIndex:"created_at",key:"created_at",render:(t,r)=>$P(r.created_at),search:!1},{title:"操作",dataIndex:"id",search:!1,key:"id",render:(t,r)=>w.jsx(Qwe,{data:r,onRefresh:()=>{var i;(i=n.current)==null||i.reload()}})}];return w.jsx(ih,{title:"权限管理",children:w.jsx(_m,{actionRef:n,search:{filterType:"query"},columns:e,rowKey:"id",request:(t,r,i)=>Bt(this,null,function*(){const a=yield Bwe(qe({current:t.current,pageSize:t.pageSize},t));return{data:(a==null?void 0:a.items)||[],total:(a==null?void 0:a.total)||0}})})})}const tTe=()=>{const{id:n}=zR();return w.jsx(w.Fragment,{children:w.jsxs("div",{children:["详情",n]})})},nTe="_wrapper_19f4c_1",rTe="_listContainer_19f4c_5",iTe="_itemContainer_19f4c_10",aTe="_selected_19f4c_29",oTe="_itemTitle_19f4c_35",sTe="_itemImgWrap_19f4c_39",lTe="_disabled_19f4c_42",cTe="_itemImg_19f4c_39",uTe="_itemInfo_19f4c_57",dTe="_selectedMarker_19f4c_72",Fl={wrapper:nTe,listContainer:rTe,itemContainer:iTe,selected:aTe,itemTitle:oTe,itemImgWrap:sTe,disabled:lTe,itemImg:cTe,itemInfo:uTe,selectedMarker:dTe};var zl=(n=>(n.Portable="Portable",n.FullFunction="FullFunction",n))(zl||{});const r5="/png/fastumipro1-npIbNMRS.png",i5="/png/product-full-c4rBHNZA.png",a5=n=>[{title:n("dataCollector.versionSelector.portableTitle"),description:n("dataCollector.versionSelector.portableDesc"),url:r5,value:zl.Portable,apiBasePrefix:"/portable"},{title:n("dataCollector.versionSelector.fullFunctionTitle"),description:n("dataCollector.versionSelector.fullFunctionDesc"),url:i5,value:zl.FullFunction,apiBasePrefix:"/pro"}];zl.Portable,zl.FullFunction;const fTe=({value:n=zl.Portable,onChange:e,disabled:t})=>{const{t:r}=ah(),i=a5(r),a=o=>{t||e==null||e(o)};return w.jsx("div",{className:Fl.wrapper,children:w.jsx(Ai,{style:{marginTop:0},title:r("dataCollector.versionSelectorTitle"),children:w.jsx("div",{className:Fl.listContainer,children:i.map(o=>{const s=n===o.value;return w.jsxs("div",{className:HR(Fl.itemContainer,{[Fl.selected]:s,[Fl.disabled]:t&&!s}),onClick:()=>a(o.value),children:[w.jsx("div",{className:Fl.itemImgWrap,children:w.jsx("img",{src:o.url,alt:o.title,className:Fl.itemImg})}),w.jsx("div",{className:Fl.itemInfo,children:w.jsx("h3",{className:Fl.itemTitle,children:o.title})}),s&&w.jsx("div",{className:Fl.selectedMarker})]},o.value)})})})})},hTe="_headerInfo_1dtp0_1",pTe={headerInfo:hTe},mTe="_countdownWrapper_umzli_1",gTe="_numberWrapper_umzli_24",vTe="_animate_umzli_41",vp={countdownWrapper:mTe,numberWrapper:gTe,animate:vTe};var yTe=function(n){return function(e,t){var r=P.useRef(!1);n(function(){return function(){r.current=!1}},[]),n(function(){if(!r.current)r.current=!0;else return e()},t)}},Qs=function(){return Qs=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Qs.apply(this,arguments)};function o5(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function bTe(n,e,t,r){function i(a){return a instanceof t?a:new t(function(o){o(a)})}return new(t||(t=Promise))(function(a,o){function s(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?a(d.value):i(d.value).then(s,l)}c((r=r.apply(n,e||[])).next())})}function xTe(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(d){return l([c,d])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(t=0)),t;)try{if(r=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){t.label=c[1];break}if(c[0]===6&&t.label<a[1]){t.label=a[1],a=c;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(c);break}a[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(d){c=[6,d],i=0}finally{r=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function ua(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,a=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(s){o={error:s}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return a}function Ta(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}var _Te=function(n){return typeof n=="function"},STe=function(n){return typeof n=="number"},yp=function(n){var e=P.useRef(n);e.current=P.useMemo(function(){return n},[n]);var t=P.useRef(void 0);return t.current||(t.current=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return e.current.apply(this,r)}),t.current};const dR=yTe(P.useEffect);var s5=function(n,e){var t=e.manual,r=e.ready,i=r===void 0?!0:r,a=e.defaultParams,o=a===void 0?[]:a,s=e.refreshDeps,l=s===void 0?[]:s,c=e.refreshDepsAction,d=P.useRef(!1);return d.current=!1,dR(function(){!t&&i&&(d.current=!0,n.run.apply(n,Ta([],ua(o),!1)))},[i]),dR(function(){d.current||t||(d.current=!0,c?c():n.refresh())},Ta([],ua(l),!1)),{onBefore:function(){if(!i)return{stopNow:!0}}}};s5.onInit=function(n){var e=n.ready,t=e===void 0?!0:e,r=n.manual;return{loading:!r&&t}};function CTe(n,e){if(n===e)return!0;for(var t=0;t<n.length;t++)if(!Object.is(n[t],e[t]))return!1;return!0}var l5=function(n,e){var t=P.useRef({deps:e,obj:void 0,initialized:!1}).current;return(t.initialized===!1||!CTe(t.deps,e))&&(t.deps=e,t.obj=n(),t.initialized=!0),t.obj};function VP(n){var e=P.useRef(n);return e.current=n,e}var GP=function(n){var e=VP(n);P.useEffect(function(){return function(){e.current()}},[])},cS=new Map,wTe=function(n,e,t){var r=cS.get(n);r!=null&&r.timer&&clearTimeout(r.timer);var i=void 0;e>-1&&(i=setTimeout(function(){cS.delete(n)},e)),cS.set(n,Qs(Qs({},t),{timer:i}))},TTe=function(n){return cS.get(n)},uS=new Map,MTe=function(n){return uS.get(n)},ETe=function(n,e){uS.set(n,e),e.then(function(t){return uS.delete(n),t}).catch(function(){uS.delete(n)})},bf={},ATe=function(n,e){bf[n]&&bf[n].forEach(function(t){return t(e)})},GM=function(n,e){return bf[n]||(bf[n]=[]),bf[n].push(e),function(){var r=bf[n].indexOf(e);bf[n].splice(r,1)}},RTe=function(n,e){var t=e.cacheKey,r=e.cacheTime,i=r===void 0?5*60*1e3:r,a=e.staleTime,o=a===void 0?0:a,s=e.setCache,l=e.getCache,c=P.useRef(void 0),d=P.useRef(void 0),h=function(v,g){s?s(g):wTe(v,i,g),ATe(v,g.data)},m=function(v,g){return g===void 0&&(g=[]),l?l(g):TTe(v)};return l5(function(){if(t){var v=m(t);v&&Object.hasOwnProperty.call(v,"data")&&(n.state.data=v.data,n.state.params=v.params,(o===-1||Date.now()-v.time<=o)&&(n.state.loading=!1)),c.current=GM(t,function(g){n.setState({data:g})})}},[]),GP(function(){var v;(v=c.current)===null||v===void 0||v.call(c)}),t?{onBefore:function(v){var g=m(t,v);return!g||!Object.hasOwnProperty.call(g,"data")?{}:o===-1||Date.now()-g.time<=o?{loading:!1,data:g==null?void 0:g.data,error:void 0,returnNow:!0}:{data:g==null?void 0:g.data,error:void 0}},onRequest:function(v,g){var x=MTe(t);return x&&x!==d.current?{servicePromise:x}:(x=v.apply(void 0,Ta([],ua(g),!1)),d.current=x,ETe(t,x),{servicePromise:x})},onSuccess:function(v,g){var x;t&&((x=c.current)===null||x===void 0||x.call(c),h(t,{data:v,params:g,time:Date.now()}),c.current=GM(t,function(b){n.setState({data:b})}))},onMutate:function(v){var g;t&&((g=c.current)===null||g===void 0||g.call(c),h(t,{data:v,params:n.state.params,time:Date.now()}),c.current=GM(t,function(x){n.setState({data:x})}))}}:{}},PTe=function(n,e){var t=e.debounceWait,r=e.debounceLeading,i=e.debounceTrailing,a=e.debounceMaxWait,o=P.useRef(void 0),s=P.useMemo(function(){var l={};return r!==void 0&&(l.leading=r),i!==void 0&&(l.trailing=i),a!==void 0&&(l.maxWait=a),l},[r,i,a]);return P.useEffect(function(){if(t){var l=n.runAsync.bind(n);return o.current=tz(function(c){c()},t,s),n.runAsync=function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return new Promise(function(h,m){var v;(v=o.current)===null||v===void 0||v.call(o,function(){l.apply(void 0,Ta([],ua(c),!1)).then(h).catch(m)})})},function(){var c;(c=o.current)===null||c===void 0||c.cancel(),n.runAsync=l}}},[t,s]),t?{onCancel:function(){var l;(l=o.current)===null||l===void 0||l.cancel()}}:{}},OTe=function(n,e){var t=e.loadingDelay,r=e.ready,i=P.useRef(void 0);if(!t)return{};var a=function(){i.current&&clearTimeout(i.current)};return{onBefore:function(){return a(),r!==!1&&(i.current=setTimeout(function(){n.setState({loading:!0})},t)),{loading:!1}},onFinally:function(){a()},onCancel:function(){a()}}},vw=!!(typeof window!="undefined"&&window.document&&window.document.createElement);function WP(){return vw?document.visibilityState!=="hidden":!0}var dS=new Set;function FTe(n){return dS.add(n),function(){dS.has(n)&&dS.delete(n)}}if(vw){var ITe=function(){WP()&&dS.forEach(function(n){return n()})};window.addEventListener("visibilitychange",ITe,!1)}var DTe=function(n,e){var t=e.pollingInterval,r=e.pollingWhenHidden,i=r===void 0?!0:r,a=e.pollingErrorRetryCount,o=a===void 0?-1:a,s=P.useRef(void 0),l=P.useRef(void 0),c=P.useRef(0),d=function(){var h;s.current&&clearTimeout(s.current),(h=l.current)===null||h===void 0||h.call(l)};return dR(function(){t||d()},[t]),t?{onBefore:function(){d()},onError:function(){c.current+=1},onSuccess:function(){c.current=0},onFinally:function(){o===-1||o!==-1&&c.current<=o?s.current=setTimeout(function(){!i&&!WP()?l.current=FTe(function(){n.refresh()}):n.refresh()},t):c.current=0},onCancel:function(){d()}}:{}};function LTe(n,e){var t=!1;return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];t||(t=!0,n.apply(void 0,Ta([],ua(r),!1)),setTimeout(function(){t=!1},e))}}var NTe=function(){return vw&&typeof navigator.onLine!="undefined"?navigator.onLine:!0},fS=new Set;function UTe(n){return fS.add(n),function(){fS.has(n)&&fS.delete(n)}}if(vw){var lL=function(){!WP()||!NTe()||fS.forEach(function(n){return n()})};window.addEventListener("visibilitychange",lL,!1),window.addEventListener("focus",lL,!1)}var BTe=function(n,e){var t=e.refreshOnWindowFocus,r=e.focusTimespan,i=r===void 0?5e3:r,a=P.useRef(void 0),o=function(){var s;(s=a.current)===null||s===void 0||s.call(a)};return P.useEffect(function(){if(t){var s=LTe(n.refresh.bind(n),i);a.current=UTe(function(){s()})}return function(){o()}},[t,i]),GP(function(){o()}),{}},zTe=function(n,e){var t=e.retryInterval,r=e.retryCount,i=P.useRef(void 0),a=P.useRef(0),o=P.useRef(!1);return r?{onBefore:function(){o.current||(a.current=0),o.current=!1,i.current&&clearTimeout(i.current)},onSuccess:function(){a.current=0},onError:function(){if(a.current+=1,r===-1||a.current<=r){var s=t!=null?t:Math.min(1e3*Math.pow(2,a.current),3e4);i.current=setTimeout(function(){o.current=!0,n.refresh()},s)}else a.current=0},onCancel:function(){a.current=0,i.current&&clearTimeout(i.current)}}:{}},HTe=function(n,e){var t=e.throttleWait,r=e.throttleLeading,i=e.throttleTrailing,a=P.useRef(void 0),o={};return r!==void 0&&(o.leading=r),i!==void 0&&(o.trailing=i),P.useEffect(function(){if(t){var s=n.runAsync.bind(n);return a.current=nz(function(l){l()},t,o),n.runAsync=function(){for(var l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];return new Promise(function(d,h){var m;(m=a.current)===null||m===void 0||m.call(a,function(){s.apply(void 0,Ta([],ua(l),!1)).then(d).catch(h)})})},function(){var l;n.runAsync=s,(l=a.current)===null||l===void 0||l.cancel()}}},[t,r,i]),t?{onCancel:function(){var s;(s=a.current)===null||s===void 0||s.cancel()}}:{}},kTe=function(n){P.useEffect(function(){var e=n==null?void 0:n();if(!(e&&typeof e=="object"&&typeof e.then=="function"))return e},[])},jTe=function(){var n=ua(P.useState({}),2),e=n[1];return P.useCallback(function(){return e({})},[])},$Te=function(){function n(e,t,r,i){i===void 0&&(i={}),this.serviceRef=e,this.options=t,this.subscribe=r,this.initState=i,this.pluginImpls=[],this.count=0,this.state={loading:!1,params:void 0,data:void 0,error:void 0},this.state=Qs(Qs(Qs({},this.state),{loading:!t.manual}),i)}return n.prototype.setState=function(e){e===void 0&&(e={}),this.state=Qs(Qs({},this.state),e),this.subscribe()},n.prototype.runPluginHandler=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=this.pluginImpls.map(function(a){var o;return(o=a[e])===null||o===void 0?void 0:o.call.apply(o,Ta([a],ua(t),!1))}).filter(Boolean);return Object.assign.apply(Object,Ta([{}],ua(i),!1))},n.prototype.runAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return bTe(this,void 0,void 0,function(){var r,i,a,o,s,l,c,d,h,m,v,g,x,b,_,C,T,M,O,I,U;return xTe(this,function(F){switch(F.label){case 0:if(this.count+=1,r=this.count,i=this.runPluginHandler("onBefore",e),a=i.stopNow,o=a===void 0?!1:a,s=i.returnNow,l=s===void 0?!1:s,c=o5(i,["stopNow","returnNow"]),o)return[2,new Promise(function(){})];if(this.setState(Qs({loading:!0,params:e},c)),l)return[2,Promise.resolve(c.data)];(x=(g=this.options).onBefore)===null||x===void 0||x.call(g,e),F.label=1;case 1:return F.trys.push([1,3,,4]),d=this.runPluginHandler("onRequest",this.serviceRef.current,e).servicePromise,d||(d=(v=this.serviceRef).current.apply(v,Ta([],ua(e),!1))),[4,d];case 2:return h=F.sent(),r!==this.count?[2,new Promise(function(){})]:(this.setState({data:h,error:void 0,loading:!1}),(_=(b=this.options).onSuccess)===null||_===void 0||_.call(b,h,e),this.runPluginHandler("onSuccess",h,e),(T=(C=this.options).onFinally)===null||T===void 0||T.call(C,e,h,void 0),r===this.count&&this.runPluginHandler("onFinally",e,h,void 0),[2,h]);case 3:if(m=F.sent(),r!==this.count)return[2,new Promise(function(){})];throw this.setState({error:m,loading:!1}),(O=(M=this.options).onError)===null||O===void 0||O.call(M,m,e),this.runPluginHandler("onError",m,e),(U=(I=this.options).onFinally)===null||U===void 0||U.call(I,e,void 0,m),r===this.count&&this.runPluginHandler("onFinally",e,void 0,m),m;case 4:return[2]}})})},n.prototype.run=function(){for(var e=this,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];this.runAsync.apply(this,Ta([],ua(t),!1)).catch(function(i){e.options.onError||console.error(i)})},n.prototype.cancel=function(){this.count+=1,this.setState({loading:!1}),this.runPluginHandler("onCancel")},n.prototype.refresh=function(){this.run.apply(this,Ta([],ua(this.state.params||[]),!1))},n.prototype.refreshAsync=function(){return this.runAsync.apply(this,Ta([],ua(this.state.params||[]),!1))},n.prototype.mutate=function(e){var t=_Te(e)?e(this.state.data):e;this.runPluginHandler("onMutate",t),this.setState({data:t})},n}();function VTe(n,e,t){e===void 0&&(e={}),t===void 0&&(t=[]);var r=e.manual,i=r===void 0?!1:r,a=e.ready,o=a===void 0?!0:a,s=o5(e,["manual","ready"]),l=Qs({manual:i,ready:o},s),c=VP(n),d=jTe(),h=l5(function(){var m=t.map(function(v){var g;return(g=v==null?void 0:v.onInit)===null||g===void 0?void 0:g.call(v,l)}).filter(Boolean);return new $Te(c,l,d,Object.assign.apply(Object,Ta([{}],ua(m),!1)))},[]);return h.options=l,h.pluginImpls=t.map(function(m){return m(h,l)}),kTe(function(){if(!i&&o){var m=h.state.params||e.defaultParams||[];h.run.apply(h,Ta([],ua(m),!1))}}),GP(function(){h.cancel()}),{loading:h.state.loading,data:h.state.data,error:h.state.error,params:h.state.params||[],cancel:yp(h.cancel.bind(h)),refresh:yp(h.refresh.bind(h)),refreshAsync:yp(h.refreshAsync.bind(h)),run:yp(h.run.bind(h)),runAsync:yp(h.runAsync.bind(h)),mutate:yp(h.mutate.bind(h))}}function qP(n,e,t){return VTe(n,e,Ta(Ta([],ua([]),!1),[PTe,OTe,DTe,BTe,HTe,s5,RTe,zTe],!1))}var WM=function(n){if(!n)return 0;var e=Rn(n).valueOf()-Date.now();return e<0?0:e},GTe=function(n){return{days:Math.floor(n/864e5),hours:Math.floor(n/36e5)%24,minutes:Math.floor(n/6e4)%60,seconds:Math.floor(n/1e3)%60,milliseconds:Math.floor(n)%1e3}},WTe=function(n){n===void 0&&(n={});var e=n||{},t=e.leftTime,r=e.targetDate,i=e.interval,a=i===void 0?1e3:i,o=e.onEnd,s=P.useMemo(function(){return STe(t)&&t>0?Date.now()+t:void 0},[t]),l="leftTime"in n?s:r,c=ua(P.useState(function(){return WM(l)}),2),d=c[0],h=c[1],m=VP(o);P.useEffect(function(){if(!l){h(0);return}h(WM(l));var g=setInterval(function(){var x,b=WM(l);h(b),b===0&&(clearInterval(g),(x=m.current)===null||x===void 0||x.call(m))},a);return function(){return clearInterval(g)}},[l,a]);var v=P.useMemo(function(){return GTe(d)},[d]);return[d,v]};const qTe=({totalSeconds:n=3,triggerCountdown:e,onComplete:t,showAnimation:r=!0,animationScale:i=1.5,animationDuration:a=.5,textColor:o="#04befe",backgroundColor:s="rgba(255, 255, 255, 0.9)",showCircleBackground:l=!0})=>{const[c,d]=P.useState(!1),[h,m]=P.useState(!1),[v,g]=P.useState(n),[x,b]=P.useState(),_=P.useRef(n),C=P.useRef(null),[T]=WTe({targetDate:x,onEnd:()=>{t==null||t(),d(!1),m(!1)}});P.useEffect(()=>{const F=Math.round(T/1e3);F!==_.current&&F>=0&&F<=n&&(g(F),r&&C.current&&(C.current.classList.remove(vp.animate),C.current.offsetWidth,C.current.classList.add(vp.animate)),_.current=F)},[T,n,r]),P.useEffect(()=>{e&&!c&&(d(!0),m(!0),g(n),_.current=n,b(new Date().getTime()+n*1e3))},[e,c,n]);const M=P.useCallback(()=>{v===0&&C.current&&C.current.classList.add(vp.final)},[v]),O=P.useCallback(F=>F===0?"Go!":F.toString(),[]),I=P.useCallback(()=>v===0?"140px":"120px",[v]),U=P.useCallback(()=>{const F={};return o&&(F.color=o),s&&l&&(F.background=s),F},[o,s,l]);return c?w.jsx("div",{className:vp.countdownWrapper,style:{backgroundColor:"rgba(0, 0, 0, 0.7)"},children:w.jsx("div",{ref:C,className:`${vp.numberWrapper} ${h?vp.animating:""}`,style:mn(qe({fontSize:I()},U()),{"--animation-scale":i,"--animation-duration":`${a}s`}),onAnimationEnd:M,children:O(v)})}):null};var M1={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/M1.exports;(function(n,e){(function(){var t,r="4.17.21",i=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",s="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,d="__lodash_placeholder__",h=1,m=2,v=4,g=1,x=2,b=1,_=2,C=4,T=8,M=16,O=32,I=64,U=128,F=256,L=512,D=30,z="...",$=800,Y=16,j=1,V=2,B=3,G=1/0,W=9007199254740991,Z=17976931348623157e292,J=NaN,Q=4294967295,ue=Q-1,se=Q>>>1,ae=[["ary",U],["bind",b],["bindKey",_],["curry",T],["curryRight",M],["flip",L],["partial",O],["partialRight",I],["rearg",F]],ie="[object Arguments]",te="[object Array]",ee="[object AsyncFunction]",xe="[object Boolean]",Ee="[object Date]",Se="[object DOMException]",ze="[object Error]",Ue="[object Function]",re="[object GeneratorFunction]",Ce="[object Map]",Fe="[object Number]",ge="[object Null]",fe="[object Object]",ve="[object Promise]",be="[object Proxy]",we="[object RegExp]",Ie="[object Set]",Ae="[object String]",X="[object Symbol]",q="[object Undefined]",ye="[object WeakMap]",Re="[object WeakSet]",Ge="[object ArrayBuffer]",Le="[object DataView]",ht="[object Float32Array]",et="[object Float64Array]",xt="[object Int8Array]",St="[object Int16Array]",st="[object Int32Array]",dt="[object Uint8Array]",Ft="[object Uint8ClampedArray]",pe="[object Uint16Array]",Te="[object Uint32Array]",$e=/\b__p \+= '';/g,me=/\b(__p \+=) '' \+/g,Xe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,tt=/&(?:amp|lt|gt|quot|#39);/g,ct=/[&<>"']/g,nt=RegExp(tt.source),Qe=RegExp(ct.source),pt=/<%-([\s\S]+?)%>/g,Rt=/<%([\s\S]+?)%>/g,Yt=/<%=([\s\S]+?)%>/g,Kt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cr=/^\w*$/,jr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rs=/[\\^$.*+?()[\]{}|]/g,Ia=RegExp(rs.source),wo=/^\s+/,gt=/\s/,wt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,kt=/\{\n\/\* \[wrapped with (.+)\] \*/,sn=/,? & /,Rr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Nn=/[()=,{}\[\]\/\s]/,vi=/\\(\\)?/g,id=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ad=/\w*$/,uh=/^[-+]0x[0-9a-f]+$/i,ig=/^0b[01]+$/i,od=/^\[object .+?Constructor\]$/,sd=/^0o[0-7]+$/i,ce=/^(?:0|[1-9]\d*)$/,De=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ve=/($^)/,Ye=/['\n\r\u2028\u2029\\]/g,Be="\\ud800-\\udfff",vt="\\u0300-\\u036f",Ct="\\ufe20-\\ufe2f",Nt="\\u20d0-\\u20ff",Pt=vt+Ct+Nt,Wt="\\u2700-\\u27bf",Zt="a-z\\xdf-\\xf6\\xf8-\\xff",$t="\\xac\\xb1\\xd7\\xf7",xn="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Kn="\\u2000-\\u206f",Ar=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ir="A-Z\\xc0-\\xd6\\xd8-\\xde",Gn="\\ufe0e\\ufe0f",Vt=$t+xn+Kn+Ar,vr="['’]",Fn="["+Be+"]",Pi="["+Vt+"]",Ka="["+Pt+"]",yi="\\d+",cl="["+Wt+"]",yr="["+Zt+"]",Gi="[^"+Be+Vt+yi+Wt+Zt+ir+"]",Oi="\\ud83c[\\udffb-\\udfff]",bi="(?:"+Ka+"|"+Oi+")",Fi="[^"+Be+"]",ul="(?:\\ud83c[\\udde6-\\uddff]){2}",Wi="[\\ud800-\\udbff][\\udc00-\\udfff]",Yl="["+ir+"]",ld="\\u200d",cd="(?:"+yr+"|"+Gi+")",lb="(?:"+Yl+"|"+Gi+")",dh="(?:"+vr+"(?:d|ll|m|re|s|t|ve))?",ag="(?:"+vr+"(?:D|LL|M|RE|S|T|VE))?",og=bi+"?",sg="["+Gn+"]?",cb="(?:"+ld+"(?:"+[Fi,ul,Wi].join("|")+")"+sg+og+")*",lg="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ub="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",cg=sg+og+cb,ug="(?:"+[cl,ul,Wi].join("|")+")"+cg,db="(?:"+[Fi+Ka+"?",Ka,ul,Wi,Fn].join("|")+")",fb=RegExp(vr,"g"),hb=RegExp(Ka,"g"),ud=RegExp(Oi+"(?="+Oi+")|"+db+cg,"g"),pb=RegExp([Yl+"?"+yr+"+"+dh+"(?="+[Pi,Yl,"$"].join("|")+")",lb+"+"+ag+"(?="+[Pi,Yl+cd,"$"].join("|")+")",Yl+"?"+cd+"+"+dh,Yl+"+"+ag,ub,lg,yi,ug].join("|"),"g"),mb=RegExp("["+ld+Be+Pt+Gn+"]"),tT=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nT=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],gb=-1,ar={};ar[ht]=ar[et]=ar[xt]=ar[St]=ar[st]=ar[dt]=ar[Ft]=ar[pe]=ar[Te]=!0,ar[ie]=ar[te]=ar[Ge]=ar[xe]=ar[Le]=ar[Ee]=ar[ze]=ar[Ue]=ar[Ce]=ar[Fe]=ar[fe]=ar[we]=ar[Ie]=ar[Ae]=ar[ye]=!1;var ur={};ur[ie]=ur[te]=ur[Ge]=ur[Le]=ur[xe]=ur[Ee]=ur[ht]=ur[et]=ur[xt]=ur[St]=ur[st]=ur[Ce]=ur[Fe]=ur[fe]=ur[we]=ur[Ie]=ur[Ae]=ur[X]=ur[dt]=ur[Ft]=ur[pe]=ur[Te]=!0,ur[ze]=ur[Ue]=ur[ye]=!1;var fh={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},vb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},yb={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},dg={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},bb=parseFloat,xb=parseInt,dl=typeof da=="object"&&da&&da.Object===Object&&da,hh=typeof self=="object"&&self&&self.Object===Object&&self,xi=dl||hh||Function("return this")(),dd=e&&!e.nodeType&&e,fl=dd&&!0&&n&&!n.nodeType&&n,fg=fl&&fl.exports===dd,hg=fg&&dl.process,dr=function(){try{var Ne=fl&&fl.require&&fl.require("util").types;return Ne||hg&&hg.binding&&hg.binding("util")}catch(rt){}}(),pg=dr&&dr.isArrayBuffer,mg=dr&&dr.isDate,gg=dr&&dr.isMap,vg=dr&&dr.isRegExp,yg=dr&&dr.isSet,nu=dr&&dr.isTypedArray;function Qi(Ne,rt,Ze){switch(Ze.length){case 0:return Ne.call(rt);case 1:return Ne.call(rt,Ze[0]);case 2:return Ne.call(rt,Ze[0],Ze[1]);case 3:return Ne.call(rt,Ze[0],Ze[1],Ze[2])}return Ne.apply(rt,Ze)}function _b(Ne,rt,Ze,Tt){for(var an=-1,Wn=Ne==null?0:Ne.length;++an<Wn;){var ii=Ne[an];rt(Tt,ii,Ze(ii),Ne)}return Tt}function Da(Ne,rt){for(var Ze=-1,Tt=Ne==null?0:Ne.length;++Ze<Tt&&rt(Ne[Ze],Ze,Ne)!==!1;);return Ne}function Sb(Ne,rt){for(var Ze=Ne==null?0:Ne.length;Ze--&&rt(Ne[Ze],Ze,Ne)!==!1;);return Ne}function ph(Ne,rt){for(var Ze=-1,Tt=Ne==null?0:Ne.length;++Ze<Tt;)if(!rt(Ne[Ze],Ze,Ne))return!1;return!0}function is(Ne,rt){for(var Ze=-1,Tt=Ne==null?0:Ne.length,an=0,Wn=[];++Ze<Tt;){var ii=Ne[Ze];rt(ii,Ze,Ne)&&(Wn[an++]=ii)}return Wn}function fd(Ne,rt){var Ze=Ne==null?0:Ne.length;return!!Ze&&ga(Ne,rt,0)>-1}function hd(Ne,rt,Ze){for(var Tt=-1,an=Ne==null?0:Ne.length;++Tt<an;)if(Ze(rt,Ne[Tt]))return!0;return!1}function _r(Ne,rt){for(var Ze=-1,Tt=Ne==null?0:Ne.length,an=Array(Tt);++Ze<Tt;)an[Ze]=rt(Ne[Ze],Ze,Ne);return an}function as(Ne,rt){for(var Ze=-1,Tt=rt.length,an=Ne.length;++Ze<Tt;)Ne[an+Ze]=rt[Ze];return Ne}function mh(Ne,rt,Ze,Tt){var an=-1,Wn=Ne==null?0:Ne.length;for(Tt&&Wn&&(Ze=Ne[++an]);++an<Wn;)Ze=rt(Ze,Ne[an],an,Ne);return Ze}function bg(Ne,rt,Ze,Tt){var an=Ne==null?0:Ne.length;for(Tt&&an&&(Ze=Ne[--an]);an--;)Ze=rt(Ze,Ne[an],an,Ne);return Ze}function gh(Ne,rt){for(var Ze=-1,Tt=Ne==null?0:Ne.length;++Ze<Tt;)if(rt(Ne[Ze],Ze,Ne))return!0;return!1}var As=iu("length");function xg(Ne){return Ne.split("")}function rT(Ne){return Ne.match(Rr)||[]}function _g(Ne,rt,Ze){var Tt;return Ze(Ne,function(an,Wn,ii){if(rt(an,Wn,ii))return Tt=Wn,!1}),Tt}function To(Ne,rt,Ze,Tt){for(var an=Ne.length,Wn=Ze+(Tt?1:-1);Tt?Wn--:++Wn<an;)if(rt(Ne[Wn],Wn,Ne))return Wn;return-1}function ga(Ne,rt,Ze){return rt===rt?Eb(Ne,rt,Ze):To(Ne,vh,Ze)}function Sg(Ne,rt,Ze,Tt){for(var an=Ze-1,Wn=Ne.length;++an<Wn;)if(Tt(Ne[an],rt))return an;return-1}function vh(Ne){return Ne!==Ne}function ru(Ne,rt){var Ze=Ne==null?0:Ne.length;return Ze?bh(Ne,rt)/Ze:J}function iu(Ne){return function(rt){return rt==null?t:rt[Ne]}}function Rs(Ne){return function(rt){return Ne==null?t:Ne[rt]}}function Ii(Ne,rt,Ze,Tt,an){return an(Ne,function(Wn,ii,or){Ze=Tt?(Tt=!1,Wn):rt(Ze,Wn,ii,or)}),Ze}function yh(Ne,rt){var Ze=Ne.length;for(Ne.sort(rt);Ze--;)Ne[Ze]=Ne[Ze].value;return Ne}function bh(Ne,rt){for(var Ze,Tt=-1,an=Ne.length;++Tt<an;){var Wn=rt(Ne[Tt]);Wn!==t&&(Ze=Ze===t?Wn:Ze+Wn)}return Ze}function pd(Ne,rt){for(var Ze=-1,Tt=Array(Ne);++Ze<Ne;)Tt[Ze]=rt(Ze);return Tt}function md(Ne,rt){return _r(rt,function(Ze){return[Ze,Ne[Ze]]})}function xh(Ne){return Ne&&Ne.slice(0,Eg(Ne)+1).replace(wo,"")}function qi(Ne){return function(rt){return Ne(rt)}}function _h(Ne,rt){return _r(rt,function(Ze){return Ne[Ze]})}function Di(Ne,rt){return Ne.has(rt)}function Cg(Ne,rt){for(var Ze=-1,Tt=Ne.length;++Ze<Tt&&ga(rt,Ne[Ze],0)>-1;);return Ze}function Sh(Ne,rt){for(var Ze=Ne.length;Ze--&&ga(rt,Ne[Ze],0)>-1;);return Ze}function Cb(Ne,rt){for(var Ze=Ne.length,Tt=0;Ze--;)Ne[Ze]===rt&&++Tt;return Tt}var wb=Rs(fh),wg=Rs(vb);function Tg(Ne){return"\\"+dg[Ne]}function Tb(Ne,rt){return Ne==null?t:Ne[rt]}function Ps(Ne){return mb.test(Ne)}function gd(Ne){return tT.test(Ne)}function Fr(Ne){for(var rt,Ze=[];!(rt=Ne.next()).done;)Ze.push(rt.value);return Ze}function Mg(Ne){var rt=-1,Ze=Array(Ne.size);return Ne.forEach(function(Tt,an){Ze[++rt]=[an,Tt]}),Ze}function Mb(Ne,rt){return function(Ze){return Ne(rt(Ze))}}function Os(Ne,rt){for(var Ze=-1,Tt=Ne.length,an=0,Wn=[];++Ze<Tt;){var ii=Ne[Ze];(ii===rt||ii===d)&&(Ne[Ze]=d,Wn[an++]=Ze)}return Wn}function hl(Ne){var rt=-1,Ze=Array(Ne.size);return Ne.forEach(function(Tt){Ze[++rt]=Tt}),Ze}function pl(Ne){var rt=-1,Ze=Array(Ne.size);return Ne.forEach(function(Tt){Ze[++rt]=[Tt,Tt]}),Ze}function Eb(Ne,rt,Ze){for(var Tt=Ze-1,an=Ne.length;++Tt<an;)if(Ne[Tt]===rt)return Tt;return-1}function Ab(Ne,rt,Ze){for(var Tt=Ze+1;Tt--;)if(Ne[Tt]===rt)return Tt;return Tt}function Za(Ne){return Ps(Ne)?Pb(Ne):As(Ne)}function Ir(Ne){return Ps(Ne)?Ag(Ne):xg(Ne)}function Eg(Ne){for(var rt=Ne.length;rt--&&gt.test(Ne.charAt(rt)););return rt}var Rb=Rs(yb);function Pb(Ne){for(var rt=ud.lastIndex=0;ud.test(Ne);)++rt;return rt}function Ag(Ne){return Ne.match(ud)||[]}function Rg(Ne){return Ne.match(pb)||[]}var Ch=function Ne(rt){rt=rt==null?xi:Kl.defaults(xi.Object(),rt,Kl.pick(xi,nT));var Ze=rt.Array,Tt=rt.Date,an=rt.Error,Wn=rt.Function,ii=rt.Math,or=rt.Object,Xi=rt.RegExp,Ob=rt.String,Pr=rt.TypeError,vd=Ze.prototype,Fs=Wn.prototype,Mo=or.prototype,Eo=rt["__core-js_shared__"],au=Fs.toString,Zn=Mo.hasOwnProperty,ml=0,Pg=function(){var p=/[^.]+$/.exec(Eo&&Eo.keys&&Eo.keys.IE_PROTO||"");return p?"Symbol(src)_1."+p:""}(),Is=Mo.toString,yd=au.call(or),Zl=xi._,Fb=Xi("^"+au.call(Zn).replace(rs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bd=fg?rt.Buffer:t,Ja=rt.Symbol,xd=rt.Uint8Array,_d=bd?bd.allocUnsafe:t,Sd=Mb(or.getPrototypeOf,or),wh=or.create,Th=Mo.propertyIsEnumerable,ou=vd.splice,Og=Ja?Ja.isConcatSpreadable:t,Jl=Ja?Ja.iterator:t,ai=Ja?Ja.toStringTag:t,Cd=function(){try{var p=wi(or,"defineProperty");return p({},"",{}),p}catch(y){}}(),ea=rt.clearTimeout!==xi.clearTimeout&&rt.clearTimeout,Ib=Tt&&Tt.now!==xi.Date.now&&Tt.now,Fg=rt.setTimeout!==xi.setTimeout&&rt.setTimeout,wd=ii.ceil,Mh=ii.floor,Ao=or.getOwnPropertySymbols,Db=bd?bd.isBuffer:t,Eh=rt.isFinite,su=vd.join,Lb=Mb(or.keys,or),Xr=ii.max,Li=ii.min,Nb=Tt.now,Ig=rt.parseInt,Ah=ii.random,iT=vd.reverse,Dg=wi(rt,"DataView"),Td=wi(rt,"Map"),Rh=wi(rt,"Promise"),Ql=wi(rt,"Set"),os=wi(rt,"WeakMap"),gl=wi(or,"create"),Md=os&&new os,ec={},aT=hs(Dg),Ub=hs(Td),tc=hs(Rh),Bb=hs(Ql),sr=hs(os),lu=Ja?Ja.prototype:t,Ed=lu?lu.valueOf:t,Lg=lu?lu.toString:t;function oe(p){if(Jr(p)&&!dn(p)&&!(p instanceof Tn)){if(p instanceof Qa)return p;if(Zn.call(p,"__wrapped__"))return Lo(p)}return new Qa(p)}var cu=function(){function p(){}return function(y){if(!$r(y))return{};if(wh)return wh(y);p.prototype=y;var A=new p;return p.prototype=t,A}}();function Ph(){}function Qa(p,y){this.__wrapped__=p,this.__actions__=[],this.__chain__=!!y,this.__index__=0,this.__values__=t}oe.templateSettings={escape:pt,evaluate:Rt,interpolate:Yt,variable:"",imports:{_:oe}},oe.prototype=Ph.prototype,oe.prototype.constructor=oe,Qa.prototype=cu(Ph.prototype),Qa.prototype.constructor=Qa;function Tn(p){this.__wrapped__=p,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Q,this.__views__=[]}function vl(){var p=new Tn(this.__wrapped__);return p.__actions__=na(this.__actions__),p.__dir__=this.__dir__,p.__filtered__=this.__filtered__,p.__iteratees__=na(this.__iteratees__),p.__takeCount__=this.__takeCount__,p.__views__=na(this.__views__),p}function zb(){if(this.__filtered__){var p=new Tn(this);p.__dir__=-1,p.__filtered__=!0}else p=this.clone(),p.__dir__*=-1;return p}function Oh(){var p=this.__wrapped__.value(),y=this.__dir__,A=dn(p),H=y<0,K=A?p.length:0,de=Ud(0,K,this.__views__),_e=de.start,Pe=de.end,ke=Pe-_e,lt=H?Pe:_e-1,ut=this.__iteratees__,ft=ut.length,At=0,Ht=Li(ke,this.__takeCount__);if(!A||!H&&K==ke&&Ht==ke)return mx(p,this.__actions__);var en=[];e:for(;ke--&&At<Ht;){lt+=y;for(var Mn=-1,tn=p[lt];++Mn<ft;){var In=ut[Mn],jn=In.iteratee,zo=In.type,Va=jn(tn);if(zo==V)tn=Va;else if(!Va){if(zo==j)continue e;break e}}en[At++]=tn}return en}Tn.prototype=cu(Ph.prototype),Tn.prototype.constructor=Tn;function La(p){var y=-1,A=p==null?0:p.length;for(this.clear();++y<A;){var H=p[y];this.set(H[0],H[1])}}function Hb(){this.__data__=gl?gl(null):{},this.size=0}function Ng(p){var y=this.has(p)&&delete this.__data__[p];return this.size-=y?1:0,y}function Ug(p){var y=this.__data__;if(gl){var A=y[p];return A===l?t:A}return Zn.call(y,p)?y[p]:t}function oT(p){var y=this.__data__;return gl?y[p]!==t:Zn.call(y,p)}function kb(p,y){var A=this.__data__;return this.size+=this.has(p)?0:1,A[p]=gl&&y===t?l:y,this}La.prototype.clear=Hb,La.prototype.delete=Ng,La.prototype.get=Ug,La.prototype.has=oT,La.prototype.set=kb;function ss(p){var y=-1,A=p==null?0:p.length;for(this.clear();++y<A;){var H=p[y];this.set(H[0],H[1])}}function jb(){this.__data__=[],this.size=0}function $b(p){var y=this.__data__,A=Qt(y,p);if(A<0)return!1;var H=y.length-1;return A==H?y.pop():ou.call(y,A,1),--this.size,!0}function Vb(p){var y=this.__data__,A=Qt(y,p);return A<0?t:y[A][1]}function Bg(p){return Qt(this.__data__,p)>-1}function En(p,y){var A=this.__data__,H=Qt(A,p);return H<0?(++this.size,A.push([p,y])):A[H][1]=y,this}ss.prototype.clear=jb,ss.prototype.delete=$b,ss.prototype.get=Vb,ss.prototype.has=Bg,ss.prototype.set=En;function Ds(p){var y=-1,A=p==null?0:p.length;for(this.clear();++y<A;){var H=p[y];this.set(H[0],H[1])}}function Na(){this.size=0,this.__data__={hash:new La,map:new(Td||ss),string:new La}}function zg(p){var y=cc(this,p).delete(p);return this.size-=y?1:0,y}function sT(p){return cc(this,p).get(p)}function Fh(p){return cc(this,p).has(p)}function uu(p,y){var A=cc(this,p),H=A.size;return A.set(p,y),this.size+=A.size==H?0:1,this}Ds.prototype.clear=Na,Ds.prototype.delete=zg,Ds.prototype.get=sT,Ds.prototype.has=Fh,Ds.prototype.set=uu;function eo(p){var y=-1,A=p==null?0:p.length;for(this.__data__=new Ds;++y<A;)this.add(p[y])}function Gb(p){return this.__data__.set(p,l),this}function Hg(p){return this.__data__.has(p)}eo.prototype.add=eo.prototype.push=Gb,eo.prototype.has=Hg;function Ro(p){var y=this.__data__=new ss(p);this.size=y.size}function Wb(){this.__data__=new ss,this.size=0}function yl(p){var y=this.__data__,A=y.delete(p);return this.size=y.size,A}function kg(p){return this.__data__.get(p)}function jg(p){return this.__data__.has(p)}function $g(p,y){var A=this.__data__;if(A instanceof ss){var H=A.__data__;if(!Td||H.length<i-1)return H.push([p,y]),this.size=++A.size,this;A=this.__data__=new Ds(H)}return A.set(p,y),this.size=A.size,this}Ro.prototype.clear=Wb,Ro.prototype.delete=yl,Ro.prototype.get=kg,Ro.prototype.has=jg,Ro.prototype.set=$g;function Ih(p,y){var A=dn(p),H=!A&&Xd(p),K=!A&&!H&&Tu(p),de=!A&&!H&&!K&&ap(p),_e=A||H||K||de,Pe=_e?pd(p.length,Ob):[],ke=Pe.length;for(var lt in p)(y||Zn.call(p,lt))&&!(_e&&(lt=="length"||K&&(lt=="offset"||lt=="parent")||de&&(lt=="buffer"||lt=="byteLength"||lt=="byteOffset")||Do(lt,ke)))&&Pe.push(lt);return Pe}function Ls(p){var y=p.length;return y?p[tv(0,y-1)]:t}function qb(p,y){return fs(na(p),nc(y,0,p.length))}function lT(p){return fs(na(p))}function Dh(p,y,A){(A!==t&&!$s(p[y],A)||A===t&&!(y in p))&&to(p,y,A)}function Ad(p,y,A){var H=p[y];(!(Zn.call(p,y)&&$s(H,A))||A===t&&!(y in p))&&to(p,y,A)}function Qt(p,y){for(var A=p.length;A--;)if($s(p[A][0],y))return A;return-1}function Vg(p,y,A,H){return bl(p,function(K,de,_e){y(H,K,A(K),_e)}),H}function Gg(p,y){return p&&cs(y,Ki(y),p)}function Wg(p,y){return p&&cs(y,oo(y),p)}function to(p,y,A){y=="__proto__"&&Cd?Cd(p,y,{configurable:!0,enumerable:!0,value:A,writable:!0}):p[y]=A}function qg(p,y){for(var A=-1,H=y.length,K=Ze(H),de=p==null;++A<H;)K[A]=de?t:HT(p,y[A]);return K}function nc(p,y,A){return p===p&&(A!==t&&(p=p<=A?p:A),y!==t&&(p=p>=y?p:y)),p}function Ua(p,y,A,H,K,de){var _e,Pe=y&h,ke=y&m,lt=y&v;if(A&&(_e=K?A(p,H,K,de):A(p)),_e!==t)return _e;if(!$r(p))return p;var ut=dn(p);if(ut){if(_e=oa(p),!Pe)return na(p,_e)}else{var ft=qn(p),At=ft==Ue||ft==re;if(Tu(p))return yx(p,Pe);if(ft==fe||ft==ie||At&&!K){if(_e=ke||At?{}:Bi(p),!Pe)return ke?_x(p,Wg(_e,p)):xx(p,Gg(_e,p))}else{if(!ur[ft])return K?p:{};_e=Xn(p,ft,Pe)}}de||(de=new Ro);var Ht=de.get(p);if(Ht)return Ht;de.set(p,_e),G2(p)?p.forEach(function(tn){_e.add(Ua(tn,y,A,tn,p,de))}):$2(p)&&p.forEach(function(tn,In){_e.set(In,Ua(tn,y,A,In,p,de))});var en=lt?ke?aa:ia:ke?oo:Ki,Mn=ut?t:en(p);return Da(Mn||p,function(tn,In){Mn&&(In=tn,tn=p[In]),Ad(_e,In,Ua(tn,y,A,In,p,de))}),_e}function Rd(p){var y=Ki(p);return function(A){return Xb(A,p,y)}}function Xb(p,y,A){var H=A.length;if(p==null)return!H;for(p=or(p);H--;){var K=A[H],de=y[K],_e=p[K];if(_e===t&&!(K in p)||!de(_e))return!1}return!0}function Yb(p,y,A){if(typeof p!="function")throw new Pr(o);return Tl(function(){p.apply(t,A)},y)}function Pd(p,y,A,H){var K=-1,de=fd,_e=!0,Pe=p.length,ke=[],lt=y.length;if(!Pe)return ke;A&&(y=_r(y,qi(A))),H?(de=hd,_e=!1):y.length>=i&&(de=Di,_e=!1,y=new eo(y));e:for(;++K<Pe;){var ut=p[K],ft=A==null?ut:A(ut);if(ut=H||ut!==0?ut:0,_e&&ft===ft){for(var At=lt;At--;)if(y[At]===ft)continue e;ke.push(ut)}else de(y,ft,H)||ke.push(ut)}return ke}var bl=Sx(_i),Kb=Sx(Si,!0);function Xg(p,y){var A=!0;return bl(p,function(H,K,de){return A=!!y(H,K,de),A}),A}function Od(p,y,A){for(var H=-1,K=p.length;++H<K;){var de=p[H],_e=y(de);if(_e!=null&&(Pe===t?_e===_e&&!Bo(_e):A(_e,Pe)))var Pe=_e,ke=de}return ke}function Lh(p,y,A,H){var K=p.length;for(A=Cn(A),A<0&&(A=-A>K?0:K+A),H=H===t||H>K?K:Cn(H),H<0&&(H+=K),H=A>H?0:q2(H);A<H;)p[A++]=y;return p}function Yg(p,y){var A=[];return bl(p,function(H,K,de){y(H,K,de)&&A.push(H)}),A}function Ni(p,y,A,H,K){var de=-1,_e=p.length;for(A||(A=ds),K||(K=[]);++de<_e;){var Pe=p[de];y>0&&A(Pe)?y>1?Ni(Pe,y-1,A,H,K):as(K,Pe):H||(K[K.length]=Pe)}return K}var Kg=hv(),Nh=hv(!0);function _i(p,y){return p&&Kg(p,y,Ki)}function Si(p,y){return p&&Nh(p,y,Ki)}function Po(p,y){return is(y,function(A){return Cc(p[A])})}function Ci(p,y){y=xl(y,p);for(var A=0,H=y.length;p!=null&&A<H;)p=p[sa(y[A++])];return A&&A==H?p:t}function Zg(p,y,A){var H=y(p);return dn(p)?H:as(H,A(p))}function ta(p){return p==null?p===t?q:ge:ai&&ai in or(p)?uc(p):bu(p)}function Yi(p,y){return p>y}function rc(p,y){return p!=null&&Zn.call(p,y)}function cT(p,y){return p!=null&&y in or(p)}function uT(p,y,A){return p>=Li(y,A)&&p<Xr(y,A)}function Jg(p,y,A){for(var H=A?hd:fd,K=p[0].length,de=p.length,_e=de,Pe=Ze(de),ke=1/0,lt=[];_e--;){var ut=p[_e];_e&&y&&(ut=_r(ut,qi(y))),ke=Li(ut.length,ke),Pe[_e]=!A&&(y||K>=120&&ut.length>=120)?new eo(_e&&ut):t}ut=p[0];var ft=-1,At=Pe[0];e:for(;++ft<K&&lt.length<ke;){var Ht=ut[ft],en=y?y(Ht):Ht;if(Ht=A||Ht!==0?Ht:0,!(At?Di(At,en):H(lt,en,A))){for(_e=de;--_e;){var Mn=Pe[_e];if(!(Mn?Di(Mn,en):H(p[_e],en,A)))continue e}At&&At.push(en),lt.push(Ht)}}return lt}function dT(p,y,A,H){return _i(p,function(K,de,_e){y(H,A(K),de,_e)}),H}function du(p,y,A){y=xl(y,p),p=Gh(p,y);var H=p==null?p:p[sa(Kr(y))];return H==null?t:Qi(H,p,A)}function Zb(p){return Jr(p)&&ta(p)==ie}function Jb(p){return Jr(p)&&ta(p)==Ge}function fT(p){return Jr(p)&&ta(p)==Ee}function ls(p,y,A,H,K){return p===y?!0:p==null||y==null||!Jr(p)&&!Jr(y)?p!==p&&y!==y:ic(p,y,A,H,ls,K)}function ic(p,y,A,H,K,de){var _e=dn(p),Pe=dn(y),ke=_e?te:qn(p),lt=Pe?te:qn(y);ke=ke==ie?fe:ke,lt=lt==ie?fe:lt;var ut=ke==fe,ft=lt==fe,At=ke==lt;if(At&&Tu(p)){if(!Tu(y))return!1;_e=!0,ut=!1}if(At&&!ut)return de||(de=new Ro),_e||ap(p)?Mx(p,y,A,H,K,de):RT(p,y,ke,A,H,K,de);if(!(A&g)){var Ht=ut&&Zn.call(p,"__wrapped__"),en=ft&&Zn.call(y,"__wrapped__");if(Ht||en){var Mn=Ht?p.value():p,tn=en?y.value():y;return de||(de=new Ro),K(Mn,tn,A,H,de)}}return At?(de||(de=new Ro),PT(p,y,A,H,K,de)):!1}function hT(p){return Jr(p)&&qn(p)==Ce}function Qg(p,y,A,H){var K=A.length,de=K,_e=!H;if(p==null)return!de;for(p=or(p);K--;){var Pe=A[K];if(_e&&Pe[2]?Pe[1]!==p[Pe[0]]:!(Pe[0]in p))return!1}for(;++K<de;){Pe=A[K];var ke=Pe[0],lt=p[ke],ut=Pe[1];if(_e&&Pe[2]){if(lt===t&&!(ke in p))return!1}else{var ft=new Ro;if(H)var At=H(lt,ut,ke,p,y,ft);if(!(At===t?ls(ut,lt,g|x,H,ft):At))return!1}}return!0}function Qb(p){if(!$r(p)||vu(p))return!1;var y=Cc(p)?Fb:od;return y.test(hs(p))}function Fd(p){return Jr(p)&&ta(p)==we}function pT(p){return Jr(p)&&qn(p)==Ie}function mT(p){return Jr(p)&&Nx(p.length)&&!!ar[ta(p)]}function ex(p){return typeof p=="function"?p:p==null?so:typeof p=="object"?dn(p)?rx(p[0],p[1]):nx(p):iO(p)}function ac(p){if(!wl(p))return Lb(p);var y=[];for(var A in or(p))Zn.call(p,A)&&A!="constructor"&&y.push(A);return y}function gT(p){if(!$r(p))return yu(p);var y=wl(p),A=[];for(var H in p)H=="constructor"&&(y||!Zn.call(p,H))||A.push(H);return A}function ev(p,y){return p<y}function tx(p,y){var A=-1,H=ao(p)?Ze(p.length):[];return bl(p,function(K,de,_e){H[++A]=y(K,de,_e)}),H}function nx(p){var y=va(p);return y.length==1&&y[0][2]?dc(y[0][0],y[0][1]):function(A){return A===p||Qg(A,p,y)}}function rx(p,y){return Cl(p)&&Vh(y)?dc(sa(p),y):function(A){var H=HT(A,p);return H===t&&H===y?kT(A,p):ls(y,H,g|x)}}function Uh(p,y,A,H,K){p!==y&&Kg(y,function(de,_e){if(K||(K=new Ro),$r(de))vT(p,y,_e,A,Uh,H,K);else{var Pe=H?H(fc(p,_e),de,_e+"",p,y,K):t;Pe===t&&(Pe=de),Dh(p,_e,Pe)}},oo)}function vT(p,y,A,H,K,de,_e){var Pe=fc(p,A),ke=fc(y,A),lt=_e.get(ke);if(lt){Dh(p,A,lt);return}var ut=de?de(Pe,ke,A+"",p,y,_e):t,ft=ut===t;if(ft){var At=dn(ke),Ht=!At&&Tu(ke),en=!At&&!Ht&&ap(ke);ut=ke,At||Ht||en?dn(Pe)?ut=Pe:ci(Pe)?ut=na(Pe):Ht?(ft=!1,ut=yx(ke,!0)):en?(ft=!1,ut=Ha(ke,!0)):ut=[]:Rv(ke)||Xd(ke)?(ut=Pe,Xd(Pe)?ut=X2(Pe):(!$r(Pe)||Cc(Pe))&&(ut=Bi(ke))):ft=!1}ft&&(_e.set(ke,ut),K(ut,ke,H,de,_e),_e.delete(ke)),Dh(p,A,ut)}function ix(p,y){var A=p.length;if(A)return y+=y<0?A:0,Do(y,A)?p[y]:t}function ax(p,y,A){y.length?y=_r(y,function(de){return dn(de)?function(_e){return Ci(_e,de.length===1?de[0]:de)}:de}):y=[so];var H=-1;y=_r(y,qi(qt()));var K=tx(p,function(de,_e,Pe){var ke=_r(y,function(lt){return lt(de)});return{criteria:ke,index:++H,value:de}});return yh(K,function(de,_e){return uv(de,_e,A)})}function yT(p,y){return ox(p,y,function(A,H){return kT(p,H)})}function ox(p,y,A){for(var H=-1,K=y.length,de={};++H<K;){var _e=y[H],Pe=Ci(p,_e);A(Pe,_e)&&fu(de,xl(_e,p),Pe)}return de}function bT(p){return function(y){return Ci(y,p)}}function Bh(p,y,A,H){var K=H?Sg:ga,de=-1,_e=y.length,Pe=p;for(p===y&&(y=na(y)),A&&(Pe=_r(p,qi(A)));++de<_e;)for(var ke=0,lt=y[de],ut=A?A(lt):lt;(ke=K(Pe,ut,ke,H))>-1;)Pe!==p&&ou.call(Pe,ke,1),ou.call(p,ke,1);return p}function sx(p,y){for(var A=p?y.length:0,H=A-1;A--;){var K=y[A];if(A==H||K!==de){var de=K;Do(K)?ou.call(p,K,1):zh(p,K)}}return p}function tv(p,y){return p+Mh(Ah()*(y-p+1))}function xT(p,y,A,H){for(var K=-1,de=Xr(wd((y-p)/(A||1)),0),_e=Ze(de);de--;)_e[H?de:++K]=p,p+=A;return _e}function nv(p,y){var A="";if(!p||y<1||y>W)return A;do y%2&&(A+=p),y=Mh(y/2),y&&(p+=p);while(y);return A}function _n(p,y){return Ml(zs(p,y,so),p+"")}function _T(p){return Ls(op(p))}function lx(p,y){var A=op(p);return fs(A,nc(y,0,A.length))}function fu(p,y,A,H){if(!$r(p))return p;y=xl(y,p);for(var K=-1,de=y.length,_e=de-1,Pe=p;Pe!=null&&++K<de;){var ke=sa(y[K]),lt=A;if(ke==="__proto__"||ke==="constructor"||ke==="prototype")return p;if(K!=_e){var ut=Pe[ke];lt=H?H(ut,ke,Pe):t,lt===t&&(lt=$r(ut)?ut:Do(y[K+1])?[]:{})}Ad(Pe,ke,lt),Pe=Pe[ke]}return p}var cx=Md?function(p,y){return Md.set(p,y),p}:so,ux=Cd?function(p,y){return Cd(p,"toString",{configurable:!0,enumerable:!1,value:$T(y),writable:!0})}:so;function dx(p){return fs(op(p))}function Ba(p,y,A){var H=-1,K=p.length;y<0&&(y=-y>K?0:K+y),A=A>K?K:A,A<0&&(A+=K),K=y>A?0:A-y>>>0,y>>>=0;for(var de=Ze(K);++H<K;)de[H]=p[H+y];return de}function rv(p,y){var A;return bl(p,function(H,K,de){return A=y(H,K,de),!A}),!!A}function hu(p,y,A){var H=0,K=p==null?H:p.length;if(typeof y=="number"&&y===y&&K<=se){for(;H<K;){var de=H+K>>>1,_e=p[de];_e!==null&&!Bo(_e)&&(A?_e<=y:_e<y)?H=de+1:K=de}return K}return iv(p,y,so,A)}function iv(p,y,A,H){var K=0,de=p==null?0:p.length;if(de===0)return 0;y=A(y);for(var _e=y!==y,Pe=y===null,ke=Bo(y),lt=y===t;K<de;){var ut=Mh((K+de)/2),ft=A(p[ut]),At=ft!==t,Ht=ft===null,en=ft===ft,Mn=Bo(ft);if(_e)var tn=H||en;else lt?tn=en&&(H||At):Pe?tn=en&&At&&(H||!Ht):ke?tn=en&&At&&!Ht&&(H||!Mn):Ht||Mn?tn=!1:tn=H?ft<=y:ft<y;tn?K=ut+1:de=ut}return Li(de,ue)}function fx(p,y){for(var A=-1,H=p.length,K=0,de=[];++A<H;){var _e=p[A],Pe=y?y(_e):_e;if(!A||!$s(Pe,ke)){var ke=Pe;de[K++]=_e===0?0:_e}}return de}function hx(p){return typeof p=="number"?p:Bo(p)?J:+p}function za(p){if(typeof p=="string")return p;if(dn(p))return _r(p,za)+"";if(Bo(p))return Lg?Lg.call(p):"";var y=p+"";return y=="0"&&1/p==-G?"-0":y}function Ns(p,y,A){var H=-1,K=fd,de=p.length,_e=!0,Pe=[],ke=Pe;if(A)_e=!1,K=hd;else if(de>=i){var lt=y?null:AT(p);if(lt)return hl(lt);_e=!1,K=Di,ke=new eo}else ke=y?[]:Pe;e:for(;++H<de;){var ut=p[H],ft=y?y(ut):ut;if(ut=A||ut!==0?ut:0,_e&&ft===ft){for(var At=ke.length;At--;)if(ke[At]===ft)continue e;y&&ke.push(ft),Pe.push(ut)}else K(ke,ft,A)||(ke!==Pe&&ke.push(ft),Pe.push(ut))}return Pe}function zh(p,y){return y=xl(y,p),p=Gh(p,y),p==null||delete p[sa(Kr(y))]}function px(p,y,A,H){return fu(p,y,A(Ci(p,y)),H)}function Hh(p,y,A,H){for(var K=p.length,de=H?K:-1;(H?de--:++de<K)&&y(p[de],de,p););return A?Ba(p,H?0:de,H?de+1:K):Ba(p,H?de+1:0,H?K:de)}function mx(p,y){var A=p;return A instanceof Tn&&(A=A.value()),mh(y,function(H,K){return K.func.apply(K.thisArg,as([H],K.args))},A)}function av(p,y,A){var H=p.length;if(H<2)return H?Ns(p[0]):[];for(var K=-1,de=Ze(H);++K<H;)for(var _e=p[K],Pe=-1;++Pe<H;)Pe!=K&&(de[K]=Pd(de[K]||_e,p[Pe],y,A));return Ns(Ni(de,1),y,A)}function gx(p,y,A){for(var H=-1,K=p.length,de=y.length,_e={};++H<K;){var Pe=H<de?y[H]:t;A(_e,p[H],Pe)}return _e}function ov(p){return ci(p)?p:[]}function sv(p){return typeof p=="function"?p:so}function xl(p,y){return dn(p)?p:Cl(p,y)?[p]:xv(mr(p))}var ST=_n;function _l(p,y,A){var H=p.length;return A=A===t?H:A,!y&&A>=H?p:Ba(p,y,A)}var vx=ea||function(p){return xi.clearTimeout(p)};function yx(p,y){if(y)return p.slice();var A=p.length,H=_d?_d(A):new p.constructor(A);return p.copy(H),H}function lv(p){var y=new p.constructor(p.byteLength);return new xd(y).set(new xd(p)),y}function bx(p,y){var A=y?lv(p.buffer):p.buffer;return new p.constructor(A,p.byteOffset,p.byteLength)}function CT(p){var y=new p.constructor(p.source,ad.exec(p));return y.lastIndex=p.lastIndex,y}function wT(p){return Ed?or(Ed.call(p)):{}}function Ha(p,y){var A=y?lv(p.buffer):p.buffer;return new p.constructor(A,p.byteOffset,p.length)}function cv(p,y){if(p!==y){var A=p!==t,H=p===null,K=p===p,de=Bo(p),_e=y!==t,Pe=y===null,ke=y===y,lt=Bo(y);if(!Pe&&!lt&&!de&&p>y||de&&_e&&ke&&!Pe&&!lt||H&&_e&&ke||!A&&ke||!K)return 1;if(!H&&!de&&!lt&&p<y||lt&&A&&K&&!H&&!de||Pe&&A&&K||!_e&&K||!ke)return-1}return 0}function uv(p,y,A){for(var H=-1,K=p.criteria,de=y.criteria,_e=K.length,Pe=A.length;++H<_e;){var ke=cv(K[H],de[H]);if(ke){if(H>=Pe)return ke;var lt=A[H];return ke*(lt=="desc"?-1:1)}}return p.index-y.index}function dv(p,y,A,H){for(var K=-1,de=p.length,_e=A.length,Pe=-1,ke=y.length,lt=Xr(de-_e,0),ut=Ze(ke+lt),ft=!H;++Pe<ke;)ut[Pe]=y[Pe];for(;++K<_e;)(ft||K<de)&&(ut[A[K]]=p[K]);for(;lt--;)ut[Pe++]=p[K++];return ut}function fv(p,y,A,H){for(var K=-1,de=p.length,_e=-1,Pe=A.length,ke=-1,lt=y.length,ut=Xr(de-Pe,0),ft=Ze(ut+lt),At=!H;++K<ut;)ft[K]=p[K];for(var Ht=K;++ke<lt;)ft[Ht+ke]=y[ke];for(;++_e<Pe;)(At||K<de)&&(ft[Ht+A[_e]]=p[K++]);return ft}function na(p,y){var A=-1,H=p.length;for(y||(y=Ze(H));++A<H;)y[A]=p[A];return y}function cs(p,y,A,H){var K=!A;A||(A={});for(var de=-1,_e=y.length;++de<_e;){var Pe=y[de],ke=H?H(A[Pe],p[Pe],Pe,A,p):t;ke===t&&(ke=p[Pe]),K?to(A,Pe,ke):Ad(A,Pe,ke)}return A}function xx(p,y){return cs(p,Fo(p),y)}function _x(p,y){return cs(p,us(p),y)}function kh(p,y){return function(A,H){var K=dn(A)?_b:Vg,de=y?y():{};return K(A,p,qt(H,2),de)}}function pu(p){return _n(function(y,A){var H=-1,K=A.length,de=K>1?A[K-1]:t,_e=K>2?A[2]:t;for(de=p.length>3&&typeof de=="function"?(K--,de):t,_e&&Sr(A[0],A[1],_e)&&(de=K<3?t:de,K=1),y=or(y);++H<K;){var Pe=A[H];Pe&&p(y,Pe,H,de)}return y})}function Sx(p,y){return function(A,H){if(A==null)return A;if(!ao(A))return p(A,H);for(var K=A.length,de=y?K:-1,_e=or(A);(y?de--:++de<K)&&H(_e[de],de,_e)!==!1;);return A}}function hv(p){return function(y,A,H){for(var K=-1,de=or(y),_e=H(y),Pe=_e.length;Pe--;){var ke=_e[p?Pe:++K];if(A(de[ke],ke,de)===!1)break}return y}}function TT(p,y,A){var H=y&b,K=Id(p);function de(){var _e=this&&this!==xi&&this instanceof de?K:p;return _e.apply(H?A:this,arguments)}return de}function Ui(p){return function(y){y=mr(y);var A=Ps(y)?Ir(y):t,H=A?A[0]:y.charAt(0),K=A?_l(A,1).join(""):y.slice(1);return H[p]()+K}}function oc(p){return function(y){return mh(nO(tO(y).replace(fb,"")),p,"")}}function Id(p){return function(){var y=arguments;switch(y.length){case 0:return new p;case 1:return new p(y[0]);case 2:return new p(y[0],y[1]);case 3:return new p(y[0],y[1],y[2]);case 4:return new p(y[0],y[1],y[2],y[3]);case 5:return new p(y[0],y[1],y[2],y[3],y[4]);case 6:return new p(y[0],y[1],y[2],y[3],y[4],y[5]);case 7:return new p(y[0],y[1],y[2],y[3],y[4],y[5],y[6])}var A=cu(p.prototype),H=p.apply(A,y);return $r(H)?H:A}}function MT(p,y,A){var H=Id(p);function K(){for(var de=arguments.length,_e=Ze(de),Pe=de,ke=Oo(K);Pe--;)_e[Pe]=arguments[Pe];var lt=de<3&&_e[0]!==ke&&_e[de-1]!==ke?[]:Os(_e,ke);if(de-=lt.length,de<A)return Ld(p,y,mu,K.placeholder,t,_e,lt,t,t,A-de);var ut=this&&this!==xi&&this instanceof K?H:p;return Qi(ut,this,_e)}return K}function Cx(p){return function(y,A,H){var K=or(y);if(!ao(y)){var de=qt(A,3);y=Ki(y),A=function(Pe){return de(K[Pe],Pe,K)}}var _e=p(y,A,H);return _e>-1?K[de?y[_e]:_e]:t}}function pv(p){return ka(function(y){var A=y.length,H=A,K=Qa.prototype.thru;for(p&&y.reverse();H--;){var de=y[H];if(typeof de!="function")throw new Pr(o);if(K&&!_e&&Bs(de)=="wrapper")var _e=new Qa([],!0)}for(H=_e?H:A;++H<A;){de=y[H];var Pe=Bs(de),ke=Pe=="wrapper"?$h(de):t;ke&&gu(ke[0])&&ke[1]==(U|T|O|F)&&!ke[4].length&&ke[9]==1?_e=_e[Bs(ke[0])].apply(_e,ke[3]):_e=de.length==1&&gu(de)?_e[Pe]():_e.thru(de)}return function(){var lt=arguments,ut=lt[0];if(_e&&lt.length==1&&dn(ut))return _e.plant(ut).value();for(var ft=0,At=A?y[ft].apply(this,lt):ut;++ft<A;)At=y[ft].call(this,At);return At}})}function mu(p,y,A,H,K,de,_e,Pe,ke,lt){var ut=y&U,ft=y&b,At=y&_,Ht=y&(T|M),en=y&L,Mn=At?t:Id(p);function tn(){for(var In=arguments.length,jn=Ze(In),zo=In;zo--;)jn[zo]=arguments[zo];if(Ht)var Va=Oo(tn),Ho=Cb(jn,Va);if(H&&(jn=dv(jn,H,K,Ht)),de&&(jn=fv(jn,de,_e,Ht)),In-=Ho,Ht&&In<lt){var ui=Os(jn,Va);return Ld(p,y,mu,tn.placeholder,A,jn,ui,Pe,ke,lt-In)}var Vs=ft?A:this,Tc=At?Vs[p]:p;return In=jn.length,Pe?jn=OT(jn,Pe):en&&In>1&&jn.reverse(),ut&&ke<In&&(jn.length=ke),this&&this!==xi&&this instanceof tn&&(Tc=Mn||Id(Tc)),Tc.apply(Vs,jn)}return tn}function sc(p,y){return function(A,H){return dT(A,p,y(H),{})}}function Us(p,y){return function(A,H){var K;if(A===t&&H===t)return y;if(A!==t&&(K=A),H!==t){if(K===t)return H;typeof A=="string"||typeof H=="string"?(A=za(A),H=za(H)):(A=hx(A),H=hx(H)),K=p(A,H)}return K}}function ra(p){return ka(function(y){return y=_r(y,qi(qt())),_n(function(A){var H=this;return p(y,function(K){return Qi(K,H,A)})})})}function jh(p,y){y=y===t?" ":za(y);var A=y.length;if(A<2)return A?nv(y,p):y;var H=nv(y,wd(p/Za(y)));return Ps(y)?_l(Ir(H),0,p).join(""):H.slice(0,p)}function ET(p,y,A,H){var K=y&b,de=Id(p);function _e(){for(var Pe=-1,ke=arguments.length,lt=-1,ut=H.length,ft=Ze(ut+ke),At=this&&this!==xi&&this instanceof _e?de:p;++lt<ut;)ft[lt]=H[lt];for(;ke--;)ft[lt++]=arguments[++Pe];return Qi(At,K?A:this,ft)}return _e}function Dd(p){return function(y,A,H){return H&&typeof H!="number"&&Sr(y,A,H)&&(A=H=t),y=wc(y),A===t?(A=y,y=0):A=wc(A),H=H===t?y<A?1:-1:wc(H),xT(y,A,H,p)}}function lc(p){return function(y,A){return typeof y=="string"&&typeof A=="string"||(y=ms(y),A=ms(A)),p(y,A)}}function Ld(p,y,A,H,K,de,_e,Pe,ke,lt){var ut=y&T,ft=ut?_e:t,At=ut?t:_e,Ht=ut?de:t,en=ut?t:de;y|=ut?O:I,y&=~(ut?I:O),y&C||(y&=-4);var Mn=[p,y,K,Ht,ft,en,At,Pe,ke,lt],tn=A.apply(t,Mn);return gu(p)&&Wh(tn,Mn),tn.placeholder=H,hc(tn,p,y)}function Nd(p){var y=ii[p];return function(A,H){if(A=ms(A),H=H==null?0:Li(Cn(H),292),H&&Eh(A)){var K=(mr(A)+"e").split("e"),de=y(K[0]+"e"+(+K[1]+H));return K=(mr(de)+"e").split("e"),+(K[0]+"e"+(+K[1]-H))}return y(A)}}var AT=Ql&&1/hl(new Ql([,-0]))[1]==G?function(p){return new Ql(p)}:WT;function wx(p){return function(y){var A=qn(y);return A==Ce?Mg(y):A==Ie?pl(y):md(y,p(y))}}function oi(p,y,A,H,K,de,_e,Pe){var ke=y&_;if(!ke&&typeof p!="function")throw new Pr(o);var lt=H?H.length:0;if(lt||(y&=-97,H=K=t),_e=_e===t?_e:Xr(Cn(_e),0),Pe=Pe===t?Pe:Cn(Pe),lt-=K?K.length:0,y&I){var ut=H,ft=K;H=K=t}var At=ke?t:$h(p),Ht=[p,y,A,H,K,ut,ft,de,_e,Pe];if(At&&bv(Ht,At),p=Ht[0],y=Ht[1],A=Ht[2],H=Ht[3],K=Ht[4],Pe=Ht[9]=Ht[9]===t?ke?0:p.length:Xr(Ht[9]-lt,0),!Pe&&y&(T|M)&&(y&=-25),!y||y==b)var en=TT(p,y,A);else y==T||y==M?en=MT(p,y,Pe):(y==O||y==(b|O))&&!K.length?en=ET(p,y,A,H):en=mu.apply(t,Ht);var Mn=At?cx:Wh;return hc(Mn(en,Ht),p,y)}function mv(p,y,A,H){return p===t||$s(p,Mo[A])&&!Zn.call(H,A)?y:p}function Tx(p,y,A,H,K,de){return $r(p)&&$r(y)&&(de.set(y,p),Uh(p,y,t,Tx,de),de.delete(y)),p}function gv(p){return Rv(p)?t:p}function Mx(p,y,A,H,K,de){var _e=A&g,Pe=p.length,ke=y.length;if(Pe!=ke&&!(_e&&ke>Pe))return!1;var lt=de.get(p),ut=de.get(y);if(lt&&ut)return lt==y&&ut==p;var ft=-1,At=!0,Ht=A&x?new eo:t;for(de.set(p,y),de.set(y,p);++ft<Pe;){var en=p[ft],Mn=y[ft];if(H)var tn=_e?H(Mn,en,ft,y,p,de):H(en,Mn,ft,p,y,de);if(tn!==t){if(tn)continue;At=!1;break}if(Ht){if(!gh(y,function(In,jn){if(!Di(Ht,jn)&&(en===In||K(en,In,A,H,de)))return Ht.push(jn)})){At=!1;break}}else if(!(en===Mn||K(en,Mn,A,H,de))){At=!1;break}}return de.delete(p),de.delete(y),At}function RT(p,y,A,H,K,de,_e){switch(A){case Le:if(p.byteLength!=y.byteLength||p.byteOffset!=y.byteOffset)return!1;p=p.buffer,y=y.buffer;case Ge:return!(p.byteLength!=y.byteLength||!de(new xd(p),new xd(y)));case xe:case Ee:case Fe:return $s(+p,+y);case ze:return p.name==y.name&&p.message==y.message;case we:case Ae:return p==y+"";case Ce:var Pe=Mg;case Ie:var ke=H&g;if(Pe||(Pe=hl),p.size!=y.size&&!ke)return!1;var lt=_e.get(p);if(lt)return lt==y;H|=x,_e.set(p,y);var ut=Mx(Pe(p),Pe(y),H,K,de,_e);return _e.delete(p),ut;case X:if(Ed)return Ed.call(p)==Ed.call(y)}return!1}function PT(p,y,A,H,K,de){var _e=A&g,Pe=ia(p),ke=Pe.length,lt=ia(y),ut=lt.length;if(ke!=ut&&!_e)return!1;for(var ft=ke;ft--;){var At=Pe[ft];if(!(_e?At in y:Zn.call(y,At)))return!1}var Ht=de.get(p),en=de.get(y);if(Ht&&en)return Ht==y&&en==p;var Mn=!0;de.set(p,y),de.set(y,p);for(var tn=_e;++ft<ke;){At=Pe[ft];var In=p[At],jn=y[At];if(H)var zo=_e?H(jn,In,At,y,p,de):H(In,jn,At,p,y,de);if(!(zo===t?In===jn||K(In,jn,A,H,de):zo)){Mn=!1;break}tn||(tn=At=="constructor")}if(Mn&&!tn){var Va=p.constructor,Ho=y.constructor;Va!=Ho&&"constructor"in p&&"constructor"in y&&!(typeof Va=="function"&&Va instanceof Va&&typeof Ho=="function"&&Ho instanceof Ho)&&(Mn=!1)}return de.delete(p),de.delete(y),Mn}function ka(p){return Ml(zs(p,t,No),p+"")}function ia(p){return Zg(p,Ki,Fo)}function aa(p){return Zg(p,oo,us)}var $h=Md?function(p){return Md.get(p)}:WT;function Bs(p){for(var y=p.name+"",A=ec[y],H=Zn.call(ec,y)?A.length:0;H--;){var K=A[H],de=K.func;if(de==null||de==p)return K.name}return y}function Oo(p){var y=Zn.call(oe,"placeholder")?oe:p;return y.placeholder}function qt(){var p=oe.iteratee||VT;return p=p===VT?ex:p,arguments.length?p(arguments[0],arguments[1]):p}function cc(p,y){var A=p.__data__;return vv(y)?A[typeof y=="string"?"string":"hash"]:A.map}function va(p){for(var y=Ki(p),A=y.length;A--;){var H=y[A],K=p[H];y[A]=[H,K,Vh(K)]}return y}function wi(p,y){var A=Tb(p,y);return Qb(A)?A:t}function uc(p){var y=Zn.call(p,ai),A=p[ai];try{p[ai]=t;var H=!0}catch(de){}var K=Is.call(p);return H&&(y?p[ai]=A:delete p[ai]),K}var Fo=Ao?function(p){return p==null?[]:(p=or(p),is(Ao(p),function(y){return Th.call(p,y)}))}:qT,us=Ao?function(p){for(var y=[];p;)as(y,Fo(p)),p=Sd(p);return y}:qT,qn=ta;(Dg&&qn(new Dg(new ArrayBuffer(1)))!=Le||Td&&qn(new Td)!=Ce||Rh&&qn(Rh.resolve())!=ve||Ql&&qn(new Ql)!=Ie||os&&qn(new os)!=ye)&&(qn=function(p){var y=ta(p),A=y==fe?p.constructor:t,H=A?hs(A):"";if(H)switch(H){case aT:return Le;case Ub:return Ce;case tc:return ve;case Bb:return Ie;case sr:return ye}return y});function Ud(p,y,A){for(var H=-1,K=A.length;++H<K;){var de=A[H],_e=de.size;switch(de.type){case"drop":p+=_e;break;case"dropRight":y-=_e;break;case"take":y=Li(y,p+_e);break;case"takeRight":p=Xr(p,y-_e);break}}return{start:p,end:y}}function Sl(p){var y=p.match(kt);return y?y[1].split(sn):[]}function Bd(p,y,A){y=xl(y,p);for(var H=-1,K=y.length,de=!1;++H<K;){var _e=sa(y[H]);if(!(de=p!=null&&A(p,_e)))break;p=p[_e]}return de||++H!=K?de:(K=p==null?0:p.length,!!K&&Nx(K)&&Do(_e,K)&&(dn(p)||Xd(p)))}function oa(p){var y=p.length,A=new p.constructor(y);return y&&typeof p[0]=="string"&&Zn.call(p,"index")&&(A.index=p.index,A.input=p.input),A}function Bi(p){return typeof p.constructor=="function"&&!wl(p)?cu(Sd(p)):{}}function Xn(p,y,A){var H=p.constructor;switch(y){case Ge:return lv(p);case xe:case Ee:return new H(+p);case Le:return bx(p,A);case ht:case et:case xt:case St:case st:case dt:case Ft:case pe:case Te:return Ha(p,A);case Ce:return new H;case Fe:case Ae:return new H(p);case we:return CT(p);case Ie:return new H;case X:return wT(p)}}function Io(p,y){var A=y.length;if(!A)return p;var H=A-1;return y[H]=(A>1?"& ":"")+y[H],y=y.join(A>2?", ":" "),p.replace(wt,`{
/* [wrapped with `+y+`] */
`)}function ds(p){return dn(p)||Xd(p)||!!(Og&&p&&p[Og])}function Do(p,y){var A=typeof p;return y=y==null?W:y,!!y&&(A=="number"||A!="symbol"&&ce.test(p))&&p>-1&&p%1==0&&p<y}function Sr(p,y,A){if(!$r(A))return!1;var H=typeof y;return(H=="number"?ao(A)&&Do(y,A.length):H=="string"&&y in A)?$s(A[y],p):!1}function Cl(p,y){if(dn(p))return!1;var A=typeof p;return A=="number"||A=="symbol"||A=="boolean"||p==null||Bo(p)?!0:cr.test(p)||!Kt.test(p)||y!=null&&p in or(y)}function vv(p){var y=typeof p;return y=="string"||y=="number"||y=="symbol"||y=="boolean"?p!=="__proto__":p===null}function gu(p){var y=Bs(p),A=oe[y];if(typeof A!="function"||!(y in Tn.prototype))return!1;if(p===A)return!0;var H=$h(A);return!!H&&p===H[0]}function vu(p){return!!Pg&&Pg in p}var yv=Eo?Cc:XT;function wl(p){var y=p&&p.constructor,A=typeof y=="function"&&y.prototype||Mo;return p===A}function Vh(p){return p===p&&!$r(p)}function dc(p,y){return function(A){return A==null?!1:A[p]===y&&(y!==t||p in or(A))}}function zd(p){var y=Dx(p,function(H){return A.size===c&&A.clear(),H}),A=y.cache;return y}function bv(p,y){var A=p[1],H=y[1],K=A|H,de=K<(b|_|U),_e=H==U&&A==T||H==U&&A==F&&p[7].length<=y[8]||H==(U|F)&&y[7].length<=y[8]&&A==T;if(!(de||_e))return p;H&b&&(p[2]=y[2],K|=A&b?0:C);var Pe=y[3];if(Pe){var ke=p[3];p[3]=ke?dv(ke,Pe,y[4]):Pe,p[4]=ke?Os(p[3],d):y[4]}return Pe=y[5],Pe&&(ke=p[5],p[5]=ke?fv(ke,Pe,y[6]):Pe,p[6]=ke?Os(p[5],d):y[6]),Pe=y[7],Pe&&(p[7]=Pe),H&U&&(p[8]=p[8]==null?y[8]:Li(p[8],y[8])),p[9]==null&&(p[9]=y[9]),p[0]=y[0],p[1]=K,p}function yu(p){var y=[];if(p!=null)for(var A in or(p))y.push(A);return y}function bu(p){return Is.call(p)}function zs(p,y,A){return y=Xr(y===t?p.length-1:y,0),function(){for(var H=arguments,K=-1,de=Xr(H.length-y,0),_e=Ze(de);++K<de;)_e[K]=H[y+K];K=-1;for(var Pe=Ze(y+1);++K<y;)Pe[K]=H[K];return Pe[y]=A(_e),Qi(p,this,Pe)}}function Gh(p,y){return y.length<2?p:Ci(p,Ba(y,0,-1))}function OT(p,y){for(var A=p.length,H=Li(y.length,A),K=na(p);H--;){var de=y[H];p[H]=Do(de,A)?K[de]:t}return p}function fc(p,y){if(!(y==="constructor"&&typeof p[y]=="function")&&y!="__proto__")return p[y]}var Wh=xu(cx),Tl=Fg||function(p,y){return xi.setTimeout(p,y)},Ml=xu(ux);function hc(p,y,A){var H=y+"";return Ml(p,Io(H,no(Sl(H),A)))}function xu(p){var y=0,A=0;return function(){var H=Nb(),K=Y-(H-A);if(A=H,K>0){if(++y>=$)return arguments[0]}else y=0;return p.apply(t,arguments)}}function fs(p,y){var A=-1,H=p.length,K=H-1;for(y=y===t?H:y;++A<y;){var de=tv(A,K),_e=p[de];p[de]=p[A],p[A]=_e}return p.length=y,p}var xv=zd(function(p){var y=[];return p.charCodeAt(0)===46&&y.push(""),p.replace(jr,function(A,H,K,de){y.push(K?de.replace(vi,"$1"):H||A)}),y});function sa(p){if(typeof p=="string"||Bo(p))return p;var y=p+"";return y=="0"&&1/p==-G?"-0":y}function hs(p){if(p!=null){try{return au.call(p)}catch(y){}try{return p+""}catch(y){}}return""}function no(p,y){return Da(ae,function(A){var H="_."+A[0];y&A[1]&&!fd(p,H)&&p.push(H)}),p.sort()}function Lo(p){if(p instanceof Tn)return p.clone();var y=new Qa(p.__wrapped__,p.__chain__);return y.__actions__=na(p.__actions__),y.__index__=p.__index__,y.__values__=p.__values__,y}function si(p,y,A){(A?Sr(p,y,A):y===t)?y=1:y=Xr(Cn(y),0);var H=p==null?0:p.length;if(!H||y<1)return[];for(var K=0,de=0,_e=Ze(wd(H/y));K<H;)_e[de++]=Ba(p,K,K+=y);return _e}function El(p){for(var y=-1,A=p==null?0:p.length,H=0,K=[];++y<A;){var de=p[y];de&&(K[H++]=de)}return K}function Sn(){var p=arguments.length;if(!p)return[];for(var y=Ze(p-1),A=arguments[0],H=p;H--;)y[H-1]=arguments[H];return as(dn(A)?na(A):[A],Ni(y,1))}var fr=_n(function(p,y){return ci(p)?Pd(p,Ni(y,1,ci,!0)):[]}),Yr=_n(function(p,y){var A=Kr(y);return ci(A)&&(A=t),ci(p)?Pd(p,Ni(y,1,ci,!0),qt(A,2)):[]}),qh=_n(function(p,y){var A=Kr(y);return ci(A)&&(A=t),ci(p)?Pd(p,Ni(y,1,ci,!0),t,A):[]});function _u(p,y,A){var H=p==null?0:p.length;return H?(y=A||y===t?1:Cn(y),Ba(p,y<0?0:y,H)):[]}function pc(p,y,A){var H=p==null?0:p.length;return H?(y=A||y===t?1:Cn(y),y=H-y,Ba(p,0,y<0?0:y)):[]}function Xh(p,y){return p&&p.length?Hh(p,qt(y,3),!0,!0):[]}function Hd(p,y){return p&&p.length?Hh(p,qt(y,3),!0):[]}function Su(p,y,A,H){var K=p==null?0:p.length;return K?(A&&typeof A!="number"&&Sr(p,y,A)&&(A=0,H=K),Lh(p,y,A,H)):[]}function Ex(p,y,A){var H=p==null?0:p.length;if(!H)return-1;var K=A==null?0:Cn(A);return K<0&&(K=Xr(H+K,0)),To(p,qt(y,3),K)}function Yh(p,y,A){var H=p==null?0:p.length;if(!H)return-1;var K=H-1;return A!==t&&(K=Cn(A),K=A<0?Xr(H+K,0):Li(K,H-1)),To(p,qt(y,3),K,!0)}function No(p){var y=p==null?0:p.length;return y?Ni(p,1):[]}function mc(p){var y=p==null?0:p.length;return y?Ni(p,G):[]}function Al(p,y){var A=p==null?0:p.length;return A?(y=y===t?1:Cn(y),Ni(p,y)):[]}function gc(p){for(var y=-1,A=p==null?0:p.length,H={};++y<A;){var K=p[y];H[K[0]]=K[1]}return H}function Kh(p){return p&&p.length?p[0]:t}function Ax(p,y,A){var H=p==null?0:p.length;if(!H)return-1;var K=A==null?0:Cn(A);return K<0&&(K=Xr(H+K,0)),ga(p,y,K)}function Rx(p){var y=p==null?0:p.length;return y?Ba(p,0,-1):[]}var Ti=_n(function(p){var y=_r(p,ov);return y.length&&y[0]===p[0]?Jg(y):[]}),_v=_n(function(p){var y=Kr(p),A=_r(p,ov);return y===Kr(A)?y=t:A.pop(),A.length&&A[0]===p[0]?Jg(A,qt(y,2)):[]}),Zh=_n(function(p){var y=Kr(p),A=_r(p,ov);return y=typeof y=="function"?y:t,y&&A.pop(),A.length&&A[0]===p[0]?Jg(A,t,y):[]});function vc(p,y){return p==null?"":su.call(p,y)}function Kr(p){var y=p==null?0:p.length;return y?p[y-1]:t}function FT(p,y,A){var H=p==null?0:p.length;if(!H)return-1;var K=H;return A!==t&&(K=Cn(A),K=K<0?Xr(H+K,0):Li(K,H-1)),y===y?Ab(p,y,K):To(p,vh,K,!0)}function IT(p,y){return p&&p.length?ix(p,Cn(y)):t}var DT=_n(Dr);function Dr(p,y){return p&&p.length&&y&&y.length?Bh(p,y):p}function Px(p,y,A){return p&&p.length&&y&&y.length?Bh(p,y,qt(A,2)):p}function yc(p,y,A){return p&&p.length&&y&&y.length?Bh(p,y,t,A):p}var Hs=ka(function(p,y){var A=p==null?0:p.length,H=qg(p,y);return sx(p,_r(y,function(K){return Do(K,A)?+K:K}).sort(cv)),H});function zr(p,y){var A=[];if(!(p&&p.length))return A;var H=-1,K=[],de=p.length;for(y=qt(y,3);++H<de;){var _e=p[H];y(_e,H,p)&&(A.push(_e),K.push(H))}return sx(p,K),A}function kd(p){return p==null?p:iT.call(p)}function Ox(p,y,A){var H=p==null?0:p.length;return H?(A&&typeof A!="number"&&Sr(p,y,A)?(y=0,A=H):(y=y==null?0:Cn(y),A=A===t?H:Cn(A)),Ba(p,y,A)):[]}function Mi(p,y){return hu(p,y)}function Fx(p,y,A){return iv(p,y,qt(A,2))}function Zr(p,y){var A=p==null?0:p.length;if(A){var H=hu(p,y);if(H<A&&$s(p[H],y))return H}return-1}function ja(p,y){return hu(p,y,!0)}function Uo(p,y,A){return iv(p,y,qt(A,2),!0)}function Cu(p,y){var A=p==null?0:p.length;if(A){var H=hu(p,y,!0)-1;if($s(p[H],y))return H}return-1}function LT(p){return p&&p.length?fx(p):[]}function Jh(p,y){return p&&p.length?fx(p,qt(y,2)):[]}function Qh(p){var y=p==null?0:p.length;return y?Ba(p,1,y):[]}function ep(p,y,A){return p&&p.length?(y=A||y===t?1:Cn(y),Ba(p,0,y<0?0:y)):[]}function tp(p,y,A){var H=p==null?0:p.length;return H?(y=A||y===t?1:Cn(y),y=H-y,Ba(p,y<0?0:y,H)):[]}function np(p,y){return p&&p.length?Hh(p,qt(y,3),!1,!0):[]}function jd(p,y){return p&&p.length?Hh(p,qt(y,3)):[]}var NT=_n(function(p){return Ns(Ni(p,1,ci,!0))}),hr=_n(function(p){var y=Kr(p);return ci(y)&&(y=t),Ns(Ni(p,1,ci,!0),qt(y,2))}),Cr=_n(function(p){var y=Kr(p);return y=typeof y=="function"?y:t,Ns(Ni(p,1,ci,!0),t,y)});function An(p){return p&&p.length?Ns(p):[]}function Un(p,y){return p&&p.length?Ns(p,qt(y,2)):[]}function wr(p,y){return y=typeof y=="function"?y:t,p&&p.length?Ns(p,t,y):[]}function la(p){if(!(p&&p.length))return[];var y=0;return p=is(p,function(A){if(ci(A))return y=Xr(A.length,y),!0}),pd(y,function(A){return _r(p,iu(A))})}function ps(p,y){if(!(p&&p.length))return[];var A=la(p);return y==null?A:_r(A,function(H){return Qi(y,t,H)})}var wu=_n(function(p,y){return ci(p)?Pd(p,y):[]}),Sv=_n(function(p){return av(is(p,ci))}),ks=_n(function(p){var y=Kr(p);return ci(y)&&(y=t),av(is(p,ci),qt(y,2))}),Hr=_n(function(p){var y=Kr(p);return y=typeof y=="function"?y:t,av(is(p,ci),t,y)}),Rl=_n(la);function bc(p,y){return gx(p||[],y||[],Ad)}function Cv(p,y){return gx(p||[],y||[],fu)}var ro=_n(function(p){var y=p.length,A=y>1?p[y-1]:t;return A=typeof A=="function"?(p.pop(),A):t,ps(p,A)});function xc(p){var y=oe(p);return y.__chain__=!0,y}function $d(p,y){return y(p),p}function $a(p,y){return y(p)}var wv=ka(function(p){var y=p.length,A=y?p[0]:0,H=this.__wrapped__,K=function(de){return qg(de,p)};return y>1||this.__actions__.length||!(H instanceof Tn)||!Do(A)?this.thru(K):(H=H.slice(A,+A+(y?1:0)),H.__actions__.push({func:$a,args:[K],thisArg:t}),new Qa(H,this.__chain__).thru(function(de){return y&&!de.length&&de.push(t),de}))});function Tv(){return xc(this)}function Vd(){return new Qa(this.value(),this.__chain__)}function rp(){this.__values__===t&&(this.__values__=W2(this.value()));var p=this.__index__>=this.__values__.length,y=p?t:this.__values__[this.__index__++];return{done:p,value:y}}function Pl(){return this}function ip(p){for(var y,A=this;A instanceof Ph;){var H=Lo(A);H.__index__=0,H.__values__=t,y?K.__wrapped__=H:y=H;var K=H;A=A.__wrapped__}return K.__wrapped__=p,y}function _c(){var p=this.__wrapped__;if(p instanceof Tn){var y=p;return this.__actions__.length&&(y=new Tn(this)),y=y.reverse(),y.__actions__.push({func:$a,args:[kd],thisArg:t}),new Qa(y,this.__chain__)}return this.thru(kd)}function Gd(){return mx(this.__wrapped__,this.__actions__)}var Mv=kh(function(p,y,A){Zn.call(p,A)?++p[A]:to(p,A,1)});function Ev(p,y,A){var H=dn(p)?ph:Xg;return A&&Sr(p,y,A)&&(y=t),H(p,qt(y,3))}function Wd(p,y){var A=dn(p)?is:Yg;return A(p,qt(y,3))}var Av=Cx(Ex),u=Cx(Yh);function f(p,y){return Ni(bt(p,y),1)}function S(p,y){return Ni(bt(p,y),G)}function E(p,y,A){return A=A===t?1:Cn(A),Ni(bt(p,y),A)}function N(p,y){var A=dn(p)?Da:bl;return A(p,qt(y,3))}function k(p,y){var A=dn(p)?Sb:Kb;return A(p,qt(y,3))}var le=kh(function(p,y,A){Zn.call(p,A)?p[A].push(y):to(p,A,[y])});function Me(p,y,A,H){p=ao(p)?p:op(p),A=A&&!H?Cn(A):0;var K=p.length;return A<0&&(A=Xr(K+A,0)),Ux(p)?A<=K&&p.indexOf(y,A)>-1:!!K&&ga(p,y,A)>-1}var je=_n(function(p,y,A){var H=-1,K=typeof y=="function",de=ao(p)?Ze(p.length):[];return bl(p,function(_e){de[++H]=K?Qi(y,_e,A):du(_e,y,A)}),de}),it=kh(function(p,y,A){to(p,A,y)});function bt(p,y){var A=dn(p)?_r:tx;return A(p,qt(y,3))}function Et(p,y,A,H){return p==null?[]:(dn(y)||(y=y==null?[]:[y]),A=H?t:A,dn(A)||(A=A==null?[]:[A]),ax(p,y,A))}var Ot=kh(function(p,y,A){p[A?0:1].push(y)},function(){return[[],[]]});function cn(p,y,A){var H=dn(p)?mh:Ii,K=arguments.length<3;return H(p,qt(y,4),A,K,bl)}function io(p,y,A){var H=dn(p)?bg:Ii,K=arguments.length<3;return H(p,qt(y,4),A,K,Kb)}function qd(p,y){var A=dn(p)?is:Yg;return A(p,Lx(qt(y,3)))}function Sc(p){var y=dn(p)?Ls:_T;return y(p)}function We(p,y,A){(A?Sr(p,y,A):y===t)?y=1:y=Cn(y);var H=dn(p)?qb:lx;return H(p,y)}function He(p){var y=dn(p)?lT:dx;return y(p)}function Ke(p){if(p==null)return 0;if(ao(p))return Ux(p)?Za(p):p.length;var y=qn(p);return y==Ce||y==Ie?p.size:ac(p).length}function yt(p,y,A){var H=dn(p)?gh:rv;return A&&Sr(p,y,A)&&(y=t),H(p,qt(y,3))}var Gt=_n(function(p,y){if(p==null)return[];var A=y.length;return A>1&&Sr(p,y[0],y[1])?y=[]:A>2&&Sr(y[0],y[1],y[2])&&(y=[y[0]]),ax(p,Ni(y,1),[])}),pr=Ib||function(){return xi.Date.now()};function nn(p,y){if(typeof y!="function")throw new Pr(o);return p=Cn(p),function(){if(--p<1)return y.apply(this,arguments)}}function kn(p,y,A){return y=A?t:y,y=p&&y==null?p.length:y,oi(p,U,t,t,t,t,y)}function li(p,y){var A;if(typeof y!="function")throw new Pr(o);return p=Cn(p),function(){return--p>0&&(A=y.apply(this,arguments)),p<=1&&(y=t),A}}var Bn=_n(function(p,y,A){var H=b;if(A.length){var K=Os(A,Oo(Bn));H|=O}return oi(p,H,y,A,K)}),js=_n(function(p,y,A){var H=b|_;if(A.length){var K=Os(A,Oo(js));H|=O}return oi(y,H,p,A,K)});function Ix(p,y,A){y=A?t:y;var H=oi(p,T,t,t,t,t,t,y);return H.placeholder=Ix.placeholder,H}function z2(p,y,A){y=A?t:y;var H=oi(p,M,t,t,t,t,t,y);return H.placeholder=z2.placeholder,H}function H2(p,y,A){var H,K,de,_e,Pe,ke,lt=0,ut=!1,ft=!1,At=!0;if(typeof p!="function")throw new Pr(o);y=ms(y)||0,$r(A)&&(ut=!!A.leading,ft="maxWait"in A,de=ft?Xr(ms(A.maxWait)||0,y):de,At="trailing"in A?!!A.trailing:At);function Ht(ui){var Vs=H,Tc=K;return H=K=t,lt=ui,_e=p.apply(Tc,Vs),_e}function en(ui){return lt=ui,Pe=Tl(In,y),ut?Ht(ui):_e}function Mn(ui){var Vs=ui-ke,Tc=ui-lt,aO=y-Vs;return ft?Li(aO,de-Tc):aO}function tn(ui){var Vs=ui-ke,Tc=ui-lt;return ke===t||Vs>=y||Vs<0||ft&&Tc>=de}function In(){var ui=pr();if(tn(ui))return jn(ui);Pe=Tl(In,Mn(ui))}function jn(ui){return Pe=t,At&&H?Ht(ui):(H=K=t,_e)}function zo(){Pe!==t&&vx(Pe),lt=0,H=ke=K=Pe=t}function Va(){return Pe===t?_e:jn(pr())}function Ho(){var ui=pr(),Vs=tn(ui);if(H=arguments,K=this,ke=ui,Vs){if(Pe===t)return en(ke);if(ft)return vx(Pe),Pe=Tl(In,y),Ht(ke)}return Pe===t&&(Pe=Tl(In,y)),_e}return Ho.cancel=zo,Ho.flush=Va,Ho}var Vk=_n(function(p,y){return Yb(p,1,y)}),Gk=_n(function(p,y,A){return Yb(p,ms(y)||0,A)});function Wk(p){return oi(p,L)}function Dx(p,y){if(typeof p!="function"||y!=null&&typeof y!="function")throw new Pr(o);var A=function(){var H=arguments,K=y?y.apply(this,H):H[0],de=A.cache;if(de.has(K))return de.get(K);var _e=p.apply(this,H);return A.cache=de.set(K,_e)||de,_e};return A.cache=new(Dx.Cache||Ds),A}Dx.Cache=Ds;function Lx(p){if(typeof p!="function")throw new Pr(o);return function(){var y=arguments;switch(y.length){case 0:return!p.call(this);case 1:return!p.call(this,y[0]);case 2:return!p.call(this,y[0],y[1]);case 3:return!p.call(this,y[0],y[1],y[2])}return!p.apply(this,y)}}function qk(p){return li(2,p)}var Xk=ST(function(p,y){y=y.length==1&&dn(y[0])?_r(y[0],qi(qt())):_r(Ni(y,1),qi(qt()));var A=y.length;return _n(function(H){for(var K=-1,de=Li(H.length,A);++K<de;)H[K]=y[K].call(this,H[K]);return Qi(p,this,H)})}),UT=_n(function(p,y){var A=Os(y,Oo(UT));return oi(p,O,t,y,A)}),k2=_n(function(p,y){var A=Os(y,Oo(k2));return oi(p,I,t,y,A)}),Yk=ka(function(p,y){return oi(p,F,t,t,t,y)});function Kk(p,y){if(typeof p!="function")throw new Pr(o);return y=y===t?y:Cn(y),_n(p,y)}function Zk(p,y){if(typeof p!="function")throw new Pr(o);return y=y==null?0:Xr(Cn(y),0),_n(function(A){var H=A[y],K=_l(A,0,y);return H&&as(K,H),Qi(p,this,K)})}function Jk(p,y,A){var H=!0,K=!0;if(typeof p!="function")throw new Pr(o);return $r(A)&&(H="leading"in A?!!A.leading:H,K="trailing"in A?!!A.trailing:K),H2(p,y,{leading:H,maxWait:y,trailing:K})}function Qk(p){return kn(p,1)}function ej(p,y){return UT(sv(y),p)}function tj(){if(!arguments.length)return[];var p=arguments[0];return dn(p)?p:[p]}function nj(p){return Ua(p,v)}function rj(p,y){return y=typeof y=="function"?y:t,Ua(p,v,y)}function ij(p){return Ua(p,h|v)}function aj(p,y){return y=typeof y=="function"?y:t,Ua(p,h|v,y)}function oj(p,y){return y==null||Xb(p,y,Ki(y))}function $s(p,y){return p===y||p!==p&&y!==y}var sj=lc(Yi),lj=lc(function(p,y){return p>=y}),Xd=Zb(function(){return arguments}())?Zb:function(p){return Jr(p)&&Zn.call(p,"callee")&&!Th.call(p,"callee")},dn=Ze.isArray,cj=pg?qi(pg):Jb;function ao(p){return p!=null&&Nx(p.length)&&!Cc(p)}function ci(p){return Jr(p)&&ao(p)}function uj(p){return p===!0||p===!1||Jr(p)&&ta(p)==xe}var Tu=Db||XT,dj=mg?qi(mg):fT;function fj(p){return Jr(p)&&p.nodeType===1&&!Rv(p)}function hj(p){if(p==null)return!0;if(ao(p)&&(dn(p)||typeof p=="string"||typeof p.splice=="function"||Tu(p)||ap(p)||Xd(p)))return!p.length;var y=qn(p);if(y==Ce||y==Ie)return!p.size;if(wl(p))return!ac(p).length;for(var A in p)if(Zn.call(p,A))return!1;return!0}function pj(p,y){return ls(p,y)}function mj(p,y,A){A=typeof A=="function"?A:t;var H=A?A(p,y):t;return H===t?ls(p,y,t,A):!!H}function BT(p){if(!Jr(p))return!1;var y=ta(p);return y==ze||y==Se||typeof p.message=="string"&&typeof p.name=="string"&&!Rv(p)}function gj(p){return typeof p=="number"&&Eh(p)}function Cc(p){if(!$r(p))return!1;var y=ta(p);return y==Ue||y==re||y==ee||y==be}function j2(p){return typeof p=="number"&&p==Cn(p)}function Nx(p){return typeof p=="number"&&p>-1&&p%1==0&&p<=W}function $r(p){var y=typeof p;return p!=null&&(y=="object"||y=="function")}function Jr(p){return p!=null&&typeof p=="object"}var $2=gg?qi(gg):hT;function vj(p,y){return p===y||Qg(p,y,va(y))}function yj(p,y,A){return A=typeof A=="function"?A:t,Qg(p,y,va(y),A)}function bj(p){return V2(p)&&p!=+p}function xj(p){if(yv(p))throw new an(a);return Qb(p)}function _j(p){return p===null}function Sj(p){return p==null}function V2(p){return typeof p=="number"||Jr(p)&&ta(p)==Fe}function Rv(p){if(!Jr(p)||ta(p)!=fe)return!1;var y=Sd(p);if(y===null)return!0;var A=Zn.call(y,"constructor")&&y.constructor;return typeof A=="function"&&A instanceof A&&au.call(A)==yd}var zT=vg?qi(vg):Fd;function Cj(p){return j2(p)&&p>=-W&&p<=W}var G2=yg?qi(yg):pT;function Ux(p){return typeof p=="string"||!dn(p)&&Jr(p)&&ta(p)==Ae}function Bo(p){return typeof p=="symbol"||Jr(p)&&ta(p)==X}var ap=nu?qi(nu):mT;function wj(p){return p===t}function Tj(p){return Jr(p)&&qn(p)==ye}function Mj(p){return Jr(p)&&ta(p)==Re}var Ej=lc(ev),Aj=lc(function(p,y){return p<=y});function W2(p){if(!p)return[];if(ao(p))return Ux(p)?Ir(p):na(p);if(Jl&&p[Jl])return Fr(p[Jl]());var y=qn(p),A=y==Ce?Mg:y==Ie?hl:op;return A(p)}function wc(p){if(!p)return p===0?p:0;if(p=ms(p),p===G||p===-G){var y=p<0?-1:1;return y*Z}return p===p?p:0}function Cn(p){var y=wc(p),A=y%1;return y===y?A?y-A:y:0}function q2(p){return p?nc(Cn(p),0,Q):0}function ms(p){if(typeof p=="number")return p;if(Bo(p))return J;if($r(p)){var y=typeof p.valueOf=="function"?p.valueOf():p;p=$r(y)?y+"":y}if(typeof p!="string")return p===0?p:+p;p=xh(p);var A=ig.test(p);return A||sd.test(p)?xb(p.slice(2),A?2:8):uh.test(p)?J:+p}function X2(p){return cs(p,oo(p))}function Rj(p){return p?nc(Cn(p),-W,W):p===0?p:0}function mr(p){return p==null?"":za(p)}var Pj=pu(function(p,y){if(wl(y)||ao(y)){cs(y,Ki(y),p);return}for(var A in y)Zn.call(y,A)&&Ad(p,A,y[A])}),Y2=pu(function(p,y){cs(y,oo(y),p)}),Bx=pu(function(p,y,A,H){cs(y,oo(y),p,H)}),Oj=pu(function(p,y,A,H){cs(y,Ki(y),p,H)}),Fj=ka(qg);function Ij(p,y){var A=cu(p);return y==null?A:Gg(A,y)}var Dj=_n(function(p,y){p=or(p);var A=-1,H=y.length,K=H>2?y[2]:t;for(K&&Sr(y[0],y[1],K)&&(H=1);++A<H;)for(var de=y[A],_e=oo(de),Pe=-1,ke=_e.length;++Pe<ke;){var lt=_e[Pe],ut=p[lt];(ut===t||$s(ut,Mo[lt])&&!Zn.call(p,lt))&&(p[lt]=de[lt])}return p}),Lj=_n(function(p){return p.push(t,Tx),Qi(K2,t,p)});function Nj(p,y){return _g(p,qt(y,3),_i)}function Uj(p,y){return _g(p,qt(y,3),Si)}function Bj(p,y){return p==null?p:Kg(p,qt(y,3),oo)}function zj(p,y){return p==null?p:Nh(p,qt(y,3),oo)}function Hj(p,y){return p&&_i(p,qt(y,3))}function kj(p,y){return p&&Si(p,qt(y,3))}function jj(p){return p==null?[]:Po(p,Ki(p))}function $j(p){return p==null?[]:Po(p,oo(p))}function HT(p,y,A){var H=p==null?t:Ci(p,y);return H===t?A:H}function Vj(p,y){return p!=null&&Bd(p,y,rc)}function kT(p,y){return p!=null&&Bd(p,y,cT)}var Gj=sc(function(p,y,A){y!=null&&typeof y.toString!="function"&&(y=Is.call(y)),p[y]=A},$T(so)),Wj=sc(function(p,y,A){y!=null&&typeof y.toString!="function"&&(y=Is.call(y)),Zn.call(p,y)?p[y].push(A):p[y]=[A]},qt),qj=_n(du);function Ki(p){return ao(p)?Ih(p):ac(p)}function oo(p){return ao(p)?Ih(p,!0):gT(p)}function Xj(p,y){var A={};return y=qt(y,3),_i(p,function(H,K,de){to(A,y(H,K,de),H)}),A}function Yj(p,y){var A={};return y=qt(y,3),_i(p,function(H,K,de){to(A,K,y(H,K,de))}),A}var Kj=pu(function(p,y,A){Uh(p,y,A)}),K2=pu(function(p,y,A,H){Uh(p,y,A,H)}),Zj=ka(function(p,y){var A={};if(p==null)return A;var H=!1;y=_r(y,function(de){return de=xl(de,p),H||(H=de.length>1),de}),cs(p,aa(p),A),H&&(A=Ua(A,h|m|v,gv));for(var K=y.length;K--;)zh(A,y[K]);return A});function Jj(p,y){return Z2(p,Lx(qt(y)))}var Qj=ka(function(p,y){return p==null?{}:yT(p,y)});function Z2(p,y){if(p==null)return{};var A=_r(aa(p),function(H){return[H]});return y=qt(y),ox(p,A,function(H,K){return y(H,K[0])})}function e$(p,y,A){y=xl(y,p);var H=-1,K=y.length;for(K||(K=1,p=t);++H<K;){var de=p==null?t:p[sa(y[H])];de===t&&(H=K,de=A),p=Cc(de)?de.call(p):de}return p}function t$(p,y,A){return p==null?p:fu(p,y,A)}function n$(p,y,A,H){return H=typeof H=="function"?H:t,p==null?p:fu(p,y,A,H)}var J2=wx(Ki),Q2=wx(oo);function r$(p,y,A){var H=dn(p),K=H||Tu(p)||ap(p);if(y=qt(y,4),A==null){var de=p&&p.constructor;K?A=H?new de:[]:$r(p)?A=Cc(de)?cu(Sd(p)):{}:A={}}return(K?Da:_i)(p,function(_e,Pe,ke){return y(A,_e,Pe,ke)}),A}function i$(p,y){return p==null?!0:zh(p,y)}function a$(p,y,A){return p==null?p:px(p,y,sv(A))}function o$(p,y,A,H){return H=typeof H=="function"?H:t,p==null?p:px(p,y,sv(A),H)}function op(p){return p==null?[]:_h(p,Ki(p))}function s$(p){return p==null?[]:_h(p,oo(p))}function l$(p,y,A){return A===t&&(A=y,y=t),A!==t&&(A=ms(A),A=A===A?A:0),y!==t&&(y=ms(y),y=y===y?y:0),nc(ms(p),y,A)}function c$(p,y,A){return y=wc(y),A===t?(A=y,y=0):A=wc(A),p=ms(p),uT(p,y,A)}function u$(p,y,A){if(A&&typeof A!="boolean"&&Sr(p,y,A)&&(y=A=t),A===t&&(typeof y=="boolean"?(A=y,y=t):typeof p=="boolean"&&(A=p,p=t)),p===t&&y===t?(p=0,y=1):(p=wc(p),y===t?(y=p,p=0):y=wc(y)),p>y){var H=p;p=y,y=H}if(A||p%1||y%1){var K=Ah();return Li(p+K*(y-p+bb("1e-"+((K+"").length-1))),y)}return tv(p,y)}var d$=oc(function(p,y,A){return y=y.toLowerCase(),p+(A?eO(y):y)});function eO(p){return jT(mr(p).toLowerCase())}function tO(p){return p=mr(p),p&&p.replace(De,wb).replace(hb,"")}function f$(p,y,A){p=mr(p),y=za(y);var H=p.length;A=A===t?H:nc(Cn(A),0,H);var K=A;return A-=y.length,A>=0&&p.slice(A,K)==y}function h$(p){return p=mr(p),p&&Qe.test(p)?p.replace(ct,wg):p}function p$(p){return p=mr(p),p&&Ia.test(p)?p.replace(rs,"\\$&"):p}var m$=oc(function(p,y,A){return p+(A?"-":"")+y.toLowerCase()}),g$=oc(function(p,y,A){return p+(A?" ":"")+y.toLowerCase()}),v$=Ui("toLowerCase");function y$(p,y,A){p=mr(p),y=Cn(y);var H=y?Za(p):0;if(!y||H>=y)return p;var K=(y-H)/2;return jh(Mh(K),A)+p+jh(wd(K),A)}function b$(p,y,A){p=mr(p),y=Cn(y);var H=y?Za(p):0;return y&&H<y?p+jh(y-H,A):p}function x$(p,y,A){p=mr(p),y=Cn(y);var H=y?Za(p):0;return y&&H<y?jh(y-H,A)+p:p}function _$(p,y,A){return A||y==null?y=0:y&&(y=+y),Ig(mr(p).replace(wo,""),y||0)}function S$(p,y,A){return(A?Sr(p,y,A):y===t)?y=1:y=Cn(y),nv(mr(p),y)}function C$(){var p=arguments,y=mr(p[0]);return p.length<3?y:y.replace(p[1],p[2])}var w$=oc(function(p,y,A){return p+(A?"_":"")+y.toLowerCase()});function T$(p,y,A){return A&&typeof A!="number"&&Sr(p,y,A)&&(y=A=t),A=A===t?Q:A>>>0,A?(p=mr(p),p&&(typeof y=="string"||y!=null&&!zT(y))&&(y=za(y),!y&&Ps(p))?_l(Ir(p),0,A):p.split(y,A)):[]}var M$=oc(function(p,y,A){return p+(A?" ":"")+jT(y)});function E$(p,y,A){return p=mr(p),A=A==null?0:nc(Cn(A),0,p.length),y=za(y),p.slice(A,A+y.length)==y}function A$(p,y,A){var H=oe.templateSettings;A&&Sr(p,y,A)&&(y=t),p=mr(p),y=Bx({},y,H,mv);var K=Bx({},y.imports,H.imports,mv),de=Ki(K),_e=_h(K,de),Pe,ke,lt=0,ut=y.interpolate||Ve,ft="__p += '",At=Xi((y.escape||Ve).source+"|"+ut.source+"|"+(ut===Yt?id:Ve).source+"|"+(y.evaluate||Ve).source+"|$","g"),Ht="//# sourceURL="+(Zn.call(y,"sourceURL")?(y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++gb+"]")+`
`;p.replace(At,function(tn,In,jn,zo,Va,Ho){return jn||(jn=zo),ft+=p.slice(lt,Ho).replace(Ye,Tg),In&&(Pe=!0,ft+=`' +
__e(`+In+`) +
'`),Va&&(ke=!0,ft+=`';
`+Va+`;
__p += '`),jn&&(ft+=`' +
((__t = (`+jn+`)) == null ? '' : __t) +
'`),lt=Ho+tn.length,tn}),ft+=`';
`;var en=Zn.call(y,"variable")&&y.variable;if(!en)ft=`with (obj) {
`+ft+`
}
`;else if(Nn.test(en))throw new an(s);ft=(ke?ft.replace($e,""):ft).replace(me,"$1").replace(Xe,"$1;"),ft="function("+(en||"obj")+`) {
`+(en?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Pe?", __e = _.escape":"")+(ke?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ft+`return __p
}`;var Mn=rO(function(){return Wn(de,Ht+"return "+ft).apply(t,_e)});if(Mn.source=ft,BT(Mn))throw Mn;return Mn}function R$(p){return mr(p).toLowerCase()}function P$(p){return mr(p).toUpperCase()}function O$(p,y,A){if(p=mr(p),p&&(A||y===t))return xh(p);if(!p||!(y=za(y)))return p;var H=Ir(p),K=Ir(y),de=Cg(H,K),_e=Sh(H,K)+1;return _l(H,de,_e).join("")}function F$(p,y,A){if(p=mr(p),p&&(A||y===t))return p.slice(0,Eg(p)+1);if(!p||!(y=za(y)))return p;var H=Ir(p),K=Sh(H,Ir(y))+1;return _l(H,0,K).join("")}function I$(p,y,A){if(p=mr(p),p&&(A||y===t))return p.replace(wo,"");if(!p||!(y=za(y)))return p;var H=Ir(p),K=Cg(H,Ir(y));return _l(H,K).join("")}function D$(p,y){var A=D,H=z;if($r(y)){var K="separator"in y?y.separator:K;A="length"in y?Cn(y.length):A,H="omission"in y?za(y.omission):H}p=mr(p);var de=p.length;if(Ps(p)){var _e=Ir(p);de=_e.length}if(A>=de)return p;var Pe=A-Za(H);if(Pe<1)return H;var ke=_e?_l(_e,0,Pe).join(""):p.slice(0,Pe);if(K===t)return ke+H;if(_e&&(Pe+=ke.length-Pe),zT(K)){if(p.slice(Pe).search(K)){var lt,ut=ke;for(K.global||(K=Xi(K.source,mr(ad.exec(K))+"g")),K.lastIndex=0;lt=K.exec(ut);)var ft=lt.index;ke=ke.slice(0,ft===t?Pe:ft)}}else if(p.indexOf(za(K),Pe)!=Pe){var At=ke.lastIndexOf(K);At>-1&&(ke=ke.slice(0,At))}return ke+H}function L$(p){return p=mr(p),p&&nt.test(p)?p.replace(tt,Rb):p}var N$=oc(function(p,y,A){return p+(A?" ":"")+y.toUpperCase()}),jT=Ui("toUpperCase");function nO(p,y,A){return p=mr(p),y=A?t:y,y===t?gd(p)?Rg(p):rT(p):p.match(y)||[]}var rO=_n(function(p,y){try{return Qi(p,t,y)}catch(A){return BT(A)?A:new an(A)}}),U$=ka(function(p,y){return Da(y,function(A){A=sa(A),to(p,A,Bn(p[A],p))}),p});function B$(p){var y=p==null?0:p.length,A=qt();return p=y?_r(p,function(H){if(typeof H[1]!="function")throw new Pr(o);return[A(H[0]),H[1]]}):[],_n(function(H){for(var K=-1;++K<y;){var de=p[K];if(Qi(de[0],this,H))return Qi(de[1],this,H)}})}function z$(p){return Rd(Ua(p,h))}function $T(p){return function(){return p}}function H$(p,y){return p==null||p!==p?y:p}var k$=pv(),j$=pv(!0);function so(p){return p}function VT(p){return ex(typeof p=="function"?p:Ua(p,h))}function $$(p){return nx(Ua(p,h))}function V$(p,y){return rx(p,Ua(y,h))}var G$=_n(function(p,y){return function(A){return du(A,p,y)}}),W$=_n(function(p,y){return function(A){return du(p,A,y)}});function GT(p,y,A){var H=Ki(y),K=Po(y,H);A==null&&!($r(y)&&(K.length||!H.length))&&(A=y,y=p,p=this,K=Po(y,Ki(y)));var de=!($r(A)&&"chain"in A)||!!A.chain,_e=Cc(p);return Da(K,function(Pe){var ke=y[Pe];p[Pe]=ke,_e&&(p.prototype[Pe]=function(){var lt=this.__chain__;if(de||lt){var ut=p(this.__wrapped__),ft=ut.__actions__=na(this.__actions__);return ft.push({func:ke,args:arguments,thisArg:p}),ut.__chain__=lt,ut}return ke.apply(p,as([this.value()],arguments))})}),p}function q$(){return xi._===this&&(xi._=Zl),this}function WT(){}function X$(p){return p=Cn(p),_n(function(y){return ix(y,p)})}var Y$=ra(_r),K$=ra(ph),Z$=ra(gh);function iO(p){return Cl(p)?iu(sa(p)):bT(p)}function J$(p){return function(y){return p==null?t:Ci(p,y)}}var Q$=Dd(),e6=Dd(!0);function qT(){return[]}function XT(){return!1}function t6(){return{}}function n6(){return""}function r6(){return!0}function i6(p,y){if(p=Cn(p),p<1||p>W)return[];var A=Q,H=Li(p,Q);y=qt(y),p-=Q;for(var K=pd(H,y);++A<p;)y(A);return K}function a6(p){return dn(p)?_r(p,sa):Bo(p)?[p]:na(xv(mr(p)))}function o6(p){var y=++ml;return mr(p)+y}var s6=Us(function(p,y){return p+y},0),l6=Nd("ceil"),c6=Us(function(p,y){return p/y},1),u6=Nd("floor");function d6(p){return p&&p.length?Od(p,so,Yi):t}function f6(p,y){return p&&p.length?Od(p,qt(y,2),Yi):t}function h6(p){return ru(p,so)}function p6(p,y){return ru(p,qt(y,2))}function m6(p){return p&&p.length?Od(p,so,ev):t}function g6(p,y){return p&&p.length?Od(p,qt(y,2),ev):t}var v6=Us(function(p,y){return p*y},1),y6=Nd("round"),b6=Us(function(p,y){return p-y},0);function x6(p){return p&&p.length?bh(p,so):0}function _6(p,y){return p&&p.length?bh(p,qt(y,2)):0}return oe.after=nn,oe.ary=kn,oe.assign=Pj,oe.assignIn=Y2,oe.assignInWith=Bx,oe.assignWith=Oj,oe.at=Fj,oe.before=li,oe.bind=Bn,oe.bindAll=U$,oe.bindKey=js,oe.castArray=tj,oe.chain=xc,oe.chunk=si,oe.compact=El,oe.concat=Sn,oe.cond=B$,oe.conforms=z$,oe.constant=$T,oe.countBy=Mv,oe.create=Ij,oe.curry=Ix,oe.curryRight=z2,oe.debounce=H2,oe.defaults=Dj,oe.defaultsDeep=Lj,oe.defer=Vk,oe.delay=Gk,oe.difference=fr,oe.differenceBy=Yr,oe.differenceWith=qh,oe.drop=_u,oe.dropRight=pc,oe.dropRightWhile=Xh,oe.dropWhile=Hd,oe.fill=Su,oe.filter=Wd,oe.flatMap=f,oe.flatMapDeep=S,oe.flatMapDepth=E,oe.flatten=No,oe.flattenDeep=mc,oe.flattenDepth=Al,oe.flip=Wk,oe.flow=k$,oe.flowRight=j$,oe.fromPairs=gc,oe.functions=jj,oe.functionsIn=$j,oe.groupBy=le,oe.initial=Rx,oe.intersection=Ti,oe.intersectionBy=_v,oe.intersectionWith=Zh,oe.invert=Gj,oe.invertBy=Wj,oe.invokeMap=je,oe.iteratee=VT,oe.keyBy=it,oe.keys=Ki,oe.keysIn=oo,oe.map=bt,oe.mapKeys=Xj,oe.mapValues=Yj,oe.matches=$$,oe.matchesProperty=V$,oe.memoize=Dx,oe.merge=Kj,oe.mergeWith=K2,oe.method=G$,oe.methodOf=W$,oe.mixin=GT,oe.negate=Lx,oe.nthArg=X$,oe.omit=Zj,oe.omitBy=Jj,oe.once=qk,oe.orderBy=Et,oe.over=Y$,oe.overArgs=Xk,oe.overEvery=K$,oe.overSome=Z$,oe.partial=UT,oe.partialRight=k2,oe.partition=Ot,oe.pick=Qj,oe.pickBy=Z2,oe.property=iO,oe.propertyOf=J$,oe.pull=DT,oe.pullAll=Dr,oe.pullAllBy=Px,oe.pullAllWith=yc,oe.pullAt=Hs,oe.range=Q$,oe.rangeRight=e6,oe.rearg=Yk,oe.reject=qd,oe.remove=zr,oe.rest=Kk,oe.reverse=kd,oe.sampleSize=We,oe.set=t$,oe.setWith=n$,oe.shuffle=He,oe.slice=Ox,oe.sortBy=Gt,oe.sortedUniq=LT,oe.sortedUniqBy=Jh,oe.split=T$,oe.spread=Zk,oe.tail=Qh,oe.take=ep,oe.takeRight=tp,oe.takeRightWhile=np,oe.takeWhile=jd,oe.tap=$d,oe.throttle=Jk,oe.thru=$a,oe.toArray=W2,oe.toPairs=J2,oe.toPairsIn=Q2,oe.toPath=a6,oe.toPlainObject=X2,oe.transform=r$,oe.unary=Qk,oe.union=NT,oe.unionBy=hr,oe.unionWith=Cr,oe.uniq=An,oe.uniqBy=Un,oe.uniqWith=wr,oe.unset=i$,oe.unzip=la,oe.unzipWith=ps,oe.update=a$,oe.updateWith=o$,oe.values=op,oe.valuesIn=s$,oe.without=wu,oe.words=nO,oe.wrap=ej,oe.xor=Sv,oe.xorBy=ks,oe.xorWith=Hr,oe.zip=Rl,oe.zipObject=bc,oe.zipObjectDeep=Cv,oe.zipWith=ro,oe.entries=J2,oe.entriesIn=Q2,oe.extend=Y2,oe.extendWith=Bx,GT(oe,oe),oe.add=s6,oe.attempt=rO,oe.camelCase=d$,oe.capitalize=eO,oe.ceil=l6,oe.clamp=l$,oe.clone=nj,oe.cloneDeep=ij,oe.cloneDeepWith=aj,oe.cloneWith=rj,oe.conformsTo=oj,oe.deburr=tO,oe.defaultTo=H$,oe.divide=c6,oe.endsWith=f$,oe.eq=$s,oe.escape=h$,oe.escapeRegExp=p$,oe.every=Ev,oe.find=Av,oe.findIndex=Ex,oe.findKey=Nj,oe.findLast=u,oe.findLastIndex=Yh,oe.findLastKey=Uj,oe.floor=u6,oe.forEach=N,oe.forEachRight=k,oe.forIn=Bj,oe.forInRight=zj,oe.forOwn=Hj,oe.forOwnRight=kj,oe.get=HT,oe.gt=sj,oe.gte=lj,oe.has=Vj,oe.hasIn=kT,oe.head=Kh,oe.identity=so,oe.includes=Me,oe.indexOf=Ax,oe.inRange=c$,oe.invoke=qj,oe.isArguments=Xd,oe.isArray=dn,oe.isArrayBuffer=cj,oe.isArrayLike=ao,oe.isArrayLikeObject=ci,oe.isBoolean=uj,oe.isBuffer=Tu,oe.isDate=dj,oe.isElement=fj,oe.isEmpty=hj,oe.isEqual=pj,oe.isEqualWith=mj,oe.isError=BT,oe.isFinite=gj,oe.isFunction=Cc,oe.isInteger=j2,oe.isLength=Nx,oe.isMap=$2,oe.isMatch=vj,oe.isMatchWith=yj,oe.isNaN=bj,oe.isNative=xj,oe.isNil=Sj,oe.isNull=_j,oe.isNumber=V2,oe.isObject=$r,oe.isObjectLike=Jr,oe.isPlainObject=Rv,oe.isRegExp=zT,oe.isSafeInteger=Cj,oe.isSet=G2,oe.isString=Ux,oe.isSymbol=Bo,oe.isTypedArray=ap,oe.isUndefined=wj,oe.isWeakMap=Tj,oe.isWeakSet=Mj,oe.join=vc,oe.kebabCase=m$,oe.last=Kr,oe.lastIndexOf=FT,oe.lowerCase=g$,oe.lowerFirst=v$,oe.lt=Ej,oe.lte=Aj,oe.max=d6,oe.maxBy=f6,oe.mean=h6,oe.meanBy=p6,oe.min=m6,oe.minBy=g6,oe.stubArray=qT,oe.stubFalse=XT,oe.stubObject=t6,oe.stubString=n6,oe.stubTrue=r6,oe.multiply=v6,oe.nth=IT,oe.noConflict=q$,oe.noop=WT,oe.now=pr,oe.pad=y$,oe.padEnd=b$,oe.padStart=x$,oe.parseInt=_$,oe.random=u$,oe.reduce=cn,oe.reduceRight=io,oe.repeat=S$,oe.replace=C$,oe.result=e$,oe.round=y6,oe.runInContext=Ne,oe.sample=Sc,oe.size=Ke,oe.snakeCase=w$,oe.some=yt,oe.sortedIndex=Mi,oe.sortedIndexBy=Fx,oe.sortedIndexOf=Zr,oe.sortedLastIndex=ja,oe.sortedLastIndexBy=Uo,oe.sortedLastIndexOf=Cu,oe.startCase=M$,oe.startsWith=E$,oe.subtract=b6,oe.sum=x6,oe.sumBy=_6,oe.template=A$,oe.times=i6,oe.toFinite=wc,oe.toInteger=Cn,oe.toLength=q2,oe.toLower=R$,oe.toNumber=ms,oe.toSafeInteger=Rj,oe.toString=mr,oe.toUpper=P$,oe.trim=O$,oe.trimEnd=F$,oe.trimStart=I$,oe.truncate=D$,oe.unescape=L$,oe.uniqueId=o6,oe.upperCase=N$,oe.upperFirst=jT,oe.each=N,oe.eachRight=k,oe.first=Kh,GT(oe,function(){var p={};return _i(oe,function(y,A){Zn.call(oe.prototype,A)||(p[A]=y)}),p}(),{chain:!1}),oe.VERSION=r,Da(["bind","bindKey","curry","curryRight","partial","partialRight"],function(p){oe[p].placeholder=oe}),Da(["drop","take"],function(p,y){Tn.prototype[p]=function(A){A=A===t?1:Xr(Cn(A),0);var H=this.__filtered__&&!y?new Tn(this):this.clone();return H.__filtered__?H.__takeCount__=Li(A,H.__takeCount__):H.__views__.push({size:Li(A,Q),type:p+(H.__dir__<0?"Right":"")}),H},Tn.prototype[p+"Right"]=function(A){return this.reverse()[p](A).reverse()}}),Da(["filter","map","takeWhile"],function(p,y){var A=y+1,H=A==j||A==B;Tn.prototype[p]=function(K){var de=this.clone();return de.__iteratees__.push({iteratee:qt(K,3),type:A}),de.__filtered__=de.__filtered__||H,de}}),Da(["head","last"],function(p,y){var A="take"+(y?"Right":"");Tn.prototype[p]=function(){return this[A](1).value()[0]}}),Da(["initial","tail"],function(p,y){var A="drop"+(y?"":"Right");Tn.prototype[p]=function(){return this.__filtered__?new Tn(this):this[A](1)}}),Tn.prototype.compact=function(){return this.filter(so)},Tn.prototype.find=function(p){return this.filter(p).head()},Tn.prototype.findLast=function(p){return this.reverse().find(p)},Tn.prototype.invokeMap=_n(function(p,y){return typeof p=="function"?new Tn(this):this.map(function(A){return du(A,p,y)})}),Tn.prototype.reject=function(p){return this.filter(Lx(qt(p)))},Tn.prototype.slice=function(p,y){p=Cn(p);var A=this;return A.__filtered__&&(p>0||y<0)?new Tn(A):(p<0?A=A.takeRight(-p):p&&(A=A.drop(p)),y!==t&&(y=Cn(y),A=y<0?A.dropRight(-y):A.take(y-p)),A)},Tn.prototype.takeRightWhile=function(p){return this.reverse().takeWhile(p).reverse()},Tn.prototype.toArray=function(){return this.take(Q)},_i(Tn.prototype,function(p,y){var A=/^(?:filter|find|map|reject)|While$/.test(y),H=/^(?:head|last)$/.test(y),K=oe[H?"take"+(y=="last"?"Right":""):y],de=H||/^find/.test(y);K&&(oe.prototype[y]=function(){var _e=this.__wrapped__,Pe=H?[1]:arguments,ke=_e instanceof Tn,lt=Pe[0],ut=ke||dn(_e),ft=function(In){var jn=K.apply(oe,as([In],Pe));return H&&At?jn[0]:jn};ut&&A&&typeof lt=="function"&&lt.length!=1&&(ke=ut=!1);var At=this.__chain__,Ht=!!this.__actions__.length,en=de&&!At,Mn=ke&&!Ht;if(!de&&ut){_e=Mn?_e:new Tn(this);var tn=p.apply(_e,Pe);return tn.__actions__.push({func:$a,args:[ft],thisArg:t}),new Qa(tn,At)}return en&&Mn?p.apply(this,Pe):(tn=this.thru(ft),en?H?tn.value()[0]:tn.value():tn)})}),Da(["pop","push","shift","sort","splice","unshift"],function(p){var y=vd[p],A=/^(?:push|sort|unshift)$/.test(p)?"tap":"thru",H=/^(?:pop|shift)$/.test(p);oe.prototype[p]=function(){var K=arguments;if(H&&!this.__chain__){var de=this.value();return y.apply(dn(de)?de:[],K)}return this[A](function(_e){return y.apply(dn(_e)?_e:[],K)})}}),_i(Tn.prototype,function(p,y){var A=oe[y];if(A){var H=A.name+"";Zn.call(ec,H)||(ec[H]=[]),ec[H].push({name:y,func:A})}}),ec[mu(t,_).name]=[{name:"wrapper",func:t}],Tn.prototype.clone=vl,Tn.prototype.reverse=zb,Tn.prototype.value=Oh,oe.prototype.at=wv,oe.prototype.chain=Tv,oe.prototype.commit=Vd,oe.prototype.next=rp,oe.prototype.plant=ip,oe.prototype.reverse=_c,oe.prototype.toJSON=oe.prototype.valueOf=oe.prototype.value=Gd,oe.prototype.first=oe.prototype.head,Jl&&(oe.prototype[Jl]=Pl),oe},Kl=Ch();fl?((fl.exports=Kl)._=Kl,dd._=Kl):xi._=Kl}).call(da)})(M1,M1.exports);var XTe=M1.exports;const Nc=ri(XTe);function YTe(n,e){let t;try{t=n()}catch(i){return}return{getItem:i=>{var a;const o=l=>l===null?null:JSON.parse(l,void 0),s=(a=t.getItem(i))!=null?a:null;return s instanceof Promise?s.then(o):o(s)},setItem:(i,a)=>t.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>t.removeItem(i)}}const fR=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(r){return fR(r)(t)},catch(r){return this}}}catch(t){return{then(r){return this},catch(r){return fR(r)(t)}}}},KTe=(n,e)=>(t,r,i)=>{let a=qe({storage:YTe(()=>localStorage),partialize:x=>x,version:0,merge:(x,b)=>qe(qe({},b),x)},e),o=!1;const s=new Set,l=new Set;let c=a.storage;if(!c)return n((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),t(...x)},r,i);const d=()=>{const x=a.partialize(qe({},r()));return c.setItem(a.name,{state:x,version:a.version})},h=i.setState;i.setState=(x,b)=>(h(x,b),d());const m=n((...x)=>(t(...x),d()),r,i);i.getInitialState=()=>m;let v;const g=()=>{var x,b;if(!c)return;o=!1,s.forEach(C=>{var T;return C((T=r())!=null?T:m)});const _=((b=a.onRehydrateStorage)==null?void 0:b.call(a,(x=r())!=null?x:m))||void 0;return fR(c.getItem.bind(c))(a.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==a.version){if(a.migrate){const T=a.migrate(C.state,C.version);return T instanceof Promise?T.then(M=>[!0,M]):[!0,T]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var T;const[M,O]=C;if(v=a.merge(O,(T=r())!=null?T:m),t(v,!0),M)return d()}).then(()=>{_==null||_(v,void 0),v=r(),o=!0,l.forEach(C=>C(v))}).catch(C=>{_==null||_(void 0,C)})};return i.persist={setOptions:x=>{a=qe(qe({},a),x),x.storage&&(c=x.storage)},clearStorage:()=>{c==null||c.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:x=>(s.add(x),()=>{s.delete(x)}),onFinishHydration:x=>(l.add(x),()=>{l.delete(x)})},a.skipHydration||g(),v||m},ZTe=KTe,yw=E6()(ZTe(n=>({userInfo:null,loading:!1,error:null,clearUser:()=>n({userInfo:null})}),{name:"user-storage"}));function xNe(n){yw.setState({userInfo:n})}const JTe=n=>{var t;const{userInfo:e}=yw.getState();return e?(t=e==null?void 0:e.roles)!=null&&t.includes("admin")?!0:n.some(r=>{var i;return(i=e==null?void 0:e.permissions)==null?void 0:i.includes(r)}):!1},QTe=()=>{var e;const{userInfo:n}=yw.getState();return(e=n==null?void 0:n.roles)==null?void 0:e.includes("admin")},{Text:zv}=Kf,eMe="localhost",tMe="8887",nMe="v0",qM=`http://${eMe}:${tMe}/api/${nMe}`,cL=5,rMe=(n=100)=>new Promise(e=>{setTimeout(()=>{e(!0)},n)}),Hv=({title:n,value:e,bordered:t})=>w.jsxs("div",{className:pTe.headerInfo,children:[w.jsx("span",{children:n}),w.jsx("p",{children:e}),t&&w.jsx("em",{})]}),iMe=({connect:n,connOk:e,version:t,isStarting:r,deviceStarted:i,recording:a,connMode:o,leftSN:s,rightSN:l,currentStep:c,setLeftSN:d,setRightSN:h,setRecording:m,setConnect:v,setConnMode:g,setVersion:x,setConnOk:b,setIsStarting:_,setDeviceStarted:C,setCurrentStep:T,setShowLeftRGB:M,setShowLeftTOF:O,setShowRightRGB:I,setShowRightTOF:U})=>{var Ie;const{t:F,i18n:L}=ah(),[D,z]=P.useState(!1),[$,Y]=P.useState(""),[j,V]=P.useState(!1),[B,G]=P.useState(!1),[W,Z]=P.useState(!1),[J,Q]=P.useState(!1),[ue,se]=P.useState({pass:!1,reasons:[]}),ae=P.useMemo(()=>a5(F),[L.language]),ie=P.useMemo(()=>{var X;const Ae=(X=Nc.find(ae,{value:t}))==null?void 0:X.apiBasePrefix;return console.log("当前版本API前缀：",Ae),`${qM}${Ae}`},[t,ae]),te=()=>Bt(void 0,null,function*(){var Ae,X;try{const ye=yield(yield fetch(`${qM}/pairing/config`,{method:"GET"})).json();return console.log("加载本地配置:",ye),ye!=null&&ye.devices?(d(((Ae=ye.devices.device_0)==null?void 0:Ae.xv_serial)||""),h(((X=ye.devices.device_1)==null?void 0:X.xv_serial)||""),!0):!1}catch(q){return console.error("获取设备配置失败:",q),!1}}),ee=()=>Bt(void 0,null,function*(){try{const X=yield(yield fetch(`${qM}/status`,{method:"GET"})).json(),q=X.xv,ye=X.device_version||"Unknown";return ye==="pro"?x(zl.FullFunction):ye==="portable"&&x(zl.Portable),q==="RUNNING"?(C(!0),_(!1)):["STOPPED","CRASHED","STARTUP_FAILED"].includes(q)?(C(!1),_(!1)):q==="STARTING"&&(_(!0),C(!1),$n.warning(F("dataCollector.msgStartingWait"),3)),!0}catch(Ae){return console.error("获取设备状态失败:",Ae),!1}}),xe=()=>Bt(void 0,null,function*(){if(ie)try{const Ae=yield fetch(`${ie}/recording/status`,{method:"GET"});if(Ae.ok){const X=yield Ae.json();console.log("同步录制状态:",X),X.is_recording!==void 0&&m(X.is_recording)}}catch(Ae){console.error("获取录制状态失败:",Ae)}});P.useEffect(()=>{te(),ee(),xe()},[]),P.useEffect(()=>{i&&xe()},[ie,i]);const Ee=()=>Bt(void 0,null,function*(){var Ae,X,q;Z(!0);try{const ye=yield fetch(`${ie}/pairing/quick_run`,{method:"POST"}),Re=yield ye.json();if(!ye.ok||!Re.success)throw new Error((Re==null?void 0:Re.message)||((Ae=Re==null?void 0:Re.detail)==null?void 0:Ae.message)||F("dataCollector.msgPairingFailed"));$n.success(Re.message||F("dataCollector.msgPairingSuccess")),Re.data?(d(((X=Re.data.device_0)==null?void 0:X.xv_serial)||""),h(((q=Re.data.device_1)==null?void 0:q.xv_serial)||"")):yield te()}catch(ye){$n.warning(`${F("dataCollector.msgPairingError")} (${ye.message}), ${F("dataCollector.msgLoadingLocalConfig")}`,3),(yield te())?$n.success(F("dataCollector.msgLocalConfigLoaded")):$n.error(F("dataCollector.msgCannotConnect"))}finally{Z(!1),G(!1)}}),Se=()=>Bt(void 0,null,function*(){if(!i){$n.warning(F("dataCollector.msgDeviceNotStarted"),2);return}try{$n.loading(F("dataCollector.msgStopping"),2);const Ae=yield fetch(`${ie}/device/stop`,{method:"POST"}),X=yield Ae.json();if(Ae.ok)$n.success(`${F("dataCollector.msgStopSuccess")}${X.message}`,3),v(!1),C(!1),b(!1),g("idle");else throw new Error(X.detail||F("dataCollector.msgStopRequestDenied"))}catch(Ae){$n.error(`${F("dataCollector.msgStopFailed")}${(Ae==null?void 0:Ae.message)||Ae}`,4)}}),ze=()=>Bt(void 0,null,function*(){if(n){$n.warning(F("dataCollector.msgAlreadyConnected"),3);return}_(!0);try{$n.loading(F("dataCollector.msgStarting"),1);const Ae=yield fetch(`${ie}/device/start`,{method:"POST"}),X=yield Ae.json();if(Ae.ok)$n.success(`${F("dataCollector.msgStartSuccess")}${X.message||F("dataCollector.msgInitializing")}`,3),C(!0);else throw new Error(X.detail||F("dataCollector.msgStopRequest"))}catch(Ae){$n.error(`${F("dataCollector.msgStartFailed")}${(Ae==null?void 0:Ae.message)||Ae}`,4),C(!1)}finally{_(!1)}}),Ue=P.useMemo(()=>F(n?e?"dataCollector.connected":"dataCollector.connecting":"dataCollector.notConnected"),[n,e,o,F]),re=P.useCallback(()=>{n||(M(!0),O(!0),I(!0),U(!0)),v(!n)},[n]),Ce=()=>Bt(void 0,null,function*(){console.log("开始预采集：",new Date().toLocaleTimeString());try{const X=yield(yield fetch(`${ie}/recording/prepare`,{method:"POST"})).json();if(X.code===0)return{code:X.code};$n.error(`${F("dataCollector.msgPrepareStartCollectionError")}${X.msg}`)}catch(Ae){$n.error(`${F("dataCollector.msgPrepareStartCollectionError")}${(Ae==null?void 0:Ae.message)||Ae}`)}}),Fe=()=>Bt(void 0,null,function*(){const Ae=yield Ce();if((Ae==null?void 0:Ae.code)===0){z(!0),yield rMe(cL*1e3),console.log("开始采集：",new Date().toLocaleTimeString());try{const q=yield(yield fetch(`${ie}/recording/start`,{method:"POST"})).json();q.code===0?(m(!0),$n.success(`${F("dataCollector.msgStartCollectionSuccess")}${q.msg||""}`)):$n.error(q.msg||F("dataCollector.msgStartCollectionFailed"))}catch(X){$n.error(`${F("dataCollector.msgStartCollectionError")}${(X==null?void 0:X.message)||X}`)}}}),ge=()=>Bt(void 0,null,function*(){if(!j){V(!0);try{$n.loading(F("dataCollector.msgStopCollecting"),2);const X=yield(yield fetch(`${ie}/recording/stop`,{method:"POST"})).json();if(X.code===0){m(!1);const{leftPath:q,rightPath:ye}=X.data||{},Re=X.msg||F("dataCollector.msgStopCollectionSuccess");if(console.log("数据保存路径:",{leftPath:q,rightPath:ye}),$n.success(`${Re}`),QTe()){const Le=$n.loading(F("dataCollector.Evaluating"));yield fe(X.data),Le()}}else $n.error(X.msg||F("dataCollector.msgStopCollectionFailed"))}catch(Ae){console.error(Ae),$n.error(`${F("dataCollector.msgStopCollectionError")}${(Ae==null?void 0:Ae.message)||Ae}`)}finally{V(!1)}}}),fe=Ae=>Bt(void 0,null,function*(){const q=yield(yield fetch(`${ie}/data/evaluate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:Ae.sessionPath})})).json();se(q.data),Q(!0)});P.useEffect(()=>{const Ae=q=>{if(!(q instanceof HTMLElement))return!1;const ye=q.tagName.toLowerCase();return ye==="input"||ye==="textarea"||q.isContentEditable},X=q=>{if(q.repeat||Ae(q.target))return;const ye=q.key.toLowerCase();if(ye===" "||ye==="spacebar"){if(q.preventDefault(),j)return;n?n&&!a&&re():re()}if(ye==="y"){if(j)return;n&&!a?Fe():a&&ge()}};return window.addEventListener("keydown",X),()=>{window.removeEventListener("keydown",X)}},[n,a,j]);const[ve,be]=P.useState(!1),we=()=>null;return w.jsxs(w.Fragment,{children:[w.jsx(qTe,{totalSeconds:cL,triggerCountdown:D,onComplete:()=>{z(!1)}}),w.jsx(Ai,{style:{marginTop:0},title:F("dataCollector.cardTitle"),extra:w.jsx(w.Fragment,{children:w.jsx(vo,{title:F(ve?"dataCollector.expand":"dataCollector.collapse"),children:w.jsx(lr,{type:"text",icon:ve?w.jsx(U0,{}):w.jsx(Bq,{}),onClick:()=>be(!ve)})})}),children:!ve&&w.jsxs(w.Fragment,{children:[w.jsxs(zi,{gutter:[48,24],children:[w.jsxs(hn,{lg:12,md:24,sm:24,xs:24,children:[w.jsx(zv,{style:{display:"block",marginBottom:16,color:"rgba(0, 0, 0, 0.45)"},children:F("dataCollector.coreOperations")}),w.jsxs(zi,{gutter:[16,16],children:[w.jsx(hn,{span:12,children:i===!1?w.jsx(lr,{type:"primary",icon:w.jsx(Eq,{}),style:{width:"100%",background:"#52c41a",borderColor:"#52c41a"},onClick:ze,loading:r,disabled:n||a||j,children:F("dataCollector.startDevice")}):w.jsx(lr,{danger:!0,type:"primary",icon:w.jsx(QO,{}),style:{width:"100%"},onClick:Se,disabled:a||j,children:F("dataCollector.stopDevice")})}),w.jsx(hn,{span:12,children:n===!1?w.jsx(lr,{type:"primary",icon:w.jsx(V7,{}),size:"middle",style:{width:"100%"},onClick:re,disabled:!i,children:F("dataCollector.connectDevice")}):w.jsx(lr,{danger:!0,type:"primary",icon:w.jsx(QO,{}),style:{width:"100%"},onClick:re,children:F("dataCollector.disconnectDevice")})}),w.jsx(hn,{span:12,children:w.jsx(lr,{type:"primary",style:{width:"100%"},onClick:Fe,disabled:!i||a||j,children:F("dataCollector.startCollection")})}),w.jsx(hn,{span:12,children:w.jsx(lr,{danger:!0,style:{width:"100%"},onClick:ge,disabled:!a,loading:j,children:F(j?"dataCollector.saving":"dataCollector.stopCollection")})})]}),we()]}),w.jsxs(hn,{lg:12,md:24,sm:24,xs:24,children:[w.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[w.jsx(zv,{style:{color:"rgba(0, 0, 0, 0.45)"},children:F("dataCollector.deviceConfig")}),w.jsx(lr,{type:"primary",size:"middle",ghost:!0,onClick:()=>G(!0),disabled:n||a||!i||j,children:F("dataCollector.autoPairing")})]}),w.jsxs(zi,{gutter:[16,16],children:[w.jsxs(hn,{lg:12,md:12,sm:24,xs:24,children:[w.jsx(zv,{strong:!0,children:F("dataCollector.leftHand")}),w.jsx(yS,{style:{width:"100%",marginTop:8},placeholder:F("dataCollector.selectLeftDevice"),showSearch:!0,allowClear:!0,disabled:!0,value:s})]}),w.jsxs(hn,{lg:12,md:12,sm:24,xs:24,children:[w.jsx(zv,{strong:!0,children:F("dataCollector.rightHand")}),w.jsx(yS,{style:{width:"100%",marginTop:8},placeholder:F("dataCollector.selectRightDevice"),showSearch:!0,allowClear:!0,disabled:!0,value:l})]})]})]})]}),w.jsx(xS,{style:{marginTop:24,marginBottom:24}}),w.jsxs("div",{children:[w.jsx(zv,{style:{display:"block",marginBottom:16,color:"rgba(0, 0, 0, 0.45)"},children:F("dataCollector.statusMonitoring")}),w.jsxs(zi,{gutter:[16,16],align:"top",children:[w.jsx(hn,{lg:9,md:24,sm:24,xs:24,children:w.jsx(bS,{current:c,size:"small",items:[{title:F("dataCollector.stepDisconnected"),description:F("dataCollector.stepDisconnectedDesc")},{title:F("dataCollector.stepConnected"),description:F("dataCollector.stepConnectedDesc")},{title:F("dataCollector.stepCollecting"),description:F("dataCollector.stepCollectingDesc")}]})}),w.jsx(hn,{lg:3,md:8,sm:12,xs:24,children:w.jsx(Hv,{title:F("dataCollector.connectionStatus"),value:Ue,bordered:!0})}),t===zl.FullFunction&&w.jsx(hn,{lg:3,md:8,sm:12,xs:24,children:w.jsx(Hv,{title:F("dataCollector.laserSensor"),value:Ue,bordered:!0})}),w.jsx(hn,{lg:3,md:8,sm:12,xs:24,children:w.jsx(Hv,{title:F("dataCollector.visualOdometer"),value:Ue,bordered:!0})}),w.jsx(hn,{lg:3,md:8,sm:12,xs:24,children:w.jsx(Hv,{title:F("dataCollector.videoStreamStatus"),value:Ue,bordered:!0})}),w.jsx(hn,{lg:3,md:8,sm:12,xs:24,children:w.jsx(Hv,{title:F("dataCollector.depthSensor"),value:Ue,bordered:!0})})]})]})]})}),w.jsx(cm,{title:F("dataCollector.pairingTitle"),centered:!0,open:B,onCancel:()=>!W&&G(!1),footer:[w.jsx(lr,{onClick:()=>G(!1),disabled:W,children:F("dataCollector.cancel")},"cancel"),w.jsx(lr,{type:"primary",loading:W,onClick:Ee,children:F(W?"dataCollector.detecting":"dataCollector.startPairing")},"submit")],children:w.jsx("div",{style:{padding:"20px 0"},children:W?w.jsxs("div",{style:{textAlign:"center"},children:[w.jsx(Yu,{size:"large",tip:F("dataCollector.analyzingData")}),w.jsx("div",{style:{marginTop:20,fontSize:16,fontWeight:"bold",color:"#1890ff"},children:F("dataCollector.shakeLeftDevice")}),w.jsx("div",{style:{marginTop:8,color:"#666"},children:F("dataCollector.singleDeviceNote")})]}):w.jsxs("div",{children:[w.jsx("p",{children:F("dataCollector.pairingIntro")}),w.jsxs("div",{style:{background:"#f5f5f5",padding:15,borderRadius:8},children:[w.jsx("p",{children:w.jsx("strong",{children:F("dataCollector.smartPairingLogic")})}),w.jsxs("ul",{children:[w.jsxs("li",{children:[w.jsx("strong",{children:F("dataCollector.singleDeviceMode")}),F("dataCollector.singleDeviceModeDesc")]}),w.jsxs("li",{children:[w.jsx("strong",{children:F("dataCollector.dualDeviceMode")}),F("dataCollector.dualDeviceModeDesc")]})]})]})]})})}),w.jsx(cm,{title:F("dataCollector.evaluateResults"),centered:!0,open:J,onCancel:()=>Q(!1),footer:[w.jsx(lr,{onClick:()=>Q(!1),children:F("dataCollector.close")},"cancel")],children:w.jsxs("div",{style:{padding:"20px 0"},children:[w.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:16},children:[ue.pass?w.jsx(K7,{style:{fontSize:24,color:"#52c41a",marginRight:8}}):w.jsx(bU,{style:{fontSize:24,color:"#ff4d4f",marginRight:8}}),w.jsx("span",{style:{fontSize:16,fontWeight:500},children:ue.pass?F("dataCollector.evaluateSuccess"):F("dataCollector.evaluateFailed")})]}),!ue.pass&&((Ie=ue.reasons)==null?void 0:Ie.length)>0&&w.jsxs("div",{children:[w.jsxs("div",{style:{fontSize:14,fontWeight:500,marginBottom:8,color:"#262626"},children:[F("dataCollector.failureReasons"),":"]}),w.jsx("div",{style:{background:"#fff2f0",border:"1px solid #ffccc7",padding:"2px 8px",borderRadius:8,maxHeight:200,overflowY:"auto"},children:ue.reasons.map((Ae,X)=>w.jsx("div",{style:{padding:"10px 0",borderBottom:X===ue.reasons.length-1?"none":"1px solid #ffccc7"},children:Ae},X))})]})]})})]})},aMe="_title_syp4q_1",oMe="_loadingMask_syp4q_26",bp={title:aMe,loadingMask:oMe};/**
* @license
* Copyright 2010-2025 Three.js Authors
* SPDX-License-Identifier: MIT
*/const bw="180",pf={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},mf={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},c5=0,hR=1,u5=2,sMe=3,d5=0,xw=1,b0=2,Js=3,Kc=0,Xa=1,_s=2,Gc=0,If=1,pR=2,mR=3,gR=4,f5=5,Du=100,h5=101,p5=102,m5=103,g5=104,v5=200,y5=201,b5=202,x5=203,E1=204,A1=205,_5=206,S5=207,C5=208,w5=209,T5=210,M5=211,E5=212,A5=213,R5=214,R1=0,P1=1,O1=2,Wf=3,F1=4,I1=5,D1=6,L1=7,Jy=0,P5=1,O5=2,Hl=0,F5=1,I5=2,D5=3,XP=4,L5=5,N5=6,U5=7,vR="attached",B5="detached",_w=300,Zc=301,Vu=302,Z0=303,J0=304,Jm=306,Q0=1e3,Ss=1001,ey=1002,ha=1003,YP=1004,lMe=1004,Yp=1005,cMe=1005,Hi=1006,x0=1007,uMe=1007,Ul=1008,dMe=1008,ws=1009,KP=1010,ZP=1011,Cm=1012,Sw=1013,Jc=1014,bo=1015,Qm=1016,Cw=1017,ww=1018,wm=1020,JP=35902,QP=35899,e2=1021,t2=1022,Ea=1023,Tm=1026,Mm=1027,Tw=1028,Qy=1029,n2=1030,Mw=1031,fMe=1032,Ew=1033,_0=33776,S0=33777,C0=33778,w0=33779,N1=35840,U1=35841,B1=35842,z1=35843,H1=36196,k1=37492,j1=37496,$1=37808,V1=37809,G1=37810,W1=37811,q1=37812,X1=37813,Y1=37814,K1=37815,Z1=37816,J1=37817,Q1=37818,eC=37819,tC=37820,nC=37821,rC=36492,iC=36494,aC=36495,oC=36283,sC=36284,lC=36285,cC=36286,z5=2200,H5=2201,k5=2202,ty=2300,uC=2301,hS=2302,Mf=2400,Ef=2401,ny=2402,Aw=2500,r2=2501,hMe=0,pMe=1,mMe=2,j5=3200,$5=3201,gMe=3202,vMe=3203,Qu=0,V5=1,zc="",wa="srgb",Gu="srgb-linear",ry="linear",br="srgb",yMe=0,gf=7680,bMe=7681,xMe=7682,_Me=7683,SMe=34055,CMe=34056,wMe=5386,TMe=512,MMe=513,EMe=514,AMe=515,RMe=516,PMe=517,OMe=518,yR=519,G5=512,W5=513,q5=514,i2=515,X5=516,Y5=517,K5=518,Z5=519,iy=35044,FMe=35048,IMe=35040,DMe=35045,LMe=35049,NMe=35041,UMe=35046,BMe=35050,zMe=35042,HMe="100",bR="300 es",Yo=2e3,Em=2001,kMe={COMPUTE:"compute",RENDER:"render"},jMe={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},$Me={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};let ql=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const r=t[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,o=i.length;a<o;a++)i[a].call(this,e);e.target=null}}};const ya=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let uL=1234567;const Df=Math.PI/180,Am=180/Math.PI;function Jo(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ya[n&255]+ya[n>>8&255]+ya[n>>16&255]+ya[n>>24&255]+"-"+ya[e&255]+ya[e>>8&255]+"-"+ya[e>>16&15|64]+ya[e>>24&255]+"-"+ya[t&63|128]+ya[t>>8&255]+"-"+ya[t>>16&255]+ya[t>>24&255]+ya[r&255]+ya[r>>8&255]+ya[r>>16&255]+ya[r>>24&255]).toLowerCase()}function rn(n,e,t){return Math.max(e,Math.min(t,n))}function a2(n,e){return(n%e+e)%e}function VMe(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function GMe(n,e,t){return n!==e?(t-n)/(e-n):0}function T0(n,e,t){return(1-t)*n+t*e}function WMe(n,e,t,r){return T0(n,e,1-Math.exp(-t*r))}function qMe(n,e=1){return e-Math.abs(a2(n,e*2)-e)}function XMe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function YMe(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function KMe(n,e){return n+Math.floor(Math.random()*(e-n+1))}function ZMe(n,e){return n+Math.random()*(e-n)}function JMe(n){return n*(.5-Math.random())}function QMe(n){n!==void 0&&(uL=n);let e=uL+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function eEe(n){return n*Df}function tEe(n){return n*Am}function nEe(n){return(n&n-1)===0&&n!==0}function rEe(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function iEe(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function aEe(n,e,t,r,i){const a=Math.cos,o=Math.sin,s=a(t/2),l=o(t/2),c=a((e+r)/2),d=o((e+r)/2),h=a((e-r)/2),m=o((e-r)/2),v=a((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":n.set(s*d,l*h,l*m,s*c);break;case"YZY":n.set(l*m,s*d,l*h,s*c);break;case"ZXZ":n.set(l*h,l*m,s*d,s*c);break;case"XZX":n.set(s*d,l*g,l*v,s*c);break;case"YXY":n.set(l*v,s*d,l*g,s*c);break;case"ZYZ":n.set(l*g,l*v,s*d,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function qa(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function gn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const oEe={DEG2RAD:Df,RAD2DEG:Am,generateUUID:Jo,clamp:rn,euclideanModulo:a2,mapLinear:VMe,inverseLerp:GMe,lerp:T0,damp:WMe,pingpong:qMe,smoothstep:XMe,smootherstep:YMe,randInt:KMe,randFloat:ZMe,randFloatSpread:JMe,seededRandom:QMe,degToRad:eEe,radToDeg:tEe,isPowerOfTwo:nEe,ceilPowerOfTwo:rEe,floorPowerOfTwo:iEe,setQuaternionFromProperEuler:aEe,normalize:gn,denormalize:qa};class ot{constructor(e=0,t=0){ot.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=rn(this.x,e.x,t.x),this.y=rn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=rn(this.x,e,t),this.y=rn(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(rn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(rn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),a=this.x-e.x,o=this.y-e.y;return this.x=a*r-o*i+e.x,this.y=a*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ki{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,a,o,s){let l=r[i+0],c=r[i+1],d=r[i+2],h=r[i+3];const m=a[o+0],v=a[o+1],g=a[o+2],x=a[o+3];if(s===0){e[t+0]=l,e[t+1]=c,e[t+2]=d,e[t+3]=h;return}if(s===1){e[t+0]=m,e[t+1]=v,e[t+2]=g,e[t+3]=x;return}if(h!==x||l!==m||c!==v||d!==g){let b=1-s;const _=l*m+c*v+d*g+h*x,C=_>=0?1:-1,T=1-_*_;if(T>Number.EPSILON){const O=Math.sqrt(T),I=Math.atan2(O,_*C);b=Math.sin(b*I)/O,s=Math.sin(s*I)/O}const M=s*C;if(l=l*b+m*M,c=c*b+v*M,d=d*b+g*M,h=h*b+x*M,b===1-s){const O=1/Math.sqrt(l*l+c*c+d*d+h*h);l*=O,c*=O,d*=O,h*=O}}e[t]=l,e[t+1]=c,e[t+2]=d,e[t+3]=h}static multiplyQuaternionsFlat(e,t,r,i,a,o){const s=r[i],l=r[i+1],c=r[i+2],d=r[i+3],h=a[o],m=a[o+1],v=a[o+2],g=a[o+3];return e[t]=s*g+d*h+l*v-c*m,e[t+1]=l*g+d*m+c*h-s*v,e[t+2]=c*g+d*v+s*m-l*h,e[t+3]=d*g-s*h-l*m-c*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,a=e._z,o=e._order,s=Math.cos,l=Math.sin,c=s(r/2),d=s(i/2),h=s(a/2),m=l(r/2),v=l(i/2),g=l(a/2);switch(o){case"XYZ":this._x=m*d*h+c*v*g,this._y=c*v*h-m*d*g,this._z=c*d*g+m*v*h,this._w=c*d*h-m*v*g;break;case"YXZ":this._x=m*d*h+c*v*g,this._y=c*v*h-m*d*g,this._z=c*d*g-m*v*h,this._w=c*d*h+m*v*g;break;case"ZXY":this._x=m*d*h-c*v*g,this._y=c*v*h+m*d*g,this._z=c*d*g+m*v*h,this._w=c*d*h-m*v*g;break;case"ZYX":this._x=m*d*h-c*v*g,this._y=c*v*h+m*d*g,this._z=c*d*g-m*v*h,this._w=c*d*h+m*v*g;break;case"YZX":this._x=m*d*h+c*v*g,this._y=c*v*h+m*d*g,this._z=c*d*g-m*v*h,this._w=c*d*h-m*v*g;break;case"XZY":this._x=m*d*h-c*v*g,this._y=c*v*h-m*d*g,this._z=c*d*g+m*v*h,this._w=c*d*h+m*v*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],a=t[8],o=t[1],s=t[5],l=t[9],c=t[2],d=t[6],h=t[10],m=r+s+h;if(m>0){const v=.5/Math.sqrt(m+1);this._w=.25/v,this._x=(d-l)*v,this._y=(a-c)*v,this._z=(o-i)*v}else if(r>s&&r>h){const v=2*Math.sqrt(1+r-s-h);this._w=(d-l)/v,this._x=.25*v,this._y=(i+o)/v,this._z=(a+c)/v}else if(s>h){const v=2*Math.sqrt(1+s-r-h);this._w=(a-c)/v,this._x=(i+o)/v,this._y=.25*v,this._z=(l+d)/v}else{const v=2*Math.sqrt(1+h-r-s);this._w=(o-i)/v,this._x=(a+c)/v,this._y=(l+d)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(rn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,a=e._z,o=e._w,s=t._x,l=t._y,c=t._z,d=t._w;return this._x=r*d+o*s+i*c-a*l,this._y=i*d+o*l+a*s-r*c,this._z=a*d+o*c+r*l-i*s,this._w=o*d-r*s-i*l-a*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,a=this._z,o=this._w;let s=o*e._w+r*e._x+i*e._y+a*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=o,this._x=r,this._y=i,this._z=a,this;const l=1-s*s;if(l<=Number.EPSILON){const v=1-t;return this._w=v*o+t*this._w,this._x=v*r+t*this._x,this._y=v*i+t*this._y,this._z=v*a+t*this._z,this.normalize(),this}const c=Math.sqrt(l),d=Math.atan2(c,s),h=Math.sin((1-t)*d)/c,m=Math.sin(t*d)/c;return this._w=o*h+this._w*m,this._x=r*h+this._x*m,this._y=i*h+this._y*m,this._z=a*h+this._z*m,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),a=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class he{constructor(e=0,t=0,r=0){he.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(dL.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(dL.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[3]*r+a[6]*i,this.y=a[1]*t+a[4]*r+a[7]*i,this.z=a[2]*t+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=e.elements,o=1/(a[3]*t+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*t+a[4]*r+a[8]*i+a[12])*o,this.y=(a[1]*t+a[5]*r+a[9]*i+a[13])*o,this.z=(a[2]*t+a[6]*r+a[10]*i+a[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,a=e.x,o=e.y,s=e.z,l=e.w,c=2*(o*i-s*r),d=2*(s*t-a*i),h=2*(a*r-o*t);return this.x=t+l*c+o*h-s*d,this.y=r+l*d+s*c-a*h,this.z=i+l*h+a*d-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*i,this.y=a[1]*t+a[5]*r+a[9]*i,this.z=a[2]*t+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=rn(this.x,e.x,t.x),this.y=rn(this.y,e.y,t.y),this.z=rn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=rn(this.x,e,t),this.y=rn(this.y,e,t),this.z=rn(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(rn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,a=e.z,o=t.x,s=t.y,l=t.z;return this.x=i*l-a*s,this.y=a*o-r*l,this.z=r*s-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return XM.copy(this).projectOnVector(e),this.sub(XM)}reflect(e){return this.sub(XM.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(rn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const XM=new he,dL=new ki;class fn{constructor(e,t,r,i,a,o,s,l,c){fn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,a,o,s,l,c)}set(e,t,r,i,a,o,s,l,c){const d=this.elements;return d[0]=e,d[1]=i,d[2]=s,d[3]=t,d[4]=a,d[5]=l,d[6]=r,d[7]=o,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,o=r[0],s=r[3],l=r[6],c=r[1],d=r[4],h=r[7],m=r[2],v=r[5],g=r[8],x=i[0],b=i[3],_=i[6],C=i[1],T=i[4],M=i[7],O=i[2],I=i[5],U=i[8];return a[0]=o*x+s*C+l*O,a[3]=o*b+s*T+l*I,a[6]=o*_+s*M+l*U,a[1]=c*x+d*C+h*O,a[4]=c*b+d*T+h*I,a[7]=c*_+d*M+h*U,a[2]=m*x+v*C+g*O,a[5]=m*b+v*T+g*I,a[8]=m*_+v*M+g*U,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],d=e[8];return t*o*d-t*s*c-r*a*d+r*s*l+i*a*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],d=e[8],h=d*o-s*c,m=s*l-d*a,v=c*a-o*l,g=t*h+r*m+i*v;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/g;return e[0]=h*x,e[1]=(i*c-d*r)*x,e[2]=(s*r-i*o)*x,e[3]=m*x,e[4]=(d*t-i*l)*x,e[5]=(i*a-s*t)*x,e[6]=v*x,e[7]=(r*l-c*t)*x,e[8]=(o*t-r*a)*x,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,a,o,s){const l=Math.cos(a),c=Math.sin(a);return this.set(r*l,r*c,-r*(l*o+c*s)+o+e,-i*c,i*l,-i*(-c*o+l*s)+s+t,0,0,1),this}scale(e,t){return this.premultiply(YM.makeScale(e,t)),this}rotate(e){return this.premultiply(YM.makeRotation(-e)),this}translate(e,t){return this.premultiply(YM.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const YM=new fn;function J5(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const sEe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Kp(n,e){return new sEe[n](e)}function ay(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function Q5(){const n=ay("canvas");return n.style.display="block",n}const fL={};function oy(n){n in fL||(fL[n]=!0,console.warn(n))}function lEe(n,e,t){return new Promise(function(r,i){function a(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:i();break;case n.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:r()}}setTimeout(a,t)})}const hL=new fn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),pL=new fn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function cEe(){const n={enabled:!0,workingColorSpace:Gu,spaces:{},convert:function(i,a,o){return this.enabled===!1||a===o||!a||!o||(this.spaces[a].transfer===br&&(i.r=Wc(i.r),i.g=Wc(i.g),i.b=Wc(i.b)),this.spaces[a].primaries!==this.spaces[o].primaries&&(i.applyMatrix3(this.spaces[a].toXYZ),i.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===br&&(i.r=sm(i.r),i.g=sm(i.g),i.b=sm(i.b))),i},workingToColorSpace:function(i,a){return this.convert(i,this.workingColorSpace,a)},colorSpaceToWorking:function(i,a){return this.convert(i,a,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===zc?ry:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,a=this.workingColorSpace){return i.fromArray(this.spaces[a].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,a,o){return i.copy(this.spaces[a].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,a){return oy("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(i,a)},toWorkingColorSpace:function(i,a){return oy("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(i,a)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[Gu]:{primaries:e,whitePoint:r,transfer:ry,toXYZ:hL,fromXYZ:pL,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:wa},outputColorSpaceConfig:{drawingBufferColorSpace:wa}},[wa]:{primaries:e,whitePoint:r,transfer:br,toXYZ:hL,fromXYZ:pL,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:wa}}}),n}const Vn=cEe();function Wc(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function sm(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let xp;class eH{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement=="undefined")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{xp===void 0&&(xp=ay("canvas")),xp.width=e.width,xp.height=e.height;const i=xp.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=xp}return r.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement!="undefined"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&e instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&e instanceof ImageBitmap){const t=ay("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),a=i.data;for(let o=0;o<a.length;o++)a[o]=Wc(a[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Wc(t[r]/255)*255):t[r]=Wc(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let uEe=0;class zu{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:uEe++}),this.uuid=Jo(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement!="undefined"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let o=0,s=i.length;o<s;o++)i[o].isDataTexture?a.push(KM(i[o].image)):a.push(KM(i[o]))}else a=KM(i);r.url=a}return t||(e.images[this.uuid]=r),r}}function KM(n){return typeof HTMLImageElement!="undefined"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&n instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&n instanceof ImageBitmap?eH.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let dEe=0;const ZM=new he;class ni extends ql{constructor(e=ni.DEFAULT_IMAGE,t=ni.DEFAULT_MAPPING,r=Ss,i=Ss,a=Hi,o=Ul,s=Ea,l=ws,c=ni.DEFAULT_ANISOTROPY,d=zc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:dEe++}),this.uuid=Jo(),this.name="",this.source=new zu(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=o,this.anisotropy=c,this.format=s,this.internalFormat=null,this.type=l,this.offset=new ot(0,0),this.repeat=new ot(1,1),this.center=new ot(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new fn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(ZM).x}get height(){return this.source.getSize(ZM).y}get depth(){return this.source.getSize(ZM).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Texture.setValues(): property '${t}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==_w)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Q0:e.x=e.x-Math.floor(e.x);break;case Ss:e.x=e.x<0?0:1;break;case ey:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Q0:e.y=e.y-Math.floor(e.y);break;case Ss:e.y=e.y<0?0:1;break;case ey:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ni.DEFAULT_IMAGE=null;ni.DEFAULT_MAPPING=_w;ni.DEFAULT_ANISOTROPY=1;class tr{constructor(e=0,t=0,r=0,i=1){tr.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,a=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*a,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*a,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*a,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,a;const l=e.elements,c=l[0],d=l[4],h=l[8],m=l[1],v=l[5],g=l[9],x=l[2],b=l[6],_=l[10];if(Math.abs(d-m)<.01&&Math.abs(h-x)<.01&&Math.abs(g-b)<.01){if(Math.abs(d+m)<.1&&Math.abs(h+x)<.1&&Math.abs(g+b)<.1&&Math.abs(c+v+_-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const T=(c+1)/2,M=(v+1)/2,O=(_+1)/2,I=(d+m)/4,U=(h+x)/4,F=(g+b)/4;return T>M&&T>O?T<.01?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(T),i=I/r,a=U/r):M>O?M<.01?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(M),r=I/i,a=F/i):O<.01?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(O),r=U/a,i=F/a),this.set(r,i,a,t),this}let C=Math.sqrt((b-g)*(b-g)+(h-x)*(h-x)+(m-d)*(m-d));return Math.abs(C)<.001&&(C=1),this.x=(b-g)/C,this.y=(h-x)/C,this.z=(m-d)/C,this.w=Math.acos((c+v+_-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=rn(this.x,e.x,t.x),this.y=rn(this.y,e.y,t.y),this.z=rn(this.z,e.z,t.z),this.w=rn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=rn(this.x,e,t),this.y=rn(this.y,e,t),this.z=rn(this.z,e,t),this.w=rn(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(rn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class o2 extends ql{constructor(e=1,t=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Hi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=r.depth,this.scissor=new tr(0,0,e,t),this.scissorTest=!1,this.viewport=new tr(0,0,e,t);const i={width:e,height:t,depth:r.depth},a=new ni(i);this.textures=[];const o=r.count;for(let s=0;s<o;s++)this.textures[s]=a.clone(),this.textures[s].isRenderTargetTexture=!0,this.textures[s].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const t={minFilter:Hi,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,a=this.textures.length;i<a;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=r,this.textures[i].isArrayTexture=this.textures[i].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,r=e.textures.length;t<r;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const i=Object.assign({},e.textures[t].image);this.textures[t].source=new zu(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class jl extends o2{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class Rw extends ni{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=ha,this.minFilter=ha,this.wrapR=Ss,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class fEe extends jl{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Rw(null,e,t,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class Pw extends ni{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=ha,this.minFilter=ha,this.wrapR=Ss,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class hEe extends jl{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new Pw(null,e,t,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class Aa{constructor(e=new he(1/0,1/0,1/0),t=new he(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(Gs.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(Gs.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=Gs.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const a=r.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let o=0,s=a.count;o<s;o++)e.isMesh===!0?e.getVertexPosition(o,Gs):Gs.fromBufferAttribute(a,o),Gs.applyMatrix4(e.matrixWorld),this.expandByPoint(Gs);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),a_.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),a_.copy(r.boundingBox)),a_.applyMatrix4(e.matrixWorld),this.union(a_)}const i=e.children;for(let a=0,o=i.length;a<o;a++)this.expandByObject(i[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Gs),Gs.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(kv),o_.subVectors(this.max,kv),_p.subVectors(e.a,kv),Sp.subVectors(e.b,kv),Cp.subVectors(e.c,kv),Mu.subVectors(Sp,_p),Eu.subVectors(Cp,Sp),Kd.subVectors(_p,Cp);let t=[0,-Mu.z,Mu.y,0,-Eu.z,Eu.y,0,-Kd.z,Kd.y,Mu.z,0,-Mu.x,Eu.z,0,-Eu.x,Kd.z,0,-Kd.x,-Mu.y,Mu.x,0,-Eu.y,Eu.x,0,-Kd.y,Kd.x,0];return!JM(t,_p,Sp,Cp,o_)||(t=[1,0,0,0,1,0,0,0,1],!JM(t,_p,Sp,Cp,o_))?!1:(s_.crossVectors(Mu,Eu),t=[s_.x,s_.y,s_.z],JM(t,_p,Sp,Cp,o_))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Gs).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Gs).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Rc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Rc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Rc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Rc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Rc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Rc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Rc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Rc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Rc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Rc=[new he,new he,new he,new he,new he,new he,new he,new he],Gs=new he,a_=new Aa,_p=new he,Sp=new he,Cp=new he,Mu=new he,Eu=new he,Kd=new he,kv=new he,o_=new he,s_=new he,Zd=new he;function JM(n,e,t,r,i){for(let a=0,o=n.length-3;a<=o;a+=3){Zd.fromArray(n,a);const s=i.x*Math.abs(Zd.x)+i.y*Math.abs(Zd.y)+i.z*Math.abs(Zd.z),l=e.dot(Zd),c=t.dot(Zd),d=r.dot(Zd);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>s)return!1}return!0}const pEe=new Aa,jv=new he,QM=new he;class pa{constructor(e=new he,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):pEe.setFromPoints(e).getCenter(r);let i=0;for(let a=0,o=e.length;a<o;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;jv.subVectors(e,this.center);const t=jv.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(jv,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(QM.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(jv.copy(e.center).add(QM)),this.expandByPoint(jv.copy(e.center).sub(QM))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const Pc=new he,eE=new he,l_=new he,Au=new he,tE=new he,c_=new he,nE=new he;class oh{constructor(e=new he,t=new he(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Pc)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Pc.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Pc.copy(this.origin).addScaledVector(this.direction,t),Pc.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){eE.copy(e).add(t).multiplyScalar(.5),l_.copy(t).sub(e).normalize(),Au.copy(this.origin).sub(eE);const a=e.distanceTo(t)*.5,o=-this.direction.dot(l_),s=Au.dot(this.direction),l=-Au.dot(l_),c=Au.lengthSq(),d=Math.abs(1-o*o);let h,m,v,g;if(d>0)if(h=o*l-s,m=o*s-l,g=a*d,h>=0)if(m>=-g)if(m<=g){const x=1/d;h*=x,m*=x,v=h*(h+o*m+2*s)+m*(o*h+m+2*l)+c}else m=a,h=Math.max(0,-(o*m+s)),v=-h*h+m*(m+2*l)+c;else m=-a,h=Math.max(0,-(o*m+s)),v=-h*h+m*(m+2*l)+c;else m<=-g?(h=Math.max(0,-(-o*a+s)),m=h>0?-a:Math.min(Math.max(-a,-l),a),v=-h*h+m*(m+2*l)+c):m<=g?(h=0,m=Math.min(Math.max(-a,-l),a),v=m*(m+2*l)+c):(h=Math.max(0,-(o*a+s)),m=h>0?a:Math.min(Math.max(-a,-l),a),v=-h*h+m*(m+2*l)+c);else m=o>0?-a:a,h=Math.max(0,-(o*m+s)),v=-h*h+m*(m+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,h),i&&i.copy(eE).addScaledVector(l_,m),v}intersectSphere(e,t){Pc.subVectors(e.center,this.origin);const r=Pc.dot(this.direction),i=Pc.dot(Pc)-r*r,a=e.radius*e.radius;if(i>a)return null;const o=Math.sqrt(a-i),s=r-o,l=r+o;return l<0?null:s<0?this.at(l,t):this.at(s,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,a,o,s,l;const c=1/this.direction.x,d=1/this.direction.y,h=1/this.direction.z,m=this.origin;return c>=0?(r=(e.min.x-m.x)*c,i=(e.max.x-m.x)*c):(r=(e.max.x-m.x)*c,i=(e.min.x-m.x)*c),d>=0?(a=(e.min.y-m.y)*d,o=(e.max.y-m.y)*d):(a=(e.max.y-m.y)*d,o=(e.min.y-m.y)*d),r>o||a>i||((a>r||isNaN(r))&&(r=a),(o<i||isNaN(i))&&(i=o),h>=0?(s=(e.min.z-m.z)*h,l=(e.max.z-m.z)*h):(s=(e.max.z-m.z)*h,l=(e.min.z-m.z)*h),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Pc)!==null}intersectTriangle(e,t,r,i,a){tE.subVectors(t,e),c_.subVectors(r,e),nE.crossVectors(tE,c_);let o=this.direction.dot(nE),s;if(o>0){if(i)return null;s=1}else if(o<0)s=-1,o=-o;else return null;Au.subVectors(this.origin,e);const l=s*this.direction.dot(c_.crossVectors(Au,c_));if(l<0)return null;const c=s*this.direction.dot(tE.cross(Au));if(c<0||l+c>o)return null;const d=-s*Au.dot(nE);return d<0?null:this.at(d/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class on{constructor(e,t,r,i,a,o,s,l,c,d,h,m,v,g,x,b){on.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,a,o,s,l,c,d,h,m,v,g,x,b)}set(e,t,r,i,a,o,s,l,c,d,h,m,v,g,x,b){const _=this.elements;return _[0]=e,_[4]=t,_[8]=r,_[12]=i,_[1]=a,_[5]=o,_[9]=s,_[13]=l,_[2]=c,_[6]=d,_[10]=h,_[14]=m,_[3]=v,_[7]=g,_[11]=x,_[15]=b,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new on().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/wp.setFromMatrixColumn(e,0).length(),a=1/wp.setFromMatrixColumn(e,1).length(),o=1/wp.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*a,t[5]=r[5]*a,t[6]=r[6]*a,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,a=e.z,o=Math.cos(r),s=Math.sin(r),l=Math.cos(i),c=Math.sin(i),d=Math.cos(a),h=Math.sin(a);if(e.order==="XYZ"){const m=o*d,v=o*h,g=s*d,x=s*h;t[0]=l*d,t[4]=-l*h,t[8]=c,t[1]=v+g*c,t[5]=m-x*c,t[9]=-s*l,t[2]=x-m*c,t[6]=g+v*c,t[10]=o*l}else if(e.order==="YXZ"){const m=l*d,v=l*h,g=c*d,x=c*h;t[0]=m+x*s,t[4]=g*s-v,t[8]=o*c,t[1]=o*h,t[5]=o*d,t[9]=-s,t[2]=v*s-g,t[6]=x+m*s,t[10]=o*l}else if(e.order==="ZXY"){const m=l*d,v=l*h,g=c*d,x=c*h;t[0]=m-x*s,t[4]=-o*h,t[8]=g+v*s,t[1]=v+g*s,t[5]=o*d,t[9]=x-m*s,t[2]=-o*c,t[6]=s,t[10]=o*l}else if(e.order==="ZYX"){const m=o*d,v=o*h,g=s*d,x=s*h;t[0]=l*d,t[4]=g*c-v,t[8]=m*c+x,t[1]=l*h,t[5]=x*c+m,t[9]=v*c-g,t[2]=-c,t[6]=s*l,t[10]=o*l}else if(e.order==="YZX"){const m=o*l,v=o*c,g=s*l,x=s*c;t[0]=l*d,t[4]=x-m*h,t[8]=g*h+v,t[1]=h,t[5]=o*d,t[9]=-s*d,t[2]=-c*d,t[6]=v*h+g,t[10]=m-x*h}else if(e.order==="XZY"){const m=o*l,v=o*c,g=s*l,x=s*c;t[0]=l*d,t[4]=-h,t[8]=c*d,t[1]=m*h+x,t[5]=o*d,t[9]=v*h-g,t[2]=g*h-v,t[6]=s*d,t[10]=x*h+m}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(mEe,e,gEe)}lookAt(e,t,r){const i=this.elements;return Vo.subVectors(e,t),Vo.lengthSq()===0&&(Vo.z=1),Vo.normalize(),Ru.crossVectors(r,Vo),Ru.lengthSq()===0&&(Math.abs(r.z)===1?Vo.x+=1e-4:Vo.z+=1e-4,Vo.normalize(),Ru.crossVectors(r,Vo)),Ru.normalize(),u_.crossVectors(Vo,Ru),i[0]=Ru.x,i[4]=u_.x,i[8]=Vo.x,i[1]=Ru.y,i[5]=u_.y,i[9]=Vo.y,i[2]=Ru.z,i[6]=u_.z,i[10]=Vo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,a=this.elements,o=r[0],s=r[4],l=r[8],c=r[12],d=r[1],h=r[5],m=r[9],v=r[13],g=r[2],x=r[6],b=r[10],_=r[14],C=r[3],T=r[7],M=r[11],O=r[15],I=i[0],U=i[4],F=i[8],L=i[12],D=i[1],z=i[5],$=i[9],Y=i[13],j=i[2],V=i[6],B=i[10],G=i[14],W=i[3],Z=i[7],J=i[11],Q=i[15];return a[0]=o*I+s*D+l*j+c*W,a[4]=o*U+s*z+l*V+c*Z,a[8]=o*F+s*$+l*B+c*J,a[12]=o*L+s*Y+l*G+c*Q,a[1]=d*I+h*D+m*j+v*W,a[5]=d*U+h*z+m*V+v*Z,a[9]=d*F+h*$+m*B+v*J,a[13]=d*L+h*Y+m*G+v*Q,a[2]=g*I+x*D+b*j+_*W,a[6]=g*U+x*z+b*V+_*Z,a[10]=g*F+x*$+b*B+_*J,a[14]=g*L+x*Y+b*G+_*Q,a[3]=C*I+T*D+M*j+O*W,a[7]=C*U+T*z+M*V+O*Z,a[11]=C*F+T*$+M*B+O*J,a[15]=C*L+T*Y+M*G+O*Q,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],a=e[12],o=e[1],s=e[5],l=e[9],c=e[13],d=e[2],h=e[6],m=e[10],v=e[14],g=e[3],x=e[7],b=e[11],_=e[15];return g*(+a*l*h-i*c*h-a*s*m+r*c*m+i*s*v-r*l*v)+x*(+t*l*v-t*c*m+a*o*m-i*o*v+i*c*d-a*l*d)+b*(+t*c*h-t*s*v-a*o*h+r*o*v+a*s*d-r*c*d)+_*(-i*s*d-t*l*h+t*s*m+i*o*h-r*o*m+r*l*d)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],d=e[8],h=e[9],m=e[10],v=e[11],g=e[12],x=e[13],b=e[14],_=e[15],C=h*b*c-x*m*c+x*l*v-s*b*v-h*l*_+s*m*_,T=g*m*c-d*b*c-g*l*v+o*b*v+d*l*_-o*m*_,M=d*x*c-g*h*c+g*s*v-o*x*v-d*s*_+o*h*_,O=g*h*l-d*x*l-g*s*m+o*x*m+d*s*b-o*h*b,I=t*C+r*T+i*M+a*O;if(I===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const U=1/I;return e[0]=C*U,e[1]=(x*m*a-h*b*a-x*i*v+r*b*v+h*i*_-r*m*_)*U,e[2]=(s*b*a-x*l*a+x*i*c-r*b*c-s*i*_+r*l*_)*U,e[3]=(h*l*a-s*m*a-h*i*c+r*m*c+s*i*v-r*l*v)*U,e[4]=T*U,e[5]=(d*b*a-g*m*a+g*i*v-t*b*v-d*i*_+t*m*_)*U,e[6]=(g*l*a-o*b*a-g*i*c+t*b*c+o*i*_-t*l*_)*U,e[7]=(o*m*a-d*l*a+d*i*c-t*m*c-o*i*v+t*l*v)*U,e[8]=M*U,e[9]=(g*h*a-d*x*a-g*r*v+t*x*v+d*r*_-t*h*_)*U,e[10]=(o*x*a-g*s*a+g*r*c-t*x*c-o*r*_+t*s*_)*U,e[11]=(d*s*a-o*h*a-d*r*c+t*h*c+o*r*v-t*s*v)*U,e[12]=O*U,e[13]=(d*x*i-g*h*i+g*r*m-t*x*m-d*r*b+t*h*b)*U,e[14]=(g*s*i-o*x*i-g*r*l+t*x*l+o*r*b-t*s*b)*U,e[15]=(o*h*i-d*s*i+d*r*l-t*h*l-o*r*m+t*s*m)*U,this}scale(e){const t=this.elements,r=e.x,i=e.y,a=e.z;return t[0]*=r,t[4]*=i,t[8]*=a,t[1]*=r,t[5]*=i,t[9]*=a,t[2]*=r,t[6]*=i,t[10]*=a,t[3]*=r,t[7]*=i,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),a=1-r,o=e.x,s=e.y,l=e.z,c=a*o,d=a*s;return this.set(c*o+r,c*s-i*l,c*l+i*s,0,c*s+i*l,d*s+r,d*l-i*o,0,c*l-i*s,d*l+i*o,a*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,a,o){return this.set(1,r,a,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,a=t._x,o=t._y,s=t._z,l=t._w,c=a+a,d=o+o,h=s+s,m=a*c,v=a*d,g=a*h,x=o*d,b=o*h,_=s*h,C=l*c,T=l*d,M=l*h,O=r.x,I=r.y,U=r.z;return i[0]=(1-(x+_))*O,i[1]=(v+M)*O,i[2]=(g-T)*O,i[3]=0,i[4]=(v-M)*I,i[5]=(1-(m+_))*I,i[6]=(b+C)*I,i[7]=0,i[8]=(g+T)*U,i[9]=(b-C)*U,i[10]=(1-(m+x))*U,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let a=wp.set(i[0],i[1],i[2]).length();const o=wp.set(i[4],i[5],i[6]).length(),s=wp.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],Ws.copy(this);const c=1/a,d=1/o,h=1/s;return Ws.elements[0]*=c,Ws.elements[1]*=c,Ws.elements[2]*=c,Ws.elements[4]*=d,Ws.elements[5]*=d,Ws.elements[6]*=d,Ws.elements[8]*=h,Ws.elements[9]*=h,Ws.elements[10]*=h,t.setFromRotationMatrix(Ws),r.x=a,r.y=o,r.z=s,this}makePerspective(e,t,r,i,a,o,s=Yo,l=!1){const c=this.elements,d=2*a/(t-e),h=2*a/(r-i),m=(t+e)/(t-e),v=(r+i)/(r-i);let g,x;if(l)g=a/(o-a),x=o*a/(o-a);else if(s===Yo)g=-(o+a)/(o-a),x=-2*o*a/(o-a);else if(s===Em)g=-o/(o-a),x=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return c[0]=d,c[4]=0,c[8]=m,c[12]=0,c[1]=0,c[5]=h,c[9]=v,c[13]=0,c[2]=0,c[6]=0,c[10]=g,c[14]=x,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,r,i,a,o,s=Yo,l=!1){const c=this.elements,d=2/(t-e),h=2/(r-i),m=-(t+e)/(t-e),v=-(r+i)/(r-i);let g,x;if(l)g=1/(o-a),x=o/(o-a);else if(s===Yo)g=-2/(o-a),x=-(o+a)/(o-a);else if(s===Em)g=-1/(o-a),x=-a/(o-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return c[0]=d,c[4]=0,c[8]=0,c[12]=m,c[1]=0,c[5]=h,c[9]=0,c[13]=v,c[2]=0,c[6]=0,c[10]=g,c[14]=x,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const wp=new he,Ws=new on,mEe=new he(0,0,0),gEe=new he(1,1,1),Ru=new he,u_=new he,Vo=new he,mL=new on,gL=new ki;class es{constructor(e=0,t=0,r=0,i=es.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,a=i[0],o=i[4],s=i[8],l=i[1],c=i[5],d=i[9],h=i[2],m=i[6],v=i[10];switch(t){case"XYZ":this._y=Math.asin(rn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-d,v),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(m,c),this._z=0);break;case"YXZ":this._x=Math.asin(-rn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(s,v),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,a),this._z=0);break;case"ZXY":this._x=Math.asin(rn(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-h,v),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-rn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(m,v),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(rn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-h,a)):(this._x=0,this._y=Math.atan2(s,v));break;case"XZY":this._z=Math.asin(-rn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(m,c),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-d,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return mL.makeRotationFromQuaternion(e),this.setFromRotationMatrix(mL,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return gL.setFromEuler(this),this.setFromQuaternion(gL,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}es.DEFAULT_ORDER="XYZ";class Rm{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let vEe=0;const vL=new he,Tp=new ki,Oc=new on,d_=new he,$v=new he,yEe=new he,bEe=new ki,yL=new he(1,0,0),bL=new he(0,1,0),xL=new he(0,0,1),_L={type:"added"},xEe={type:"removed"},Mp={type:"childadded",child:null},rE={type:"childremoved",child:null};class nr extends ql{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:vEe++}),this.uuid=Jo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=nr.DEFAULT_UP.clone();const e=new he,t=new es,r=new ki,i=new he(1,1,1);function a(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(a),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new on},normalMatrix:{value:new fn}}),this.matrix=new on,this.matrixWorld=new on,this.matrixAutoUpdate=nr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=nr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Rm,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Tp.setFromAxisAngle(e,t),this.quaternion.multiply(Tp),this}rotateOnWorldAxis(e,t){return Tp.setFromAxisAngle(e,t),this.quaternion.premultiply(Tp),this}rotateX(e){return this.rotateOnAxis(yL,e)}rotateY(e){return this.rotateOnAxis(bL,e)}rotateZ(e){return this.rotateOnAxis(xL,e)}translateOnAxis(e,t){return vL.copy(e).applyQuaternion(this.quaternion),this.position.add(vL.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(yL,e)}translateY(e){return this.translateOnAxis(bL,e)}translateZ(e){return this.translateOnAxis(xL,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Oc.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?d_.copy(e):d_.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),$v.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Oc.lookAt($v,d_,this.up):Oc.lookAt(d_,$v,this.up),this.quaternion.setFromRotationMatrix(Oc),i&&(Oc.extractRotation(i.matrixWorld),Tp.setFromRotationMatrix(Oc),this.quaternion.premultiply(Tp.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(_L),Mp.child=e,this.dispatchEvent(Mp),Mp.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(xEe),rE.child=e,this.dispatchEvent(rE),rE.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Oc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Oc.multiply(e.parent.matrixWorld)),e.applyMatrix4(Oc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(_L),Mp.child=e,this.dispatchEvent(Mp),Mp.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const i=this.children;for(let a=0,o=i.length;a<o;a++)i[a].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($v,e,yEe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($v,bEe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let a=0,o=i.length;a<o;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(s=>mn(qe({},s),{boundingBox:s.boundingBox?s.boundingBox.toJSON():void 0,boundingSphere:s.boundingSphere?s.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(s=>qe({},s)),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function a(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++){const h=l[c];a(e.shapes,h)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,c=this.material.length;l<c;l++)s.push(a(e.materials,this.material[l]));i.material=s}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(a(e.animations,l))}}if(t){const s=o(e.geometries),l=o(e.materials),c=o(e.textures),d=o(e.images),h=o(e.shapes),m=o(e.skeletons),v=o(e.animations),g=o(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),d.length>0&&(r.images=d),h.length>0&&(r.shapes=h),m.length>0&&(r.skeletons=m),v.length>0&&(r.animations=v),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(s){const l=[];for(const c in s){const d=s[c];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}nr.DEFAULT_UP=new he(0,1,0);nr.DEFAULT_MATRIX_AUTO_UPDATE=!0;nr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const qs=new he,Fc=new he,iE=new he,Ic=new he,Ep=new he,Ap=new he,SL=new he,aE=new he,oE=new he,sE=new he,lE=new tr,cE=new tr,uE=new tr;class go{constructor(e=new he,t=new he,r=new he){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),qs.subVectors(e,t),i.cross(qs);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,t,r,i,a){qs.subVectors(i,t),Fc.subVectors(r,t),iE.subVectors(e,t);const o=qs.dot(qs),s=qs.dot(Fc),l=qs.dot(iE),c=Fc.dot(Fc),d=Fc.dot(iE),h=o*c-s*s;if(h===0)return a.set(0,0,0),null;const m=1/h,v=(c*l-s*d)*m,g=(o*d-s*l)*m;return a.set(1-v-g,g,v)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Ic)===null?!1:Ic.x>=0&&Ic.y>=0&&Ic.x+Ic.y<=1}static getInterpolation(e,t,r,i,a,o,s,l){return this.getBarycoord(e,t,r,i,Ic)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(a,Ic.x),l.addScaledVector(o,Ic.y),l.addScaledVector(s,Ic.z),l)}static getInterpolatedAttribute(e,t,r,i,a,o){return lE.setScalar(0),cE.setScalar(0),uE.setScalar(0),lE.fromBufferAttribute(e,t),cE.fromBufferAttribute(e,r),uE.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(lE,a.x),o.addScaledVector(cE,a.y),o.addScaledVector(uE,a.z),o}static isFrontFacing(e,t,r,i){return qs.subVectors(r,t),Fc.subVectors(e,t),qs.cross(Fc).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return qs.subVectors(this.c,this.b),Fc.subVectors(this.a,this.b),qs.cross(Fc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return go.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return go.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,a){return go.getInterpolation(e,this.a,this.b,this.c,t,r,i,a)}containsPoint(e){return go.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return go.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,a=this.c;let o,s;Ep.subVectors(i,r),Ap.subVectors(a,r),aE.subVectors(e,r);const l=Ep.dot(aE),c=Ap.dot(aE);if(l<=0&&c<=0)return t.copy(r);oE.subVectors(e,i);const d=Ep.dot(oE),h=Ap.dot(oE);if(d>=0&&h<=d)return t.copy(i);const m=l*h-d*c;if(m<=0&&l>=0&&d<=0)return o=l/(l-d),t.copy(r).addScaledVector(Ep,o);sE.subVectors(e,a);const v=Ep.dot(sE),g=Ap.dot(sE);if(g>=0&&v<=g)return t.copy(a);const x=v*c-l*g;if(x<=0&&c>=0&&g<=0)return s=c/(c-g),t.copy(r).addScaledVector(Ap,s);const b=d*g-v*h;if(b<=0&&h-d>=0&&v-g>=0)return SL.subVectors(a,i),s=(h-d)/(h-d+(v-g)),t.copy(i).addScaledVector(SL,s);const _=1/(b+x+m);return o=x*_,s=m*_,t.copy(r).addScaledVector(Ep,o).addScaledVector(Ap,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const tH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Pu={h:0,s:0,l:0},f_={h:0,s:0,l:0};function dE(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class It{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=wa){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Vn.colorSpaceToWorking(this,t),this}setRGB(e,t,r,i=Vn.workingColorSpace){return this.r=e,this.g=t,this.b=r,Vn.colorSpaceToWorking(this,i),this}setHSL(e,t,r,i=Vn.workingColorSpace){if(e=a2(e,1),t=rn(t,0,1),r=rn(r,0,1),t===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+t):r+t-r*t,o=2*r-a;this.r=dE(o,a,e+1/3),this.g=dE(o,a,e),this.b=dE(o,a,e-1/3)}return Vn.colorSpaceToWorking(this,i),this}setStyle(e,t=wa){function r(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const o=i[1],s=i[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(a,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=wa){const r=tH[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Wc(e.r),this.g=Wc(e.g),this.b=Wc(e.b),this}copyLinearToSRGB(e){return this.r=sm(e.r),this.g=sm(e.g),this.b=sm(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=wa){return Vn.workingToColorSpace(ba.copy(this),e),Math.round(rn(ba.r*255,0,255))*65536+Math.round(rn(ba.g*255,0,255))*256+Math.round(rn(ba.b*255,0,255))}getHexString(e=wa){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Vn.workingColorSpace){Vn.workingToColorSpace(ba.copy(this),t);const r=ba.r,i=ba.g,a=ba.b,o=Math.max(r,i,a),s=Math.min(r,i,a);let l,c;const d=(s+o)/2;if(s===o)l=0,c=0;else{const h=o-s;switch(c=d<=.5?h/(o+s):h/(2-o-s),o){case r:l=(i-a)/h+(i<a?6:0);break;case i:l=(a-r)/h+2;break;case a:l=(r-i)/h+4;break}l/=6}return e.h=l,e.s=c,e.l=d,e}getRGB(e,t=Vn.workingColorSpace){return Vn.workingToColorSpace(ba.copy(this),t),e.r=ba.r,e.g=ba.g,e.b=ba.b,e}getStyle(e=wa){Vn.workingToColorSpace(ba.copy(this),e);const t=ba.r,r=ba.g,i=ba.b;return e!==wa?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(Pu),this.setHSL(Pu.h+e,Pu.s+t,Pu.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Pu),e.getHSL(f_);const r=T0(Pu.h,f_.h,t),i=T0(Pu.s,f_.s,t),a=T0(Pu.l,f_.l,t);return this.setHSL(r,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,a=e.elements;return this.r=a[0]*t+a[3]*r+a[6]*i,this.g=a[1]*t+a[4]*r+a[7]*i,this.b=a[2]*t+a[5]*r+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ba=new It;It.NAMES=tH;let _Ee=0;class Fa extends ql{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:_Ee++}),this.uuid=Jo(),this.name="",this.type="Material",this.blending=If,this.side=Kc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=E1,this.blendDst=A1,this.blendEquation=Du,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new It(0,0,0),this.blendAlpha=0,this.depthFunc=Wf,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=yR,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=gf,this.stencilZFail=gf,this.stencilZPass=gf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==If&&(r.blending=this.blending),this.side!==Kc&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==E1&&(r.blendSrc=this.blendSrc),this.blendDst!==A1&&(r.blendDst=this.blendDst),this.blendEquation!==Du&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Wf&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==yR&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==gf&&(r.stencilFail=this.stencilFail),this.stencilZFail!==gf&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==gf&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(a){const o=[];for(const s in a){const l=a[s];delete l.metadata,o.push(l)}return o}if(t){const a=i(e.textures),o=i(e.images);a.length>0&&(r.textures=a),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=t[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class ed extends Fa{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new It(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new es,this.combine=Jy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Hc=SEe();function SEe(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,d=0;for(;!(c&8388608);)c<<=1,d-=8388608;c&=-8388609,d+=947912704,a[l]=c|d}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:o,offsetTable:s}}function uo(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=rn(n,-65504,65504),Hc.floatView[0]=n;const e=Hc.uint32View[0],t=e>>23&511;return Hc.baseTable[t]+((e&8388607)>>Hc.shiftTable[t])}function r0(n){const e=n>>10;return Hc.uint32View[0]=Hc.mantissaTable[Hc.offsetTable[e]+(n&1023)]+Hc.exponentTable[e],Hc.floatView[0]}class CEe{static toHalfFloat(e){return uo(e)}static fromHalfFloat(e){return r0(e)}}const Ei=new he,h_=new ot;let wEe=0;class Er{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:wEe++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=iy,this.updateRanges=[],this.gpuType=bo,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)h_.fromBufferAttribute(this,t),h_.applyMatrix3(e),this.setXY(t,h_.x,h_.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Ei.fromBufferAttribute(this,t),Ei.applyMatrix3(e),this.setXYZ(t,Ei.x,Ei.y,Ei.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Ei.fromBufferAttribute(this,t),Ei.applyMatrix4(e),this.setXYZ(t,Ei.x,Ei.y,Ei.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ei.fromBufferAttribute(this,t),Ei.applyNormalMatrix(e),this.setXYZ(t,Ei.x,Ei.y,Ei.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ei.fromBufferAttribute(this,t),Ei.transformDirection(e),this.setXYZ(t,Ei.x,Ei.y,Ei.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=qa(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=gn(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=qa(t,this.array)),t}setX(e,t){return this.normalized&&(t=gn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=qa(t,this.array)),t}setY(e,t){return this.normalized&&(t=gn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=qa(t,this.array)),t}setZ(e,t){return this.normalized&&(t=gn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=qa(t,this.array)),t}setW(e,t){return this.normalized&&(t=gn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=gn(t,this.array),r=gn(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=gn(t,this.array),r=gn(r,this.array),i=gn(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e*=this.itemSize,this.normalized&&(t=gn(t,this.array),r=gn(r,this.array),i=gn(i,this.array),a=gn(a,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==iy&&(e.usage=this.usage),e}}class TEe extends Er{constructor(e,t,r){super(new Int8Array(e),t,r)}}class MEe extends Er{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class EEe extends Er{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class AEe extends Er{constructor(e,t,r){super(new Int16Array(e),t,r)}}class s2 extends Er{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class REe extends Er{constructor(e,t,r){super(new Int32Array(e),t,r)}}class l2 extends Er{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class PEe extends Er{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=r0(this.array[e*this.itemSize]);return this.normalized&&(t=qa(t,this.array)),t}setX(e,t){return this.normalized&&(t=gn(t,this.array)),this.array[e*this.itemSize]=uo(t),this}getY(e){let t=r0(this.array[e*this.itemSize+1]);return this.normalized&&(t=qa(t,this.array)),t}setY(e,t){return this.normalized&&(t=gn(t,this.array)),this.array[e*this.itemSize+1]=uo(t),this}getZ(e){let t=r0(this.array[e*this.itemSize+2]);return this.normalized&&(t=qa(t,this.array)),t}setZ(e,t){return this.normalized&&(t=gn(t,this.array)),this.array[e*this.itemSize+2]=uo(t),this}getW(e){let t=r0(this.array[e*this.itemSize+3]);return this.normalized&&(t=qa(t,this.array)),t}setW(e,t){return this.normalized&&(t=gn(t,this.array)),this.array[e*this.itemSize+3]=uo(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=gn(t,this.array),r=gn(r,this.array)),this.array[e+0]=uo(t),this.array[e+1]=uo(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=gn(t,this.array),r=gn(r,this.array),i=gn(i,this.array)),this.array[e+0]=uo(t),this.array[e+1]=uo(r),this.array[e+2]=uo(i),this}setXYZW(e,t,r,i,a){return e*=this.itemSize,this.normalized&&(t=gn(t,this.array),r=gn(r,this.array),i=gn(i,this.array),a=gn(a,this.array)),this.array[e+0]=uo(t),this.array[e+1]=uo(r),this.array[e+2]=uo(i),this.array[e+3]=uo(a),this}}class zt extends Er{constructor(e,t,r){super(new Float32Array(e),t,r)}}let OEe=0;const vs=new on,fE=new nr,Rp=new he,Go=new Aa,Vv=new Aa,Ji=new he;class bn extends ql{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:OEe++}),this.uuid=Jo(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(J5(e)?l2:s2)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new fn().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return vs.makeRotationFromQuaternion(e),this.applyMatrix4(vs),this}rotateX(e){return vs.makeRotationX(e),this.applyMatrix4(vs),this}rotateY(e){return vs.makeRotationY(e),this.applyMatrix4(vs),this}rotateZ(e){return vs.makeRotationZ(e),this.applyMatrix4(vs),this}translate(e,t,r){return vs.makeTranslation(e,t,r),this.applyMatrix4(vs),this}scale(e,t,r){return vs.makeScale(e,t,r),this.applyMatrix4(vs),this}lookAt(e){return fE.lookAt(e),fE.updateMatrix(),this.applyMatrix4(fE.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Rp).negate(),this.translate(Rp.x,Rp.y,Rp.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const r=[];for(let i=0,a=e.length;i<a;i++){const o=e[i];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new zt(r,3))}else{const r=Math.min(e.length,t.count);for(let i=0;i<r;i++){const a=e[i];t.setXYZ(i,a.x,a.y,a.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Aa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new he(-1/0,-1/0,-1/0),new he(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const a=t[r];Go.setFromBufferAttribute(a),this.morphTargetsRelative?(Ji.addVectors(this.boundingBox.min,Go.min),this.boundingBox.expandByPoint(Ji),Ji.addVectors(this.boundingBox.max,Go.max),this.boundingBox.expandByPoint(Ji)):(this.boundingBox.expandByPoint(Go.min),this.boundingBox.expandByPoint(Go.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new pa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new he,1/0);return}if(e){const r=this.boundingSphere.center;if(Go.setFromBufferAttribute(e),t)for(let a=0,o=t.length;a<o;a++){const s=t[a];Vv.setFromBufferAttribute(s),this.morphTargetsRelative?(Ji.addVectors(Go.min,Vv.min),Go.expandByPoint(Ji),Ji.addVectors(Go.max,Vv.max),Go.expandByPoint(Ji)):(Go.expandByPoint(Vv.min),Go.expandByPoint(Vv.max))}Go.getCenter(r);let i=0;for(let a=0,o=e.count;a<o;a++)Ji.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(Ji));if(t)for(let a=0,o=t.length;a<o;a++){const s=t[a],l=this.morphTargetsRelative;for(let c=0,d=s.count;c<d;c++)Ji.fromBufferAttribute(s,c),l&&(Rp.fromBufferAttribute(e,c),Ji.add(Rp)),i=Math.max(i,r.distanceToSquared(Ji))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.position,i=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Er(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),s=[],l=[];for(let F=0;F<r.count;F++)s[F]=new he,l[F]=new he;const c=new he,d=new he,h=new he,m=new ot,v=new ot,g=new ot,x=new he,b=new he;function _(F,L,D){c.fromBufferAttribute(r,F),d.fromBufferAttribute(r,L),h.fromBufferAttribute(r,D),m.fromBufferAttribute(a,F),v.fromBufferAttribute(a,L),g.fromBufferAttribute(a,D),d.sub(c),h.sub(c),v.sub(m),g.sub(m);const z=1/(v.x*g.y-g.x*v.y);isFinite(z)&&(x.copy(d).multiplyScalar(g.y).addScaledVector(h,-v.y).multiplyScalar(z),b.copy(h).multiplyScalar(v.x).addScaledVector(d,-g.x).multiplyScalar(z),s[F].add(x),s[L].add(x),s[D].add(x),l[F].add(b),l[L].add(b),l[D].add(b))}let C=this.groups;C.length===0&&(C=[{start:0,count:e.count}]);for(let F=0,L=C.length;F<L;++F){const D=C[F],z=D.start,$=D.count;for(let Y=z,j=z+$;Y<j;Y+=3)_(e.getX(Y+0),e.getX(Y+1),e.getX(Y+2))}const T=new he,M=new he,O=new he,I=new he;function U(F){O.fromBufferAttribute(i,F),I.copy(O);const L=s[F];T.copy(L),T.sub(O.multiplyScalar(O.dot(L))).normalize(),M.crossVectors(I,L);const z=M.dot(l[F])<0?-1:1;o.setXYZW(F,T.x,T.y,T.z,z)}for(let F=0,L=C.length;F<L;++F){const D=C[F],z=D.start,$=D.count;for(let Y=z,j=z+$;Y<j;Y+=3)U(e.getX(Y+0)),U(e.getX(Y+1)),U(e.getX(Y+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Er(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let m=0,v=r.count;m<v;m++)r.setXYZ(m,0,0,0);const i=new he,a=new he,o=new he,s=new he,l=new he,c=new he,d=new he,h=new he;if(e)for(let m=0,v=e.count;m<v;m+=3){const g=e.getX(m+0),x=e.getX(m+1),b=e.getX(m+2);i.fromBufferAttribute(t,g),a.fromBufferAttribute(t,x),o.fromBufferAttribute(t,b),d.subVectors(o,a),h.subVectors(i,a),d.cross(h),s.fromBufferAttribute(r,g),l.fromBufferAttribute(r,x),c.fromBufferAttribute(r,b),s.add(d),l.add(d),c.add(d),r.setXYZ(g,s.x,s.y,s.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(b,c.x,c.y,c.z)}else for(let m=0,v=t.count;m<v;m+=3)i.fromBufferAttribute(t,m+0),a.fromBufferAttribute(t,m+1),o.fromBufferAttribute(t,m+2),d.subVectors(o,a),h.subVectors(i,a),d.cross(h),r.setXYZ(m+0,d.x,d.y,d.z),r.setXYZ(m+1,d.x,d.y,d.z),r.setXYZ(m+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Ji.fromBufferAttribute(e,t),Ji.normalize(),e.setXYZ(t,Ji.x,Ji.y,Ji.z)}toNonIndexed(){function e(s,l){const c=s.array,d=s.itemSize,h=s.normalized,m=new c.constructor(l.length*d);let v=0,g=0;for(let x=0,b=l.length;x<b;x++){s.isInterleavedBufferAttribute?v=l[x]*s.data.stride+s.offset:v=l[x]*d;for(let _=0;_<d;_++)m[g++]=c[v++]}return new Er(m,d,h)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new bn,r=this.index.array,i=this.attributes;for(const s in i){const l=i[s],c=e(l,r);t.setAttribute(s,c)}const a=this.morphAttributes;for(const s in a){const l=[],c=a[s];for(let d=0,h=c.length;d<h;d++){const m=c[d],v=e(m,r);l.push(v)}t.morphAttributes[s]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,l=o.length;s<l;s++){const c=o[s];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let a=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let h=0,m=c.length;h<m;h++){const v=c[h];d.push(v.toJSON(e.data))}d.length>0&&(i[l]=d,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere=s.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const c in i){const d=i[c];this.setAttribute(c,d.clone(t))}const a=e.morphAttributes;for(const c in a){const d=[],h=a[c];for(let m=0,v=h.length;m<v;m++)d.push(h[m].clone(t));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,d=o.length;c<d;c++){const h=o[c];this.addGroup(h.start,h.count,h.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const CL=new on,Jd=new oh,p_=new pa,wL=new he,m_=new he,g_=new he,v_=new he,hE=new he,y_=new he,TL=new he,b_=new he;class Ri extends nr{constructor(e=new bn,t=new ed){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,a=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(a&&s){y_.set(0,0,0);for(let l=0,c=a.length;l<c;l++){const d=s[l],h=a[l];d!==0&&(hE.fromBufferAttribute(h,e),o?y_.addScaledVector(hE,d):y_.addScaledVector(hE.sub(t),d))}t.add(y_)}return t}raycast(e,t){const r=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),p_.copy(r.boundingSphere),p_.applyMatrix4(a),Jd.copy(e.ray).recast(e.near),!(p_.containsPoint(Jd.origin)===!1&&(Jd.intersectSphere(p_,wL)===null||Jd.origin.distanceToSquared(wL)>lO(e.far-e.near,2)))&&(CL.copy(a).invert(),Jd.copy(e.ray).applyMatrix4(CL),!(r.boundingBox!==null&&Jd.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,Jd)))}_computeIntersections(e,t,r){let i;const a=this.geometry,o=this.material,s=a.index,l=a.attributes.position,c=a.attributes.uv,d=a.attributes.uv1,h=a.attributes.normal,m=a.groups,v=a.drawRange;if(s!==null)if(Array.isArray(o))for(let g=0,x=m.length;g<x;g++){const b=m[g],_=o[b.materialIndex],C=Math.max(b.start,v.start),T=Math.min(s.count,Math.min(b.start+b.count,v.start+v.count));for(let M=C,O=T;M<O;M+=3){const I=s.getX(M),U=s.getX(M+1),F=s.getX(M+2);i=x_(this,_,e,r,c,d,h,I,U,F),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=b.materialIndex,t.push(i))}}else{const g=Math.max(0,v.start),x=Math.min(s.count,v.start+v.count);for(let b=g,_=x;b<_;b+=3){const C=s.getX(b),T=s.getX(b+1),M=s.getX(b+2);i=x_(this,o,e,r,c,d,h,C,T,M),i&&(i.faceIndex=Math.floor(b/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let g=0,x=m.length;g<x;g++){const b=m[g],_=o[b.materialIndex],C=Math.max(b.start,v.start),T=Math.min(l.count,Math.min(b.start+b.count,v.start+v.count));for(let M=C,O=T;M<O;M+=3){const I=M,U=M+1,F=M+2;i=x_(this,_,e,r,c,d,h,I,U,F),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=b.materialIndex,t.push(i))}}else{const g=Math.max(0,v.start),x=Math.min(l.count,v.start+v.count);for(let b=g,_=x;b<_;b+=3){const C=b,T=b+1,M=b+2;i=x_(this,o,e,r,c,d,h,C,T,M),i&&(i.faceIndex=Math.floor(b/3),t.push(i))}}}}function FEe(n,e,t,r,i,a,o,s){let l;if(e.side===Xa?l=r.intersectTriangle(o,a,i,!0,s):l=r.intersectTriangle(i,a,o,e.side===Kc,s),l===null)return null;b_.copy(s),b_.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(b_);return c<t.near||c>t.far?null:{distance:c,point:b_.clone(),object:n}}function x_(n,e,t,r,i,a,o,s,l,c){n.getVertexPosition(s,m_),n.getVertexPosition(l,g_),n.getVertexPosition(c,v_);const d=FEe(n,e,t,r,m_,g_,v_,TL);if(d){const h=new he;go.getBarycoord(TL,m_,g_,v_,h),i&&(d.uv=go.getInterpolatedAttribute(i,s,l,c,h,new ot)),a&&(d.uv1=go.getInterpolatedAttribute(a,s,l,c,h,new ot)),o&&(d.normal=go.getInterpolatedAttribute(o,s,l,c,h,new he),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const m={a:s,b:l,c,normal:new he,materialIndex:0};go.getNormal(m_,g_,v_,m.normal),d.face=m,d.barycoord=h}return d}class sh extends bn{constructor(e=1,t=1,r=1,i=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:a,depthSegments:o};const s=this;i=Math.floor(i),a=Math.floor(a),o=Math.floor(o);const l=[],c=[],d=[],h=[];let m=0,v=0;g("z","y","x",-1,-1,r,t,e,o,a,0),g("z","y","x",1,-1,r,t,-e,o,a,1),g("x","z","y",1,1,e,r,t,i,o,2),g("x","z","y",1,-1,e,r,-t,i,o,3),g("x","y","z",1,-1,e,t,r,i,a,4),g("x","y","z",-1,-1,e,t,-r,i,a,5),this.setIndex(l),this.setAttribute("position",new zt(c,3)),this.setAttribute("normal",new zt(d,3)),this.setAttribute("uv",new zt(h,2));function g(x,b,_,C,T,M,O,I,U,F,L){const D=M/U,z=O/F,$=M/2,Y=O/2,j=I/2,V=U+1,B=F+1;let G=0,W=0;const Z=new he;for(let J=0;J<B;J++){const Q=J*z-Y;for(let ue=0;ue<V;ue++){const se=ue*D-$;Z[x]=se*C,Z[b]=Q*T,Z[_]=j,c.push(Z.x,Z.y,Z.z),Z[x]=0,Z[b]=0,Z[_]=I>0?1:-1,d.push(Z.x,Z.y,Z.z),h.push(ue/U),h.push(1-J/F),G+=1}}for(let J=0;J<F;J++)for(let Q=0;Q<U;Q++){const ue=m+Q+V*J,se=m+Q+V*(J+1),ae=m+(Q+1)+V*(J+1),ie=m+(Q+1)+V*J;l.push(ue,se,ie),l.push(se,ae,ie),W+=6}s.addGroup(v,W,L),v+=W,m+=G}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Pm(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function Wa(n){const e={};for(let t=0;t<n.length;t++){const r=Pm(n[t]);for(const i in r)e[i]=r[i]}return e}function IEe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function nH(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Vn.workingColorSpace}const rH={clone:Pm,merge:Wa};var DEe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,LEe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class al extends Fa{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=DEe,this.fragmentShader=LEe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Pm(e.uniforms),this.uniformsGroups=IEe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class Ow extends nr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new on,this.projectionMatrix=new on,this.projectionMatrixInverse=new on,this.coordinateSystem=Yo,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Ou=new he,ML=new ot,EL=new ot;class mi extends Ow{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Am*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Df*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Am*2*Math.atan(Math.tan(Df*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){Ou.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Ou.x,Ou.y).multiplyScalar(-e/Ou.z),Ou.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Ou.x,Ou.y).multiplyScalar(-e/Ou.z)}getViewSize(e,t){return this.getViewBounds(e,ML,EL),t.subVectors(EL,ML)}setViewOffset(e,t,r,i,a,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Df*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,a=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;a+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const s=this.filmOffset;s!==0&&(a+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,t,t-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Pp=-90,Op=1;class iH extends nr{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new mi(Pp,Op,e,t);i.layers=this.layers,this.add(i);const a=new mi(Pp,Op,e,t);a.layers=this.layers,this.add(a);const o=new mi(Pp,Op,e,t);o.layers=this.layers,this.add(o);const s=new mi(Pp,Op,e,t);s.layers=this.layers,this.add(s);const l=new mi(Pp,Op,e,t);l.layers=this.layers,this.add(l);const c=new mi(Pp,Op,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,a,o,s,l]=t;for(const c of t)this.remove(c);if(e===Yo)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Em)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,o,s,l,c,d]=this.children,h=e.getRenderTarget(),m=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const x=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,a),e.setRenderTarget(r,1,i),e.render(t,o),e.setRenderTarget(r,2,i),e.render(t,s),e.setRenderTarget(r,3,i),e.render(t,l),e.setRenderTarget(r,4,i),e.render(t,c),r.texture.generateMipmaps=x,e.setRenderTarget(r,5,i),e.render(t,d),e.setRenderTarget(h,m,v),e.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class eb extends ni{constructor(e=[],t=Zc,r,i,a,o,s,l,c,d){super(e,t,r,i,a,o,s,l,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class aH extends jl{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new eb(i),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new sh(5,5,5),a=new al({name:"CubemapFromEquirect",uniforms:Pm(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Xa,blending:Gc});a.uniforms.tEquirect.value=t;const o=new Ri(i,a),s=t.minFilter;return t.minFilter===Ul&&(t.minFilter=Hi),new iH(1,10,this).update(e,o),t.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,t=!0,r=!0,i=!0){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(a)}}class Zp extends nr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const NEe={type:"move"};class pS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Zp,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Zp,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new he,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new he),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Zp,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new he,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new he),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,a=null,o=null;const s=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const x of e.hand.values()){const b=t.getJointPose(x,r),_=this._getHandJoint(c,x);b!==null&&(_.matrix.fromArray(b.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.matrixWorldNeedsUpdate=!0,_.jointRadius=b.radius),_.visible=b!==null}const d=c.joints["index-finger-tip"],h=c.joints["thumb-tip"],m=d.position.distanceTo(h.position),v=.02,g=.005;c.inputState.pinching&&m>v+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&m<=v-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,r),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&a!==null&&(i=a),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(NEe)))}return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=a!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new Zp;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class Fw{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new It(e),this.density=t}clone(){return new Fw(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Iw{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new It(e),this.near=t,this.far=r}clone(){return new Iw(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class c2 extends nr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new es,this.environmentIntensity=1,this.environmentRotation=new es,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Dw{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=iy,this.updateRanges=[],this.version=0,this.uuid=Jo()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Jo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Jo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ga=new he;class qf{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Ga.fromBufferAttribute(this,t),Ga.applyMatrix4(e),this.setXYZ(t,Ga.x,Ga.y,Ga.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ga.fromBufferAttribute(this,t),Ga.applyNormalMatrix(e),this.setXYZ(t,Ga.x,Ga.y,Ga.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ga.fromBufferAttribute(this,t),Ga.transformDirection(e),this.setXYZ(t,Ga.x,Ga.y,Ga.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=qa(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=gn(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=gn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=gn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=gn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=gn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=qa(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=qa(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=qa(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=qa(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=gn(t,this.array),r=gn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=gn(t,this.array),r=gn(r,this.array),i=gn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=gn(t,this.array),r=gn(r,this.array),i=gn(i,this.array),a=gn(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return new Er(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new qf(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class u2 extends Fa{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new It(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Fp;const Gv=new he,Ip=new he,Dp=new he,Lp=new ot,Wv=new ot,oH=new on,__=new he,qv=new he,S_=new he,AL=new ot,pE=new ot,RL=new ot;class sH extends nr{constructor(e=new u2){if(super(),this.isSprite=!0,this.type="Sprite",Fp===void 0){Fp=new bn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new Dw(t,5);Fp.setIndex([0,1,2,0,2,3]),Fp.setAttribute("position",new qf(r,3,0,!1)),Fp.setAttribute("uv",new qf(r,2,3,!1))}this.geometry=Fp,this.material=e,this.center=new ot(.5,.5),this.count=1}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ip.setFromMatrixScale(this.matrixWorld),oH.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Dp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Ip.multiplyScalar(-Dp.z);const r=this.material.rotation;let i,a;r!==0&&(a=Math.cos(r),i=Math.sin(r));const o=this.center;C_(__.set(-.5,-.5,0),Dp,o,Ip,i,a),C_(qv.set(.5,-.5,0),Dp,o,Ip,i,a),C_(S_.set(.5,.5,0),Dp,o,Ip,i,a),AL.set(0,0),pE.set(1,0),RL.set(1,1);let s=e.ray.intersectTriangle(__,qv,S_,!1,Gv);if(s===null&&(C_(qv.set(-.5,.5,0),Dp,o,Ip,i,a),pE.set(0,1),s=e.ray.intersectTriangle(__,S_,qv,!1,Gv),s===null))return;const l=e.ray.origin.distanceTo(Gv);l<e.near||l>e.far||t.push({distance:l,point:Gv.clone(),uv:go.getInterpolation(Gv,__,qv,S_,AL,pE,RL,new ot),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function C_(n,e,t,r,i,a){Lp.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(Wv.x=a*Lp.x-i*Lp.y,Wv.y=i*Lp.x+a*Lp.y):Wv.copy(Lp),n.copy(e),n.x+=Wv.x,n.y+=Wv.y,n.applyMatrix4(oH)}const w_=new he,PL=new he;class lH extends nr{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const a=t[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let a;for(a=0;a<i.length&&!(t<i[a].distance);a++);return i.splice(a,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let r=0;r<t.length;r++)if(t[r].distance===e){const i=t.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),e<a)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){w_.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(w_);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){w_.setFromMatrixPosition(e.matrixWorld),PL.setFromMatrixPosition(this.matrixWorld);const r=w_.distanceTo(PL)/e.zoom;t[0].object.visible=!0;let i,a;for(i=1,a=t.length;i<a;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<a;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,a=r.length;i<a;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const OL=new he,FL=new tr,IL=new tr,UEe=new he,DL=new on,T_=new he,mE=new pa,LL=new on,gE=new oh;class cH extends Ri{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=vR,this.bindMatrix=new on,this.bindMatrixInverse=new on,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Aa),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,T_),this.boundingBox.expandByPoint(T_)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new pa),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,T_),this.boundingSphere.expandByPoint(T_)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),mE.copy(this.boundingSphere),mE.applyMatrix4(i),e.ray.intersectsSphere(mE)!==!1&&(LL.copy(i).invert(),gE.copy(e.ray).applyMatrix4(LL),!(this.boundingBox!==null&&gE.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,gE)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new tr,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===vR?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===B5?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;FL.fromBufferAttribute(i.attributes.skinIndex,e),IL.fromBufferAttribute(i.attributes.skinWeight,e),OL.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const o=IL.getComponent(a);if(o!==0){const s=FL.getComponent(a);DL.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),t.addScaledVector(UEe.copy(OL).applyMatrix4(DL),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class d2 extends nr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class kl extends ni{constructor(e=null,t=1,r=1,i,a,o,s,l,c=ha,d=ha,h,m){super(null,o,s,l,c,d,i,a,h,m),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const NL=new on,BEe=new on;class Lw{constructor(e=[],t=[]){this.uuid=Jo(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new on)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new on;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let a=0,o=e.length;a<o;a++){const s=e[a]?e[a].matrixWorld:BEe;NL.multiplyMatrices(s,t[a]),NL.toArray(r,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Lw(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new kl(t,e,e,Ea,bo);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const a=e.bones[r];let o=t[a];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),o=new d2),this.bones.push(o),this.boneInverses.push(new on().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,a=t.length;i<a;i++){const o=t[i];e.bones.push(o.uuid);const s=r[i];e.boneInverses.push(s.toArray())}return e}}class Om extends Er{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Np=new on,UL=new on,M_=[],BL=new Aa,zEe=new on,Xv=new Ri,Yv=new pa;class uH extends Ri{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Om(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,zEe)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Aa),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Np),BL.copy(e.boundingBox).applyMatrix4(Np),this.boundingBox.union(BL)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new pa),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Np),Yv.copy(e.boundingSphere).applyMatrix4(Np),this.boundingSphere.union(Yv)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const r=t.morphTargetInfluences,i=this.morphTexture.source.data.data,a=r.length+1,o=e*a+1;for(let s=0;s<r.length;s++)r[s]=i[o+s]}raycast(e,t){const r=this.matrixWorld,i=this.count;if(Xv.geometry=this.geometry,Xv.material=this.material,Xv.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Yv.copy(this.boundingSphere),Yv.applyMatrix4(r),e.ray.intersectsSphere(Yv)!==!1))for(let a=0;a<i;a++){this.getMatrixAt(a,Np),UL.multiplyMatrices(r,Np),Xv.matrixWorld=UL,Xv.raycast(e,M_);for(let o=0,s=M_.length;o<s;o++){const l=M_[o];l.instanceId=a,l.object=this,t.push(l)}M_.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Om(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const r=t.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new kl(new Float32Array(i*this.count),i,this.count,Tw,bo));const a=this.morphTexture.source.data.data;let o=0;for(let c=0;c<r.length;c++)o+=r[c];const s=this.geometry.morphTargetsRelative?1:1-o,l=i*e;a[l]=s,a.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const vE=new he,HEe=new he,kEe=new fn;class Uc{constructor(e=new he(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=vE.subVectors(r,t).cross(HEe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(vE),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:t.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||kEe.getNormalMatrix(e),i=this.coplanarPoint(vE).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Qd=new pa,jEe=new ot(.5,.5),E_=new he;class eg{constructor(e=new Uc,t=new Uc,r=new Uc,i=new Uc,a=new Uc,o=new Uc){this.planes=[e,t,r,i,a,o]}set(e,t,r,i,a,o){const s=this.planes;return s[0].copy(e),s[1].copy(t),s[2].copy(r),s[3].copy(i),s[4].copy(a),s[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=Yo,r=!1){const i=this.planes,a=e.elements,o=a[0],s=a[1],l=a[2],c=a[3],d=a[4],h=a[5],m=a[6],v=a[7],g=a[8],x=a[9],b=a[10],_=a[11],C=a[12],T=a[13],M=a[14],O=a[15];if(i[0].setComponents(c-o,v-d,_-g,O-C).normalize(),i[1].setComponents(c+o,v+d,_+g,O+C).normalize(),i[2].setComponents(c+s,v+h,_+x,O+T).normalize(),i[3].setComponents(c-s,v-h,_-x,O-T).normalize(),r)i[4].setComponents(l,m,b,M).normalize(),i[5].setComponents(c-l,v-m,_-b,O-M).normalize();else if(i[4].setComponents(c-l,v-m,_-b,O-M).normalize(),t===Yo)i[5].setComponents(c+l,v+m,_+b,O+M).normalize();else if(t===Em)i[5].setComponents(l,m,b,M).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Qd.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Qd.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Qd)}intersectsSprite(e){Qd.center.set(0,0,0);const t=jEe.distanceTo(e.center);return Qd.radius=.7071067811865476+t,Qd.applyMatrix4(e.matrixWorld),this.intersectsSphere(Qd)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(E_.x=i.normal.x>0?e.max.x:e.min.x,E_.y=i.normal.y>0?e.max.y:e.min.y,E_.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(E_)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Il=new on,Dl=new eg;class Nw{constructor(){this.coordinateSystem=Yo}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Il.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Dl.setFromProjectionMatrix(Il,i.coordinateSystem,i.reversedDepth),Dl.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Il.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Dl.setFromProjectionMatrix(Il,i.coordinateSystem,i.reversedDepth),Dl.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Il.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Dl.setFromProjectionMatrix(Il,i.coordinateSystem,i.reversedDepth),Dl.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Il.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Dl.setFromProjectionMatrix(Il,i.coordinateSystem,i.reversedDepth),Dl.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(Il.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Dl.setFromProjectionMatrix(Il,i.coordinateSystem,i.reversedDepth),Dl.containsPoint(e))return!0}return!1}clone(){return new Nw}}function yE(n,e){return n-e}function $Ee(n,e){return n.z-e.z}function VEe(n,e){return e.z-n.z}class GEe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,r,i){const a=this.pool,o=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const s=a[this.index];o.push(s),this.index++,s.start=e,s.count=t,s.z=r,s.index=i}reset(){this.list.length=0,this.index=0}}const co=new on,WEe=new It(1,1,1),zL=new eg,qEe=new Nw,A_=new Aa,ef=new pa,Kv=new he,HL=new he,XEe=new he,bE=new GEe,xa=new Ri,R_=[];function YEe(n,e,t=0){const r=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const i=n.count;for(let a=0;a<i;a++)for(let o=0;o<r;o++)e.setComponent(a+t,o,n.getComponent(a,o))}else e.array.set(n.array,t*r);e.needsUpdate=!0}function tf(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++)e[r]=n[r]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class dH extends Ri{constructor(e,t,r=t*2,i){super(new bn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new kl(t,e,e,Ea,bo);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),r=new kl(t,e,e,Qy,Jc);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),r=new kl(t,e,e,Ea,bo);r.colorSpace=Vn.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const o=e.getAttribute(a),{array:s,itemSize:l,normalized:c}=o,d=new s.constructor(r*l),h=new Er(d,l,c);t.setAttribute(a,h)}if(e.getIndex()!==null){const a=r>65535?new Uint32Array(i):new Uint16Array(i);t.setIndex(new Er(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),a=t.getAttribute(r);if(i.itemSize!==a.itemSize||i.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Aa);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(t[r].active===!1)continue;const a=t[r].geometryIndex;this.getMatrixAt(r,co),this.getBoundingBoxAt(a,A_).applyMatrix4(co),e.union(A_)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new pa);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(t[r].active===!1)continue;const a=t[r].geometryIndex;this.getMatrixAt(r,co),this.getBoundingSphereAt(a,ef).applyMatrix4(co),e.union(ef)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(yE),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const a=this._matricesTexture;co.identity().toArray(a.image.data,i*16),a.needsUpdate=!0;const o=this._colorsTexture;return o&&(WEe.toArray(o.image.data,i*4),o.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,t=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const o=e.getIndex();if(o!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?o.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(yE),l=this._availableGeometryIds.shift(),a[l]=i):(l=this._geometryCount,this._geometryCount++,a.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,i=r.getIndex()!==null,a=r.getIndex(),o=t.getIndex(),s=this._geometryInfo[e];if(i&&o.count>s.reservedIndexCount||t.attributes.position.count>s.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=s.vertexStart,c=s.reservedVertexCount;s.vertexCount=t.getAttribute("position").count;for(const d in r.attributes){const h=t.getAttribute(d),m=r.getAttribute(d);YEe(h,m,l);const v=h.itemSize;for(let g=h.count,x=c;g<x;g++){const b=l+g;for(let _=0;_<v;_++)m.setComponent(b,_,0)}m.needsUpdate=!0,m.addUpdateRange(l*v,c*v)}if(i){const d=s.indexStart,h=s.reservedIndexCount;s.indexCount=t.getIndex().count;for(let m=0;m<o.count;m++)a.setX(d+m,l+o.getX(m));for(let m=o.count,v=h;m<v;m++)a.setX(d+m,l);a.needsUpdate=!0,a.addUpdateRange(d,s.reservedIndexCount)}return s.start=i?s.indexStart:s.vertexStart,s.count=i?s.indexCount:s.vertexCount,s.boundingBox=null,t.boundingBox!==null&&(s.boundingBox=t.boundingBox.clone()),s.boundingSphere=null,t.boundingSphere!==null&&(s.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,a=r.length;i<a;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const r=this._geometryInfo,i=r.map((o,s)=>s).sort((o,s)=>r[o].vertexStart-r[s].vertexStart),a=this.geometry;for(let o=0,s=r.length;o<s;o++){const l=i[o],c=r[l];if(c.active!==!1){if(a.index!==null){if(c.indexStart!==t){const{indexStart:d,vertexStart:h,reservedIndexCount:m}=c,v=a.index,g=v.array,x=e-h;for(let b=d;b<d+m;b++)g[b]=g[b]+x;v.array.copyWithin(t,d,d+m),v.addUpdateRange(t,m),c.indexStart=t}t+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:d,reservedVertexCount:h}=c,m=a.attributes;for(const v in m){const g=m[v],{array:x,itemSize:b}=g;x.copyWithin(e*b,d*b,(d+h)*b),g.addUpdateRange(e*b,h*b)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=a.index?c.indexStart:c.vertexStart,this._nextIndexStart=a.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const a=new Aa,o=r.index,s=r.attributes.position;for(let l=i.start,c=i.start+i.count;l<c;l++){let d=l;o&&(d=o.getX(d)),a.expandByPoint(Kv.fromBufferAttribute(s,d))}i.boundingBox=a}return t.copy(i.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const a=new pa;this.getBoundingBoxAt(e,A_),A_.getCenter(a.center);const o=r.index,s=r.attributes.position;let l=0;for(let c=i.start,d=i.start+i.count;c<d;c++){let h=c;o&&(h=o.getX(h)),Kv.fromBufferAttribute(s,h),l=Math.max(l,a.center.distanceToSquared(Kv))}a.radius=Math.sqrt(l),i.boundingSphere=a}return t.copy(i.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return t.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return t.vertexStart=r.vertexStart,t.vertexCount=r.vertexCount,t.reservedVertexCount=r.reservedVertexCount,t.indexStart=r.indexStart,t.indexCount=r.indexCount,t.reservedIndexCount=r.reservedIndexCount,t.start=r.start,t.count=r.count,t}setInstanceCount(e){const t=this._availableInstanceIds,r=this._instanceInfo;for(t.sort(yE);t[t.length-1]===r.length-1;)r.pop(),t.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),a=new Int32Array(e);tf(this._multiDrawCounts,i),tf(this._multiDrawStarts,a),this._multiDrawCounts=i,this._multiDrawStarts=a,this._maxInstanceCount=e;const o=this._indirectTexture,s=this._matricesTexture,l=this._colorsTexture;o.dispose(),this._initIndirectTexture(),tf(o.image.data,this._indirectTexture.image.data),s.dispose(),this._initMatricesTexture(),tf(s.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),tf(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const r=[...this._geometryInfo].filter(s=>s.active);if(Math.max(...r.map(s=>s.vertexStart+s.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new bn,this._initializeGeometry(a));const o=this.geometry;a.index&&tf(a.index.array,o.index.array);for(const s in a.attributes)tf(a.attributes[s].array,o.attributes[s].array)}raycast(e,t){const r=this._instanceInfo,i=this._geometryInfo,a=this.matrixWorld,o=this.geometry;xa.material=this.material,xa.geometry.index=o.index,xa.geometry.attributes=o.attributes,xa.geometry.boundingBox===null&&(xa.geometry.boundingBox=new Aa),xa.geometry.boundingSphere===null&&(xa.geometry.boundingSphere=new pa);for(let s=0,l=r.length;s<l;s++){if(!r[s].visible||!r[s].active)continue;const c=r[s].geometryIndex,d=i[c];xa.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(s,xa.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,xa.geometry.boundingBox),this.getBoundingSphereAt(c,xa.geometry.boundingSphere),xa.raycast(e,R_);for(let h=0,m=R_.length;h<m;h++){const v=R_[h];v.object=this,v.batchId=s,t.push(v)}R_.length=0}xa.material=null,xa.geometry.index=null,xa.geometry.attributes={},xa.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>mn(qe({},t),{boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>qe({},t)),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,r,i,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),s=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,d=this._multiDrawCounts,h=this._geometryInfo,m=this.perObjectFrustumCulled,v=this._indirectTexture,g=v.image.data,x=r.isArrayCamera?qEe:zL;m&&!r.isArrayCamera&&(co.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),zL.setFromProjectionMatrix(co,r.coordinateSystem,r.reversedDepth));let b=0;if(this.sortObjects){co.copy(this.matrixWorld).invert(),Kv.setFromMatrixPosition(r.matrixWorld).applyMatrix4(co),HL.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(co);for(let T=0,M=l.length;T<M;T++)if(l[T].visible&&l[T].active){const O=l[T].geometryIndex;this.getMatrixAt(T,co),this.getBoundingSphereAt(O,ef).applyMatrix4(co);let I=!1;if(m&&(I=!x.intersectsSphere(ef,r)),!I){const U=h[O],F=XEe.subVectors(ef.center,Kv).dot(HL);bE.push(U.start,U.count,F,T)}}const _=bE.list,C=this.customSort;C===null?_.sort(a.transparent?VEe:$Ee):C.call(this,_,r);for(let T=0,M=_.length;T<M;T++){const O=_[T];c[b]=O.start*s,d[b]=O.count,g[b]=O.index,b++}bE.reset()}else for(let _=0,C=l.length;_<C;_++)if(l[_].visible&&l[_].active){const T=l[_].geometryIndex;let M=!1;if(m&&(this.getMatrixAt(_,co),this.getBoundingSphereAt(T,ef).applyMatrix4(co),M=!x.intersectsSphere(ef,r)),!M){const O=h[T];c[b]=O.start*s,d[b]=O.count,g[b]=_,b++}}v.needsUpdate=!0,this._multiDrawCount=b,this._visibilityChanged=!1}onBeforeShadow(e,t,r,i,a,o){this.onBeforeRender(e,null,i,a,o)}}class Ya extends Fa{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new It(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const dC=new he,fC=new he,kL=new on,Zv=new oh,P_=new pa,xE=new he,jL=new he;class Wu extends nr{constructor(e=new bn,t=new Ya){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,a=t.count;i<a;i++)dC.fromBufferAttribute(t,i-1),fC.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=dC.distanceTo(fC);e.setAttribute("lineDistance",new zt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),P_.copy(r.boundingSphere),P_.applyMatrix4(i),P_.radius+=a,e.ray.intersectsSphere(P_)===!1)return;kL.copy(i).invert(),Zv.copy(e.ray).applyMatrix4(kL);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=this.isLineSegments?2:1,d=r.index,m=r.attributes.position;if(d!==null){const v=Math.max(0,o.start),g=Math.min(d.count,o.start+o.count);for(let x=v,b=g-1;x<b;x+=c){const _=d.getX(x),C=d.getX(x+1),T=O_(this,e,Zv,l,_,C,x);T&&t.push(T)}if(this.isLineLoop){const x=d.getX(g-1),b=d.getX(v),_=O_(this,e,Zv,l,x,b,g-1);_&&t.push(_)}}else{const v=Math.max(0,o.start),g=Math.min(m.count,o.start+o.count);for(let x=v,b=g-1;x<b;x+=c){const _=O_(this,e,Zv,l,x,x+1,x);_&&t.push(_)}if(this.isLineLoop){const x=O_(this,e,Zv,l,g-1,v,g-1);x&&t.push(x)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}}function O_(n,e,t,r,i,a,o){const s=n.geometry.attributes.position;if(dC.fromBufferAttribute(s,i),fC.fromBufferAttribute(s,a),t.distanceSqToSegment(dC,fC,xE,jL)>r)return;xE.applyMatrix4(n.matrixWorld);const c=e.ray.origin.distanceTo(xE);if(!(c<e.near||c>e.far))return{distance:c,point:jL.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const $L=new he,VL=new he;class Xl extends Wu{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,a=t.count;i<a;i+=2)$L.fromBufferAttribute(t,i),VL.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+$L.distanceTo(VL);e.setAttribute("lineDistance",new zt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class fH extends Wu{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class f2 extends Fa{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new It(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const GL=new on,xR=new oh,F_=new pa,I_=new he;class hH extends nr{constructor(e=new bn,t=new f2){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),F_.copy(r.boundingSphere),F_.applyMatrix4(i),F_.radius+=a,e.ray.intersectsSphere(F_)===!1)return;GL.copy(i).invert(),xR.copy(e.ray).applyMatrix4(GL);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,c=r.index,h=r.attributes.position;if(c!==null){const m=Math.max(0,o.start),v=Math.min(c.count,o.start+o.count);for(let g=m,x=v;g<x;g++){const b=c.getX(g);I_.fromBufferAttribute(h,b),WL(I_,b,l,i,e,t,this)}}else{const m=Math.max(0,o.start),v=Math.min(h.count,o.start+o.count);for(let g=m,x=v;g<x;g++)I_.fromBufferAttribute(h,g),WL(I_,g,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}}function WL(n,e,t,r,i,a,o){const s=xR.distanceSqToPoint(n);if(s<t){const l=new he;xR.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;a.push({distance:c,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class pH extends ni{constructor(e,t,r,i,a=Hi,o=Hi,s,l,c){super(e,t,r,i,a,o,s,l,c),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const d=this;function h(){d.needsUpdate=!0,d._requestVideoFrameCallbackId=e.requestVideoFrameCallback(h)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(h))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),super.dispose()}}class KEe extends pH{constructor(e,t,r,i,a,o,s,l){super({},e,t,r,i,a,o,s,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class ZEe extends ni{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=ha,this.minFilter=ha,this.generateMipmaps=!1,this.needsUpdate=!0}}class Uw extends ni{constructor(e,t,r,i,a,o,s,l,c,d,h,m){super(null,o,s,l,c,d,i,a,h,m),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class JEe extends Uw{constructor(e,t,r,i,a,o){super(e,t,r,a,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Ss,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class QEe extends Uw{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,Zc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class eAe extends ni{constructor(e,t,r,i,a,o,s,l,c){super(e,t,r,i,a,o,s,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class h2 extends ni{constructor(e,t,r=Jc,i,a,o,s=ha,l=ha,c,d=Tm,h=1){if(d!==Tm&&d!==Mm)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const m={width:e,height:t,depth:h};super(m,i,a,o,s,l,d,r,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new zu(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class p2 extends ni{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class Bw extends bn{constructor(e=1,t=1,r=4,i=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i,heightSegments:a},t=Math.max(0,t),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),a=Math.max(1,Math.floor(a));const o=[],s=[],l=[],c=[],d=t/2,h=Math.PI/2*e,m=t,v=2*h+m,g=r*2+a,x=i+1,b=new he,_=new he;for(let C=0;C<=g;C++){let T=0,M=0,O=0,I=0;if(C<=r){const L=C/r,D=L*Math.PI/2;M=-d-e*Math.cos(D),O=e*Math.sin(D),I=-e*Math.cos(D),T=L*h}else if(C<=r+a){const L=(C-r)/a;M=-d+L*t,O=e,I=0,T=h+L*m}else{const L=(C-r-a)/r,D=L*Math.PI/2;M=d+e*Math.sin(D),O=e*Math.cos(D),I=e*Math.sin(D),T=h+m+L*h}const U=Math.max(0,Math.min(1,T/v));let F=0;C===0?F=.5/i:C===g&&(F=-.5/i);for(let L=0;L<=i;L++){const D=L/i,z=D*Math.PI*2,$=Math.sin(z),Y=Math.cos(z);_.x=-O*Y,_.y=M,_.z=O*$,s.push(_.x,_.y,_.z),b.set(-O*Y,I,O*$),b.normalize(),l.push(b.x,b.y,b.z),c.push(D+F,U)}if(C>0){const L=(C-1)*x;for(let D=0;D<i;D++){const z=L+D,$=L+D+1,Y=C*x+D,j=C*x+D+1;o.push(z,$,Y),o.push($,j,Y)}}}this.setIndex(o),this.setAttribute("position",new zt(s,3)),this.setAttribute("normal",new zt(l,3)),this.setAttribute("uv",new zt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bw(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class zw extends bn{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const a=[],o=[],s=[],l=[],c=new he,d=new ot;o.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let h=0,m=3;h<=t;h++,m+=3){const v=r+h/t*i;c.x=e*Math.cos(v),c.y=e*Math.sin(v),o.push(c.x,c.y,c.z),s.push(0,0,1),d.x=(o[m]/e+1)/2,d.y=(o[m+1]/e+1)/2,l.push(d.x,d.y)}for(let h=1;h<=t;h++)a.push(h,h+1,0);this.setIndex(a),this.setAttribute("position",new zt(o,3)),this.setAttribute("normal",new zt(s,3)),this.setAttribute("uv",new zt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zw(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class tb extends bn{constructor(e=1,t=1,r=1,i=32,a=1,o=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:l};const c=this;i=Math.floor(i),a=Math.floor(a);const d=[],h=[],m=[],v=[];let g=0;const x=[],b=r/2;let _=0;C(),o===!1&&(e>0&&T(!0),t>0&&T(!1)),this.setIndex(d),this.setAttribute("position",new zt(h,3)),this.setAttribute("normal",new zt(m,3)),this.setAttribute("uv",new zt(v,2));function C(){const M=new he,O=new he;let I=0;const U=(t-e)/r;for(let F=0;F<=a;F++){const L=[],D=F/a,z=D*(t-e)+e;for(let $=0;$<=i;$++){const Y=$/i,j=Y*l+s,V=Math.sin(j),B=Math.cos(j);O.x=z*V,O.y=-D*r+b,O.z=z*B,h.push(O.x,O.y,O.z),M.set(V,U,B).normalize(),m.push(M.x,M.y,M.z),v.push(Y,1-D),L.push(g++)}x.push(L)}for(let F=0;F<i;F++)for(let L=0;L<a;L++){const D=x[L][F],z=x[L+1][F],$=x[L+1][F+1],Y=x[L][F+1];(e>0||L!==0)&&(d.push(D,z,Y),I+=3),(t>0||L!==a-1)&&(d.push(z,$,Y),I+=3)}c.addGroup(_,I,0),_+=I}function T(M){const O=g,I=new ot,U=new he;let F=0;const L=M===!0?e:t,D=M===!0?1:-1;for(let $=1;$<=i;$++)h.push(0,b*D,0),m.push(0,D,0),v.push(.5,.5),g++;const z=g;for(let $=0;$<=i;$++){const j=$/i*l+s,V=Math.cos(j),B=Math.sin(j);U.x=L*B,U.y=b*D,U.z=L*V,h.push(U.x,U.y,U.z),m.push(0,D,0),I.x=V*.5+.5,I.y=B*.5*D+.5,v.push(I.x,I.y),g++}for(let $=0;$<i;$++){const Y=O+$,j=z+$;M===!0?d.push(j,j+1,Y):d.push(j+1,j,Y),F+=3}c.addGroup(_,F,M===!0?1:2),_+=F}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tb(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class nb extends tb{constructor(e=1,t=1,r=32,i=1,a=!1,o=0,s=Math.PI*2){super(0,e,t,r,i,a,o,s),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s}}static fromJSON(e){return new nb(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class td extends bn{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const a=[],o=[];s(i),c(r),d(),this.setAttribute("position",new zt(a,3)),this.setAttribute("normal",new zt(a.slice(),3)),this.setAttribute("uv",new zt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(C){const T=new he,M=new he,O=new he;for(let I=0;I<t.length;I+=3)v(t[I+0],T),v(t[I+1],M),v(t[I+2],O),l(T,M,O,C)}function l(C,T,M,O){const I=O+1,U=[];for(let F=0;F<=I;F++){U[F]=[];const L=C.clone().lerp(M,F/I),D=T.clone().lerp(M,F/I),z=I-F;for(let $=0;$<=z;$++)$===0&&F===I?U[F][$]=L:U[F][$]=L.clone().lerp(D,$/z)}for(let F=0;F<I;F++)for(let L=0;L<2*(I-F)-1;L++){const D=Math.floor(L/2);L%2===0?(m(U[F][D+1]),m(U[F+1][D]),m(U[F][D])):(m(U[F][D+1]),m(U[F+1][D+1]),m(U[F+1][D]))}}function c(C){const T=new he;for(let M=0;M<a.length;M+=3)T.x=a[M+0],T.y=a[M+1],T.z=a[M+2],T.normalize().multiplyScalar(C),a[M+0]=T.x,a[M+1]=T.y,a[M+2]=T.z}function d(){const C=new he;for(let T=0;T<a.length;T+=3){C.x=a[T+0],C.y=a[T+1],C.z=a[T+2];const M=b(C)/2/Math.PI+.5,O=_(C)/Math.PI+.5;o.push(M,1-O)}g(),h()}function h(){for(let C=0;C<o.length;C+=6){const T=o[C+0],M=o[C+2],O=o[C+4],I=Math.max(T,M,O),U=Math.min(T,M,O);I>.9&&U<.1&&(T<.2&&(o[C+0]+=1),M<.2&&(o[C+2]+=1),O<.2&&(o[C+4]+=1))}}function m(C){a.push(C.x,C.y,C.z)}function v(C,T){const M=C*3;T.x=e[M+0],T.y=e[M+1],T.z=e[M+2]}function g(){const C=new he,T=new he,M=new he,O=new he,I=new ot,U=new ot,F=new ot;for(let L=0,D=0;L<a.length;L+=9,D+=6){C.set(a[L+0],a[L+1],a[L+2]),T.set(a[L+3],a[L+4],a[L+5]),M.set(a[L+6],a[L+7],a[L+8]),I.set(o[D+0],o[D+1]),U.set(o[D+2],o[D+3]),F.set(o[D+4],o[D+5]),O.copy(C).add(T).add(M).divideScalar(3);const z=b(O);x(I,D+0,C,z),x(U,D+2,T,z),x(F,D+4,M,z)}}function x(C,T,M,O){O<0&&C.x===1&&(o[T]=C.x-1),M.x===0&&M.z===0&&(o[T]=O/2/Math.PI+.5)}function b(C){return Math.atan2(C.z,-C.x)}function _(C){return Math.atan2(-C.y,Math.sqrt(C.x*C.x+C.z*C.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new td(e.vertices,e.indices,e.radius,e.details)}}class Hw extends td{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Hw(e.radius,e.detail)}}const D_=new he,L_=new he,_E=new he,N_=new go;class mH extends bn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),a=Math.cos(Df*t),o=e.getIndex(),s=e.getAttribute("position"),l=o?o.count:s.count,c=[0,0,0],d=["a","b","c"],h=new Array(3),m={},v=[];for(let g=0;g<l;g+=3){o?(c[0]=o.getX(g),c[1]=o.getX(g+1),c[2]=o.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:x,b,c:_}=N_;if(x.fromBufferAttribute(s,c[0]),b.fromBufferAttribute(s,c[1]),_.fromBufferAttribute(s,c[2]),N_.getNormal(_E),h[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,h[1]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,h[2]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,!(h[0]===h[1]||h[1]===h[2]||h[2]===h[0]))for(let C=0;C<3;C++){const T=(C+1)%3,M=h[C],O=h[T],I=N_[d[C]],U=N_[d[T]],F=`${M}_${O}`,L=`${O}_${M}`;L in m&&m[L]?(_E.dot(m[L].normal)<=a&&(v.push(I.x,I.y,I.z),v.push(U.x,U.y,U.z)),m[L]=null):F in m||(m[F]={index0:c[C],index1:c[T],normal:_E.clone()})}}for(const g in m)if(m[g]){const{index0:x,index1:b}=m[g];D_.fromBufferAttribute(s,x),L_.fromBufferAttribute(s,b),v.push(D_.x,D_.y,D_.z),v.push(L_.x,L_.y,L_.z)}this.setAttribute("position",new zt(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class ll{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),a=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),a+=r.distanceTo(i),t.push(a),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const r=this.getLengths();let i=0;const a=r.length;let o;t?o=t:o=e*r[a-1];let s=0,l=a-1,c;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),c=r[i]-o,c<0)s=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(a-1);const d=r[i],m=r[i+1]-d,v=(o-d)/m;return(i+v)/(a-1)}getTangent(e,t){let i=e-1e-4,a=e+1e-4;i<0&&(i=0),a>1&&(a=1);const o=this.getPoint(i),s=this.getPoint(a),l=t||(o.isVector2?new ot:new he);return l.copy(s).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t=!1){const r=new he,i=[],a=[],o=[],s=new he,l=new on;for(let v=0;v<=e;v++){const g=v/e;i[v]=this.getTangentAt(g,new he)}a[0]=new he,o[0]=new he;let c=Number.MAX_VALUE;const d=Math.abs(i[0].x),h=Math.abs(i[0].y),m=Math.abs(i[0].z);d<=c&&(c=d,r.set(1,0,0)),h<=c&&(c=h,r.set(0,1,0)),m<=c&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),a[0].crossVectors(i[0],s),o[0].crossVectors(i[0],a[0]);for(let v=1;v<=e;v++){if(a[v]=a[v-1].clone(),o[v]=o[v-1].clone(),s.crossVectors(i[v-1],i[v]),s.length()>Number.EPSILON){s.normalize();const g=Math.acos(rn(i[v-1].dot(i[v]),-1,1));a[v].applyMatrix4(l.makeRotationAxis(s,g))}o[v].crossVectors(i[v],a[v])}if(t===!0){let v=Math.acos(rn(a[0].dot(a[e]),-1,1));v/=e,i[0].dot(s.crossVectors(a[0],a[e]))>0&&(v=-v);for(let g=1;g<=e;g++)a[g].applyMatrix4(l.makeRotationAxis(i[g],v*g)),o[g].crossVectors(i[g],a[g])}return{tangents:i,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class kw extends ll{constructor(e=0,t=0,r=1,i=1,a=0,o=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=s,this.aRotation=l}getPoint(e,t=new ot){const r=t,i=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(o?a=0:a=i),this.aClockwise===!0&&!o&&(a===i?a=-i:a=a-i);const s=this.aStartAngle+e*a;let l=this.aX+this.xRadius*Math.cos(s),c=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const d=Math.cos(this.aRotation),h=Math.sin(this.aRotation),m=l-this.aX,v=c-this.aY;l=m*d-v*h+this.aX,c=m*h+v*d+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class gH extends kw{constructor(e,t,r,i,a,o){super(e,t,r,r,i,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function m2(){let n=0,e=0,t=0,r=0;function i(a,o,s,l){n=a,e=s,t=-3*a+3*o-2*s-l,r=2*a-2*o+s+l}return{initCatmullRom:function(a,o,s,l,c){i(o,s,c*(s-a),c*(l-o))},initNonuniformCatmullRom:function(a,o,s,l,c,d,h){let m=(o-a)/c-(s-a)/(c+d)+(s-o)/d,v=(s-o)/d-(l-o)/(d+h)+(l-s)/h;m*=d,v*=d,i(o,s,m,v)},calc:function(a){const o=a*a,s=o*a;return n+e*a+t*o+r*s}}}const U_=new he,SE=new m2,CE=new m2,wE=new m2;class vH extends ll{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new he){const r=t,i=this.points,a=i.length,o=(a-(this.closed?0:1))*e;let s=Math.floor(o),l=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:l===0&&s===a-1&&(s=a-2,l=1);let c,d;this.closed||s>0?c=i[(s-1)%a]:(U_.subVectors(i[0],i[1]).add(i[0]),c=U_);const h=i[s%a],m=i[(s+1)%a];if(this.closed||s+2<a?d=i[(s+2)%a]:(U_.subVectors(i[a-1],i[a-2]).add(i[a-1]),d=U_),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(h),v),x=Math.pow(h.distanceToSquared(m),v),b=Math.pow(m.distanceToSquared(d),v);x<1e-4&&(x=1),g<1e-4&&(g=x),b<1e-4&&(b=x),SE.initNonuniformCatmullRom(c.x,h.x,m.x,d.x,g,x,b),CE.initNonuniformCatmullRom(c.y,h.y,m.y,d.y,g,x,b),wE.initNonuniformCatmullRom(c.z,h.z,m.z,d.z,g,x,b)}else this.curveType==="catmullrom"&&(SE.initCatmullRom(c.x,h.x,m.x,d.x,this.tension),CE.initCatmullRom(c.y,h.y,m.y,d.y,this.tension),wE.initCatmullRom(c.z,h.z,m.z,d.z,this.tension));return r.set(SE.calc(l),CE.calc(l),wE.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new he().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function qL(n,e,t,r,i){const a=(r-e)*.5,o=(i-t)*.5,s=n*n,l=n*s;return(2*t-2*r+a+o)*l+(-3*t+3*r-2*a-o)*s+a*n+t}function tAe(n,e){const t=1-n;return t*t*e}function nAe(n,e){return 2*(1-n)*n*e}function rAe(n,e){return n*n*e}function M0(n,e,t,r){return tAe(n,e)+nAe(n,t)+rAe(n,r)}function iAe(n,e){const t=1-n;return t*t*t*e}function aAe(n,e){const t=1-n;return 3*t*t*n*e}function oAe(n,e){return 3*(1-n)*n*n*e}function sAe(n,e){return n*n*n*e}function E0(n,e,t,r,i){return iAe(n,e)+aAe(n,t)+oAe(n,r)+sAe(n,i)}class g2 extends ll{constructor(e=new ot,t=new ot,r=new ot,i=new ot){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new ot){const r=t,i=this.v0,a=this.v1,o=this.v2,s=this.v3;return r.set(E0(e,i.x,a.x,o.x,s.x),E0(e,i.y,a.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class yH extends ll{constructor(e=new he,t=new he,r=new he,i=new he){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new he){const r=t,i=this.v0,a=this.v1,o=this.v2,s=this.v3;return r.set(E0(e,i.x,a.x,o.x,s.x),E0(e,i.y,a.y,o.y,s.y),E0(e,i.z,a.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class v2 extends ll{constructor(e=new ot,t=new ot){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new ot){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new ot){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class bH extends ll{constructor(e=new he,t=new he){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new he){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new he){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class y2 extends ll{constructor(e=new ot,t=new ot,r=new ot){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new ot){const r=t,i=this.v0,a=this.v1,o=this.v2;return r.set(M0(e,i.x,a.x,o.x),M0(e,i.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class b2 extends ll{constructor(e=new he,t=new he,r=new he){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new he){const r=t,i=this.v0,a=this.v1,o=this.v2;return r.set(M0(e,i.x,a.x,o.x),M0(e,i.y,a.y,o.y),M0(e,i.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class x2 extends ll{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new ot){const r=t,i=this.points,a=(i.length-1)*e,o=Math.floor(a),s=a-o,l=i[o===0?o:o-1],c=i[o],d=i[o>i.length-2?i.length-1:o+1],h=i[o>i.length-3?i.length-1:o+2];return r.set(qL(s,l.x,c.x,d.x,h.x),qL(s,l.y,c.y,d.y,h.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new ot().fromArray(i))}return this}}var hC=Object.freeze({__proto__:null,ArcCurve:gH,CatmullRomCurve3:vH,CubicBezierCurve:g2,CubicBezierCurve3:yH,EllipseCurve:kw,LineCurve:v2,LineCurve3:bH,QuadraticBezierCurve:y2,QuadraticBezierCurve3:b2,SplineCurve:x2});class xH extends ll{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new hC[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let a=0;for(;a<i.length;){if(i[a]>=r){const o=i[a]-r,s=this.curves[a],l=s.getLength(),c=l===0?0:1-o/l;return s.getPointAt(c,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,a=this.curves;i<a.length;i++){const o=a[i],s=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(s);for(let c=0;c<l.length;c++){const d=l[c];r&&r.equals(d)||(t.push(d),r=d)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new hC[i.type]().fromJSON(i))}return this}}class pC extends xH{constructor(e){super(),this.type="Path",this.currentPoint=new ot,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new v2(this.currentPoint.clone(),new ot(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const a=new y2(this.currentPoint.clone(),new ot(e,t),new ot(r,i));return this.curves.push(a),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,a,o){const s=new g2(this.currentPoint.clone(),new ot(e,t),new ot(r,i),new ot(a,o));return this.curves.push(s),this.currentPoint.set(a,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new x2(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,a,o){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,t+l,r,i,a,o),this}absarc(e,t,r,i,a,o){return this.absellipse(e,t,r,r,i,a,o),this}ellipse(e,t,r,i,a,o,s,l){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+c,t+d,r,i,a,o,s,l),this}absellipse(e,t,r,i,a,o,s,l){const c=new kw(e,t,r,i,a,o,s,l);if(this.curves.length>0){const h=c.getPoint(0);h.equals(this.currentPoint)||this.lineTo(h.x,h.y)}this.curves.push(c);const d=c.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Lf extends pC{constructor(e){super(e),this.uuid=Jo(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new pC().fromJSON(i))}return this}}function lAe(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let a=_H(n,0,i,t,!0);const o=[];if(!a||a.next===a.prev)return o;let s,l,c;if(r&&(a=hAe(n,e,a,t)),n.length>80*t){s=1/0,l=1/0;let d=-1/0,h=-1/0;for(let m=t;m<i;m+=t){const v=n[m],g=n[m+1];v<s&&(s=v),g<l&&(l=g),v>d&&(d=v),g>h&&(h=g)}c=Math.max(d-s,h-l),c=c!==0?32767/c:0}return sy(a,o,t,s,l,c,0),o}function _H(n,e,t,r,i){let a;if(i===wAe(n,e,t,r)>0)for(let o=e;o<t;o+=r)a=XL(o/r|0,n[o],n[o+1],a);else for(let o=t-r;o>=e;o-=r)a=XL(o/r|0,n[o],n[o+1],a);return a&&Fm(a,a.next)&&(cy(a),a=a.next),a}function Xf(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(Fm(t,t.next)||Wr(t.prev,t,t.next)===0)){if(cy(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function sy(n,e,t,r,i,a,o){if(!n)return;!o&&a&&yAe(n,r,i,a);let s=n;for(;n.prev!==n.next;){const l=n.prev,c=n.next;if(a?uAe(n,r,i,a):cAe(n)){e.push(l.i,n.i,c.i),cy(n),n=c.next,s=c.next;continue}if(n=c,n===s){o?o===1?(n=dAe(Xf(n),e),sy(n,e,t,r,i,a,2)):o===2&&fAe(n,e,t,r,i,a):sy(Xf(n),e,t,r,i,a,1);break}}}function cAe(n){const e=n.prev,t=n,r=n.next;if(Wr(e,t,r)>=0)return!1;const i=e.x,a=t.x,o=r.x,s=e.y,l=t.y,c=r.y,d=Math.min(i,a,o),h=Math.min(s,l,c),m=Math.max(i,a,o),v=Math.max(s,l,c);let g=r.next;for(;g!==e;){if(g.x>=d&&g.x<=m&&g.y>=h&&g.y<=v&&i0(i,s,a,l,o,c,g.x,g.y)&&Wr(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function uAe(n,e,t,r){const i=n.prev,a=n,o=n.next;if(Wr(i,a,o)>=0)return!1;const s=i.x,l=a.x,c=o.x,d=i.y,h=a.y,m=o.y,v=Math.min(s,l,c),g=Math.min(d,h,m),x=Math.max(s,l,c),b=Math.max(d,h,m),_=_R(v,g,e,t,r),C=_R(x,b,e,t,r);let T=n.prevZ,M=n.nextZ;for(;T&&T.z>=_&&M&&M.z<=C;){if(T.x>=v&&T.x<=x&&T.y>=g&&T.y<=b&&T!==i&&T!==o&&i0(s,d,l,h,c,m,T.x,T.y)&&Wr(T.prev,T,T.next)>=0||(T=T.prevZ,M.x>=v&&M.x<=x&&M.y>=g&&M.y<=b&&M!==i&&M!==o&&i0(s,d,l,h,c,m,M.x,M.y)&&Wr(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;T&&T.z>=_;){if(T.x>=v&&T.x<=x&&T.y>=g&&T.y<=b&&T!==i&&T!==o&&i0(s,d,l,h,c,m,T.x,T.y)&&Wr(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;M&&M.z<=C;){if(M.x>=v&&M.x<=x&&M.y>=g&&M.y<=b&&M!==i&&M!==o&&i0(s,d,l,h,c,m,M.x,M.y)&&Wr(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function dAe(n,e){let t=n;do{const r=t.prev,i=t.next.next;!Fm(r,i)&&CH(r,t,t.next,i)&&ly(r,i)&&ly(i,r)&&(e.push(r.i,t.i,i.i),cy(t),cy(t.next),t=n=i),t=t.next}while(t!==n);return Xf(t)}function fAe(n,e,t,r,i,a){let o=n;do{let s=o.next.next;for(;s!==o.prev;){if(o.i!==s.i&&_Ae(o,s)){let l=wH(o,s);o=Xf(o,o.next),l=Xf(l,l.next),sy(o,e,t,r,i,a,0),sy(l,e,t,r,i,a,0);return}s=s.next}o=o.next}while(o!==n)}function hAe(n,e,t,r){const i=[];for(let a=0,o=e.length;a<o;a++){const s=e[a]*r,l=a<o-1?e[a+1]*r:n.length,c=_H(n,s,l,r,!1);c===c.next&&(c.steiner=!0),i.push(xAe(c))}i.sort(pAe);for(let a=0;a<i.length;a++)t=mAe(i[a],t);return t}function pAe(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const r=(n.next.y-n.y)/(n.next.x-n.x),i=(e.next.y-e.y)/(e.next.x-e.x);t=r-i}return t}function mAe(n,e){const t=gAe(n,e);if(!t)return e;const r=wH(t,n);return Xf(r,r.next),Xf(t,t.next)}function gAe(n,e){let t=e;const r=n.x,i=n.y;let a=-1/0,o;if(Fm(n,t))return t;do{if(Fm(n,t.next))return t.next;if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const h=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(h<=r&&h>a&&(a=h,o=t.x<t.next.x?t:t.next,h===r))return o}t=t.next}while(t!==e);if(!o)return null;const s=o,l=o.x,c=o.y;let d=1/0;t=o;do{if(r>=t.x&&t.x>=l&&r!==t.x&&SH(i<c?r:a,i,l,c,i<c?a:r,i,t.x,t.y)){const h=Math.abs(i-t.y)/(r-t.x);ly(t,n)&&(h<d||h===d&&(t.x>o.x||t.x===o.x&&vAe(o,t)))&&(o=t,d=h)}t=t.next}while(t!==s);return o}function vAe(n,e){return Wr(n.prev,n,e.prev)<0&&Wr(e.next,n,n.next)<0}function yAe(n,e,t,r){let i=n;do i.z===0&&(i.z=_R(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,bAe(i)}function bAe(n){let e,t=1;do{let r=n,i;n=null;let a=null;for(e=0;r;){e++;let o=r,s=0;for(let c=0;c<t&&(s++,o=o.nextZ,!!o);c++);let l=t;for(;s>0||l>0&&o;)s!==0&&(l===0||!o||r.z<=o.z)?(i=r,r=r.nextZ,s--):(i=o,o=o.nextZ,l--),a?a.nextZ=i:n=i,i.prevZ=a,a=i;r=o}a.nextZ=null,t*=2}while(e>1);return n}function _R(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function xAe(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function SH(n,e,t,r,i,a,o,s){return(i-o)*(e-s)>=(n-o)*(a-s)&&(n-o)*(r-s)>=(t-o)*(e-s)&&(t-o)*(a-s)>=(i-o)*(r-s)}function i0(n,e,t,r,i,a,o,s){return!(n===o&&e===s)&&SH(n,e,t,r,i,a,o,s)}function _Ae(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!SAe(n,e)&&(ly(n,e)&&ly(e,n)&&CAe(n,e)&&(Wr(n.prev,n,e.prev)||Wr(n,e.prev,e))||Fm(n,e)&&Wr(n.prev,n,n.next)>0&&Wr(e.prev,e,e.next)>0)}function Wr(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Fm(n,e){return n.x===e.x&&n.y===e.y}function CH(n,e,t,r){const i=z_(Wr(n,e,t)),a=z_(Wr(n,e,r)),o=z_(Wr(t,r,n)),s=z_(Wr(t,r,e));return!!(i!==a&&o!==s||i===0&&B_(n,t,e)||a===0&&B_(n,r,e)||o===0&&B_(t,n,r)||s===0&&B_(t,e,r))}function B_(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function z_(n){return n>0?1:n<0?-1:0}function SAe(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&CH(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function ly(n,e){return Wr(n.prev,n,n.next)<0?Wr(n,e,n.next)>=0&&Wr(n,n.prev,e)>=0:Wr(n,e,n.prev)<0||Wr(n,n.next,e)<0}function CAe(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,a=(n.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&i<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function wH(n,e){const t=SR(n.i,n.x,n.y),r=SR(e.i,e.x,e.y),i=n.next,a=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,a.next=r,r.prev=a,r}function XL(n,e,t,r){const i=SR(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function cy(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function SR(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function wAe(n,e,t,r){let i=0;for(let a=e,o=t-r;a<t;a+=r)i+=(n[o]-n[a])*(n[a+1]+n[o+1]),o=a;return i}class TAe{static triangulate(e,t,r=2){return lAe(e,t,r)}}class il{static area(e){const t=e.length;let r=0;for(let i=t-1,a=0;a<t;i=a++)r+=e[i].x*e[a].y-e[a].x*e[i].y;return r*.5}static isClockWise(e){return il.area(e)<0}static triangulateShape(e,t){const r=[],i=[],a=[];YL(e),KL(r,e);let o=e.length;t.forEach(YL);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,KL(r,t[l]);const s=TAe.triangulate(r,i);for(let l=0;l<s.length;l+=3)a.push(s.slice(l,l+3));return a}}function YL(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function KL(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class jw extends bn{constructor(e=new Lf([new ot(.5,.5),new ot(-.5,.5),new ot(-.5,-.5),new ot(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],a=[];for(let s=0,l=e.length;s<l;s++){const c=e[s];o(c)}this.setAttribute("position",new zt(i,3)),this.setAttribute("uv",new zt(a,2)),this.computeVertexNormals();function o(s){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,d=t.steps!==void 0?t.steps:1,h=t.depth!==void 0?t.depth:1;let m=t.bevelEnabled!==void 0?t.bevelEnabled:!0,v=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:v-.1,x=t.bevelOffset!==void 0?t.bevelOffset:0,b=t.bevelSegments!==void 0?t.bevelSegments:3;const _=t.extrudePath,C=t.UVGenerator!==void 0?t.UVGenerator:MAe;let T,M=!1,O,I,U,F;_&&(T=_.getSpacedPoints(d),M=!0,m=!1,O=_.computeFrenetFrames(d,!1),I=new he,U=new he,F=new he),m||(b=0,v=0,g=0,x=0);const L=s.extractPoints(c);let D=L.shape;const z=L.holes;if(!il.isClockWise(D)){D=D.reverse();for(let Ce=0,Fe=z.length;Ce<Fe;Ce++){const ge=z[Ce];il.isClockWise(ge)&&(z[Ce]=ge.reverse())}}function Y(Ce){const ge=10000000000000001e-36;let fe=Ce[0];for(let ve=1;ve<=Ce.length;ve++){const be=ve%Ce.length,we=Ce[be],Ie=we.x-fe.x,Ae=we.y-fe.y,X=Ie*Ie+Ae*Ae,q=Math.max(Math.abs(we.x),Math.abs(we.y),Math.abs(fe.x),Math.abs(fe.y)),ye=ge*q*q;if(X<=ye){Ce.splice(be,1),ve--;continue}fe=we}}Y(D),z.forEach(Y);const j=z.length,V=D;for(let Ce=0;Ce<j;Ce++){const Fe=z[Ce];D=D.concat(Fe)}function B(Ce,Fe,ge){return Fe||console.error("THREE.ExtrudeGeometry: vec does not exist"),Ce.clone().addScaledVector(Fe,ge)}const G=D.length;function W(Ce,Fe,ge){let fe,ve,be;const we=Ce.x-Fe.x,Ie=Ce.y-Fe.y,Ae=ge.x-Ce.x,X=ge.y-Ce.y,q=we*we+Ie*Ie,ye=we*X-Ie*Ae;if(Math.abs(ye)>Number.EPSILON){const Re=Math.sqrt(q),Ge=Math.sqrt(Ae*Ae+X*X),Le=Fe.x-Ie/Re,ht=Fe.y+we/Re,et=ge.x-X/Ge,xt=ge.y+Ae/Ge,St=((et-Le)*X-(xt-ht)*Ae)/(we*X-Ie*Ae);fe=Le+we*St-Ce.x,ve=ht+Ie*St-Ce.y;const st=fe*fe+ve*ve;if(st<=2)return new ot(fe,ve);be=Math.sqrt(st/2)}else{let Re=!1;we>Number.EPSILON?Ae>Number.EPSILON&&(Re=!0):we<-Number.EPSILON?Ae<-Number.EPSILON&&(Re=!0):Math.sign(Ie)===Math.sign(X)&&(Re=!0),Re?(fe=-Ie,ve=we,be=Math.sqrt(q)):(fe=we,ve=Ie,be=Math.sqrt(q/2))}return new ot(fe/be,ve/be)}const Z=[];for(let Ce=0,Fe=V.length,ge=Fe-1,fe=Ce+1;Ce<Fe;Ce++,ge++,fe++)ge===Fe&&(ge=0),fe===Fe&&(fe=0),Z[Ce]=W(V[Ce],V[ge],V[fe]);const J=[];let Q,ue=Z.concat();for(let Ce=0,Fe=j;Ce<Fe;Ce++){const ge=z[Ce];Q=[];for(let fe=0,ve=ge.length,be=ve-1,we=fe+1;fe<ve;fe++,be++,we++)be===ve&&(be=0),we===ve&&(we=0),Q[fe]=W(ge[fe],ge[be],ge[we]);J.push(Q),ue=ue.concat(Q)}let se;if(b===0)se=il.triangulateShape(V,z);else{const Ce=[],Fe=[];for(let ge=0;ge<b;ge++){const fe=ge/b,ve=v*Math.cos(fe*Math.PI/2),be=g*Math.sin(fe*Math.PI/2)+x;for(let we=0,Ie=V.length;we<Ie;we++){const Ae=B(V[we],Z[we],be);Ee(Ae.x,Ae.y,-ve),fe===0&&Ce.push(Ae)}for(let we=0,Ie=j;we<Ie;we++){const Ae=z[we];Q=J[we];const X=[];for(let q=0,ye=Ae.length;q<ye;q++){const Re=B(Ae[q],Q[q],be);Ee(Re.x,Re.y,-ve),fe===0&&X.push(Re)}fe===0&&Fe.push(X)}}se=il.triangulateShape(Ce,Fe)}const ae=se.length,ie=g+x;for(let Ce=0;Ce<G;Ce++){const Fe=m?B(D[Ce],ue[Ce],ie):D[Ce];M?(U.copy(O.normals[0]).multiplyScalar(Fe.x),I.copy(O.binormals[0]).multiplyScalar(Fe.y),F.copy(T[0]).add(U).add(I),Ee(F.x,F.y,F.z)):Ee(Fe.x,Fe.y,0)}for(let Ce=1;Ce<=d;Ce++)for(let Fe=0;Fe<G;Fe++){const ge=m?B(D[Fe],ue[Fe],ie):D[Fe];M?(U.copy(O.normals[Ce]).multiplyScalar(ge.x),I.copy(O.binormals[Ce]).multiplyScalar(ge.y),F.copy(T[Ce]).add(U).add(I),Ee(F.x,F.y,F.z)):Ee(ge.x,ge.y,h/d*Ce)}for(let Ce=b-1;Ce>=0;Ce--){const Fe=Ce/b,ge=v*Math.cos(Fe*Math.PI/2),fe=g*Math.sin(Fe*Math.PI/2)+x;for(let ve=0,be=V.length;ve<be;ve++){const we=B(V[ve],Z[ve],fe);Ee(we.x,we.y,h+ge)}for(let ve=0,be=z.length;ve<be;ve++){const we=z[ve];Q=J[ve];for(let Ie=0,Ae=we.length;Ie<Ae;Ie++){const X=B(we[Ie],Q[Ie],fe);M?Ee(X.x,X.y+T[d-1].y,T[d-1].x+ge):Ee(X.x,X.y,h+ge)}}}te(),ee();function te(){const Ce=i.length/3;if(m){let Fe=0,ge=G*Fe;for(let fe=0;fe<ae;fe++){const ve=se[fe];Se(ve[2]+ge,ve[1]+ge,ve[0]+ge)}Fe=d+b*2,ge=G*Fe;for(let fe=0;fe<ae;fe++){const ve=se[fe];Se(ve[0]+ge,ve[1]+ge,ve[2]+ge)}}else{for(let Fe=0;Fe<ae;Fe++){const ge=se[Fe];Se(ge[2],ge[1],ge[0])}for(let Fe=0;Fe<ae;Fe++){const ge=se[Fe];Se(ge[0]+G*d,ge[1]+G*d,ge[2]+G*d)}}r.addGroup(Ce,i.length/3-Ce,0)}function ee(){const Ce=i.length/3;let Fe=0;xe(V,Fe),Fe+=V.length;for(let ge=0,fe=z.length;ge<fe;ge++){const ve=z[ge];xe(ve,Fe),Fe+=ve.length}r.addGroup(Ce,i.length/3-Ce,1)}function xe(Ce,Fe){let ge=Ce.length;for(;--ge>=0;){const fe=ge;let ve=ge-1;ve<0&&(ve=Ce.length-1);for(let be=0,we=d+b*2;be<we;be++){const Ie=G*be,Ae=G*(be+1),X=Fe+fe+Ie,q=Fe+ve+Ie,ye=Fe+ve+Ae,Re=Fe+fe+Ae;ze(X,q,ye,Re)}}}function Ee(Ce,Fe,ge){l.push(Ce),l.push(Fe),l.push(ge)}function Se(Ce,Fe,ge){Ue(Ce),Ue(Fe),Ue(ge);const fe=i.length/3,ve=C.generateTopUV(r,i,fe-3,fe-2,fe-1);re(ve[0]),re(ve[1]),re(ve[2])}function ze(Ce,Fe,ge,fe){Ue(Ce),Ue(Fe),Ue(fe),Ue(Fe),Ue(ge),Ue(fe);const ve=i.length/3,be=C.generateSideWallUV(r,i,ve-6,ve-3,ve-2,ve-1);re(be[0]),re(be[1]),re(be[3]),re(be[1]),re(be[2]),re(be[3])}function Ue(Ce){i.push(l[Ce*3+0]),i.push(l[Ce*3+1]),i.push(l[Ce*3+2])}function re(Ce){a.push(Ce.x),a.push(Ce.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return EAe(t,r,e)}static fromJSON(e,t){const r=[];for(let a=0,o=e.shapes.length;a<o;a++){const s=t[e.shapes[a]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new hC[i.type]().fromJSON(i)),new jw(r,e.options)}}const MAe={generateTopUV:function(n,e,t,r,i){const a=e[t*3],o=e[t*3+1],s=e[r*3],l=e[r*3+1],c=e[i*3],d=e[i*3+1];return[new ot(a,o),new ot(s,l),new ot(c,d)]},generateSideWallUV:function(n,e,t,r,i,a){const o=e[t*3],s=e[t*3+1],l=e[t*3+2],c=e[r*3],d=e[r*3+1],h=e[r*3+2],m=e[i*3],v=e[i*3+1],g=e[i*3+2],x=e[a*3],b=e[a*3+1],_=e[a*3+2];return Math.abs(s-d)<Math.abs(o-c)?[new ot(o,1-l),new ot(c,1-h),new ot(m,1-g),new ot(x,1-_)]:[new ot(s,1-l),new ot(d,1-h),new ot(v,1-g),new ot(b,1-_)]}};function EAe(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const a=n[r];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class $w extends td{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new $w(e.radius,e.detail)}}class Vw extends bn{constructor(e=[new ot(0,-.5),new ot(.5,0),new ot(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=rn(i,0,Math.PI*2);const a=[],o=[],s=[],l=[],c=[],d=1/t,h=new he,m=new ot,v=new he,g=new he,x=new he;let b=0,_=0;for(let C=0;C<=e.length-1;C++)switch(C){case 0:b=e[C+1].x-e[C].x,_=e[C+1].y-e[C].y,v.x=_*1,v.y=-b,v.z=_*0,x.copy(v),v.normalize(),l.push(v.x,v.y,v.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:b=e[C+1].x-e[C].x,_=e[C+1].y-e[C].y,v.x=_*1,v.y=-b,v.z=_*0,g.copy(v),v.x+=x.x,v.y+=x.y,v.z+=x.z,v.normalize(),l.push(v.x,v.y,v.z),x.copy(g)}for(let C=0;C<=t;C++){const T=r+C*d*i,M=Math.sin(T),O=Math.cos(T);for(let I=0;I<=e.length-1;I++){h.x=e[I].x*M,h.y=e[I].y,h.z=e[I].x*O,o.push(h.x,h.y,h.z),m.x=C/t,m.y=I/(e.length-1),s.push(m.x,m.y);const U=l[3*I+0]*M,F=l[3*I+1],L=l[3*I+0]*O;c.push(U,F,L)}}for(let C=0;C<t;C++)for(let T=0;T<e.length-1;T++){const M=T+C*e.length,O=M,I=M+e.length,U=M+e.length+1,F=M+1;a.push(O,I,F),a.push(U,F,I)}this.setIndex(a),this.setAttribute("position",new zt(o,3)),this.setAttribute("uv",new zt(s,2)),this.setAttribute("normal",new zt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vw(e.points,e.segments,e.phiStart,e.phiLength)}}class rb extends td{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new rb(e.radius,e.detail)}}class tg extends bn{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const a=e/2,o=t/2,s=Math.floor(r),l=Math.floor(i),c=s+1,d=l+1,h=e/s,m=t/l,v=[],g=[],x=[],b=[];for(let _=0;_<d;_++){const C=_*m-o;for(let T=0;T<c;T++){const M=T*h-a;g.push(M,-C,0),x.push(0,0,1),b.push(T/s),b.push(1-_/l)}}for(let _=0;_<l;_++)for(let C=0;C<s;C++){const T=C+c*_,M=C+c*(_+1),O=C+1+c*(_+1),I=C+1+c*_;v.push(T,M,I),v.push(M,O,I)}this.setIndex(v),this.setAttribute("position",new zt(g,3)),this.setAttribute("normal",new zt(x,3)),this.setAttribute("uv",new zt(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tg(e.width,e.height,e.widthSegments,e.heightSegments)}}class Gw extends bn{constructor(e=.5,t=1,r=32,i=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:a,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const s=[],l=[],c=[],d=[];let h=e;const m=(t-e)/i,v=new he,g=new ot;for(let x=0;x<=i;x++){for(let b=0;b<=r;b++){const _=a+b/r*o;v.x=h*Math.cos(_),v.y=h*Math.sin(_),l.push(v.x,v.y,v.z),c.push(0,0,1),g.x=(v.x/t+1)/2,g.y=(v.y/t+1)/2,d.push(g.x,g.y)}h+=m}for(let x=0;x<i;x++){const b=x*(r+1);for(let _=0;_<r;_++){const C=_+b,T=C,M=C+r+1,O=C+r+2,I=C+1;s.push(T,M,I),s.push(M,O,I)}}this.setIndex(s),this.setAttribute("position",new zt(l,3)),this.setAttribute("normal",new zt(c,3)),this.setAttribute("uv",new zt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gw(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Ww extends bn{constructor(e=new Lf([new ot(0,.5),new ot(-.5,-.5),new ot(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],a=[],o=[];let s=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let d=0;d<e.length;d++)c(e[d]),this.addGroup(s,l,d),s+=l,l=0;this.setIndex(r),this.setAttribute("position",new zt(i,3)),this.setAttribute("normal",new zt(a,3)),this.setAttribute("uv",new zt(o,2));function c(d){const h=i.length/3,m=d.extractPoints(t);let v=m.shape;const g=m.holes;il.isClockWise(v)===!1&&(v=v.reverse());for(let b=0,_=g.length;b<_;b++){const C=g[b];il.isClockWise(C)===!0&&(g[b]=C.reverse())}const x=il.triangulateShape(v,g);for(let b=0,_=g.length;b<_;b++){const C=g[b];v=v.concat(C)}for(let b=0,_=v.length;b<_;b++){const C=v[b];i.push(C.x,C.y,0),a.push(0,0,1),o.push(C.x,C.y)}for(let b=0,_=x.length;b<_;b++){const C=x[b],T=C[0]+h,M=C[1]+h,O=C[2]+h;r.push(T,M,O),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return AAe(t,e)}static fromJSON(e,t){const r=[];for(let i=0,a=e.shapes.length;i<a;i++){const o=t[e.shapes[i]];r.push(o)}return new Ww(r,e.curveSegments)}}function AAe(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class ib extends bn{constructor(e=1,t=32,r=16,i=0,a=Math.PI*2,o=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:a,thetaStart:o,thetaLength:s},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+s,Math.PI);let c=0;const d=[],h=new he,m=new he,v=[],g=[],x=[],b=[];for(let _=0;_<=r;_++){const C=[],T=_/r;let M=0;_===0&&o===0?M=.5/t:_===r&&l===Math.PI&&(M=-.5/t);for(let O=0;O<=t;O++){const I=O/t;h.x=-e*Math.cos(i+I*a)*Math.sin(o+T*s),h.y=e*Math.cos(o+T*s),h.z=e*Math.sin(i+I*a)*Math.sin(o+T*s),g.push(h.x,h.y,h.z),m.copy(h).normalize(),x.push(m.x,m.y,m.z),b.push(I+M,1-T),C.push(c++)}d.push(C)}for(let _=0;_<r;_++)for(let C=0;C<t;C++){const T=d[_][C+1],M=d[_][C],O=d[_+1][C],I=d[_+1][C+1];(_!==0||o>0)&&v.push(T,M,I),(_!==r-1||l<Math.PI)&&v.push(M,O,I)}this.setIndex(v),this.setAttribute("position",new zt(g,3)),this.setAttribute("normal",new zt(x,3)),this.setAttribute("uv",new zt(b,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ib(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class qw extends td{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new qw(e.radius,e.detail)}}class Xw extends bn{constructor(e=1,t=.4,r=12,i=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:a},r=Math.floor(r),i=Math.floor(i);const o=[],s=[],l=[],c=[],d=new he,h=new he,m=new he;for(let v=0;v<=r;v++)for(let g=0;g<=i;g++){const x=g/i*a,b=v/r*Math.PI*2;h.x=(e+t*Math.cos(b))*Math.cos(x),h.y=(e+t*Math.cos(b))*Math.sin(x),h.z=t*Math.sin(b),s.push(h.x,h.y,h.z),d.x=e*Math.cos(x),d.y=e*Math.sin(x),m.subVectors(h,d).normalize(),l.push(m.x,m.y,m.z),c.push(g/i),c.push(v/r)}for(let v=1;v<=r;v++)for(let g=1;g<=i;g++){const x=(i+1)*v+g-1,b=(i+1)*(v-1)+g-1,_=(i+1)*(v-1)+g,C=(i+1)*v+g;o.push(x,b,C),o.push(b,_,C)}this.setIndex(o),this.setAttribute("position",new zt(s,3)),this.setAttribute("normal",new zt(l,3)),this.setAttribute("uv",new zt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xw(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Yw extends bn{constructor(e=1,t=.4,r=64,i=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:a,q:o},r=Math.floor(r),i=Math.floor(i);const s=[],l=[],c=[],d=[],h=new he,m=new he,v=new he,g=new he,x=new he,b=new he,_=new he;for(let T=0;T<=r;++T){const M=T/r*a*Math.PI*2;C(M,a,o,e,v),C(M+.01,a,o,e,g),b.subVectors(g,v),_.addVectors(g,v),x.crossVectors(b,_),_.crossVectors(x,b),x.normalize(),_.normalize();for(let O=0;O<=i;++O){const I=O/i*Math.PI*2,U=-t*Math.cos(I),F=t*Math.sin(I);h.x=v.x+(U*_.x+F*x.x),h.y=v.y+(U*_.y+F*x.y),h.z=v.z+(U*_.z+F*x.z),l.push(h.x,h.y,h.z),m.subVectors(h,v).normalize(),c.push(m.x,m.y,m.z),d.push(T/r),d.push(O/i)}}for(let T=1;T<=r;T++)for(let M=1;M<=i;M++){const O=(i+1)*(T-1)+(M-1),I=(i+1)*T+(M-1),U=(i+1)*T+M,F=(i+1)*(T-1)+M;s.push(O,I,F),s.push(I,U,F)}this.setIndex(s),this.setAttribute("position",new zt(l,3)),this.setAttribute("normal",new zt(c,3)),this.setAttribute("uv",new zt(d,2));function C(T,M,O,I,U){const F=Math.cos(T),L=Math.sin(T),D=O/M*T,z=Math.cos(D);U.x=I*(2+z)*.5*F,U.y=I*(2+z)*L*.5,U.z=I*Math.sin(D)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yw(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Kw extends bn{constructor(e=new b2(new he(-1,-1,0),new he(-1,1,0),new he(1,1,0)),t=64,r=1,i=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:a};const o=e.computeFrenetFrames(t,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const s=new he,l=new he,c=new ot;let d=new he;const h=[],m=[],v=[],g=[];x(),this.setIndex(g),this.setAttribute("position",new zt(h,3)),this.setAttribute("normal",new zt(m,3)),this.setAttribute("uv",new zt(v,2));function x(){for(let T=0;T<t;T++)b(T);b(a===!1?t:0),C(),_()}function b(T){d=e.getPointAt(T/t,d);const M=o.normals[T],O=o.binormals[T];for(let I=0;I<=i;I++){const U=I/i*Math.PI*2,F=Math.sin(U),L=-Math.cos(U);l.x=L*M.x+F*O.x,l.y=L*M.y+F*O.y,l.z=L*M.z+F*O.z,l.normalize(),m.push(l.x,l.y,l.z),s.x=d.x+r*l.x,s.y=d.y+r*l.y,s.z=d.z+r*l.z,h.push(s.x,s.y,s.z)}}function _(){for(let T=1;T<=t;T++)for(let M=1;M<=i;M++){const O=(i+1)*(T-1)+(M-1),I=(i+1)*T+(M-1),U=(i+1)*T+M,F=(i+1)*(T-1)+M;g.push(O,I,F),g.push(I,U,F)}}function C(){for(let T=0;T<=t;T++)for(let M=0;M<=i;M++)c.x=T/t,c.y=M/i,v.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Kw(new hC[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class TH extends bn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new he,a=new he;if(e.index!==null){const o=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let c=0,d=l.length;c<d;++c){const h=l[c],m=h.start,v=h.count;for(let g=m,x=m+v;g<x;g+=3)for(let b=0;b<3;b++){const _=s.getX(g+b),C=s.getX(g+(b+1)%3);i.fromBufferAttribute(o,_),a.fromBufferAttribute(o,C),ZL(i,a,r)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}}else{const o=e.attributes.position;for(let s=0,l=o.count/3;s<l;s++)for(let c=0;c<3;c++){const d=3*s+c,h=3*s+(c+1)%3;i.fromBufferAttribute(o,d),a.fromBufferAttribute(o,h),ZL(i,a,r)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new zt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function ZL(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var JL=Object.freeze({__proto__:null,BoxGeometry:sh,CapsuleGeometry:Bw,CircleGeometry:zw,ConeGeometry:nb,CylinderGeometry:tb,DodecahedronGeometry:Hw,EdgesGeometry:mH,ExtrudeGeometry:jw,IcosahedronGeometry:$w,LatheGeometry:Vw,OctahedronGeometry:rb,PlaneGeometry:tg,PolyhedronGeometry:td,RingGeometry:Gw,ShapeGeometry:Ww,SphereGeometry:ib,TetrahedronGeometry:qw,TorusGeometry:Xw,TorusKnotGeometry:Yw,TubeGeometry:Kw,WireframeGeometry:TH});class MH extends Fa{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new It(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class EH extends al{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class _2 extends Fa{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new It(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new It(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qu,this.normalScale=new ot(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new es,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class AH extends _2{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ot(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return rn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new It(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new It(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new It(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class RH extends Fa{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new It(16777215),this.specular=new It(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new It(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qu,this.normalScale=new ot(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new es,this.combine=Jy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class PH extends Fa{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new It(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new It(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qu,this.normalScale=new ot(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class OH extends Fa{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qu,this.normalScale=new ot(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class FH extends Fa{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new It(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new It(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qu,this.normalScale=new ot(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new es,this.combine=Jy,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class S2 extends Fa{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=j5,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class C2 extends Fa{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class IH extends Fa{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new It(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qu,this.normalScale=new ot(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class DH extends Ya{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Af(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function LH(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function NH(n){function e(i,a){return n[i]-n[a]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function CR(n,e,t){const r=n.length,i=new n.constructor(r);for(let a=0,o=0;o!==r;++a){const s=t[a]*e;for(let l=0;l!==e;++l)i[o++]=n[s+l]}return i}function w2(n,e,t,r){let i=1,a=n[0];for(;a!==void 0&&a[r]===void 0;)a=n[i++];if(a===void 0)return;let o=a[r];if(o!==void 0)if(Array.isArray(o))do o=a[r],o!==void 0&&(e.push(a.time),t.push(...o)),a=n[i++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[r],o!==void 0&&(e.push(a.time),o.toArray(t,t.length)),a=n[i++];while(a!==void 0);else do o=a[r],o!==void 0&&(e.push(a.time),t.push(o)),a=n[i++];while(a!==void 0)}function RAe(n,e,t,r,i=30){const a=n.clone();a.name=e;const o=[];for(let l=0;l<a.tracks.length;++l){const c=a.tracks[l],d=c.getValueSize(),h=[],m=[];for(let v=0;v<c.times.length;++v){const g=c.times[v]*i;if(!(g<t||g>=r)){h.push(c.times[v]);for(let x=0;x<d;++x)m.push(c.values[v*d+x])}}h.length!==0&&(c.times=Af(h,c.times.constructor),c.values=Af(m,c.values.constructor),o.push(c))}a.tracks=o;let s=1/0;for(let l=0;l<a.tracks.length;++l)s>a.tracks[l].times[0]&&(s=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*s);return a.resetDuration(),a}function PAe(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,a=e/r;for(let o=0;o<i;++o){const s=t.tracks[o],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(_){return _.name===s.name&&_.ValueTypeName===l});if(c===void 0)continue;let d=0;const h=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=h/3);let m=0;const v=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=v/3);const g=s.times.length-1;let x;if(a<=s.times[0]){const _=d,C=h-d;x=s.values.slice(_,C)}else if(a>=s.times[g]){const _=g*h+d,C=_+h-d;x=s.values.slice(_,C)}else{const _=s.createInterpolant(),C=d,T=h-d;_.evaluate(a),x=_.resultBuffer.slice(C,T)}l==="quaternion"&&new ki().fromArray(x).normalize().conjugate().toArray(x);const b=c.times.length;for(let _=0;_<b;++_){const C=_*v+m;if(l==="quaternion")ki.multiplyQuaternionsFlat(c.values,C,x,0,c.values,C);else{const T=v-m*2;for(let M=0;M<T;++M)c.values[C+M]-=x[M]}}}return n.blendMode=r2,n}class OAe{static convertArray(e,t){return Af(e,t)}static isTypedArray(e){return LH(e)}static getKeyframeOrder(e){return NH(e)}static sortedArray(e,t,r){return CR(e,t,r)}static flattenJSON(e,t,r,i){w2(e,t,r,i)}static subclip(e,t,r,i,a=30){return RAe(e,t,r,i,a)}static makeClipAdditive(e,t=0,r=e,i=30){return PAe(e,t,r,i)}}class ab{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],a=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let s=r+2;;){if(i===void 0){if(e<a)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(a=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=a)){const s=t[1];e<s&&(r=2,a=s);for(let l=r-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=a,a=t[--r-1],e>=a)break t}o=r,r=0;break n}break e}for(;r<o;){const s=r+o>>>1;e<t[s]?o=s:r=s+1}if(i=t[r],a=t[r-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,a,i)}return this.interpolate_(r,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,a=e*i;for(let o=0;o!==i;++o)t[o]=r[a+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class UH extends ab{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Mf,endingEnd:Mf}}intervalChanged_(e,t,r){const i=this.parameterPositions;let a=e-2,o=e+1,s=i[a],l=i[o];if(s===void 0)switch(this.getSettings_().endingStart){case Ef:a=e,s=2*t-r;break;case ny:a=i.length-2,s=t+i[a]-i[a+1];break;default:a=e,s=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Ef:o=e,l=2*r-t;break;case ny:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,d=this.valueSize;this._weightPrev=c/(t-s),this._weightNext=c/(l-r),this._offsetPrev=a*d,this._offsetNext=o*d}interpolate_(e,t,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,d=this._offsetPrev,h=this._offsetNext,m=this._weightPrev,v=this._weightNext,g=(r-t)/(i-t),x=g*g,b=x*g,_=-m*b+2*m*x-m*g,C=(1+m)*b+(-1.5-2*m)*x+(-.5+m)*g+1,T=(-1-v)*b+(1.5+v)*x+.5*g,M=v*b-v*x;for(let O=0;O!==s;++O)a[O]=_*o[d+O]+C*o[c+O]+T*o[l+O]+M*o[h+O];return a}}class T2 extends ab{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,c=l-s,d=(r-t)/(i-t),h=1-d;for(let m=0;m!==s;++m)a[m]=o[c+m]*h+o[l+m]*d;return a}}class BH extends ab{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Es{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Af(t,this.TimeBufferType),this.values=Af(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Af(e.times,Array),values:Af(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new BH(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new T2(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new UH(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case ty:t=this.InterpolantFactoryMethodDiscrete;break;case uC:t=this.InterpolantFactoryMethodLinear;break;case hS:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ty;case this.InterpolantFactoryMethodLinear:return uC;case this.InterpolantFactoryMethodSmooth:return hS}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let a=0,o=i-1;for(;a!==i&&r[a]<e;)++a;for(;o!==-1&&r[o]>t;)--o;if(++o,a!==0||o!==i){a>=o&&(o=Math.max(o,1),a=o-1);const s=this.getValueSize();this.times=r.slice(a,o),this.values=this.values.slice(a*s,o*s)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,a=r.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let s=0;s!==a;s++){const l=r[s];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,l,o),e=!1;break}o=l}if(i!==void 0&&LH(i))for(let s=0,l=i.length;s!==l;++s){const c=i[s];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===hS,a=e.length-1;let o=1;for(let s=1;s<a;++s){let l=!1;const c=e[s],d=e[s+1];if(c!==d&&(s!==1||c!==e[0]))if(i)l=!0;else{const h=s*r,m=h-r,v=h+r;for(let g=0;g!==r;++g){const x=t[h+g];if(x!==t[m+g]||x!==t[v+g]){l=!0;break}}}if(l){if(s!==o){e[o]=e[s];const h=s*r,m=o*r;for(let v=0;v!==r;++v)t[m+v]=t[h+v]}++o}}if(a>0){e[o]=e[a];for(let s=a*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[s+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Es.prototype.ValueTypeName="";Es.prototype.TimeBufferType=Float32Array;Es.prototype.ValueBufferType=Float32Array;Es.prototype.DefaultInterpolation=uC;class lh extends Es{constructor(e,t,r){super(e,t,r)}}lh.prototype.ValueTypeName="bool";lh.prototype.ValueBufferType=Array;lh.prototype.DefaultInterpolation=ty;lh.prototype.InterpolantFactoryMethodLinear=void 0;lh.prototype.InterpolantFactoryMethodSmooth=void 0;class M2 extends Es{constructor(e,t,r,i){super(e,t,r,i)}}M2.prototype.ValueTypeName="color";class uy extends Es{constructor(e,t,r,i){super(e,t,r,i)}}uy.prototype.ValueTypeName="number";class zH extends ab{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=(r-t)/(i-t);let c=e*s;for(let d=c+s;c!==d;c+=4)ki.slerpFlat(a,0,o,c-s,o,c,l);return a}}class ob extends Es{constructor(e,t,r,i){super(e,t,r,i)}InterpolantFactoryMethodLinear(e){return new zH(this.times,this.values,this.getValueSize(),e)}}ob.prototype.ValueTypeName="quaternion";ob.prototype.InterpolantFactoryMethodSmooth=void 0;class ch extends Es{constructor(e,t,r){super(e,t,r)}}ch.prototype.ValueTypeName="string";ch.prototype.ValueBufferType=Array;ch.prototype.DefaultInterpolation=ty;ch.prototype.InterpolantFactoryMethodLinear=void 0;ch.prototype.InterpolantFactoryMethodSmooth=void 0;class dy extends Es{constructor(e,t,r,i){super(e,t,r,i)}}dy.prototype.ValueTypeName="vector";class fy{constructor(e="",t=-1,r=[],i=Aw){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=Jo(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,s=r.length;o!==s;++o)t.push(IAe(r[o]).scale(i));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a.userData=JSON.parse(e.userData||"{}"),a}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let a=0,o=r.length;a!==o;++a)t.push(Es.toJSON(r[a]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const a=t.length,o=[];for(let s=0;s<a;s++){let l=[],c=[];l.push((s+a-1)%a,s,(s+1)%a),c.push(0,1,0);const d=NH(l);l=CR(l,1,d),c=CR(c,1,d),!i&&l[0]===0&&(l.push(a),c.push(c[0])),o.push(new uy(".morphTargetInfluences["+t[s].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},a=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){const c=e[s],d=c.name.match(a);if(d&&d.length>1){const h=d[1];let m=i[h];m||(i[h]=m=[]),m.push(c)}}const o=[];for(const s in i)o.push(this.CreateFromMorphTargetSequence(s,i[s],t,r));return o}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(h,m,v,g,x){if(v.length!==0){const b=[],_=[];w2(v,b,_,g),b.length!==0&&x.push(new h(m,b,_))}},i=[],a=e.name||"default",o=e.fps||30,s=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let h=0;h<c.length;h++){const m=c[h].keys;if(!(!m||m.length===0))if(m[0].morphTargets){const v={};let g;for(g=0;g<m.length;g++)if(m[g].morphTargets)for(let x=0;x<m[g].morphTargets.length;x++)v[m[g].morphTargets[x]]=-1;for(const x in v){const b=[],_=[];for(let C=0;C!==m[g].morphTargets.length;++C){const T=m[g];b.push(T.time),_.push(T.morphTarget===x?1:0)}i.push(new uy(".morphTargetInfluence["+x+"]",b,_))}l=v.length*o}else{const v=".bones["+t[h].name+"]";r(dy,v+".position",m,"pos",i),r(ob,v+".quaternion",m,"rot",i),r(dy,v+".scale",m,"scl",i)}}return i.length===0?null:new this(a,l,i,s)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const a=this.tracks[r];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function FAe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return uy;case"vector":case"vector2":case"vector3":case"vector4":return dy;case"color":return M2;case"quaternion":return ob;case"bool":case"boolean":return lh;case"string":return ch}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function IAe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=FAe(n.type);if(n.times===void 0){const t=[],r=[];w2(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Bl={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class E2{constructor(e,t,r){const i=this;let a=!1,o=0,s=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.abortController=new AbortController,this.itemStart=function(d){s++,a===!1&&i.onStart!==void 0&&i.onStart(d,o,s),a=!0},this.itemEnd=function(d){o++,i.onProgress!==void 0&&i.onProgress(d,o,s),o===s&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(d){i.onError!==void 0&&i.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,h){return c.push(d,h),this},this.removeHandler=function(d){const h=c.indexOf(d);return h!==-1&&c.splice(h,2),this},this.getHandler=function(d){for(let h=0,m=c.length;h<m;h+=2){const v=c[h],g=c[h+1];if(v.global&&(v.lastIndex=0),v.test(d))return g}return null},this.abort=function(){return this.abortController.abort(),this.abortController=new AbortController,this}}}const HH=new E2;class Co{constructor(e){this.manager=e!==void 0?e:HH,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,a){r.load(e,i,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Co.DEFAULT_MATERIAL_NAME="__DEFAULT";const Dc={};class DAe extends Error{constructor(e,t){super(e),this.response=t}}class Qc extends Co{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Bl.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(Dc[e]!==void 0){Dc[e].push({onLoad:t,onProgress:r,onError:i});return}Dc[e]=[],Dc[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),s=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream=="undefined"||c.body===void 0||c.body.getReader===void 0)return c;const d=Dc[e],h=c.body.getReader(),m=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),v=m?parseInt(m):0,g=v!==0;let x=0;const b=new ReadableStream({start(_){C();function C(){h.read().then(({done:T,value:M})=>{if(T)_.close();else{x+=M.byteLength;const O=new ProgressEvent("progress",{lengthComputable:g,loaded:x,total:v});for(let I=0,U=d.length;I<U;I++){const F=d[I];F.onProgress&&F.onProgress(O)}_.enqueue(M),C()}},T=>{_.error(T)})}}});return new Response(b)}else throw new DAe(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>new DOMParser().parseFromString(d,s));case"json":return c.json();default:if(s==="")return c.text();{const h=/charset="?([^;"\s]*)"?/i.exec(s),m=h&&h[1]?h[1].toLowerCase():void 0,v=new TextDecoder(m);return c.arrayBuffer().then(g=>v.decode(g))}}}).then(c=>{Bl.add(`file:${e}`,c);const d=Dc[e];delete Dc[e];for(let h=0,m=d.length;h<m;h++){const v=d[h];v.onLoad&&v.onLoad(c)}}).catch(c=>{const d=Dc[e];if(d===void 0)throw this.manager.itemError(e),c;delete Dc[e];for(let h=0,m=d.length;h<m;h++){const v=d[h];v.onError&&v.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class LAe extends Co{constructor(e){super(e)}load(e,t,r,i){const a=this,o=new Qc(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(s){try{t(a.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=fy.parse(e[r]);t.push(i)}return t}}class NAe extends Co{constructor(e){super(e)}load(e,t,r,i){const a=this,o=[],s=new Uw,l=new Qc(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let c=0;function d(h){l.load(e[h],function(m){const v=a.parse(m,!0);o[h]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},c+=1,c===6&&(v.mipmapCount===1&&(s.minFilter=Hi),s.image=o,s.format=v.format,s.needsUpdate=!0,t&&t(s))},r,i)}if(Array.isArray(e))for(let h=0,m=e.length;h<m;++h)d(h);else l.load(e,function(h){const m=a.parse(h,!0);if(m.isCubemap){const v=m.mipmaps.length/m.mipmapCount;for(let g=0;g<v;g++){o[g]={mipmaps:[]};for(let x=0;x<m.mipmapCount;x++)o[g].mipmaps.push(m.mipmaps[g*m.mipmapCount+x]),o[g].format=m.format,o[g].width=m.width,o[g].height=m.height}s.image=o}else s.image.width=m.width,s.image.height=m.height,s.mipmaps=m.mipmaps;m.mipmapCount===1&&(s.minFilter=Hi),s.format=m.format,s.needsUpdate=!0,t&&t(s)},r,i);return s}}const Up=new WeakMap;class hy extends Co{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=Bl.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)a.manager.itemStart(e),setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0);else{let h=Up.get(o);h===void 0&&(h=[],Up.set(o,h)),h.push({onLoad:t,onError:i})}return o}const s=ay("img");function l(){d(),t&&t(this);const h=Up.get(this)||[];for(let m=0;m<h.length;m++){const v=h[m];v.onLoad&&v.onLoad(this)}Up.delete(this),a.manager.itemEnd(e)}function c(h){d(),i&&i(h),Bl.remove(`image:${e}`);const m=Up.get(this)||[];for(let v=0;v<m.length;v++){const g=m[v];g.onError&&g.onError(h)}Up.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function d(){s.removeEventListener("load",l,!1),s.removeEventListener("error",c,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),Bl.add(`image:${e}`,s),a.manager.itemStart(e),s.src=e,s}}class UAe extends Co{constructor(e){super(e)}load(e,t,r,i){const a=new eb;a.colorSpace=wa;const o=new hy(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function l(c){o.load(e[c],function(d){a.images[c]=d,s++,s===6&&(a.needsUpdate=!0,t&&t(a))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return a}}class BAe extends Co{constructor(e){super(e)}load(e,t,r,i){const a=this,o=new kl,s=new Qc(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(a.withCredentials),s.load(e,function(l){let c;try{c=a.parse(l)}catch(d){if(i!==void 0)i(d);else{console.error(d);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Ss,o.wrapT=c.wrapT!==void 0?c.wrapT:Ss,o.magFilter=c.magFilter!==void 0?c.magFilter:Hi,o.minFilter=c.minFilter!==void 0?c.minFilter:Hi,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(o.colorSpace=c.colorSpace),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Ul),c.mipmapCount===1&&(o.minFilter=Hi),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c)},r,i),o}}class zAe extends Co{constructor(e){super(e)}load(e,t,r,i){const a=new ni,o=new hy(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(s){a.image=s,a.needsUpdate=!0,t!==void 0&&t(a)},r,i),a}}class nd extends nr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new It(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class kH extends nd{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(nr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new It(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const TE=new on,QL=new he,eN=new he;class A2{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ot(512,512),this.mapType=ws,this.map=null,this.mapPass=null,this.matrix=new on,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new eg,this._frameExtents=new ot(1,1),this._viewportCount=1,this._viewports=[new tr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;QL.setFromMatrixPosition(e.matrixWorld),t.position.copy(QL),eN.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(eN),t.updateMatrixWorld(),TE.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(TE,t.coordinateSystem,t.reversedDepth),t.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(TE)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class HAe extends A2{constructor(){super(new mi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,r=Am*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||t.far;(r!==t.fov||i!==t.aspect||a!==t.far)&&(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class jH extends nd{constructor(e,t,r=0,i=Math.PI/3,a=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(nr.DEFAULT_UP),this.updateMatrix(),this.target=new nr,this.distance=r,this.angle=i,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new HAe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const tN=new on,Jv=new he,ME=new he;class kAe extends A2{constructor(){super(new mi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ot(4,2),this._viewportCount=6,this._viewports=[new tr(2,1,1,1),new tr(0,1,1,1),new tr(3,1,1,1),new tr(1,1,1,1),new tr(3,0,1,1),new tr(1,0,1,1)],this._cubeDirections=[new he(1,0,0),new he(-1,0,0),new he(0,0,1),new he(0,0,-1),new he(0,1,0),new he(0,-1,0)],this._cubeUps=[new he(0,1,0),new he(0,1,0),new he(0,1,0),new he(0,1,0),new he(0,0,1),new he(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,a=e.distance||r.far;a!==r.far&&(r.far=a,r.updateProjectionMatrix()),Jv.setFromMatrixPosition(e.matrixWorld),r.position.copy(Jv),ME.copy(r.position),ME.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(ME),r.updateMatrixWorld(),i.makeTranslation(-Jv.x,-Jv.y,-Jv.z),tN.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(tN,r.coordinateSystem,r.reversedDepth)}}class $H extends nd{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new kAe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Hu extends Ow{constructor(e=-1,t=1,r=1,i=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=r-e,o=r+e,s=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=c*this.view.offsetX,o=a+c*this.view.width,s-=d*this.view.offsetY,l=s-d*this.view.height}this.projectionMatrix.makeOrthographic(a,o,s,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class jAe extends A2{constructor(){super(new Hu(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class VH extends nd{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(nr.DEFAULT_UP),this.updateMatrix(),this.target=new nr,this.shadow=new jAe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class GH extends nd{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class WH extends nd{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class qH{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new he)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*a),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*a)),t.addScaledVector(o[6],.315392*(3*a*a-1)),t.addScaledVector(o[7],1.092548*(r*a)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,a=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*a),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*a),t.addScaledVector(o[6],.743125*a*a-.247708),t.addScaledVector(o[7],2*.429043*r*a),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,a=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*a,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*r*a,t[8]=.546274*(r*r-i*i)}}class XH extends nd{constructor(e=new qH,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Zw extends Co{constructor(e){super(e),this.textures={}}load(e,t,r,i){const a=this,o=new Qc(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{t(a.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(a){return t[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),t[a]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new It().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const o=e.uniforms[a];switch(i.uniforms[a]={},o.type){case"t":i.uniforms[a].value=r(o.value);break;case"c":i.uniforms[a].value=new It().setHex(o.value);break;case"v2":i.uniforms[a].value=new ot().fromArray(o.value);break;case"v3":i.uniforms[a].value=new he().fromArray(o.value);break;case"v4":i.uniforms[a].value=new tr().fromArray(o.value);break;case"m3":i.uniforms[a].value=new fn().fromArray(o.value);break;case"m4":i.uniforms[a].value=new on().fromArray(o.value);break;default:i.uniforms[a].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)i.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new ot().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new ot().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return Zw.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:MH,SpriteMaterial:u2,RawShaderMaterial:EH,ShaderMaterial:al,PointsMaterial:f2,MeshPhysicalMaterial:AH,MeshStandardMaterial:_2,MeshPhongMaterial:RH,MeshToonMaterial:PH,MeshNormalMaterial:OH,MeshLambertMaterial:FH,MeshDepthMaterial:S2,MeshDistanceMaterial:C2,MeshBasicMaterial:ed,MeshMatcapMaterial:IH,LineDashedMaterial:DH,LineBasicMaterial:Ya,Material:Fa};return new t[e]}}class wR{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class YH extends bn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class KH extends Co{constructor(e){super(e)}load(e,t,r,i){const a=this,o=new Qc(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{t(a.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(v,g){if(t[g]!==void 0)return t[g];const b=v.interleavedBuffers[g],_=a(v,b.buffer),C=Kp(b.type,_),T=new Dw(C,b.stride);return T.uuid=b.uuid,t[g]=T,T}function a(v,g){if(r[g]!==void 0)return r[g];const b=v.arrayBuffers[g],_=new Uint32Array(b).buffer;return r[g]=_,_}const o=e.isInstancedBufferGeometry?new YH:new bn,s=e.data.index;if(s!==void 0){const v=Kp(s.type,s.array);o.setIndex(new Er(v,1))}const l=e.data.attributes;for(const v in l){const g=l[v];let x;if(g.isInterleavedBufferAttribute){const b=i(e.data,g.data);x=new qf(b,g.itemSize,g.offset,g.normalized)}else{const b=Kp(g.type,g.array),_=g.isInstancedBufferAttribute?Om:Er;x=new _(b,g.itemSize,g.normalized)}g.name!==void 0&&(x.name=g.name),g.usage!==void 0&&x.setUsage(g.usage),o.setAttribute(v,x)}const c=e.data.morphAttributes;if(c)for(const v in c){const g=c[v],x=[];for(let b=0,_=g.length;b<_;b++){const C=g[b];let T;if(C.isInterleavedBufferAttribute){const M=i(e.data,C.data);T=new qf(M,C.itemSize,C.offset,C.normalized)}else{const M=Kp(C.type,C.array);T=new Er(M,C.itemSize,C.normalized)}C.name!==void 0&&(T.name=C.name),x.push(T)}o.morphAttributes[v]=x}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const h=e.data.groups||e.data.drawcalls||e.data.offsets;if(h!==void 0)for(let v=0,g=h.length;v!==g;++v){const x=h[v];o.addGroup(x.start,x.count,x.materialIndex)}const m=e.data.boundingSphere;return m!==void 0&&(o.boundingSphere=new pa().fromJSON(m)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class $Ae extends Co{constructor(e){super(e)}load(e,t,r,i){const a=this,o=this.path===""?wR.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const s=new Qc(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(h){i!==void 0&&i(h),console.error("THREE:ObjectLoader: Can't parse "+e+".",h.message);return}const d=c.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(c,t)},r,i)}loadAsync(e,t){return Bt(this,null,function*(){const r=this,i=this.path===""?wR.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const a=new Qc(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=yield a.loadAsync(e,t),s=JSON.parse(o),l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return yield r.parseAsync(s)})}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),s=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,s),c=this.parseObject(e.object,a,l,s,r),d=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,d),this.bindLightTargets(c),t!==void 0){let h=!1;for(const m in o)if(o[m].data instanceof HTMLImageElement){h=!0;break}h===!1&&t(c)}return c}parseAsync(e){return Bt(this,null,function*(){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=yield this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,s,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l})}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const a=new Lf().fromJSON(e[r]);t[a.uuid]=a}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,o=e.length;a<o;a++){const s=new Lw().fromJSON(e[a],i);r[s.uuid]=s}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new KH;for(let a=0,o=e.length;a<o;a++){let s;const l=e[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;default:l.type in JL?s=JL[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),l.userData!==void 0&&(s.userData=l.userData),r[l.uuid]=s}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const a=new Zw;a.setTextures(t);for(let o=0,s=e.length;o<s;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=a.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],a=fy.parse(i);t[a.uuid]=a}return t}parseImages(e,t){const r=this,i={};let a;function o(l){return r.manager.itemStart(l),a.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const c=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(d)}else return l.data?{data:Kp(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new E2(t);a=new hy(l),a.setCrossOrigin(this.crossOrigin);for(let c=0,d=e.length;c<d;c++){const h=e[c],m=h.url;if(Array.isArray(m)){const v=[];for(let g=0,x=m.length;g<x;g++){const b=m[g],_=s(b);_!==null&&(_ instanceof HTMLImageElement?v.push(_):v.push(new kl(_.data,_.width,_.height)))}i[h.uuid]=new zu(v)}else{const v=s(h.url);i[h.uuid]=new zu(v)}}}return i}parseImagesAsync(e){return Bt(this,null,function*(){const t=this,r={};let i;function a(o){return Bt(this,null,function*(){if(typeof o=="string"){const s=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:t.resourcePath+s;return yield i.loadAsync(l)}else return o.data?{data:Kp(o.type,o.data),width:o.width,height:o.height}:null})}if(e!==void 0&&e.length>0){i=new hy(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,s=e.length;o<s;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const d=[];for(let h=0,m=c.length;h<m;h++){const v=c[h],g=yield a(v);g!==null&&(g instanceof HTMLImageElement?d.push(g):d.push(new kl(g.data,g.width,g.height)))}r[l.uuid]=new zu(d)}else{const d=yield a(l.url);r[l.uuid]=new zu(d)}}}return r})}parseTextures(e,t){function r(a,o){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const i={};if(e!==void 0)for(let a=0,o=e.length;a<o;a++){const s=e[a];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),t[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const l=t[s.image],c=l.data;let d;Array.isArray(c)?(d=new eb,c.length===6&&(d.needsUpdate=!0)):(c&&c.data?d=new kl:d=new ni,c&&(d.needsUpdate=!0)),d.source=l,d.uuid=s.uuid,s.name!==void 0&&(d.name=s.name),s.mapping!==void 0&&(d.mapping=r(s.mapping,VAe)),s.channel!==void 0&&(d.channel=s.channel),s.offset!==void 0&&d.offset.fromArray(s.offset),s.repeat!==void 0&&d.repeat.fromArray(s.repeat),s.center!==void 0&&d.center.fromArray(s.center),s.rotation!==void 0&&(d.rotation=s.rotation),s.wrap!==void 0&&(d.wrapS=r(s.wrap[0],nN),d.wrapT=r(s.wrap[1],nN)),s.format!==void 0&&(d.format=s.format),s.internalFormat!==void 0&&(d.internalFormat=s.internalFormat),s.type!==void 0&&(d.type=s.type),s.colorSpace!==void 0&&(d.colorSpace=s.colorSpace),s.minFilter!==void 0&&(d.minFilter=r(s.minFilter,rN)),s.magFilter!==void 0&&(d.magFilter=r(s.magFilter,rN)),s.anisotropy!==void 0&&(d.anisotropy=s.anisotropy),s.flipY!==void 0&&(d.flipY=s.flipY),s.generateMipmaps!==void 0&&(d.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(d.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(d.compareFunction=s.compareFunction),s.userData!==void 0&&(d.userData=s.userData),i[s.uuid]=d}return i}parseObject(e,t,r,i,a){let o;function s(m){return t[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",m),t[m]}function l(m){if(m!==void 0){if(Array.isArray(m)){const v=[];for(let g=0,x=m.length;g<x;g++){const b=m[g];r[b]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",b),v.push(r[b])}return v}return r[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",m),r[m]}}function c(m){return i[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",m),i[m]}let d,h;switch(e.type){case"Scene":o=new c2,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new It(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Iw(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Fw(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new mi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Hu(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new GH(e.color,e.intensity);break;case"DirectionalLight":o=new VH(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new $H(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new WH(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new jH(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new kH(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new XH().fromJSON(e);break;case"SkinnedMesh":d=s(e.geometry),h=l(e.material),o=new cH(d,h),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=s(e.geometry),h=l(e.material),o=new Ri(d,h);break;case"InstancedMesh":d=s(e.geometry),h=l(e.material);const m=e.count,v=e.instanceMatrix,g=e.instanceColor;o=new uH(d,h,m),o.instanceMatrix=new Om(new Float32Array(v.array),16),g!==void 0&&(o.instanceColor=new Om(new Float32Array(g.array),g.itemSize));break;case"BatchedMesh":d=s(e.geometry),h=l(e.material),o=new dH(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,h),o.geometry=d,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(x=>{let b=null,_=null;return x.boundingBox!==void 0&&(b=new Aa().fromJSON(x.boundingBox)),x.boundingSphere!==void 0&&(_=new pa().fromJSON(x.boundingSphere)),mn(qe({},x),{boundingBox:b,boundingSphere:_})}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=c(e.matricesTexture.uuid),o._indirectTexture=c(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=c(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new pa().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new Aa().fromJSON(e.boundingBox));break;case"LOD":o=new lH;break;case"Line":o=new Wu(s(e.geometry),l(e.material));break;case"LineLoop":o=new fH(s(e.geometry),l(e.material));break;case"LineSegments":o=new Xl(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new hH(s(e.geometry),l(e.material));break;case"Sprite":o=new sH(l(e.material));break;case"Group":o=new Zp;break;case"Bone":o=new d2;break;default:o=new nr}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const m=e.children;for(let v=0;v<m.length;v++)o.add(this.parseObject(m[v],t,r,i,a))}if(e.animations!==void 0){const m=e.animations;for(let v=0;v<m.length;v++){const g=m[v];o.animations.push(a[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const m=e.levels;for(let v=0;v<m.length;v++){const g=m[v],x=o.getObjectByProperty("uuid",g.object);x!==void 0&&o.addLevel(x,g.distance,g.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const r=t.target,i=e.getObjectByProperty("uuid",r);i!==void 0?t.target=i:t.target=new nr}})}}const VAe={UVMapping:_w,CubeReflectionMapping:Zc,CubeRefractionMapping:Vu,EquirectangularReflectionMapping:Z0,EquirectangularRefractionMapping:J0,CubeUVReflectionMapping:Jm},nN={RepeatWrapping:Q0,ClampToEdgeWrapping:Ss,MirroredRepeatWrapping:ey},rN={NearestFilter:ha,NearestMipmapNearestFilter:YP,NearestMipmapLinearFilter:Yp,LinearFilter:Hi,LinearMipmapNearestFilter:x0,LinearMipmapLinearFilter:Ul},EE=new WeakMap;class GAe extends Co{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap=="undefined"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch=="undefined"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=Bl.get(`image-bitmap:${e}`);if(o!==void 0){if(a.manager.itemStart(e),o.then){o.then(c=>{if(EE.has(o)===!0)i&&i(EE.get(o)),a.manager.itemError(e),a.manager.itemEnd(e);else return t&&t(c),a.manager.itemEnd(e),c});return}return setTimeout(function(){t&&t(o),a.manager.itemEnd(e)},0),o}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader,s.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,s).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(c){return Bl.add(`image-bitmap:${e}`,c),t&&t(c),a.manager.itemEnd(e),c}).catch(function(c){i&&i(c),EE.set(l,c),Bl.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});Bl.add(`image-bitmap:${e}`,l),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let H_;class R2{static getContext(){return H_===void 0&&(H_=new(window.AudioContext||window.webkitAudioContext)),H_}static setContext(e){H_=e}}class WAe extends Co{constructor(e){super(e)}load(e,t,r,i){const a=this,o=new Qc(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);R2.getContext().decodeAudioData(c,function(h){t(h)}).catch(s)}catch(c){s(c)}},r,i);function s(l){i?i(l):console.error(l),a.manager.itemError(e)}}}const iN=new on,aN=new on,nf=new on;class qAe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new mi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new mi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,nf.copy(e.projectionMatrix);const i=t.eyeSep/2,a=i*t.near/t.focus,o=t.near*Math.tan(Df*t.fov*.5)/t.zoom;let s,l;aN.elements[12]=-i,iN.elements[12]=i,s=-o*t.aspect+a,l=o*t.aspect+a,nf.elements[0]=2*t.near/(l-s),nf.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(nf),s=-o*t.aspect-a,l=o*t.aspect-a,nf.elements[0]=2*t.near/(l-s),nf.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(nf)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(aN),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(iN)}}class ZH extends mi{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class P2{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const rf=new he,AE=new ki,XAe=new he,af=new he,of=new he;class YAe extends nr{constructor(){super(),this.type="AudioListener",this.context=R2.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new P2}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(rf,AE,XAe),af.set(0,0,-1).applyQuaternion(AE),of.set(0,1,0).applyQuaternion(AE),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(rf.x,r),t.positionY.linearRampToValueAtTime(rf.y,r),t.positionZ.linearRampToValueAtTime(rf.z,r),t.forwardX.linearRampToValueAtTime(af.x,r),t.forwardY.linearRampToValueAtTime(af.y,r),t.forwardZ.linearRampToValueAtTime(af.z,r),t.upX.linearRampToValueAtTime(of.x,r),t.upY.linearRampToValueAtTime(of.y,r),t.upZ.linearRampToValueAtTime(of.z,r)}else t.setPosition(rf.x,rf.y,rf.z),t.setOrientation(af.x,af.y,af.z,of.x,of.y,of.z)}}class JH extends nr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const sf=new he,oN=new ki,KAe=new he,lf=new he;class ZAe extends JH{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(sf,oN,KAe),lf.set(0,0,1).applyQuaternion(oN);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(sf.x,r),t.positionY.linearRampToValueAtTime(sf.y,r),t.positionZ.linearRampToValueAtTime(sf.z,r),t.orientationX.linearRampToValueAtTime(lf.x,r),t.orientationY.linearRampToValueAtTime(lf.y,r),t.orientationZ.linearRampToValueAtTime(lf.z,r)}else t.setPosition(sf.x,sf.y,sf.z),t.setOrientation(lf.x,lf.y,lf.z)}}class JAe{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class QH{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,a,o;switch(t){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,a=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let s=0;s!==i;++s)r[a+s]=r[s];o=t}else{o+=t;const s=t/o;this._mixBufferRegion(r,a,0,s,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-a,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){s.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let a=r,o=i;a!==o;++a)t[a]=t[i+a%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,a){if(i>=.5)for(let o=0;o!==a;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){ki.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,a){const o=this._workIndex*a;ki.multiplyQuaternionsFlat(e,o,e,t,e,r),ki.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,a){const o=1-i;for(let s=0;s!==a;++s){const l=t+s;e[l]=e[l]*o+e[r+s]*i}}_lerpAdditive(e,t,r,i,a){for(let o=0;o!==a;++o){const s=t+o;e[s]=e[s]+e[r+o]*i}}}const O2="\\[\\]\\.:\\/",QAe=new RegExp("["+O2+"]","g"),F2="[^"+O2+"]",eRe="[^"+O2.replace("\\.","")+"]",tRe=/((?:WC+[\/:])*)/.source.replace("WC",F2),nRe=/(WCOD+)?/.source.replace("WCOD",eRe),rRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",F2),iRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",F2),aRe=new RegExp("^"+tRe+nRe+rRe+iRe+"$"),oRe=["material","materials","bones","map"];class sRe{constructor(e,t,r){const i=r||er.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=r.length;i!==a;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class er{constructor(e,t,r){this.path=t,this.parsedPath=r||er.parseTrackName(t),this.node=er.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new er.Composite(e,t,r):new er(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(QAe,"")}static parseTrackName(e){const t=aRe.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const a=r.nodeName.substring(i+1);oRe.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(a){for(let o=0;o<a.length;o++){const s=a[o];if(s.name===t||s.uuid===t)return s;const l=r(s.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let a=t.propertyIndex;if(e||(e=er.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===c){c=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?s=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}er.Composite=sRe;er.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};er.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};er.prototype.GetterByBindingType=[er.prototype._getValue_direct,er.prototype._getValue_array,er.prototype._getValue_arrayElement,er.prototype._getValue_toArray];er.prototype.SetterByBindingTypeAndVersioning=[[er.prototype._setValue_direct,er.prototype._setValue_direct_setNeedsUpdate,er.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[er.prototype._setValue_array,er.prototype._setValue_array_setNeedsUpdate,er.prototype._setValue_array_setMatrixWorldNeedsUpdate],[er.prototype._setValue_arrayElement,er.prototype._setValue_arrayElement_setNeedsUpdate,er.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[er.prototype._setValue_fromArray,er.prototype._setValue_fromArray_setNeedsUpdate,er.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class lRe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Jo(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length;let s,l=e.length,c=this.nCachedObjects_;for(let d=0,h=arguments.length;d!==h;++d){const m=arguments[d],v=m.uuid;let g=t[v];if(g===void 0){g=l++,t[v]=g,e.push(m);for(let x=0,b=o;x!==b;++x)a[x].push(new er(m,r[x],i[x]))}else if(g<c){s=e[g];const x=--c,b=e[x];t[b.uuid]=g,e[g]=b,t[v]=x,e[x]=m;for(let _=0,C=o;_!==C;++_){const T=a[_],M=T[x];let O=T[g];T[g]=M,O===void 0&&(O=new er(m,r[_],i[_])),T[x]=O}}else e[g]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const l=arguments[o],c=l.uuid,d=t[c];if(d!==void 0&&d>=a){const h=a++,m=e[h];t[m.uuid]=d,e[d]=m,t[c]=h,e[h]=l;for(let v=0,g=i;v!==g;++v){const x=r[v],b=x[h],_=x[d];x[d]=b,x[h]=_}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_,o=e.length;for(let s=0,l=arguments.length;s!==l;++s){const c=arguments[s],d=c.uuid,h=t[d];if(h!==void 0)if(delete t[d],h<a){const m=--a,v=e[m],g=--o,x=e[g];t[v.uuid]=h,e[h]=v,t[x.uuid]=m,e[m]=x,e.pop();for(let b=0,_=i;b!==_;++b){const C=r[b],T=C[m],M=C[g];C[h]=T,C[m]=M,C.pop()}}else{const m=--o,v=e[m];m>0&&(t[v.uuid]=h),e[h]=v,e.pop();for(let g=0,x=i;g!==x;++g){const b=r[g];b[h]=b[m],b.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const a=this._bindings;if(i!==void 0)return a[i];const o=this._paths,s=this._parsedPaths,l=this._objects,c=l.length,d=this.nCachedObjects_,h=new Array(c);i=a.length,r[e]=i,o.push(e),s.push(t),a.push(h);for(let m=d,v=l.length;m!==v;++m){const g=l[m];h[m]=new er(g,e,t)}return h}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length-1,l=o[s],c=e[s];t[c]=r,o[r]=l,o.pop(),a[r]=a[s],a.pop(),i[r]=i[s],i.pop()}}}class ek{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const a=t.tracks,o=a.length,s=new Array(o),l={endingStart:Mf,endingEnd:Mf};for(let c=0;c!==o;++c){const d=a[c].createInterpolant(null);s[c]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=H5,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r=!1){if(e.fadeOut(t),this.fadeIn(t),r===!0){const i=this._clip.duration,a=e._clip.duration,o=a/i,s=i/a;e.warp(1,o,t),this.warp(s,1,t)}return this}crossFadeTo(e,t,r=!1){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,a=i.time,o=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,c=s.sampleValues;return l[0]=a,l[1]=a+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const l=(e-a)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),s=this._updateWeight(e);if(s>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case r2:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),c[d].accumulateAdditive(s);break;case Aw:default:for(let d=0,h=l.length;d!==h;++d)l[d].evaluate(o),c[d].accumulate(i,s)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,a=this._loopCount;const o=r===k5;if(e===0)return a===-1?i:o&&(a&1)===1?t-i:i;if(r===z5){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const s=Math.floor(i/t);i-=t*s,a+=Math.abs(s);const l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(o&&(a&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Ef,i.endingEnd=Ef):(e?i.endingStart=this.zeroSlopeAtStart?Ef:Mf:i.endingStart=ny,t?i.endingEnd=this.zeroSlopeAtEnd?Ef:Mf:i.endingEnd=ny)}_scheduleFading(e,t,r){const i=this._mixer,a=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const s=o.parameterPositions,l=o.sampleValues;return s[0]=a,l[0]=t,s[1]=a+e,l[1]=r,this}}const cRe=new Float32Array(1);class uRe extends ql{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,a=i.length,o=e._propertyBindings,s=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let d=c[l];d===void 0&&(d={},c[l]=d);for(let h=0;h!==a;++h){const m=i[h],v=m.name;let g=d[v];if(g!==void 0)++g.referenceCount,o[h]=g;else{if(g=o[h],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,v));continue}const x=t&&t._propertyBindings[h].binding.parsedPath;g=new QH(er.create(r,v,x),m.ValueTypeName,m.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,v),o[h]=g}s[h].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,a=this._actionsByClip;let o=a[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=o;else{const s=o.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,o=this._actionsByClip,s=o[a],l=s.knownActions,c=l[l.length-1],d=e._byClipCacheIndex;c._byClipCacheIndex=d,l[d]=c,l.pop(),e._byClipCacheIndex=null;const h=s.actionByRoot,m=(e._localRoot||this._root).uuid;delete h[m],l.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const a=t[r];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,a=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,a=r.path,o=this._bindingsByRootAndName,s=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete s[a],Object.keys(s).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=r,t[r]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new T2(new Float32Array(2),new Float32Array(2),1,cRe),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=t[i];e.__cacheIndex=i,t[i]=e,a.__cacheIndex=r,t[r]=a}clipAction(e,t,r){const i=t||this._root,a=i.uuid;let o=typeof e=="string"?fy.findByName(i,e):e;const s=o!==null?o.uuid:e,l=this._actionsByClip[s];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=Aw),l!==void 0){const h=l.actionByRoot[a];if(h!==void 0&&h.blendMode===r)return h;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const d=new ek(this,o,t,r);return this._bindAction(d,c),this._addInactiveAction(d,s,a),d}existingAction(e,t){const r=t||this._root,i=r.uuid,a=typeof e=="string"?fy.findByName(r,e):e,o=a?a.uuid:e,s=this._actionsByClip[o];return s!==void 0&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,a,o);const s=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)s[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,a=i[r];if(a!==void 0){const o=a.knownActions;for(let s=0,l=o.length;s!==l;++s){const c=o[s];this._deactivateAction(c);const d=c._cacheIndex,h=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,h._cacheIndex=d,t[d]=h,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const s=r[o].actionByRoot,l=s[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,a=i[t];if(a!==void 0)for(const o in a){const s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class dRe extends o2{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new Pw(null,e,t,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class I2{constructor(e){this.value=e}clone(){return new I2(this.value.clone===void 0?this.value:this.value.clone())}}let fRe=0;class hRe extends ql{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:fRe++}),this.name="",this.usage=iy,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++){const a=Array.isArray(t[r])?t[r]:[t[r]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class pRe extends Dw{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class mRe{constructor(e,t,r,i,a,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=a,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const sN=new on;class tk{constructor(e,t,r=0,i=1/0){this.ray=new oh(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new Rm,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return sN.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(sN),this}intersectObject(e,t=!0,r=[]){return TR(e,this,r,t),r.sort(lN),r}intersectObjects(e,t=!0,r=[]){for(let i=0,a=e.length;i<a;i++)TR(e[i],this,r,t);return r.sort(lN),r}}function lN(n,e){return n.distance-e.distance}function TR(n,e,t,r){let i=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(i=!1),i===!0&&r===!0){const a=n.children;for(let o=0,s=a.length;o<s;o++)TR(a[o],e,t,!0)}}class gRe{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=vRe.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function vRe(){this._document.hidden===!1&&this.reset()}class MR{constructor(e=1,t=0,r=0){this.radius=e,this.phi=t,this.theta=r}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=rn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(rn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class yRe{constructor(e=1,t=0,r=0){this.radius=e,this.theta=t,this.y=r}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}class D2{constructor(e,t,r,i){D2.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let r=0;r<4;r++)this.elements[r]=e[r+t];return this}set(e,t,r,i){const a=this.elements;return a[0]=e,a[2]=t,a[1]=r,a[3]=i,this}}const cN=new ot;class bRe{constructor(e=new ot(1/0,1/0),t=new ot(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=cN.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,cN).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const uN=new he,k_=new he,Bp=new he,zp=new he,RE=new he,xRe=new he,_Re=new he;class SRe{constructor(e=new he,t=new he){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){uN.subVectors(e,this.start),k_.subVectors(this.end,this.start);const r=k_.dot(k_);let a=k_.dot(uN)/r;return t&&(a=rn(a,0,1)),a}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,t=xRe,r=_Re){const i=10000000000000001e-32;let a,o;const s=this.start,l=e.start,c=this.end,d=e.end;Bp.subVectors(c,s),zp.subVectors(d,l),RE.subVectors(s,l);const h=Bp.dot(Bp),m=zp.dot(zp),v=zp.dot(RE);if(h<=i&&m<=i)return t.copy(s),r.copy(l),t.sub(r),t.dot(t);if(h<=i)a=0,o=v/m,o=rn(o,0,1);else{const g=Bp.dot(RE);if(m<=i)o=0,a=rn(-g/h,0,1);else{const x=Bp.dot(zp),b=h*m-x*x;b!==0?a=rn((x*v-g*m)/b,0,1):a=0,o=(x*a+v)/m,o<0?(o=0,a=rn(-g/h,0,1)):o>1&&(o=1,a=rn((x-g)/h,0,1))}}return t.copy(s).add(Bp.multiplyScalar(a)),r.copy(l).add(zp.multiplyScalar(o)),t.sub(r),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const dN=new he;class CRe extends nr{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new bn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,s=1,l=32;o<l;o++,s++){const c=o/l*Math.PI*2,d=s/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(d),Math.sin(d),1)}r.setAttribute("position",new zt(i,3));const a=new Ya({fog:!1,toneMapped:!1});this.cone=new Xl(r,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),dN.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(dN),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Fu=new he,j_=new on,PE=new on;class wRe extends Xl{constructor(e){const t=nk(e),r=new bn,i=[],a=[];for(let c=0;c<t.length;c++){const d=t[c];d.parent&&d.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}r.setAttribute("position",new zt(i,3)),r.setAttribute("color",new zt(a,3));const o=new Ya({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const s=new It(255),l=new It(65280);this.setColors(s,l)}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");PE.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<t.length;a++){const s=t[a];s.parent&&s.parent.isBone&&(j_.multiplyMatrices(PE,s.matrixWorld),Fu.setFromMatrixPosition(j_),i.setXYZ(o,Fu.x,Fu.y,Fu.z),j_.multiplyMatrices(PE,s.parent.matrixWorld),Fu.setFromMatrixPosition(j_),i.setXYZ(o+1,Fu.x,Fu.y,Fu.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const i=this.geometry.getAttribute("color");for(let a=0;a<i.count;a+=2)i.setXYZ(a,e.r,e.g,e.b),i.setXYZ(a+1,t.r,t.g,t.b);return i.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function nk(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...nk(n.children[t]));return e}class TRe extends Ri{constructor(e,t,r){const i=new ib(t,4,2),a=new ed({wireframe:!0,fog:!1,toneMapped:!1});super(i,a),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const MRe=new he,fN=new It,hN=new It;class ERe extends nr{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new rb(t);i.rotateY(Math.PI*.5),this.material=new ed({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=i.getAttribute("position"),o=new Float32Array(a.count*3);i.setAttribute("color",new Er(o,3)),this.add(new Ri(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");fN.copy(this.light.color),hN.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const a=r<i/2?fN:hN;t.setXYZ(r,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(MRe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class ARe extends Xl{constructor(e=10,t=10,r=4473924,i=8947848){r=new It(r),i=new It(i);const a=t/2,o=e/t,s=e/2,l=[],c=[];for(let m=0,v=0,g=-s;m<=t;m++,g+=o){l.push(-s,0,g,s,0,g),l.push(g,0,-s,g,0,s);const x=m===a?r:i;x.toArray(c,v),v+=3,x.toArray(c,v),v+=3,x.toArray(c,v),v+=3,x.toArray(c,v),v+=3}const d=new bn;d.setAttribute("position",new zt(l,3)),d.setAttribute("color",new zt(c,3));const h=new Ya({vertexColors:!0,toneMapped:!1});super(d,h),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class RRe extends Xl{constructor(e=10,t=16,r=8,i=64,a=4473924,o=8947848){a=new It(a),o=new It(o);const s=[],l=[];if(t>1)for(let h=0;h<t;h++){const m=h/t*(Math.PI*2),v=Math.sin(m)*e,g=Math.cos(m)*e;s.push(0,0,0),s.push(v,0,g);const x=h&1?a:o;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let h=0;h<r;h++){const m=h&1?a:o,v=e-e/r*h;for(let g=0;g<i;g++){let x=g/i*(Math.PI*2),b=Math.sin(x)*v,_=Math.cos(x)*v;s.push(b,0,_),l.push(m.r,m.g,m.b),x=(g+1)/i*(Math.PI*2),b=Math.sin(x)*v,_=Math.cos(x)*v,s.push(b,0,_),l.push(m.r,m.g,m.b)}}const c=new bn;c.setAttribute("position",new zt(s,3)),c.setAttribute("color",new zt(l,3));const d=new Ya({vertexColors:!0,toneMapped:!1});super(c,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const pN=new he,$_=new he,mN=new he;class PRe extends nr{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new bn;i.setAttribute("position",new zt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new Ya({fog:!1,toneMapped:!1});this.lightPlane=new Wu(i,a),this.add(this.lightPlane),i=new bn,i.setAttribute("position",new zt([0,0,0,0,0,1],3)),this.targetLine=new Wu(i,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),pN.setFromMatrixPosition(this.light.matrixWorld),$_.setFromMatrixPosition(this.light.target.matrixWorld),mN.subVectors($_,pN),this.lightPlane.lookAt($_),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt($_),this.targetLine.scale.z=mN.length()}}const V_=new he,Qr=new Ow;class ORe extends Xl{constructor(e){const t=new bn,r=new Ya({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],a=[],o={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(g,x){l(g),l(x)}function l(g){i.push(0,0,0),a.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}t.setAttribute("position",new zt(i,3)),t.setAttribute("color",new zt(a,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new It(16755200),d=new It(16711680),h=new It(43775),m=new It(16777215),v=new It(3355443);this.setColors(c,d,h,m,v)}setColors(e,t,r,i,a){const s=this.geometry.getAttribute("color");return s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,t.r,t.g,t.b),s.setXYZ(25,t.r,t.g,t.b),s.setXYZ(26,t.r,t.g,t.b),s.setXYZ(27,t.r,t.g,t.b),s.setXYZ(28,t.r,t.g,t.b),s.setXYZ(29,t.r,t.g,t.b),s.setXYZ(30,t.r,t.g,t.b),s.setXYZ(31,t.r,t.g,t.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,a.r,a.g,a.b),s.setXYZ(41,a.r,a.g,a.b),s.setXYZ(42,a.r,a.g,a.b),s.setXYZ(43,a.r,a.g,a.b),s.setXYZ(44,a.r,a.g,a.b),s.setXYZ(45,a.r,a.g,a.b),s.setXYZ(46,a.r,a.g,a.b),s.setXYZ(47,a.r,a.g,a.b),s.setXYZ(48,a.r,a.g,a.b),s.setXYZ(49,a.r,a.g,a.b),s.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;let a,o;if(Qr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,o=0;else if(this.camera.coordinateSystem===Yo)a=-1,o=1;else if(this.camera.coordinateSystem===Em)a=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);di("c",t,e,Qr,0,0,a),di("t",t,e,Qr,0,0,o),di("n1",t,e,Qr,-r,-i,a),di("n2",t,e,Qr,r,-i,a),di("n3",t,e,Qr,-r,i,a),di("n4",t,e,Qr,r,i,a),di("f1",t,e,Qr,-r,-i,o),di("f2",t,e,Qr,r,-i,o),di("f3",t,e,Qr,-r,i,o),di("f4",t,e,Qr,r,i,o),di("u1",t,e,Qr,r*.7,i*1.1,a),di("u2",t,e,Qr,-r*.7,i*1.1,a),di("u3",t,e,Qr,0,i*2,a),di("cf1",t,e,Qr,-r,0,o),di("cf2",t,e,Qr,r,0,o),di("cf3",t,e,Qr,0,-i,o),di("cf4",t,e,Qr,0,i,o),di("cn1",t,e,Qr,-r,0,a),di("cn2",t,e,Qr,r,0,a),di("cn3",t,e,Qr,0,-i,a),di("cn4",t,e,Qr,0,i,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function di(n,e,t,r,i,a,o){V_.set(i,a,o).unproject(r);const s=e[n];if(s!==void 0){const l=t.getAttribute("position");for(let c=0,d=s.length;c<d;c++)l.setXYZ(s[c],V_.x,V_.y,V_.z)}}const G_=new Aa;class FRe extends Xl{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),a=new bn;a.setIndex(new Er(r,1)),a.setAttribute("position",new Er(i,3)),super(a,new Ya({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&G_.setFromObject(this.object),G_.isEmpty())return;const e=G_.min,t=G_.max,r=this.geometry.attributes.position,i=r.array;i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=e.x,i[4]=t.y,i[5]=t.z,i[6]=e.x,i[7]=e.y,i[8]=t.z,i[9]=t.x,i[10]=e.y,i[11]=t.z,i[12]=t.x,i[13]=t.y,i[14]=e.z,i[15]=e.x,i[16]=t.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=t.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class IRe extends Xl{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new bn;a.setIndex(new Er(r,1)),a.setAttribute("position",new zt(i,3)),super(a,new Ya({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class DRe extends Wu{constructor(e,t=1,r=16776960){const i=r,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new bn;o.setAttribute("position",new zt(a,3)),o.computeBoundingSphere(),super(o,new Ya({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new bn;l.setAttribute("position",new zt(s,3)),l.computeBoundingSphere(),this.add(new Ri(l,new ed({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const gN=new he;let W_,OE;class LRe extends nr{constructor(e=new he(0,0,1),t=new he(0,0,0),r=1,i=16776960,a=r*.2,o=a*.2){super(),this.type="ArrowHelper",W_===void 0&&(W_=new bn,W_.setAttribute("position",new zt([0,0,0,0,1,0],3)),OE=new nb(.5,1,5,1),OE.translate(0,-.5,0)),this.position.copy(t),this.line=new Wu(W_,new Ya({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ri(OE,new ed({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{gN.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(gN,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class NRe extends Xl{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new bn;i.setAttribute("position",new zt(t,3)),i.setAttribute("color",new zt(r,3));const a=new Ya({vertexColors:!0,toneMapped:!1});super(i,a),this.type="AxesHelper"}setColors(e,t,r){const i=new It,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(t),i.toArray(a,6),i.toArray(a,9),i.set(r),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class URe{constructor(){this.type="ShapePath",this.color=new It,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new pC,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,a,o){return this.currentPath.bezierCurveTo(e,t,r,i,a,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(_){const C=[];for(let T=0,M=_.length;T<M;T++){const O=_[T],I=new Lf;I.curves=O.curves,C.push(I)}return C}function r(_,C){const T=C.length;let M=!1;for(let O=T-1,I=0;I<T;O=I++){let U=C[O],F=C[I],L=F.x-U.x,D=F.y-U.y;if(Math.abs(D)>Number.EPSILON){if(D<0&&(U=C[I],L=-L,F=C[O],D=-D),_.y<U.y||_.y>F.y)continue;if(_.y===U.y){if(_.x===U.x)return!0}else{const z=D*(_.x-U.x)-L*(_.y-U.y);if(z===0)return!0;if(z<0)continue;M=!M}}else{if(_.y!==U.y)continue;if(F.x<=_.x&&_.x<=U.x||U.x<=_.x&&_.x<=F.x)return!0}}return M}const i=il.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,s,l;const c=[];if(a.length===1)return s=a[0],l=new Lf,l.curves=s.curves,c.push(l),c;let d=!i(a[0].getPoints());d=e?!d:d;const h=[],m=[];let v=[],g=0,x;m[g]=void 0,v[g]=[];for(let _=0,C=a.length;_<C;_++)s=a[_],x=s.getPoints(),o=i(x),o=e?!o:o,o?(!d&&m[g]&&g++,m[g]={s:new Lf,p:x},m[g].s.curves=s.curves,d&&g++,v[g]=[]):v[g].push({h:s,p:x[0]});if(!m[0])return t(a);if(m.length>1){let _=!1,C=0;for(let T=0,M=m.length;T<M;T++)h[T]=[];for(let T=0,M=m.length;T<M;T++){const O=v[T];for(let I=0;I<O.length;I++){const U=O[I];let F=!0;for(let L=0;L<m.length;L++)r(U.p,m[L].p)&&(T!==L&&C++,F?(F=!1,h[L].push(U)):_=!0);F&&h[T].push(U)}}C>0&&_===!1&&(v=h)}let b;for(let _=0,C=m.length;_<C;_++){l=m[_].s,c.push(l),b=v[_];for(let T=0,M=b.length;T<M;T++)l.holes.push(b[T].h)}return c}}class BRe extends ql{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function zRe(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function HRe(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function kRe(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function ER(n,e,t,r){const i=jRe(r);switch(t){case e2:return n*e;case Tw:return n*e/i.components*i.byteLength;case Qy:return n*e/i.components*i.byteLength;case n2:return n*e*2/i.components*i.byteLength;case Mw:return n*e*2/i.components*i.byteLength;case t2:return n*e*3/i.components*i.byteLength;case Ea:return n*e*4/i.components*i.byteLength;case Ew:return n*e*4/i.components*i.byteLength;case _0:case S0:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case C0:case w0:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case U1:case z1:return Math.max(n,16)*Math.max(e,8)/4;case N1:case B1:return Math.max(n,8)*Math.max(e,8)/2;case H1:case k1:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case j1:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case $1:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case V1:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case G1:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case W1:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case q1:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case X1:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case Y1:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case K1:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case Z1:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case J1:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case Q1:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case eC:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case tC:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case nC:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case rC:case iC:case aC:return Math.ceil(n/4)*Math.ceil(e/4)*16;case oC:case sC:return Math.ceil(n/4)*Math.ceil(e/4)*8;case lC:case cC:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function jRe(n){switch(n){case ws:case KP:return{byteLength:1,components:1};case Cm:case ZP:case Qm:return{byteLength:2,components:1};case Cw:case ww:return{byteLength:2,components:4};case Jc:case Sw:case bo:return{byteLength:4,components:1};case JP:case QP:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class $Re{static contain(e,t){return zRe(e,t)}static cover(e,t){return HRe(e,t)}static fill(e){return kRe(e)}static getByteLength(e,t,r,i){return ER(e,t,r,i)}}typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:bw}}));typeof window!="undefined"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=bw);/**
* @license
* Copyright 2010-2025 Three.js Authors
* SPDX-License-Identifier: MIT
*/function rk(){let n=null,e=!1,t=null,r=null;function i(a,o){t(a,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){n=a}}}function VRe(n){const e=new WeakMap;function t(s,l){const c=s.array,d=s.usage,h=c.byteLength,m=n.createBuffer();n.bindBuffer(l,m),n.bufferData(l,c,d),s.onUploadCallback();let v;if(c instanceof Float32Array)v=n.FLOAT;else if(typeof Float16Array!="undefined"&&c instanceof Float16Array)v=n.HALF_FLOAT;else if(c instanceof Uint16Array)s.isFloat16BufferAttribute?v=n.HALF_FLOAT:v=n.UNSIGNED_SHORT;else if(c instanceof Int16Array)v=n.SHORT;else if(c instanceof Uint32Array)v=n.UNSIGNED_INT;else if(c instanceof Int32Array)v=n.INT;else if(c instanceof Int8Array)v=n.BYTE;else if(c instanceof Uint8Array)v=n.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)v=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:m,type:v,bytesPerElement:c.BYTES_PER_ELEMENT,version:s.version,size:h}}function r(s,l,c){const d=l.array,h=l.updateRanges;if(n.bindBuffer(c,s),h.length===0)n.bufferSubData(c,0,d);else{h.sort((v,g)=>v.start-g.start);let m=0;for(let v=1;v<h.length;v++){const g=h[m],x=h[v];x.start<=g.start+g.count+1?g.count=Math.max(g.count,x.start+x.count-g.start):(++m,h[m]=x)}h.length=m+1;for(let v=0,g=h.length;v<g;v++){const x=h[v];n.bufferSubData(c,x.start*d.BYTES_PER_ELEMENT,d,x.start,x.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(s){return s.isInterleavedBufferAttribute&&(s=s.data),e.get(s)}function a(s){s.isInterleavedBufferAttribute&&(s=s.data);const l=e.get(s);l&&(n.deleteBuffer(l.buffer),e.delete(s))}function o(s,l){if(s.isInterleavedBufferAttribute&&(s=s.data),s.isGLBufferAttribute){const d=e.get(s);(!d||d.version<s.version)&&e.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}const c=e.get(s);if(c===void 0)e.set(s,t(s,l));else if(c.version<s.version){if(c.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,s,l),c.version=s.version}}return{get:i,remove:a,update:o}}var GRe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,WRe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,qRe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,XRe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,YRe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,KRe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,ZRe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,JRe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,QRe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,ePe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,tPe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,nPe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,rPe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,iPe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,aPe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,oPe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,sPe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,lPe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,cPe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,uPe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,dPe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,fPe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,hPe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,pPe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,mPe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,gPe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,vPe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,yPe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,bPe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,xPe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,_Pe="gl_FragColor = linearToOutputTexel( gl_FragColor );",SPe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,CPe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,wPe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,TPe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,MPe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,EPe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,APe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,RPe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,PPe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,OPe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,FPe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,IPe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,DPe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,LPe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,NPe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,UPe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,BPe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,zPe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,HPe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,kPe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,jPe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,$Pe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,VPe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,GPe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,WPe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,qPe=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,XPe=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,YPe=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,KPe=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,ZPe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,JPe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,QPe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,e2e=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,t2e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,n2e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,r2e=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,i2e=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,a2e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,o2e=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,s2e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,l2e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,c2e=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,u2e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,d2e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,f2e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,h2e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,p2e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,m2e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,g2e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,v2e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,y2e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,b2e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,x2e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,_2e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,S2e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,C2e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,w2e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,T2e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,M2e=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,E2e=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,A2e=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,R2e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,P2e=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,O2e=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,F2e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,I2e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,D2e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,L2e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,N2e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,U2e=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,B2e=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,z2e=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,H2e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,k2e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,j2e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,$2e=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const V2e=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,G2e=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,W2e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,q2e=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,X2e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Y2e=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,K2e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Z2e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,J2e=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Q2e=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,eOe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,tOe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,nOe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,rOe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,iOe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,aOe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,oOe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sOe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lOe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,cOe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,uOe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,dOe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,fOe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hOe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pOe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,mOe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gOe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vOe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yOe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,bOe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,xOe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_Oe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,SOe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,COe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,wn={alphahash_fragment:GRe,alphahash_pars_fragment:WRe,alphamap_fragment:qRe,alphamap_pars_fragment:XRe,alphatest_fragment:YRe,alphatest_pars_fragment:KRe,aomap_fragment:ZRe,aomap_pars_fragment:JRe,batching_pars_vertex:QRe,batching_vertex:ePe,begin_vertex:tPe,beginnormal_vertex:nPe,bsdfs:rPe,iridescence_fragment:iPe,bumpmap_pars_fragment:aPe,clipping_planes_fragment:oPe,clipping_planes_pars_fragment:sPe,clipping_planes_pars_vertex:lPe,clipping_planes_vertex:cPe,color_fragment:uPe,color_pars_fragment:dPe,color_pars_vertex:fPe,color_vertex:hPe,common:pPe,cube_uv_reflection_fragment:mPe,defaultnormal_vertex:gPe,displacementmap_pars_vertex:vPe,displacementmap_vertex:yPe,emissivemap_fragment:bPe,emissivemap_pars_fragment:xPe,colorspace_fragment:_Pe,colorspace_pars_fragment:SPe,envmap_fragment:CPe,envmap_common_pars_fragment:wPe,envmap_pars_fragment:TPe,envmap_pars_vertex:MPe,envmap_physical_pars_fragment:UPe,envmap_vertex:EPe,fog_vertex:APe,fog_pars_vertex:RPe,fog_fragment:PPe,fog_pars_fragment:OPe,gradientmap_pars_fragment:FPe,lightmap_pars_fragment:IPe,lights_lambert_fragment:DPe,lights_lambert_pars_fragment:LPe,lights_pars_begin:NPe,lights_toon_fragment:BPe,lights_toon_pars_fragment:zPe,lights_phong_fragment:HPe,lights_phong_pars_fragment:kPe,lights_physical_fragment:jPe,lights_physical_pars_fragment:$Pe,lights_fragment_begin:VPe,lights_fragment_maps:GPe,lights_fragment_end:WPe,logdepthbuf_fragment:qPe,logdepthbuf_pars_fragment:XPe,logdepthbuf_pars_vertex:YPe,logdepthbuf_vertex:KPe,map_fragment:ZPe,map_pars_fragment:JPe,map_particle_fragment:QPe,map_particle_pars_fragment:e2e,metalnessmap_fragment:t2e,metalnessmap_pars_fragment:n2e,morphinstance_vertex:r2e,morphcolor_vertex:i2e,morphnormal_vertex:a2e,morphtarget_pars_vertex:o2e,morphtarget_vertex:s2e,normal_fragment_begin:l2e,normal_fragment_maps:c2e,normal_pars_fragment:u2e,normal_pars_vertex:d2e,normal_vertex:f2e,normalmap_pars_fragment:h2e,clearcoat_normal_fragment_begin:p2e,clearcoat_normal_fragment_maps:m2e,clearcoat_pars_fragment:g2e,iridescence_pars_fragment:v2e,opaque_fragment:y2e,packing:b2e,premultiplied_alpha_fragment:x2e,project_vertex:_2e,dithering_fragment:S2e,dithering_pars_fragment:C2e,roughnessmap_fragment:w2e,roughnessmap_pars_fragment:T2e,shadowmap_pars_fragment:M2e,shadowmap_pars_vertex:E2e,shadowmap_vertex:A2e,shadowmask_pars_fragment:R2e,skinbase_vertex:P2e,skinning_pars_vertex:O2e,skinning_vertex:F2e,skinnormal_vertex:I2e,specularmap_fragment:D2e,specularmap_pars_fragment:L2e,tonemapping_fragment:N2e,tonemapping_pars_fragment:U2e,transmission_fragment:B2e,transmission_pars_fragment:z2e,uv_pars_fragment:H2e,uv_pars_vertex:k2e,uv_vertex:j2e,worldpos_vertex:$2e,background_vert:V2e,background_frag:G2e,backgroundCube_vert:W2e,backgroundCube_frag:q2e,cube_vert:X2e,cube_frag:Y2e,depth_vert:K2e,depth_frag:Z2e,distanceRGBA_vert:J2e,distanceRGBA_frag:Q2e,equirect_vert:eOe,equirect_frag:tOe,linedashed_vert:nOe,linedashed_frag:rOe,meshbasic_vert:iOe,meshbasic_frag:aOe,meshlambert_vert:oOe,meshlambert_frag:sOe,meshmatcap_vert:lOe,meshmatcap_frag:cOe,meshnormal_vert:uOe,meshnormal_frag:dOe,meshphong_vert:fOe,meshphong_frag:hOe,meshphysical_vert:pOe,meshphysical_frag:mOe,meshtoon_vert:gOe,meshtoon_frag:vOe,points_vert:yOe,points_frag:bOe,shadow_vert:xOe,shadow_frag:_Oe,sprite_vert:SOe,sprite_frag:COe},Mt={common:{diffuse:{value:new It(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new fn},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new fn}},envmap:{envMap:{value:null},envMapRotation:{value:new fn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new fn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new fn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new fn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new fn},normalScale:{value:new ot(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new fn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new fn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new fn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new fn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new It(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new It(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0},uvTransform:{value:new fn}},sprite:{diffuse:{value:new It(16777215)},opacity:{value:1},center:{value:new ot(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new fn},alphaMap:{value:null},alphaMapTransform:{value:new fn},alphaTest:{value:0}}},el={basic:{uniforms:Wa([Mt.common,Mt.specularmap,Mt.envmap,Mt.aomap,Mt.lightmap,Mt.fog]),vertexShader:wn.meshbasic_vert,fragmentShader:wn.meshbasic_frag},lambert:{uniforms:Wa([Mt.common,Mt.specularmap,Mt.envmap,Mt.aomap,Mt.lightmap,Mt.emissivemap,Mt.bumpmap,Mt.normalmap,Mt.displacementmap,Mt.fog,Mt.lights,{emissive:{value:new It(0)}}]),vertexShader:wn.meshlambert_vert,fragmentShader:wn.meshlambert_frag},phong:{uniforms:Wa([Mt.common,Mt.specularmap,Mt.envmap,Mt.aomap,Mt.lightmap,Mt.emissivemap,Mt.bumpmap,Mt.normalmap,Mt.displacementmap,Mt.fog,Mt.lights,{emissive:{value:new It(0)},specular:{value:new It(1118481)},shininess:{value:30}}]),vertexShader:wn.meshphong_vert,fragmentShader:wn.meshphong_frag},standard:{uniforms:Wa([Mt.common,Mt.envmap,Mt.aomap,Mt.lightmap,Mt.emissivemap,Mt.bumpmap,Mt.normalmap,Mt.displacementmap,Mt.roughnessmap,Mt.metalnessmap,Mt.fog,Mt.lights,{emissive:{value:new It(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:wn.meshphysical_vert,fragmentShader:wn.meshphysical_frag},toon:{uniforms:Wa([Mt.common,Mt.aomap,Mt.lightmap,Mt.emissivemap,Mt.bumpmap,Mt.normalmap,Mt.displacementmap,Mt.gradientmap,Mt.fog,Mt.lights,{emissive:{value:new It(0)}}]),vertexShader:wn.meshtoon_vert,fragmentShader:wn.meshtoon_frag},matcap:{uniforms:Wa([Mt.common,Mt.bumpmap,Mt.normalmap,Mt.displacementmap,Mt.fog,{matcap:{value:null}}]),vertexShader:wn.meshmatcap_vert,fragmentShader:wn.meshmatcap_frag},points:{uniforms:Wa([Mt.points,Mt.fog]),vertexShader:wn.points_vert,fragmentShader:wn.points_frag},dashed:{uniforms:Wa([Mt.common,Mt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:wn.linedashed_vert,fragmentShader:wn.linedashed_frag},depth:{uniforms:Wa([Mt.common,Mt.displacementmap]),vertexShader:wn.depth_vert,fragmentShader:wn.depth_frag},normal:{uniforms:Wa([Mt.common,Mt.bumpmap,Mt.normalmap,Mt.displacementmap,{opacity:{value:1}}]),vertexShader:wn.meshnormal_vert,fragmentShader:wn.meshnormal_frag},sprite:{uniforms:Wa([Mt.sprite,Mt.fog]),vertexShader:wn.sprite_vert,fragmentShader:wn.sprite_frag},background:{uniforms:{uvTransform:{value:new fn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:wn.background_vert,fragmentShader:wn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new fn}},vertexShader:wn.backgroundCube_vert,fragmentShader:wn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:wn.cube_vert,fragmentShader:wn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:wn.equirect_vert,fragmentShader:wn.equirect_frag},distanceRGBA:{uniforms:Wa([Mt.common,Mt.displacementmap,{referencePosition:{value:new he},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:wn.distanceRGBA_vert,fragmentShader:wn.distanceRGBA_frag},shadow:{uniforms:Wa([Mt.lights,Mt.fog,{color:{value:new It(0)},opacity:{value:1}}]),vertexShader:wn.shadow_vert,fragmentShader:wn.shadow_frag}};el.physical={uniforms:Wa([el.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new fn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new fn},clearcoatNormalScale:{value:new ot(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new fn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new fn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new fn},sheen:{value:0},sheenColor:{value:new It(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new fn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new fn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new fn},transmissionSamplerSize:{value:new ot},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new fn},attenuationDistance:{value:0},attenuationColor:{value:new It(0)},specularColor:{value:new It(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new fn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new fn},anisotropyVector:{value:new ot},anisotropyMap:{value:null},anisotropyMapTransform:{value:new fn}}]),vertexShader:wn.meshphysical_vert,fragmentShader:wn.meshphysical_frag};const q_={r:0,b:0,g:0},cf=new es,wOe=new on;function TOe(n,e,t,r,i,a,o){const s=new It(0);let l=a===!0?0:1,c,d,h=null,m=0,v=null;function g(T){let M=T.isScene===!0?T.background:null;return M&&M.isTexture&&(M=(T.backgroundBlurriness>0?t:e).get(M)),M}function x(T){let M=!1;const O=g(T);O===null?_(s,l):O&&O.isColor&&(_(O,1),M=!0);const I=n.xr.getEnvironmentBlendMode();I==="additive"?r.buffers.color.setClear(0,0,0,1,o):I==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(n.autoClear||M)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function b(T,M){const O=g(M);O&&(O.isCubeTexture||O.mapping===Jm)?(d===void 0&&(d=new Ri(new sh(1,1,1),new al({name:"BackgroundCubeMaterial",uniforms:Pm(el.backgroundCube.uniforms),vertexShader:el.backgroundCube.vertexShader,fragmentShader:el.backgroundCube.fragmentShader,side:Xa,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(I,U,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(d)),cf.copy(M.backgroundRotation),cf.x*=-1,cf.y*=-1,cf.z*=-1,O.isCubeTexture&&O.isRenderTargetTexture===!1&&(cf.y*=-1,cf.z*=-1),d.material.uniforms.envMap.value=O,d.material.uniforms.flipEnvMap.value=O.isCubeTexture&&O.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=M.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(wOe.makeRotationFromEuler(cf)),d.material.toneMapped=Vn.getTransfer(O.colorSpace)!==br,(h!==O||m!==O.version||v!==n.toneMapping)&&(d.material.needsUpdate=!0,h=O,m=O.version,v=n.toneMapping),d.layers.enableAll(),T.unshift(d,d.geometry,d.material,0,0,null)):O&&O.isTexture&&(c===void 0&&(c=new Ri(new tg(2,2),new al({name:"BackgroundMaterial",uniforms:Pm(el.background.uniforms),vertexShader:el.background.vertexShader,fragmentShader:el.background.fragmentShader,side:Kc,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=O,c.material.uniforms.backgroundIntensity.value=M.backgroundIntensity,c.material.toneMapped=Vn.getTransfer(O.colorSpace)!==br,O.matrixAutoUpdate===!0&&O.updateMatrix(),c.material.uniforms.uvTransform.value.copy(O.matrix),(h!==O||m!==O.version||v!==n.toneMapping)&&(c.material.needsUpdate=!0,h=O,m=O.version,v=n.toneMapping),c.layers.enableAll(),T.unshift(c,c.geometry,c.material,0,0,null))}function _(T,M){T.getRGB(q_,nH(n)),r.buffers.color.setClear(q_.r,q_.g,q_.b,M,o)}function C(){d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return s},setClearColor:function(T,M=1){s.set(T),l=M,_(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(T){l=T,_(s,l)},render:x,addToRenderList:b,dispose:C}}function MOe(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},i=m(null);let a=i,o=!1;function s(D,z,$,Y,j){let V=!1;const B=h(Y,$,z);a!==B&&(a=B,c(a.object)),V=v(D,Y,$,j),V&&g(D,Y,$,j),j!==null&&e.update(j,n.ELEMENT_ARRAY_BUFFER),(V||o)&&(o=!1,M(D,z,$,Y),j!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(j).buffer))}function l(){return n.createVertexArray()}function c(D){return n.bindVertexArray(D)}function d(D){return n.deleteVertexArray(D)}function h(D,z,$){const Y=$.wireframe===!0;let j=r[D.id];j===void 0&&(j={},r[D.id]=j);let V=j[z.id];V===void 0&&(V={},j[z.id]=V);let B=V[Y];return B===void 0&&(B=m(l()),V[Y]=B),B}function m(D){const z=[],$=[],Y=[];for(let j=0;j<t;j++)z[j]=0,$[j]=0,Y[j]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:z,enabledAttributes:$,attributeDivisors:Y,object:D,attributes:{},index:null}}function v(D,z,$,Y){const j=a.attributes,V=z.attributes;let B=0;const G=$.getAttributes();for(const W in G)if(G[W].location>=0){const J=j[W];let Q=V[W];if(Q===void 0&&(W==="instanceMatrix"&&D.instanceMatrix&&(Q=D.instanceMatrix),W==="instanceColor"&&D.instanceColor&&(Q=D.instanceColor)),J===void 0||J.attribute!==Q||Q&&J.data!==Q.data)return!0;B++}return a.attributesNum!==B||a.index!==Y}function g(D,z,$,Y){const j={},V=z.attributes;let B=0;const G=$.getAttributes();for(const W in G)if(G[W].location>=0){let J=V[W];J===void 0&&(W==="instanceMatrix"&&D.instanceMatrix&&(J=D.instanceMatrix),W==="instanceColor"&&D.instanceColor&&(J=D.instanceColor));const Q={};Q.attribute=J,J&&J.data&&(Q.data=J.data),j[W]=Q,B++}a.attributes=j,a.attributesNum=B,a.index=Y}function x(){const D=a.newAttributes;for(let z=0,$=D.length;z<$;z++)D[z]=0}function b(D){_(D,0)}function _(D,z){const $=a.newAttributes,Y=a.enabledAttributes,j=a.attributeDivisors;$[D]=1,Y[D]===0&&(n.enableVertexAttribArray(D),Y[D]=1),j[D]!==z&&(n.vertexAttribDivisor(D,z),j[D]=z)}function C(){const D=a.newAttributes,z=a.enabledAttributes;for(let $=0,Y=z.length;$<Y;$++)z[$]!==D[$]&&(n.disableVertexAttribArray($),z[$]=0)}function T(D,z,$,Y,j,V,B){B===!0?n.vertexAttribIPointer(D,z,$,j,V):n.vertexAttribPointer(D,z,$,Y,j,V)}function M(D,z,$,Y){x();const j=Y.attributes,V=$.getAttributes(),B=z.defaultAttributeValues;for(const G in V){const W=V[G];if(W.location>=0){let Z=j[G];if(Z===void 0&&(G==="instanceMatrix"&&D.instanceMatrix&&(Z=D.instanceMatrix),G==="instanceColor"&&D.instanceColor&&(Z=D.instanceColor)),Z!==void 0){const J=Z.normalized,Q=Z.itemSize,ue=e.get(Z);if(ue===void 0)continue;const se=ue.buffer,ae=ue.type,ie=ue.bytesPerElement,te=ae===n.INT||ae===n.UNSIGNED_INT||Z.gpuType===Sw;if(Z.isInterleavedBufferAttribute){const ee=Z.data,xe=ee.stride,Ee=Z.offset;if(ee.isInstancedInterleavedBuffer){for(let Se=0;Se<W.locationSize;Se++)_(W.location+Se,ee.meshPerAttribute);D.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=ee.meshPerAttribute*ee.count)}else for(let Se=0;Se<W.locationSize;Se++)b(W.location+Se);n.bindBuffer(n.ARRAY_BUFFER,se);for(let Se=0;Se<W.locationSize;Se++)T(W.location+Se,Q/W.locationSize,ae,J,xe*ie,(Ee+Q/W.locationSize*Se)*ie,te)}else{if(Z.isInstancedBufferAttribute){for(let ee=0;ee<W.locationSize;ee++)_(W.location+ee,Z.meshPerAttribute);D.isInstancedMesh!==!0&&Y._maxInstanceCount===void 0&&(Y._maxInstanceCount=Z.meshPerAttribute*Z.count)}else for(let ee=0;ee<W.locationSize;ee++)b(W.location+ee);n.bindBuffer(n.ARRAY_BUFFER,se);for(let ee=0;ee<W.locationSize;ee++)T(W.location+ee,Q/W.locationSize,ae,J,Q*ie,Q/W.locationSize*ee*ie,te)}}else if(B!==void 0){const J=B[G];if(J!==void 0)switch(J.length){case 2:n.vertexAttrib2fv(W.location,J);break;case 3:n.vertexAttrib3fv(W.location,J);break;case 4:n.vertexAttrib4fv(W.location,J);break;default:n.vertexAttrib1fv(W.location,J)}}}}C()}function O(){F();for(const D in r){const z=r[D];for(const $ in z){const Y=z[$];for(const j in Y)d(Y[j].object),delete Y[j];delete z[$]}delete r[D]}}function I(D){if(r[D.id]===void 0)return;const z=r[D.id];for(const $ in z){const Y=z[$];for(const j in Y)d(Y[j].object),delete Y[j];delete z[$]}delete r[D.id]}function U(D){for(const z in r){const $=r[z];if($[D.id]===void 0)continue;const Y=$[D.id];for(const j in Y)d(Y[j].object),delete Y[j];delete $[D.id]}}function F(){L(),o=!0,a!==i&&(a=i,c(a.object))}function L(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:s,reset:F,resetDefaultState:L,dispose:O,releaseStatesOfGeometry:I,releaseStatesOfProgram:U,initAttributes:x,enableAttribute:b,disableUnusedAttributes:C}}function EOe(n,e,t){let r;function i(c){r=c}function a(c,d){n.drawArrays(r,c,d),t.update(d,r,1)}function o(c,d,h){h!==0&&(n.drawArraysInstanced(r,c,d,h),t.update(d,r,h))}function s(c,d,h){if(h===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,d,0,h);let v=0;for(let g=0;g<h;g++)v+=d[g];t.update(v,r,1)}function l(c,d,h,m){if(h===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let g=0;g<c.length;g++)o(c[g],d[g],m[g]);else{v.multiDrawArraysInstancedWEBGL(r,c,0,d,0,m,0,h);let g=0;for(let x=0;x<h;x++)g+=d[x]*m[x];t.update(g,r,1)}}this.setMode=i,this.render=a,this.renderInstances=o,this.renderMultiDraw=s,this.renderMultiDrawInstances=l}function AOe(n,e,t,r){let i;function a(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const U=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(U.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(U){return!(U!==Ea&&r.convert(U)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(U){const F=U===Qm&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(U!==ws&&r.convert(U)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&U!==bo&&!F)}function l(U){if(U==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";U="mediump"}return U==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const d=l(c);d!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",d,"instead."),c=d);const h=t.logarithmicDepthBuffer===!0,m=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),v=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),g=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),x=n.getParameter(n.MAX_TEXTURE_SIZE),b=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),_=n.getParameter(n.MAX_VERTEX_ATTRIBS),C=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),T=n.getParameter(n.MAX_VARYING_VECTORS),M=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),O=g>0,I=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:s,precision:c,logarithmicDepthBuffer:h,reversedDepthBuffer:m,maxTextures:v,maxVertexTextures:g,maxTextureSize:x,maxCubemapSize:b,maxAttributes:_,maxVertexUniforms:C,maxVaryings:T,maxFragmentUniforms:M,vertexTextures:O,maxSamples:I}}function ROe(n){const e=this;let t=null,r=0,i=!1,a=!1;const o=new Uc,s=new fn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,m){const v=h.length!==0||m||r!==0||i;return i=m,r=h.length,v},this.beginShadows=function(){a=!0,d(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(h,m){t=d(h,m,0)},this.setState=function(h,m,v){const g=h.clippingPlanes,x=h.clipIntersection,b=h.clipShadows,_=n.get(h);if(!i||g===null||g.length===0||a&&!b)a?d(null):c();else{const C=a?0:r,T=C*4;let M=_.clippingState||null;l.value=M,M=d(g,m,T,v);for(let O=0;O!==T;++O)M[O]=t[O];_.clippingState=M,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=C}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(h,m,v,g){const x=h!==null?h.length:0;let b=null;if(x!==0){if(b=l.value,g!==!0||b===null){const _=v+x*4,C=m.matrixWorldInverse;s.getNormalMatrix(C),(b===null||b.length<_)&&(b=new Float32Array(_));for(let T=0,M=v;T!==x;++T,M+=4)o.copy(h[T]).applyMatrix4(C,s),o.normal.toArray(b,M),b[M+3]=o.constant}l.value=b,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,b}}function POe(n){let e=new WeakMap;function t(o,s){return s===Z0?o.mapping=Zc:s===J0&&(o.mapping=Vu),o}function r(o){if(o&&o.isTexture){const s=o.mapping;if(s===Z0||s===J0)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new aH(l.height);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const s=o.target;s.removeEventListener("dispose",i);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}const Jp=4,vN=[.125,.215,.35,.446,.526,.582],xf=20,FE=new Hu,yN=new It;let IE=null,DE=0,LE=0,NE=!1;const vf=(1+Math.sqrt(5))/2,Hp=1/vf,bN=[new he(-vf,Hp,0),new he(vf,Hp,0),new he(-Hp,0,vf),new he(Hp,0,vf),new he(0,vf,-Hp),new he(0,vf,Hp),new he(-1,1,-1),new he(1,1,-1),new he(-1,1,1),new he(1,1,1)],OOe=new he;class AR{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100,a={}){const{size:o=256,position:s=OOe}=a;IE=this._renderer.getRenderTarget(),DE=this._renderer.getActiveCubeFace(),LE=this._renderer.getActiveMipmapLevel(),NE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,s),t>0&&this._blur(l,0,0,t),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=SN(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_N(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(IE,DE,LE),this._renderer.xr.enabled=NE,e.scissorTest=!1,X_(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Zc||e.mapping===Vu?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),IE=this._renderer.getRenderTarget(),DE=this._renderer.getActiveCubeFace(),LE=this._renderer.getActiveMipmapLevel(),NE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Hi,minFilter:Hi,generateMipmaps:!1,type:Qm,format:Ea,colorSpace:Gu,depthBuffer:!1},i=xN(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=xN(e,t,r);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=FOe(a)),this._blurMaterial=IOe(a,e,t)}return i}_compileMaterial(e){const t=new Ri(this._lodPlanes[0],e);this._renderer.compile(t,FE)}_sceneToCubeUV(e,t,r,i,a){const l=new mi(90,1,t,r),c=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],h=this._renderer,m=h.autoClear,v=h.toneMapping;h.getClearColor(yN),h.toneMapping=Hl,h.autoClear=!1,h.state.buffers.depth.getReversed()&&(h.setRenderTarget(i),h.clearDepth(),h.setRenderTarget(null));const x=new ed({name:"PMREM.Background",side:Xa,depthWrite:!1,depthTest:!1}),b=new Ri(new sh,x);let _=!1;const C=e.background;C?C.isColor&&(x.color.copy(C),e.background=null,_=!0):(x.color.copy(yN),_=!0);for(let T=0;T<6;T++){const M=T%3;M===0?(l.up.set(0,c[T],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x+d[T],a.y,a.z)):M===1?(l.up.set(0,0,c[T]),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y+d[T],a.z)):(l.up.set(0,c[T],0),l.position.set(a.x,a.y,a.z),l.lookAt(a.x,a.y,a.z+d[T]));const O=this._cubeSize;X_(i,M*O,T>2?O:0,O,O),h.setRenderTarget(i),_&&h.render(b,l),h.render(e,l)}b.geometry.dispose(),b.material.dispose(),h.toneMapping=v,h.autoClear=m,e.background=C}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Zc||e.mapping===Vu;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=SN()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_N());const a=i?this._cubemapMaterial:this._equirectMaterial,o=new Ri(this._lodPlanes[0],a),s=a.uniforms;s.envMap.value=e;const l=this._cubeSize;X_(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,FE)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const i=this._lodPlanes.length;for(let a=1;a<i;a++){const o=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),s=bN[(i-a-1)%bN.length];this._blur(e,a-1,a,o,s)}t.autoClear=r}_blur(e,t,r,i,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",a),this._halfBlur(o,e,r,r,i,"longitudinal",a)}_halfBlur(e,t,r,i,a,o,s){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,h=new Ri(this._lodPlanes[i],c),m=c.uniforms,v=this._sizeLods[r]-1,g=isFinite(a)?Math.PI/(2*v):2*Math.PI/(2*xf-1),x=a/g,b=isFinite(a)?1+Math.floor(d*x):xf;b>xf&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${b} samples when the maximum is set to ${xf}`);const _=[];let C=0;for(let U=0;U<xf;++U){const F=U/x,L=Math.exp(-F*F/2);_.push(L),U===0?C+=L:U<b&&(C+=2*L)}for(let U=0;U<_.length;U++)_[U]=_[U]/C;m.envMap.value=e.texture,m.samples.value=b,m.weights.value=_,m.latitudinal.value=o==="latitudinal",s&&(m.poleAxis.value=s);const{_lodMax:T}=this;m.dTheta.value=g,m.mipInt.value=T-r;const M=this._sizeLods[i],O=3*M*(i>T-Jp?i-T+Jp:0),I=4*(this._cubeSize-M);X_(t,O,I,3*M,2*M),l.setRenderTarget(t),l.render(h,FE)}}function FOe(n){const e=[],t=[],r=[];let i=n;const a=n-Jp+1+vN.length;for(let o=0;o<a;o++){const s=Math.pow(2,i);t.push(s);let l=1/s;o>n-Jp?l=vN[o-n+Jp-1]:o===0&&(l=0),r.push(l);const c=1/(s-2),d=-c,h=1+c,m=[d,d,h,d,h,h,d,d,h,h,d,h],v=6,g=6,x=3,b=2,_=1,C=new Float32Array(x*g*v),T=new Float32Array(b*g*v),M=new Float32Array(_*g*v);for(let I=0;I<v;I++){const U=I%3*2/3-1,F=I>2?0:-1,L=[U,F,0,U+2/3,F,0,U+2/3,F+1,0,U,F,0,U+2/3,F+1,0,U,F+1,0];C.set(L,x*g*I),T.set(m,b*g*I);const D=[I,I,I,I,I,I];M.set(D,_*g*I)}const O=new bn;O.setAttribute("position",new Er(C,x)),O.setAttribute("uv",new Er(T,b)),O.setAttribute("faceIndex",new Er(M,_)),e.push(O),i>Jp&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function xN(n,e,t){const r=new jl(n,e,t);return r.texture.mapping=Jm,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function X_(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function IOe(n,e,t){const r=new Float32Array(xf),i=new he(0,1,0);return new al({name:"SphericalGaussianBlur",defines:{n:xf,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:L2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Gc,depthTest:!1,depthWrite:!1})}function _N(){return new al({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:L2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Gc,depthTest:!1,depthWrite:!1})}function SN(){return new al({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:L2(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Gc,depthTest:!1,depthWrite:!1})}function L2(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function DOe(n){let e=new WeakMap,t=null;function r(s){if(s&&s.isTexture){const l=s.mapping,c=l===Z0||l===J0,d=l===Zc||l===Vu;if(c||d){let h=e.get(s);const m=h!==void 0?h.texture.pmremVersion:0;if(s.isRenderTargetTexture&&s.pmremVersion!==m)return t===null&&(t=new AR(n)),h=c?t.fromEquirectangular(s,h):t.fromCubemap(s,h),h.texture.pmremVersion=s.pmremVersion,e.set(s,h),h.texture;if(h!==void 0)return h.texture;{const v=s.image;return c&&v&&v.height>0||d&&v&&i(v)?(t===null&&(t=new AR(n)),h=c?t.fromEquirectangular(s):t.fromCubemap(s),h.texture.pmremVersion=s.pmremVersion,e.set(s,h),s.addEventListener("dispose",a),h.texture):null}}}return s}function i(s){let l=0;const c=6;for(let d=0;d<c;d++)s[d]!==void 0&&l++;return l===c}function a(s){const l=s.target;l.removeEventListener("dispose",a);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function LOe(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const i=t(r);return i===null&&oy("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function NOe(n,e,t,r){const i={},a=new WeakMap;function o(h){const m=h.target;m.index!==null&&e.remove(m.index);for(const g in m.attributes)e.remove(m.attributes[g]);m.removeEventListener("dispose",o),delete i[m.id];const v=a.get(m);v&&(e.remove(v),a.delete(m)),r.releaseStatesOfGeometry(m),m.isInstancedBufferGeometry===!0&&delete m._maxInstanceCount,t.memory.geometries--}function s(h,m){return i[m.id]===!0||(m.addEventListener("dispose",o),i[m.id]=!0,t.memory.geometries++),m}function l(h){const m=h.attributes;for(const v in m)e.update(m[v],n.ARRAY_BUFFER)}function c(h){const m=[],v=h.index,g=h.attributes.position;let x=0;if(v!==null){const C=v.array;x=v.version;for(let T=0,M=C.length;T<M;T+=3){const O=C[T+0],I=C[T+1],U=C[T+2];m.push(O,I,I,U,U,O)}}else if(g!==void 0){const C=g.array;x=g.version;for(let T=0,M=C.length/3-1;T<M;T+=3){const O=T+0,I=T+1,U=T+2;m.push(O,I,I,U,U,O)}}else return;const b=new(J5(m)?l2:s2)(m,1);b.version=x;const _=a.get(h);_&&e.remove(_),a.set(h,b)}function d(h){const m=a.get(h);if(m){const v=h.index;v!==null&&m.version<v.version&&c(h)}else c(h);return a.get(h)}return{get:s,update:l,getWireframeAttribute:d}}function UOe(n,e,t){let r;function i(m){r=m}let a,o;function s(m){a=m.type,o=m.bytesPerElement}function l(m,v){n.drawElements(r,v,a,m*o),t.update(v,r,1)}function c(m,v,g){g!==0&&(n.drawElementsInstanced(r,v,a,m*o,g),t.update(v,r,g))}function d(m,v,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,v,0,a,m,0,g);let b=0;for(let _=0;_<g;_++)b+=v[_];t.update(b,r,1)}function h(m,v,g,x){if(g===0)return;const b=e.get("WEBGL_multi_draw");if(b===null)for(let _=0;_<m.length;_++)c(m[_]/o,v[_],x[_]);else{b.multiDrawElementsInstancedWEBGL(r,v,0,a,m,0,x,0,g);let _=0;for(let C=0;C<g;C++)_+=v[C]*x[C];t.update(_,r,1)}}this.setMode=i,this.setIndex=s,this.render=l,this.renderInstances=c,this.renderMultiDraw=d,this.renderMultiDrawInstances=h}function BOe(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,o,s){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=s*(a/3);break;case n.LINES:t.lines+=s*(a/2);break;case n.LINE_STRIP:t.lines+=s*(a-1);break;case n.LINE_LOOP:t.lines+=s*a;break;case n.POINTS:t.points+=s*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function zOe(n,e,t){const r=new WeakMap,i=new tr;function a(o,s,l){const c=o.morphTargetInfluences,d=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,h=d!==void 0?d.length:0;let m=r.get(s);if(m===void 0||m.count!==h){let L=function(){U.dispose(),r.delete(s),s.removeEventListener("dispose",L)};m!==void 0&&m.texture.dispose();const v=s.morphAttributes.position!==void 0,g=s.morphAttributes.normal!==void 0,x=s.morphAttributes.color!==void 0,b=s.morphAttributes.position||[],_=s.morphAttributes.normal||[],C=s.morphAttributes.color||[];let T=0;v===!0&&(T=1),g===!0&&(T=2),x===!0&&(T=3);let M=s.attributes.position.count*T,O=1;M>e.maxTextureSize&&(O=Math.ceil(M/e.maxTextureSize),M=e.maxTextureSize);const I=new Float32Array(M*O*4*h),U=new Rw(I,M,O,h);U.type=bo,U.needsUpdate=!0;const F=T*4;for(let D=0;D<h;D++){const z=b[D],$=_[D],Y=C[D],j=M*O*4*D;for(let V=0;V<z.count;V++){const B=V*F;v===!0&&(i.fromBufferAttribute(z,V),I[j+B+0]=i.x,I[j+B+1]=i.y,I[j+B+2]=i.z,I[j+B+3]=0),g===!0&&(i.fromBufferAttribute($,V),I[j+B+4]=i.x,I[j+B+5]=i.y,I[j+B+6]=i.z,I[j+B+7]=0),x===!0&&(i.fromBufferAttribute(Y,V),I[j+B+8]=i.x,I[j+B+9]=i.y,I[j+B+10]=i.z,I[j+B+11]=Y.itemSize===4?i.w:1)}}m={count:h,texture:U,size:new ot(M,O)},r.set(s,m),s.addEventListener("dispose",L)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let v=0;for(let x=0;x<c.length;x++)v+=c[x];const g=s.morphTargetsRelative?1:1-v;l.getUniforms().setValue(n,"morphTargetBaseInfluence",g),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",m.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",m.size)}return{update:a}}function HOe(n,e,t,r){let i=new WeakMap;function a(l){const c=r.render.frame,d=l.geometry,h=e.get(l,d);if(i.get(h)!==c&&(e.update(h),i.set(h,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),i.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const m=l.skeleton;i.get(m)!==c&&(m.update(),i.set(m,c))}return h}function o(){i=new WeakMap}function s(l){const c=l.target;c.removeEventListener("dispose",s),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:a,dispose:o}}const ik=new ni,CN=new h2(1,1),ak=new Rw,ok=new Pw,sk=new eb,wN=[],TN=[],MN=new Float32Array(16),EN=new Float32Array(9),AN=new Float32Array(4);function ng(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let a=wN[i];if(a===void 0&&(a=new Float32Array(i),wN[i]=a),e!==0){r.toArray(a,0);for(let o=1,s=0;o!==e;++o)s+=t,n[o].toArray(a,s)}return a}function $i(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function Vi(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function Jw(n,e){let t=TN[e];t===void 0&&(t=new Int32Array(e),TN[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function kOe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function jOe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if($i(t,e))return;n.uniform2fv(this.addr,e),Vi(t,e)}}function $Oe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if($i(t,e))return;n.uniform3fv(this.addr,e),Vi(t,e)}}function VOe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if($i(t,e))return;n.uniform4fv(this.addr,e),Vi(t,e)}}function GOe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if($i(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Vi(t,e)}else{if($i(t,r))return;AN.set(r),n.uniformMatrix2fv(this.addr,!1,AN),Vi(t,r)}}function WOe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if($i(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Vi(t,e)}else{if($i(t,r))return;EN.set(r),n.uniformMatrix3fv(this.addr,!1,EN),Vi(t,r)}}function qOe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if($i(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Vi(t,e)}else{if($i(t,r))return;MN.set(r),n.uniformMatrix4fv(this.addr,!1,MN),Vi(t,r)}}function XOe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function YOe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if($i(t,e))return;n.uniform2iv(this.addr,e),Vi(t,e)}}function KOe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if($i(t,e))return;n.uniform3iv(this.addr,e),Vi(t,e)}}function ZOe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if($i(t,e))return;n.uniform4iv(this.addr,e),Vi(t,e)}}function JOe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function QOe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if($i(t,e))return;n.uniform2uiv(this.addr,e),Vi(t,e)}}function eFe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if($i(t,e))return;n.uniform3uiv(this.addr,e),Vi(t,e)}}function tFe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if($i(t,e))return;n.uniform4uiv(this.addr,e),Vi(t,e)}}function nFe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i);let a;this.type===n.SAMPLER_2D_SHADOW?(CN.compareFunction=i2,a=CN):a=ik,t.setTexture2D(e||a,i)}function rFe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||ok,i)}function iFe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||sk,i)}function aFe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||ak,i)}function oFe(n){switch(n){case 5126:return kOe;case 35664:return jOe;case 35665:return $Oe;case 35666:return VOe;case 35674:return GOe;case 35675:return WOe;case 35676:return qOe;case 5124:case 35670:return XOe;case 35667:case 35671:return YOe;case 35668:case 35672:return KOe;case 35669:case 35673:return ZOe;case 5125:return JOe;case 36294:return QOe;case 36295:return eFe;case 36296:return tFe;case 35678:case 36198:case 36298:case 36306:case 35682:return nFe;case 35679:case 36299:case 36307:return rFe;case 35680:case 36300:case 36308:case 36293:return iFe;case 36289:case 36303:case 36311:case 36292:return aFe}}function sFe(n,e){n.uniform1fv(this.addr,e)}function lFe(n,e){const t=ng(e,this.size,2);n.uniform2fv(this.addr,t)}function cFe(n,e){const t=ng(e,this.size,3);n.uniform3fv(this.addr,t)}function uFe(n,e){const t=ng(e,this.size,4);n.uniform4fv(this.addr,t)}function dFe(n,e){const t=ng(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function fFe(n,e){const t=ng(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function hFe(n,e){const t=ng(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function pFe(n,e){n.uniform1iv(this.addr,e)}function mFe(n,e){n.uniform2iv(this.addr,e)}function gFe(n,e){n.uniform3iv(this.addr,e)}function vFe(n,e){n.uniform4iv(this.addr,e)}function yFe(n,e){n.uniform1uiv(this.addr,e)}function bFe(n,e){n.uniform2uiv(this.addr,e)}function xFe(n,e){n.uniform3uiv(this.addr,e)}function _Fe(n,e){n.uniform4uiv(this.addr,e)}function SFe(n,e,t){const r=this.cache,i=e.length,a=Jw(t,i);$i(r,a)||(n.uniform1iv(this.addr,a),Vi(r,a));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||ik,a[o])}function CFe(n,e,t){const r=this.cache,i=e.length,a=Jw(t,i);$i(r,a)||(n.uniform1iv(this.addr,a),Vi(r,a));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||ok,a[o])}function wFe(n,e,t){const r=this.cache,i=e.length,a=Jw(t,i);$i(r,a)||(n.uniform1iv(this.addr,a),Vi(r,a));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||sk,a[o])}function TFe(n,e,t){const r=this.cache,i=e.length,a=Jw(t,i);$i(r,a)||(n.uniform1iv(this.addr,a),Vi(r,a));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||ak,a[o])}function MFe(n){switch(n){case 5126:return sFe;case 35664:return lFe;case 35665:return cFe;case 35666:return uFe;case 35674:return dFe;case 35675:return fFe;case 35676:return hFe;case 5124:case 35670:return pFe;case 35667:case 35671:return mFe;case 35668:case 35672:return gFe;case 35669:case 35673:return vFe;case 5125:return yFe;case 36294:return bFe;case 36295:return xFe;case 36296:return _Fe;case 35678:case 36198:case 36298:case 36306:case 35682:return SFe;case 35679:case 36299:case 36307:return CFe;case 35680:case 36300:case 36308:case 36293:return wFe;case 36289:case 36303:case 36311:case 36292:return TFe}}class EFe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=oFe(t.type)}}class AFe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=MFe(t.type)}}class RFe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let a=0,o=i.length;a!==o;++a){const s=i[a];s.setValue(e,t[s.id],r)}}}const UE=/(\w+)(\])?(\[|\.)?/g;function RN(n,e){n.seq.push(e),n.map[e.id]=e}function PFe(n,e,t){const r=n.name,i=r.length;for(UE.lastIndex=0;;){const a=UE.exec(r),o=UE.lastIndex;let s=a[1];const l=a[2]==="]",c=a[3];if(l&&(s=s|0),c===void 0||c==="["&&o+2===i){RN(t,c===void 0?new EFe(s,n,e):new AFe(s,n,e));break}else{let h=t.map[s];h===void 0&&(h=new RFe(s),RN(t,h)),t=h}}}class mS{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const a=e.getActiveUniform(t,i),o=e.getUniformLocation(t,a.name);PFe(a,o,this)}}setValue(e,t,r,i){const a=this.map[t];a!==void 0&&a.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let a=0,o=t.length;a!==o;++a){const s=t[a],l=r[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,a=e.length;i!==a;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function PN(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const OFe=37297;let FFe=0;function IFe(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let o=i;o<a;o++){const s=o+1;r.push(`${s===e?">":" "} ${s}: ${t[o]}`)}return r.join(`
`)}const ON=new fn;function DFe(n){Vn._getMatrix(ON,Vn.workingColorSpace,n);const e=`mat3( ${ON.elements.map(t=>t.toFixed(4))} )`;switch(Vn.getTransfer(n)){case ry:return[e,"LinearTransferOETF"];case br:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function FN(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),a=(n.getShaderInfoLog(e)||"").trim();if(r&&a==="")return"";const o=/ERROR: 0:(\d+)/.exec(a);if(o){const s=parseInt(o[1]);return t.toUpperCase()+`

`+a+`

`+IFe(n.getShaderSource(e),s)}else return a}function LFe(n,e){const t=DFe(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function NFe(n,e){let t;switch(e){case F5:t="Linear";break;case I5:t="Reinhard";break;case D5:t="Cineon";break;case XP:t="ACESFilmic";break;case N5:t="AgX";break;case U5:t="Neutral";break;case L5:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const Y_=new he;function UFe(){Vn.getLuminanceCoefficients(Y_);const n=Y_.x.toFixed(4),e=Y_.y.toFixed(4),t=Y_.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function BFe(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(a0).join(`
`)}function zFe(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function HFe(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const a=n.getActiveAttrib(e,i),o=a.name;let s=1;a.type===n.FLOAT_MAT2&&(s=2),a.type===n.FLOAT_MAT3&&(s=3),a.type===n.FLOAT_MAT4&&(s=4),t[o]={type:a.type,location:n.getAttribLocation(e,o),locationSize:s}}return t}function a0(n){return n!==""}function IN(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function DN(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const kFe=/^[ \t]*#include +<([\w\d./]+)>/gm;function RR(n){return n.replace(kFe,$Fe)}const jFe=new Map;function $Fe(n,e){let t=wn[e];if(t===void 0){const r=jFe.get(e);if(r!==void 0)t=wn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return RR(t)}const VFe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function LN(n){return n.replace(VFe,GFe)}function GFe(n,e,t,r){let i="";for(let a=parseInt(e);a<parseInt(t);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function NN(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function WFe(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===xw?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===b0?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Js&&(e="SHADOWMAP_TYPE_VSM"),e}function qFe(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Zc:case Vu:e="ENVMAP_TYPE_CUBE";break;case Jm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function XFe(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Vu:e="ENVMAP_MODE_REFRACTION";break}return e}function YFe(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case Jy:e="ENVMAP_BLENDING_MULTIPLY";break;case P5:e="ENVMAP_BLENDING_MIX";break;case O5:e="ENVMAP_BLENDING_ADD";break}return e}function KFe(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function ZFe(n,e,t,r){const i=n.getContext(),a=t.defines;let o=t.vertexShader,s=t.fragmentShader;const l=WFe(t),c=qFe(t),d=XFe(t),h=YFe(t),m=KFe(t),v=BFe(t),g=zFe(a),x=i.createProgram();let b,_,C=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(b=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g].filter(a0).join(`
`),b.length>0&&(b+=`
`),_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g].filter(a0).join(`
`),_.length>0&&(_+=`
`)):(b=[NN(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+d:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(a0).join(`
`),_=[NN(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+d:"",t.envMap?"#define "+h:"",m?"#define CUBEUV_TEXEL_WIDTH "+m.texelWidth:"",m?"#define CUBEUV_TEXEL_HEIGHT "+m.texelHeight:"",m?"#define CUBEUV_MAX_MIP "+m.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Hl?"#define TONE_MAPPING":"",t.toneMapping!==Hl?wn.tonemapping_pars_fragment:"",t.toneMapping!==Hl?NFe("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",wn.colorspace_pars_fragment,LFe("linearToOutputTexel",t.outputColorSpace),UFe(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(a0).join(`
`)),o=RR(o),o=IN(o,t),o=DN(o,t),s=RR(s),s=IN(s,t),s=DN(s,t),o=LN(o),s=LN(s),t.isRawShaderMaterial!==!0&&(C=`#version 300 es
`,b=[v,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+b,_=["#define varying in",t.glslVersion===bR?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===bR?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const T=C+b+o,M=C+_+s,O=PN(i,i.VERTEX_SHADER,T),I=PN(i,i.FRAGMENT_SHADER,M);i.attachShader(x,O),i.attachShader(x,I),t.index0AttributeName!==void 0?i.bindAttribLocation(x,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x);function U(z){if(n.debug.checkShaderErrors){const $=i.getProgramInfoLog(x)||"",Y=i.getShaderInfoLog(O)||"",j=i.getShaderInfoLog(I)||"",V=$.trim(),B=Y.trim(),G=j.trim();let W=!0,Z=!0;if(i.getProgramParameter(x,i.LINK_STATUS)===!1)if(W=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,x,O,I);else{const J=FN(i,O,"vertex"),Q=FN(i,I,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,i.VALIDATE_STATUS)+`

Material Name: `+z.name+`
Material Type: `+z.type+`

Program Info Log: `+V+`
`+J+`
`+Q)}else V!==""?console.warn("THREE.WebGLProgram: Program Info Log:",V):(B===""||G==="")&&(Z=!1);Z&&(z.diagnostics={runnable:W,programLog:V,vertexShader:{log:B,prefix:b},fragmentShader:{log:G,prefix:_}})}i.deleteShader(O),i.deleteShader(I),F=new mS(i,x),L=HFe(i,x)}let F;this.getUniforms=function(){return F===void 0&&U(this),F};let L;this.getAttributes=function(){return L===void 0&&U(this),L};let D=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return D===!1&&(D=i.getProgramParameter(x,OFe)),D},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=FFe++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=O,this.fragmentShader=I,this}let JFe=0;class QFe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),a=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new eIe(e),t.set(e,r)),r}}class eIe{constructor(e){this.id=JFe++,this.code=e,this.usedTimes=0}}function tIe(n,e,t,r,i,a,o){const s=new Rm,l=new QFe,c=new Set,d=[],h=i.logarithmicDepthBuffer,m=i.vertexTextures;let v=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(L){return c.add(L),L===0?"uv":`uv${L}`}function b(L,D,z,$,Y){const j=$.fog,V=Y.geometry,B=L.isMeshStandardMaterial?$.environment:null,G=(L.isMeshStandardMaterial?t:e).get(L.envMap||B),W=G&&G.mapping===Jm?G.image.height:null,Z=g[L.type];L.precision!==null&&(v=i.getMaxPrecision(L.precision),v!==L.precision&&console.warn("THREE.WebGLProgram.getParameters:",L.precision,"not supported, using",v,"instead."));const J=V.morphAttributes.position||V.morphAttributes.normal||V.morphAttributes.color,Q=J!==void 0?J.length:0;let ue=0;V.morphAttributes.position!==void 0&&(ue=1),V.morphAttributes.normal!==void 0&&(ue=2),V.morphAttributes.color!==void 0&&(ue=3);let se,ae,ie,te;if(Z){const Kt=el[Z];se=Kt.vertexShader,ae=Kt.fragmentShader}else se=L.vertexShader,ae=L.fragmentShader,l.update(L),ie=l.getVertexShaderID(L),te=l.getFragmentShaderID(L);const ee=n.getRenderTarget(),xe=n.state.buffers.depth.getReversed(),Ee=Y.isInstancedMesh===!0,Se=Y.isBatchedMesh===!0,ze=!!L.map,Ue=!!L.matcap,re=!!G,Ce=!!L.aoMap,Fe=!!L.lightMap,ge=!!L.bumpMap,fe=!!L.normalMap,ve=!!L.displacementMap,be=!!L.emissiveMap,we=!!L.metalnessMap,Ie=!!L.roughnessMap,Ae=L.anisotropy>0,X=L.clearcoat>0,q=L.dispersion>0,ye=L.iridescence>0,Re=L.sheen>0,Ge=L.transmission>0,Le=Ae&&!!L.anisotropyMap,ht=X&&!!L.clearcoatMap,et=X&&!!L.clearcoatNormalMap,xt=X&&!!L.clearcoatRoughnessMap,St=ye&&!!L.iridescenceMap,st=ye&&!!L.iridescenceThicknessMap,dt=Re&&!!L.sheenColorMap,Ft=Re&&!!L.sheenRoughnessMap,pe=!!L.specularMap,Te=!!L.specularColorMap,$e=!!L.specularIntensityMap,me=Ge&&!!L.transmissionMap,Xe=Ge&&!!L.thicknessMap,tt=!!L.gradientMap,ct=!!L.alphaMap,nt=L.alphaTest>0,Qe=!!L.alphaHash,pt=!!L.extensions;let Rt=Hl;L.toneMapped&&(ee===null||ee.isXRRenderTarget===!0)&&(Rt=n.toneMapping);const Yt={shaderID:Z,shaderType:L.type,shaderName:L.name,vertexShader:se,fragmentShader:ae,defines:L.defines,customVertexShaderID:ie,customFragmentShaderID:te,isRawShaderMaterial:L.isRawShaderMaterial===!0,glslVersion:L.glslVersion,precision:v,batching:Se,batchingColor:Se&&Y._colorsTexture!==null,instancing:Ee,instancingColor:Ee&&Y.instanceColor!==null,instancingMorph:Ee&&Y.morphTexture!==null,supportsVertexTextures:m,outputColorSpace:ee===null?n.outputColorSpace:ee.isXRRenderTarget===!0?ee.texture.colorSpace:Gu,alphaToCoverage:!!L.alphaToCoverage,map:ze,matcap:Ue,envMap:re,envMapMode:re&&G.mapping,envMapCubeUVHeight:W,aoMap:Ce,lightMap:Fe,bumpMap:ge,normalMap:fe,displacementMap:m&&ve,emissiveMap:be,normalMapObjectSpace:fe&&L.normalMapType===V5,normalMapTangentSpace:fe&&L.normalMapType===Qu,metalnessMap:we,roughnessMap:Ie,anisotropy:Ae,anisotropyMap:Le,clearcoat:X,clearcoatMap:ht,clearcoatNormalMap:et,clearcoatRoughnessMap:xt,dispersion:q,iridescence:ye,iridescenceMap:St,iridescenceThicknessMap:st,sheen:Re,sheenColorMap:dt,sheenRoughnessMap:Ft,specularMap:pe,specularColorMap:Te,specularIntensityMap:$e,transmission:Ge,transmissionMap:me,thicknessMap:Xe,gradientMap:tt,opaque:L.transparent===!1&&L.blending===If&&L.alphaToCoverage===!1,alphaMap:ct,alphaTest:nt,alphaHash:Qe,combine:L.combine,mapUv:ze&&x(L.map.channel),aoMapUv:Ce&&x(L.aoMap.channel),lightMapUv:Fe&&x(L.lightMap.channel),bumpMapUv:ge&&x(L.bumpMap.channel),normalMapUv:fe&&x(L.normalMap.channel),displacementMapUv:ve&&x(L.displacementMap.channel),emissiveMapUv:be&&x(L.emissiveMap.channel),metalnessMapUv:we&&x(L.metalnessMap.channel),roughnessMapUv:Ie&&x(L.roughnessMap.channel),anisotropyMapUv:Le&&x(L.anisotropyMap.channel),clearcoatMapUv:ht&&x(L.clearcoatMap.channel),clearcoatNormalMapUv:et&&x(L.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:xt&&x(L.clearcoatRoughnessMap.channel),iridescenceMapUv:St&&x(L.iridescenceMap.channel),iridescenceThicknessMapUv:st&&x(L.iridescenceThicknessMap.channel),sheenColorMapUv:dt&&x(L.sheenColorMap.channel),sheenRoughnessMapUv:Ft&&x(L.sheenRoughnessMap.channel),specularMapUv:pe&&x(L.specularMap.channel),specularColorMapUv:Te&&x(L.specularColorMap.channel),specularIntensityMapUv:$e&&x(L.specularIntensityMap.channel),transmissionMapUv:me&&x(L.transmissionMap.channel),thicknessMapUv:Xe&&x(L.thicknessMap.channel),alphaMapUv:ct&&x(L.alphaMap.channel),vertexTangents:!!V.attributes.tangent&&(fe||Ae),vertexColors:L.vertexColors,vertexAlphas:L.vertexColors===!0&&!!V.attributes.color&&V.attributes.color.itemSize===4,pointsUvs:Y.isPoints===!0&&!!V.attributes.uv&&(ze||ct),fog:!!j,useFog:L.fog===!0,fogExp2:!!j&&j.isFogExp2,flatShading:L.flatShading===!0&&L.wireframe===!1,sizeAttenuation:L.sizeAttenuation===!0,logarithmicDepthBuffer:h,reversedDepthBuffer:xe,skinning:Y.isSkinnedMesh===!0,morphTargets:V.morphAttributes.position!==void 0,morphNormals:V.morphAttributes.normal!==void 0,morphColors:V.morphAttributes.color!==void 0,morphTargetsCount:Q,morphTextureStride:ue,numDirLights:D.directional.length,numPointLights:D.point.length,numSpotLights:D.spot.length,numSpotLightMaps:D.spotLightMap.length,numRectAreaLights:D.rectArea.length,numHemiLights:D.hemi.length,numDirLightShadows:D.directionalShadowMap.length,numPointLightShadows:D.pointShadowMap.length,numSpotLightShadows:D.spotShadowMap.length,numSpotLightShadowsWithMaps:D.numSpotLightShadowsWithMaps,numLightProbes:D.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:L.dithering,shadowMapEnabled:n.shadowMap.enabled&&z.length>0,shadowMapType:n.shadowMap.type,toneMapping:Rt,decodeVideoTexture:ze&&L.map.isVideoTexture===!0&&Vn.getTransfer(L.map.colorSpace)===br,decodeVideoTextureEmissive:be&&L.emissiveMap.isVideoTexture===!0&&Vn.getTransfer(L.emissiveMap.colorSpace)===br,premultipliedAlpha:L.premultipliedAlpha,doubleSided:L.side===_s,flipSided:L.side===Xa,useDepthPacking:L.depthPacking>=0,depthPacking:L.depthPacking||0,index0AttributeName:L.index0AttributeName,extensionClipCullDistance:pt&&L.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(pt&&L.extensions.multiDraw===!0||Se)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:L.customProgramCacheKey()};return Yt.vertexUv1s=c.has(1),Yt.vertexUv2s=c.has(2),Yt.vertexUv3s=c.has(3),c.clear(),Yt}function _(L){const D=[];if(L.shaderID?D.push(L.shaderID):(D.push(L.customVertexShaderID),D.push(L.customFragmentShaderID)),L.defines!==void 0)for(const z in L.defines)D.push(z),D.push(L.defines[z]);return L.isRawShaderMaterial===!1&&(C(D,L),T(D,L),D.push(n.outputColorSpace)),D.push(L.customProgramCacheKey),D.join()}function C(L,D){L.push(D.precision),L.push(D.outputColorSpace),L.push(D.envMapMode),L.push(D.envMapCubeUVHeight),L.push(D.mapUv),L.push(D.alphaMapUv),L.push(D.lightMapUv),L.push(D.aoMapUv),L.push(D.bumpMapUv),L.push(D.normalMapUv),L.push(D.displacementMapUv),L.push(D.emissiveMapUv),L.push(D.metalnessMapUv),L.push(D.roughnessMapUv),L.push(D.anisotropyMapUv),L.push(D.clearcoatMapUv),L.push(D.clearcoatNormalMapUv),L.push(D.clearcoatRoughnessMapUv),L.push(D.iridescenceMapUv),L.push(D.iridescenceThicknessMapUv),L.push(D.sheenColorMapUv),L.push(D.sheenRoughnessMapUv),L.push(D.specularMapUv),L.push(D.specularColorMapUv),L.push(D.specularIntensityMapUv),L.push(D.transmissionMapUv),L.push(D.thicknessMapUv),L.push(D.combine),L.push(D.fogExp2),L.push(D.sizeAttenuation),L.push(D.morphTargetsCount),L.push(D.morphAttributeCount),L.push(D.numDirLights),L.push(D.numPointLights),L.push(D.numSpotLights),L.push(D.numSpotLightMaps),L.push(D.numHemiLights),L.push(D.numRectAreaLights),L.push(D.numDirLightShadows),L.push(D.numPointLightShadows),L.push(D.numSpotLightShadows),L.push(D.numSpotLightShadowsWithMaps),L.push(D.numLightProbes),L.push(D.shadowMapType),L.push(D.toneMapping),L.push(D.numClippingPlanes),L.push(D.numClipIntersection),L.push(D.depthPacking)}function T(L,D){s.disableAll(),D.supportsVertexTextures&&s.enable(0),D.instancing&&s.enable(1),D.instancingColor&&s.enable(2),D.instancingMorph&&s.enable(3),D.matcap&&s.enable(4),D.envMap&&s.enable(5),D.normalMapObjectSpace&&s.enable(6),D.normalMapTangentSpace&&s.enable(7),D.clearcoat&&s.enable(8),D.iridescence&&s.enable(9),D.alphaTest&&s.enable(10),D.vertexColors&&s.enable(11),D.vertexAlphas&&s.enable(12),D.vertexUv1s&&s.enable(13),D.vertexUv2s&&s.enable(14),D.vertexUv3s&&s.enable(15),D.vertexTangents&&s.enable(16),D.anisotropy&&s.enable(17),D.alphaHash&&s.enable(18),D.batching&&s.enable(19),D.dispersion&&s.enable(20),D.batchingColor&&s.enable(21),D.gradientMap&&s.enable(22),L.push(s.mask),s.disableAll(),D.fog&&s.enable(0),D.useFog&&s.enable(1),D.flatShading&&s.enable(2),D.logarithmicDepthBuffer&&s.enable(3),D.reversedDepthBuffer&&s.enable(4),D.skinning&&s.enable(5),D.morphTargets&&s.enable(6),D.morphNormals&&s.enable(7),D.morphColors&&s.enable(8),D.premultipliedAlpha&&s.enable(9),D.shadowMapEnabled&&s.enable(10),D.doubleSided&&s.enable(11),D.flipSided&&s.enable(12),D.useDepthPacking&&s.enable(13),D.dithering&&s.enable(14),D.transmission&&s.enable(15),D.sheen&&s.enable(16),D.opaque&&s.enable(17),D.pointsUvs&&s.enable(18),D.decodeVideoTexture&&s.enable(19),D.decodeVideoTextureEmissive&&s.enable(20),D.alphaToCoverage&&s.enable(21),L.push(s.mask)}function M(L){const D=g[L.type];let z;if(D){const $=el[D];z=rH.clone($.uniforms)}else z=L.uniforms;return z}function O(L,D){let z;for(let $=0,Y=d.length;$<Y;$++){const j=d[$];if(j.cacheKey===D){z=j,++z.usedTimes;break}}return z===void 0&&(z=new ZFe(n,D,L,a),d.push(z)),z}function I(L){if(--L.usedTimes===0){const D=d.indexOf(L);d[D]=d[d.length-1],d.pop(),L.destroy()}}function U(L){l.remove(L)}function F(){l.dispose()}return{getParameters:b,getProgramCacheKey:_,getUniforms:M,acquireProgram:O,releaseProgram:I,releaseShaderCache:U,programs:d,dispose:F}}function nIe(){let n=new WeakMap;function e(o){return n.has(o)}function t(o){let s=n.get(o);return s===void 0&&(s={},n.set(o,s)),s}function r(o){n.delete(o)}function i(o,s,l){n.get(o)[s]=l}function a(){n=new WeakMap}return{has:e,get:t,remove:r,update:i,dispose:a}}function rIe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function UN(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function BN(){const n=[];let e=0;const t=[],r=[],i=[];function a(){e=0,t.length=0,r.length=0,i.length=0}function o(h,m,v,g,x,b){let _=n[e];return _===void 0?(_={id:h.id,object:h,geometry:m,material:v,groupOrder:g,renderOrder:h.renderOrder,z:x,group:b},n[e]=_):(_.id=h.id,_.object=h,_.geometry=m,_.material=v,_.groupOrder=g,_.renderOrder=h.renderOrder,_.z=x,_.group=b),e++,_}function s(h,m,v,g,x,b){const _=o(h,m,v,g,x,b);v.transmission>0?r.push(_):v.transparent===!0?i.push(_):t.push(_)}function l(h,m,v,g,x,b){const _=o(h,m,v,g,x,b);v.transmission>0?r.unshift(_):v.transparent===!0?i.unshift(_):t.unshift(_)}function c(h,m){t.length>1&&t.sort(h||rIe),r.length>1&&r.sort(m||UN),i.length>1&&i.sort(m||UN)}function d(){for(let h=e,m=n.length;h<m;h++){const v=n[h];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:t,transmissive:r,transparent:i,init:a,push:s,unshift:l,finish:d,sort:c}}function iIe(){let n=new WeakMap;function e(r,i){const a=n.get(r);let o;return a===void 0?(o=new BN,n.set(r,[o])):i>=a.length?(o=new BN,a.push(o)):o=a[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function aIe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new he,color:new It};break;case"SpotLight":t={position:new he,direction:new he,color:new It,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new he,color:new It,distance:0,decay:0};break;case"HemisphereLight":t={direction:new he,skyColor:new It,groundColor:new It};break;case"RectAreaLight":t={color:new It,position:new he,halfWidth:new he,halfHeight:new he};break}return n[e.id]=t,t}}}function oIe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ot};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ot};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ot,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let sIe=0;function lIe(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function cIe(n){const e=new aIe,t=oIe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new he);const i=new he,a=new on,o=new on;function s(c){let d=0,h=0,m=0;for(let L=0;L<9;L++)r.probe[L].set(0,0,0);let v=0,g=0,x=0,b=0,_=0,C=0,T=0,M=0,O=0,I=0,U=0;c.sort(lIe);for(let L=0,D=c.length;L<D;L++){const z=c[L],$=z.color,Y=z.intensity,j=z.distance,V=z.shadow&&z.shadow.map?z.shadow.map.texture:null;if(z.isAmbientLight)d+=$.r*Y,h+=$.g*Y,m+=$.b*Y;else if(z.isLightProbe){for(let B=0;B<9;B++)r.probe[B].addScaledVector(z.sh.coefficients[B],Y);U++}else if(z.isDirectionalLight){const B=e.get(z);if(B.color.copy(z.color).multiplyScalar(z.intensity),z.castShadow){const G=z.shadow,W=t.get(z);W.shadowIntensity=G.intensity,W.shadowBias=G.bias,W.shadowNormalBias=G.normalBias,W.shadowRadius=G.radius,W.shadowMapSize=G.mapSize,r.directionalShadow[v]=W,r.directionalShadowMap[v]=V,r.directionalShadowMatrix[v]=z.shadow.matrix,C++}r.directional[v]=B,v++}else if(z.isSpotLight){const B=e.get(z);B.position.setFromMatrixPosition(z.matrixWorld),B.color.copy($).multiplyScalar(Y),B.distance=j,B.coneCos=Math.cos(z.angle),B.penumbraCos=Math.cos(z.angle*(1-z.penumbra)),B.decay=z.decay,r.spot[x]=B;const G=z.shadow;if(z.map&&(r.spotLightMap[O]=z.map,O++,G.updateMatrices(z),z.castShadow&&I++),r.spotLightMatrix[x]=G.matrix,z.castShadow){const W=t.get(z);W.shadowIntensity=G.intensity,W.shadowBias=G.bias,W.shadowNormalBias=G.normalBias,W.shadowRadius=G.radius,W.shadowMapSize=G.mapSize,r.spotShadow[x]=W,r.spotShadowMap[x]=V,M++}x++}else if(z.isRectAreaLight){const B=e.get(z);B.color.copy($).multiplyScalar(Y),B.halfWidth.set(z.width*.5,0,0),B.halfHeight.set(0,z.height*.5,0),r.rectArea[b]=B,b++}else if(z.isPointLight){const B=e.get(z);if(B.color.copy(z.color).multiplyScalar(z.intensity),B.distance=z.distance,B.decay=z.decay,z.castShadow){const G=z.shadow,W=t.get(z);W.shadowIntensity=G.intensity,W.shadowBias=G.bias,W.shadowNormalBias=G.normalBias,W.shadowRadius=G.radius,W.shadowMapSize=G.mapSize,W.shadowCameraNear=G.camera.near,W.shadowCameraFar=G.camera.far,r.pointShadow[g]=W,r.pointShadowMap[g]=V,r.pointShadowMatrix[g]=z.shadow.matrix,T++}r.point[g]=B,g++}else if(z.isHemisphereLight){const B=e.get(z);B.skyColor.copy(z.color).multiplyScalar(Y),B.groundColor.copy(z.groundColor).multiplyScalar(Y),r.hemi[_]=B,_++}}b>0&&(n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Mt.LTC_FLOAT_1,r.rectAreaLTC2=Mt.LTC_FLOAT_2):(r.rectAreaLTC1=Mt.LTC_HALF_1,r.rectAreaLTC2=Mt.LTC_HALF_2)),r.ambient[0]=d,r.ambient[1]=h,r.ambient[2]=m;const F=r.hash;(F.directionalLength!==v||F.pointLength!==g||F.spotLength!==x||F.rectAreaLength!==b||F.hemiLength!==_||F.numDirectionalShadows!==C||F.numPointShadows!==T||F.numSpotShadows!==M||F.numSpotMaps!==O||F.numLightProbes!==U)&&(r.directional.length=v,r.spot.length=x,r.rectArea.length=b,r.point.length=g,r.hemi.length=_,r.directionalShadow.length=C,r.directionalShadowMap.length=C,r.pointShadow.length=T,r.pointShadowMap.length=T,r.spotShadow.length=M,r.spotShadowMap.length=M,r.directionalShadowMatrix.length=C,r.pointShadowMatrix.length=T,r.spotLightMatrix.length=M+O-I,r.spotLightMap.length=O,r.numSpotLightShadowsWithMaps=I,r.numLightProbes=U,F.directionalLength=v,F.pointLength=g,F.spotLength=x,F.rectAreaLength=b,F.hemiLength=_,F.numDirectionalShadows=C,F.numPointShadows=T,F.numSpotShadows=M,F.numSpotMaps=O,F.numLightProbes=U,r.version=sIe++)}function l(c,d){let h=0,m=0,v=0,g=0,x=0;const b=d.matrixWorldInverse;for(let _=0,C=c.length;_<C;_++){const T=c[_];if(T.isDirectionalLight){const M=r.directional[h];M.direction.setFromMatrixPosition(T.matrixWorld),i.setFromMatrixPosition(T.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(b),h++}else if(T.isSpotLight){const M=r.spot[v];M.position.setFromMatrixPosition(T.matrixWorld),M.position.applyMatrix4(b),M.direction.setFromMatrixPosition(T.matrixWorld),i.setFromMatrixPosition(T.target.matrixWorld),M.direction.sub(i),M.direction.transformDirection(b),v++}else if(T.isRectAreaLight){const M=r.rectArea[g];M.position.setFromMatrixPosition(T.matrixWorld),M.position.applyMatrix4(b),o.identity(),a.copy(T.matrixWorld),a.premultiply(b),o.extractRotation(a),M.halfWidth.set(T.width*.5,0,0),M.halfHeight.set(0,T.height*.5,0),M.halfWidth.applyMatrix4(o),M.halfHeight.applyMatrix4(o),g++}else if(T.isPointLight){const M=r.point[m];M.position.setFromMatrixPosition(T.matrixWorld),M.position.applyMatrix4(b),m++}else if(T.isHemisphereLight){const M=r.hemi[x];M.direction.setFromMatrixPosition(T.matrixWorld),M.direction.transformDirection(b),x++}}}return{setup:s,setupView:l,state:r}}function zN(n){const e=new cIe(n),t=[],r=[];function i(d){c.camera=d,t.length=0,r.length=0}function a(d){t.push(d)}function o(d){r.push(d)}function s(){e.setup(t)}function l(d){e.setupView(t,d)}const c={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:s,setupLightsView:l,pushLight:a,pushShadow:o}}function uIe(n){let e=new WeakMap;function t(i,a=0){const o=e.get(i);let s;return o===void 0?(s=new zN(n),e.set(i,[s])):a>=o.length?(s=new zN(n),o.push(s)):s=o[a],s}function r(){e=new WeakMap}return{get:t,dispose:r}}const dIe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fIe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function hIe(n,e,t){let r=new eg;const i=new ot,a=new ot,o=new tr,s=new S2({depthPacking:$5}),l=new C2,c={},d=t.maxTextureSize,h={[Kc]:Xa,[Xa]:Kc,[_s]:_s},m=new al({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ot},radius:{value:4}},vertexShader:dIe,fragmentShader:fIe}),v=m.clone();v.defines.HORIZONTAL_PASS=1;const g=new bn;g.setAttribute("position",new Er(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new Ri(g,m),b=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=xw;let _=this.type;this.render=function(I,U,F){if(b.enabled===!1||b.autoUpdate===!1&&b.needsUpdate===!1||I.length===0)return;const L=n.getRenderTarget(),D=n.getActiveCubeFace(),z=n.getActiveMipmapLevel(),$=n.state;$.setBlending(Gc),$.buffers.depth.getReversed()===!0?$.buffers.color.setClear(0,0,0,0):$.buffers.color.setClear(1,1,1,1),$.buffers.depth.setTest(!0),$.setScissorTest(!1);const Y=_!==Js&&this.type===Js,j=_===Js&&this.type!==Js;for(let V=0,B=I.length;V<B;V++){const G=I[V],W=G.shadow;if(W===void 0){console.warn("THREE.WebGLShadowMap:",G,"has no shadow.");continue}if(W.autoUpdate===!1&&W.needsUpdate===!1)continue;i.copy(W.mapSize);const Z=W.getFrameExtents();if(i.multiply(Z),a.copy(W.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(a.x=Math.floor(d/Z.x),i.x=a.x*Z.x,W.mapSize.x=a.x),i.y>d&&(a.y=Math.floor(d/Z.y),i.y=a.y*Z.y,W.mapSize.y=a.y)),W.map===null||Y===!0||j===!0){const Q=this.type!==Js?{minFilter:ha,magFilter:ha}:{};W.map!==null&&W.map.dispose(),W.map=new jl(i.x,i.y,Q),W.map.texture.name=G.name+".shadowMap",W.camera.updateProjectionMatrix()}n.setRenderTarget(W.map),n.clear();const J=W.getViewportCount();for(let Q=0;Q<J;Q++){const ue=W.getViewport(Q);o.set(a.x*ue.x,a.y*ue.y,a.x*ue.z,a.y*ue.w),$.viewport(o),W.updateMatrices(G,Q),r=W.getFrustum(),M(U,F,W.camera,G,this.type)}W.isPointLightShadow!==!0&&this.type===Js&&C(W,F),W.needsUpdate=!1}_=this.type,b.needsUpdate=!1,n.setRenderTarget(L,D,z)};function C(I,U){const F=e.update(x);m.defines.VSM_SAMPLES!==I.blurSamples&&(m.defines.VSM_SAMPLES=I.blurSamples,v.defines.VSM_SAMPLES=I.blurSamples,m.needsUpdate=!0,v.needsUpdate=!0),I.mapPass===null&&(I.mapPass=new jl(i.x,i.y)),m.uniforms.shadow_pass.value=I.map.texture,m.uniforms.resolution.value=I.mapSize,m.uniforms.radius.value=I.radius,n.setRenderTarget(I.mapPass),n.clear(),n.renderBufferDirect(U,null,F,m,x,null),v.uniforms.shadow_pass.value=I.mapPass.texture,v.uniforms.resolution.value=I.mapSize,v.uniforms.radius.value=I.radius,n.setRenderTarget(I.map),n.clear(),n.renderBufferDirect(U,null,F,v,x,null)}function T(I,U,F,L){let D=null;const z=F.isPointLight===!0?I.customDistanceMaterial:I.customDepthMaterial;if(z!==void 0)D=z;else if(D=F.isPointLight===!0?l:s,n.localClippingEnabled&&U.clipShadows===!0&&Array.isArray(U.clippingPlanes)&&U.clippingPlanes.length!==0||U.displacementMap&&U.displacementScale!==0||U.alphaMap&&U.alphaTest>0||U.map&&U.alphaTest>0||U.alphaToCoverage===!0){const $=D.uuid,Y=U.uuid;let j=c[$];j===void 0&&(j={},c[$]=j);let V=j[Y];V===void 0&&(V=D.clone(),j[Y]=V,U.addEventListener("dispose",O)),D=V}if(D.visible=U.visible,D.wireframe=U.wireframe,L===Js?D.side=U.shadowSide!==null?U.shadowSide:U.side:D.side=U.shadowSide!==null?U.shadowSide:h[U.side],D.alphaMap=U.alphaMap,D.alphaTest=U.alphaToCoverage===!0?.5:U.alphaTest,D.map=U.map,D.clipShadows=U.clipShadows,D.clippingPlanes=U.clippingPlanes,D.clipIntersection=U.clipIntersection,D.displacementMap=U.displacementMap,D.displacementScale=U.displacementScale,D.displacementBias=U.displacementBias,D.wireframeLinewidth=U.wireframeLinewidth,D.linewidth=U.linewidth,F.isPointLight===!0&&D.isMeshDistanceMaterial===!0){const $=n.properties.get(D);$.light=F}return D}function M(I,U,F,L,D){if(I.visible===!1)return;if(I.layers.test(U.layers)&&(I.isMesh||I.isLine||I.isPoints)&&(I.castShadow||I.receiveShadow&&D===Js)&&(!I.frustumCulled||r.intersectsObject(I))){I.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,I.matrixWorld);const Y=e.update(I),j=I.material;if(Array.isArray(j)){const V=Y.groups;for(let B=0,G=V.length;B<G;B++){const W=V[B],Z=j[W.materialIndex];if(Z&&Z.visible){const J=T(I,Z,L,D);I.onBeforeShadow(n,I,U,F,Y,J,W),n.renderBufferDirect(F,null,Y,J,I,W),I.onAfterShadow(n,I,U,F,Y,J,W)}}}else if(j.visible){const V=T(I,j,L,D);I.onBeforeShadow(n,I,U,F,Y,V,null),n.renderBufferDirect(F,null,Y,V,I,null),I.onAfterShadow(n,I,U,F,Y,V,null)}}const $=I.children;for(let Y=0,j=$.length;Y<j;Y++)M($[Y],U,F,L,D)}function O(I){I.target.removeEventListener("dispose",O);for(const F in c){const L=c[F],D=I.target.uuid;D in L&&(L[D].dispose(),delete L[D])}}}const pIe={[R1]:P1,[O1]:D1,[F1]:L1,[Wf]:I1,[P1]:R1,[D1]:O1,[L1]:F1,[I1]:Wf};function mIe(n,e){function t(){let me=!1;const Xe=new tr;let tt=null;const ct=new tr(0,0,0,0);return{setMask:function(nt){tt!==nt&&!me&&(n.colorMask(nt,nt,nt,nt),tt=nt)},setLocked:function(nt){me=nt},setClear:function(nt,Qe,pt,Rt,Yt){Yt===!0&&(nt*=Rt,Qe*=Rt,pt*=Rt),Xe.set(nt,Qe,pt,Rt),ct.equals(Xe)===!1&&(n.clearColor(nt,Qe,pt,Rt),ct.copy(Xe))},reset:function(){me=!1,tt=null,ct.set(-1,0,0,0)}}}function r(){let me=!1,Xe=!1,tt=null,ct=null,nt=null;return{setReversed:function(Qe){if(Xe!==Qe){const pt=e.get("EXT_clip_control");Qe?pt.clipControlEXT(pt.LOWER_LEFT_EXT,pt.ZERO_TO_ONE_EXT):pt.clipControlEXT(pt.LOWER_LEFT_EXT,pt.NEGATIVE_ONE_TO_ONE_EXT),Xe=Qe;const Rt=nt;nt=null,this.setClear(Rt)}},getReversed:function(){return Xe},setTest:function(Qe){Qe?ee(n.DEPTH_TEST):xe(n.DEPTH_TEST)},setMask:function(Qe){tt!==Qe&&!me&&(n.depthMask(Qe),tt=Qe)},setFunc:function(Qe){if(Xe&&(Qe=pIe[Qe]),ct!==Qe){switch(Qe){case R1:n.depthFunc(n.NEVER);break;case P1:n.depthFunc(n.ALWAYS);break;case O1:n.depthFunc(n.LESS);break;case Wf:n.depthFunc(n.LEQUAL);break;case F1:n.depthFunc(n.EQUAL);break;case I1:n.depthFunc(n.GEQUAL);break;case D1:n.depthFunc(n.GREATER);break;case L1:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}ct=Qe}},setLocked:function(Qe){me=Qe},setClear:function(Qe){nt!==Qe&&(Xe&&(Qe=1-Qe),n.clearDepth(Qe),nt=Qe)},reset:function(){me=!1,tt=null,ct=null,nt=null,Xe=!1}}}function i(){let me=!1,Xe=null,tt=null,ct=null,nt=null,Qe=null,pt=null,Rt=null,Yt=null;return{setTest:function(Kt){me||(Kt?ee(n.STENCIL_TEST):xe(n.STENCIL_TEST))},setMask:function(Kt){Xe!==Kt&&!me&&(n.stencilMask(Kt),Xe=Kt)},setFunc:function(Kt,cr,jr){(tt!==Kt||ct!==cr||nt!==jr)&&(n.stencilFunc(Kt,cr,jr),tt=Kt,ct=cr,nt=jr)},setOp:function(Kt,cr,jr){(Qe!==Kt||pt!==cr||Rt!==jr)&&(n.stencilOp(Kt,cr,jr),Qe=Kt,pt=cr,Rt=jr)},setLocked:function(Kt){me=Kt},setClear:function(Kt){Yt!==Kt&&(n.clearStencil(Kt),Yt=Kt)},reset:function(){me=!1,Xe=null,tt=null,ct=null,nt=null,Qe=null,pt=null,Rt=null,Yt=null}}}const a=new t,o=new r,s=new i,l=new WeakMap,c=new WeakMap;let d={},h={},m=new WeakMap,v=[],g=null,x=!1,b=null,_=null,C=null,T=null,M=null,O=null,I=null,U=new It(0,0,0),F=0,L=!1,D=null,z=null,$=null,Y=null,j=null;const V=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let B=!1,G=0;const W=n.getParameter(n.VERSION);W.indexOf("WebGL")!==-1?(G=parseFloat(/^WebGL (\d)/.exec(W)[1]),B=G>=1):W.indexOf("OpenGL ES")!==-1&&(G=parseFloat(/^OpenGL ES (\d)/.exec(W)[1]),B=G>=2);let Z=null,J={};const Q=n.getParameter(n.SCISSOR_BOX),ue=n.getParameter(n.VIEWPORT),se=new tr().fromArray(Q),ae=new tr().fromArray(ue);function ie(me,Xe,tt,ct){const nt=new Uint8Array(4),Qe=n.createTexture();n.bindTexture(me,Qe),n.texParameteri(me,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(me,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let pt=0;pt<tt;pt++)me===n.TEXTURE_3D||me===n.TEXTURE_2D_ARRAY?n.texImage3D(Xe,0,n.RGBA,1,1,ct,0,n.RGBA,n.UNSIGNED_BYTE,nt):n.texImage2D(Xe+pt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,nt);return Qe}const te={};te[n.TEXTURE_2D]=ie(n.TEXTURE_2D,n.TEXTURE_2D,1),te[n.TEXTURE_CUBE_MAP]=ie(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),te[n.TEXTURE_2D_ARRAY]=ie(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),te[n.TEXTURE_3D]=ie(n.TEXTURE_3D,n.TEXTURE_3D,1,1),a.setClear(0,0,0,1),o.setClear(1),s.setClear(0),ee(n.DEPTH_TEST),o.setFunc(Wf),ge(!1),fe(hR),ee(n.CULL_FACE),Ce(Gc);function ee(me){d[me]!==!0&&(n.enable(me),d[me]=!0)}function xe(me){d[me]!==!1&&(n.disable(me),d[me]=!1)}function Ee(me,Xe){return h[me]!==Xe?(n.bindFramebuffer(me,Xe),h[me]=Xe,me===n.DRAW_FRAMEBUFFER&&(h[n.FRAMEBUFFER]=Xe),me===n.FRAMEBUFFER&&(h[n.DRAW_FRAMEBUFFER]=Xe),!0):!1}function Se(me,Xe){let tt=v,ct=!1;if(me){tt=m.get(Xe),tt===void 0&&(tt=[],m.set(Xe,tt));const nt=me.textures;if(tt.length!==nt.length||tt[0]!==n.COLOR_ATTACHMENT0){for(let Qe=0,pt=nt.length;Qe<pt;Qe++)tt[Qe]=n.COLOR_ATTACHMENT0+Qe;tt.length=nt.length,ct=!0}}else tt[0]!==n.BACK&&(tt[0]=n.BACK,ct=!0);ct&&n.drawBuffers(tt)}function ze(me){return g!==me?(n.useProgram(me),g=me,!0):!1}const Ue={[Du]:n.FUNC_ADD,[h5]:n.FUNC_SUBTRACT,[p5]:n.FUNC_REVERSE_SUBTRACT};Ue[m5]=n.MIN,Ue[g5]=n.MAX;const re={[v5]:n.ZERO,[y5]:n.ONE,[b5]:n.SRC_COLOR,[E1]:n.SRC_ALPHA,[T5]:n.SRC_ALPHA_SATURATE,[C5]:n.DST_COLOR,[_5]:n.DST_ALPHA,[x5]:n.ONE_MINUS_SRC_COLOR,[A1]:n.ONE_MINUS_SRC_ALPHA,[w5]:n.ONE_MINUS_DST_COLOR,[S5]:n.ONE_MINUS_DST_ALPHA,[M5]:n.CONSTANT_COLOR,[E5]:n.ONE_MINUS_CONSTANT_COLOR,[A5]:n.CONSTANT_ALPHA,[R5]:n.ONE_MINUS_CONSTANT_ALPHA};function Ce(me,Xe,tt,ct,nt,Qe,pt,Rt,Yt,Kt){if(me===Gc){x===!0&&(xe(n.BLEND),x=!1);return}if(x===!1&&(ee(n.BLEND),x=!0),me!==f5){if(me!==b||Kt!==L){if((_!==Du||M!==Du)&&(n.blendEquation(n.FUNC_ADD),_=Du,M=Du),Kt)switch(me){case If:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case pR:n.blendFunc(n.ONE,n.ONE);break;case mR:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case gR:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",me);break}else switch(me){case If:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case pR:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case mR:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case gR:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",me);break}C=null,T=null,O=null,I=null,U.set(0,0,0),F=0,b=me,L=Kt}return}nt=nt||Xe,Qe=Qe||tt,pt=pt||ct,(Xe!==_||nt!==M)&&(n.blendEquationSeparate(Ue[Xe],Ue[nt]),_=Xe,M=nt),(tt!==C||ct!==T||Qe!==O||pt!==I)&&(n.blendFuncSeparate(re[tt],re[ct],re[Qe],re[pt]),C=tt,T=ct,O=Qe,I=pt),(Rt.equals(U)===!1||Yt!==F)&&(n.blendColor(Rt.r,Rt.g,Rt.b,Yt),U.copy(Rt),F=Yt),b=me,L=!1}function Fe(me,Xe){me.side===_s?xe(n.CULL_FACE):ee(n.CULL_FACE);let tt=me.side===Xa;Xe&&(tt=!tt),ge(tt),me.blending===If&&me.transparent===!1?Ce(Gc):Ce(me.blending,me.blendEquation,me.blendSrc,me.blendDst,me.blendEquationAlpha,me.blendSrcAlpha,me.blendDstAlpha,me.blendColor,me.blendAlpha,me.premultipliedAlpha),o.setFunc(me.depthFunc),o.setTest(me.depthTest),o.setMask(me.depthWrite),a.setMask(me.colorWrite);const ct=me.stencilWrite;s.setTest(ct),ct&&(s.setMask(me.stencilWriteMask),s.setFunc(me.stencilFunc,me.stencilRef,me.stencilFuncMask),s.setOp(me.stencilFail,me.stencilZFail,me.stencilZPass)),be(me.polygonOffset,me.polygonOffsetFactor,me.polygonOffsetUnits),me.alphaToCoverage===!0?ee(n.SAMPLE_ALPHA_TO_COVERAGE):xe(n.SAMPLE_ALPHA_TO_COVERAGE)}function ge(me){D!==me&&(me?n.frontFace(n.CW):n.frontFace(n.CCW),D=me)}function fe(me){me!==c5?(ee(n.CULL_FACE),me!==z&&(me===hR?n.cullFace(n.BACK):me===u5?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):xe(n.CULL_FACE),z=me}function ve(me){me!==$&&(B&&n.lineWidth(me),$=me)}function be(me,Xe,tt){me?(ee(n.POLYGON_OFFSET_FILL),(Y!==Xe||j!==tt)&&(n.polygonOffset(Xe,tt),Y=Xe,j=tt)):xe(n.POLYGON_OFFSET_FILL)}function we(me){me?ee(n.SCISSOR_TEST):xe(n.SCISSOR_TEST)}function Ie(me){me===void 0&&(me=n.TEXTURE0+V-1),Z!==me&&(n.activeTexture(me),Z=me)}function Ae(me,Xe,tt){tt===void 0&&(Z===null?tt=n.TEXTURE0+V-1:tt=Z);let ct=J[tt];ct===void 0&&(ct={type:void 0,texture:void 0},J[tt]=ct),(ct.type!==me||ct.texture!==Xe)&&(Z!==tt&&(n.activeTexture(tt),Z=tt),n.bindTexture(me,Xe||te[me]),ct.type=me,ct.texture=Xe)}function X(){const me=J[Z];me!==void 0&&me.type!==void 0&&(n.bindTexture(me.type,null),me.type=void 0,me.texture=void 0)}function q(){try{n.compressedTexImage2D(...arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function ye(){try{n.compressedTexImage3D(...arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Re(){try{n.texSubImage2D(...arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Ge(){try{n.texSubImage3D(...arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Le(){try{n.compressedTexSubImage2D(...arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function ht(){try{n.compressedTexSubImage3D(...arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function et(){try{n.texStorage2D(...arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function xt(){try{n.texStorage3D(...arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function St(){try{n.texImage2D(...arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function st(){try{n.texImage3D(...arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function dt(me){se.equals(me)===!1&&(n.scissor(me.x,me.y,me.z,me.w),se.copy(me))}function Ft(me){ae.equals(me)===!1&&(n.viewport(me.x,me.y,me.z,me.w),ae.copy(me))}function pe(me,Xe){let tt=c.get(Xe);tt===void 0&&(tt=new WeakMap,c.set(Xe,tt));let ct=tt.get(me);ct===void 0&&(ct=n.getUniformBlockIndex(Xe,me.name),tt.set(me,ct))}function Te(me,Xe){const ct=c.get(Xe).get(me);l.get(Xe)!==ct&&(n.uniformBlockBinding(Xe,ct,me.__bindingPointIndex),l.set(Xe,ct))}function $e(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),d={},Z=null,J={},h={},m=new WeakMap,v=[],g=null,x=!1,b=null,_=null,C=null,T=null,M=null,O=null,I=null,U=new It(0,0,0),F=0,L=!1,D=null,z=null,$=null,Y=null,j=null,se.set(0,0,n.canvas.width,n.canvas.height),ae.set(0,0,n.canvas.width,n.canvas.height),a.reset(),o.reset(),s.reset()}return{buffers:{color:a,depth:o,stencil:s},enable:ee,disable:xe,bindFramebuffer:Ee,drawBuffers:Se,useProgram:ze,setBlending:Ce,setMaterial:Fe,setFlipSided:ge,setCullFace:fe,setLineWidth:ve,setPolygonOffset:be,setScissorTest:we,activeTexture:Ie,bindTexture:Ae,unbindTexture:X,compressedTexImage2D:q,compressedTexImage3D:ye,texImage2D:St,texImage3D:st,updateUBOMapping:pe,uniformBlockBinding:Te,texStorage2D:et,texStorage3D:xt,texSubImage2D:Re,texSubImage3D:Ge,compressedTexSubImage2D:Le,compressedTexSubImage3D:ht,scissor:dt,viewport:Ft,reset:$e}}function gIe(n,e,t,r,i,a,o){const s=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator=="undefined"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new ot,d=new WeakMap;let h;const m=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas!="undefined"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch(X){}function g(X,q){return v?new OffscreenCanvas(X,q):ay("canvas")}function x(X,q,ye){let Re=1;const Ge=Ae(X);if((Ge.width>ye||Ge.height>ye)&&(Re=ye/Math.max(Ge.width,Ge.height)),Re<1)if(typeof HTMLImageElement!="undefined"&&X instanceof HTMLImageElement||typeof HTMLCanvasElement!="undefined"&&X instanceof HTMLCanvasElement||typeof ImageBitmap!="undefined"&&X instanceof ImageBitmap||typeof VideoFrame!="undefined"&&X instanceof VideoFrame){const Le=Math.floor(Re*Ge.width),ht=Math.floor(Re*Ge.height);h===void 0&&(h=g(Le,ht));const et=q?g(Le,ht):h;return et.width=Le,et.height=ht,et.getContext("2d").drawImage(X,0,0,Le,ht),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ge.width+"x"+Ge.height+") to ("+Le+"x"+ht+")."),et}else return"data"in X&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ge.width+"x"+Ge.height+")."),X;return X}function b(X){return X.generateMipmaps}function _(X){n.generateMipmap(X)}function C(X){return X.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:X.isWebGL3DRenderTarget?n.TEXTURE_3D:X.isWebGLArrayRenderTarget||X.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function T(X,q,ye,Re,Ge=!1){if(X!==null){if(n[X]!==void 0)return n[X];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+X+"'")}let Le=q;if(q===n.RED&&(ye===n.FLOAT&&(Le=n.R32F),ye===n.HALF_FLOAT&&(Le=n.R16F),ye===n.UNSIGNED_BYTE&&(Le=n.R8)),q===n.RED_INTEGER&&(ye===n.UNSIGNED_BYTE&&(Le=n.R8UI),ye===n.UNSIGNED_SHORT&&(Le=n.R16UI),ye===n.UNSIGNED_INT&&(Le=n.R32UI),ye===n.BYTE&&(Le=n.R8I),ye===n.SHORT&&(Le=n.R16I),ye===n.INT&&(Le=n.R32I)),q===n.RG&&(ye===n.FLOAT&&(Le=n.RG32F),ye===n.HALF_FLOAT&&(Le=n.RG16F),ye===n.UNSIGNED_BYTE&&(Le=n.RG8)),q===n.RG_INTEGER&&(ye===n.UNSIGNED_BYTE&&(Le=n.RG8UI),ye===n.UNSIGNED_SHORT&&(Le=n.RG16UI),ye===n.UNSIGNED_INT&&(Le=n.RG32UI),ye===n.BYTE&&(Le=n.RG8I),ye===n.SHORT&&(Le=n.RG16I),ye===n.INT&&(Le=n.RG32I)),q===n.RGB_INTEGER&&(ye===n.UNSIGNED_BYTE&&(Le=n.RGB8UI),ye===n.UNSIGNED_SHORT&&(Le=n.RGB16UI),ye===n.UNSIGNED_INT&&(Le=n.RGB32UI),ye===n.BYTE&&(Le=n.RGB8I),ye===n.SHORT&&(Le=n.RGB16I),ye===n.INT&&(Le=n.RGB32I)),q===n.RGBA_INTEGER&&(ye===n.UNSIGNED_BYTE&&(Le=n.RGBA8UI),ye===n.UNSIGNED_SHORT&&(Le=n.RGBA16UI),ye===n.UNSIGNED_INT&&(Le=n.RGBA32UI),ye===n.BYTE&&(Le=n.RGBA8I),ye===n.SHORT&&(Le=n.RGBA16I),ye===n.INT&&(Le=n.RGBA32I)),q===n.RGB&&(ye===n.UNSIGNED_INT_5_9_9_9_REV&&(Le=n.RGB9_E5),ye===n.UNSIGNED_INT_10F_11F_11F_REV&&(Le=n.R11F_G11F_B10F)),q===n.RGBA){const ht=Ge?ry:Vn.getTransfer(Re);ye===n.FLOAT&&(Le=n.RGBA32F),ye===n.HALF_FLOAT&&(Le=n.RGBA16F),ye===n.UNSIGNED_BYTE&&(Le=ht===br?n.SRGB8_ALPHA8:n.RGBA8),ye===n.UNSIGNED_SHORT_4_4_4_4&&(Le=n.RGBA4),ye===n.UNSIGNED_SHORT_5_5_5_1&&(Le=n.RGB5_A1)}return(Le===n.R16F||Le===n.R32F||Le===n.RG16F||Le===n.RG32F||Le===n.RGBA16F||Le===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Le}function M(X,q){let ye;return X?q===null||q===Jc||q===wm?ye=n.DEPTH24_STENCIL8:q===bo?ye=n.DEPTH32F_STENCIL8:q===Cm&&(ye=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):q===null||q===Jc||q===wm?ye=n.DEPTH_COMPONENT24:q===bo?ye=n.DEPTH_COMPONENT32F:q===Cm&&(ye=n.DEPTH_COMPONENT16),ye}function O(X,q){return b(X)===!0||X.isFramebufferTexture&&X.minFilter!==ha&&X.minFilter!==Hi?Math.log2(Math.max(q.width,q.height))+1:X.mipmaps!==void 0&&X.mipmaps.length>0?X.mipmaps.length:X.isCompressedTexture&&Array.isArray(X.image)?q.mipmaps.length:1}function I(X){const q=X.target;q.removeEventListener("dispose",I),F(q),q.isVideoTexture&&d.delete(q)}function U(X){const q=X.target;q.removeEventListener("dispose",U),D(q)}function F(X){const q=r.get(X);if(q.__webglInit===void 0)return;const ye=X.source,Re=m.get(ye);if(Re){const Ge=Re[q.__cacheKey];Ge.usedTimes--,Ge.usedTimes===0&&L(X),Object.keys(Re).length===0&&m.delete(ye)}r.remove(X)}function L(X){const q=r.get(X);n.deleteTexture(q.__webglTexture);const ye=X.source,Re=m.get(ye);delete Re[q.__cacheKey],o.memory.textures--}function D(X){const q=r.get(X);if(X.depthTexture&&(X.depthTexture.dispose(),r.remove(X.depthTexture)),X.isWebGLCubeRenderTarget)for(let Re=0;Re<6;Re++){if(Array.isArray(q.__webglFramebuffer[Re]))for(let Ge=0;Ge<q.__webglFramebuffer[Re].length;Ge++)n.deleteFramebuffer(q.__webglFramebuffer[Re][Ge]);else n.deleteFramebuffer(q.__webglFramebuffer[Re]);q.__webglDepthbuffer&&n.deleteRenderbuffer(q.__webglDepthbuffer[Re])}else{if(Array.isArray(q.__webglFramebuffer))for(let Re=0;Re<q.__webglFramebuffer.length;Re++)n.deleteFramebuffer(q.__webglFramebuffer[Re]);else n.deleteFramebuffer(q.__webglFramebuffer);if(q.__webglDepthbuffer&&n.deleteRenderbuffer(q.__webglDepthbuffer),q.__webglMultisampledFramebuffer&&n.deleteFramebuffer(q.__webglMultisampledFramebuffer),q.__webglColorRenderbuffer)for(let Re=0;Re<q.__webglColorRenderbuffer.length;Re++)q.__webglColorRenderbuffer[Re]&&n.deleteRenderbuffer(q.__webglColorRenderbuffer[Re]);q.__webglDepthRenderbuffer&&n.deleteRenderbuffer(q.__webglDepthRenderbuffer)}const ye=X.textures;for(let Re=0,Ge=ye.length;Re<Ge;Re++){const Le=r.get(ye[Re]);Le.__webglTexture&&(n.deleteTexture(Le.__webglTexture),o.memory.textures--),r.remove(ye[Re])}r.remove(X)}let z=0;function $(){z=0}function Y(){const X=z;return X>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+X+" texture units while this GPU supports only "+i.maxTextures),z+=1,X}function j(X){const q=[];return q.push(X.wrapS),q.push(X.wrapT),q.push(X.wrapR||0),q.push(X.magFilter),q.push(X.minFilter),q.push(X.anisotropy),q.push(X.internalFormat),q.push(X.format),q.push(X.type),q.push(X.generateMipmaps),q.push(X.premultiplyAlpha),q.push(X.flipY),q.push(X.unpackAlignment),q.push(X.colorSpace),q.join()}function V(X,q){const ye=r.get(X);if(X.isVideoTexture&&we(X),X.isRenderTargetTexture===!1&&X.isExternalTexture!==!0&&X.version>0&&ye.__version!==X.version){const Re=X.image;if(Re===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Re.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{te(ye,X,q);return}}else X.isExternalTexture&&(ye.__webglTexture=X.sourceTexture?X.sourceTexture:null);t.bindTexture(n.TEXTURE_2D,ye.__webglTexture,n.TEXTURE0+q)}function B(X,q){const ye=r.get(X);if(X.isRenderTargetTexture===!1&&X.version>0&&ye.__version!==X.version){te(ye,X,q);return}t.bindTexture(n.TEXTURE_2D_ARRAY,ye.__webglTexture,n.TEXTURE0+q)}function G(X,q){const ye=r.get(X);if(X.isRenderTargetTexture===!1&&X.version>0&&ye.__version!==X.version){te(ye,X,q);return}t.bindTexture(n.TEXTURE_3D,ye.__webglTexture,n.TEXTURE0+q)}function W(X,q){const ye=r.get(X);if(X.version>0&&ye.__version!==X.version){ee(ye,X,q);return}t.bindTexture(n.TEXTURE_CUBE_MAP,ye.__webglTexture,n.TEXTURE0+q)}const Z={[Q0]:n.REPEAT,[Ss]:n.CLAMP_TO_EDGE,[ey]:n.MIRRORED_REPEAT},J={[ha]:n.NEAREST,[YP]:n.NEAREST_MIPMAP_NEAREST,[Yp]:n.NEAREST_MIPMAP_LINEAR,[Hi]:n.LINEAR,[x0]:n.LINEAR_MIPMAP_NEAREST,[Ul]:n.LINEAR_MIPMAP_LINEAR},Q={[G5]:n.NEVER,[Z5]:n.ALWAYS,[W5]:n.LESS,[i2]:n.LEQUAL,[q5]:n.EQUAL,[K5]:n.GEQUAL,[X5]:n.GREATER,[Y5]:n.NOTEQUAL};function ue(X,q){if(q.type===bo&&e.has("OES_texture_float_linear")===!1&&(q.magFilter===Hi||q.magFilter===x0||q.magFilter===Yp||q.magFilter===Ul||q.minFilter===Hi||q.minFilter===x0||q.minFilter===Yp||q.minFilter===Ul)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(X,n.TEXTURE_WRAP_S,Z[q.wrapS]),n.texParameteri(X,n.TEXTURE_WRAP_T,Z[q.wrapT]),(X===n.TEXTURE_3D||X===n.TEXTURE_2D_ARRAY)&&n.texParameteri(X,n.TEXTURE_WRAP_R,Z[q.wrapR]),n.texParameteri(X,n.TEXTURE_MAG_FILTER,J[q.magFilter]),n.texParameteri(X,n.TEXTURE_MIN_FILTER,J[q.minFilter]),q.compareFunction&&(n.texParameteri(X,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(X,n.TEXTURE_COMPARE_FUNC,Q[q.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(q.magFilter===ha||q.minFilter!==Yp&&q.minFilter!==Ul||q.type===bo&&e.has("OES_texture_float_linear")===!1)return;if(q.anisotropy>1||r.get(q).__currentAnisotropy){const ye=e.get("EXT_texture_filter_anisotropic");n.texParameterf(X,ye.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(q.anisotropy,i.getMaxAnisotropy())),r.get(q).__currentAnisotropy=q.anisotropy}}}function se(X,q){let ye=!1;X.__webglInit===void 0&&(X.__webglInit=!0,q.addEventListener("dispose",I));const Re=q.source;let Ge=m.get(Re);Ge===void 0&&(Ge={},m.set(Re,Ge));const Le=j(q);if(Le!==X.__cacheKey){Ge[Le]===void 0&&(Ge[Le]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ye=!0),Ge[Le].usedTimes++;const ht=Ge[X.__cacheKey];ht!==void 0&&(Ge[X.__cacheKey].usedTimes--,ht.usedTimes===0&&L(q)),X.__cacheKey=Le,X.__webglTexture=Ge[Le].texture}return ye}function ae(X,q,ye){return Math.floor(Math.floor(X/ye)/q)}function ie(X,q,ye,Re){const Le=X.updateRanges;if(Le.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,q.width,q.height,ye,Re,q.data);else{Le.sort((st,dt)=>st.start-dt.start);let ht=0;for(let st=1;st<Le.length;st++){const dt=Le[ht],Ft=Le[st],pe=dt.start+dt.count,Te=ae(Ft.start,q.width,4),$e=ae(dt.start,q.width,4);Ft.start<=pe+1&&Te===$e&&ae(Ft.start+Ft.count-1,q.width,4)===Te?dt.count=Math.max(dt.count,Ft.start+Ft.count-dt.start):(++ht,Le[ht]=Ft)}Le.length=ht+1;const et=n.getParameter(n.UNPACK_ROW_LENGTH),xt=n.getParameter(n.UNPACK_SKIP_PIXELS),St=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,q.width);for(let st=0,dt=Le.length;st<dt;st++){const Ft=Le[st],pe=Math.floor(Ft.start/4),Te=Math.ceil(Ft.count/4),$e=pe%q.width,me=Math.floor(pe/q.width),Xe=Te,tt=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,$e),n.pixelStorei(n.UNPACK_SKIP_ROWS,me),t.texSubImage2D(n.TEXTURE_2D,0,$e,me,Xe,tt,ye,Re,q.data)}X.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,et),n.pixelStorei(n.UNPACK_SKIP_PIXELS,xt),n.pixelStorei(n.UNPACK_SKIP_ROWS,St)}}function te(X,q,ye){let Re=n.TEXTURE_2D;(q.isDataArrayTexture||q.isCompressedArrayTexture)&&(Re=n.TEXTURE_2D_ARRAY),q.isData3DTexture&&(Re=n.TEXTURE_3D);const Ge=se(X,q),Le=q.source;t.bindTexture(Re,X.__webglTexture,n.TEXTURE0+ye);const ht=r.get(Le);if(Le.version!==ht.__version||Ge===!0){t.activeTexture(n.TEXTURE0+ye);const et=Vn.getPrimaries(Vn.workingColorSpace),xt=q.colorSpace===zc?null:Vn.getPrimaries(q.colorSpace),St=q.colorSpace===zc||et===xt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,q.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,q.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,St);let st=x(q.image,!1,i.maxTextureSize);st=Ie(q,st);const dt=a.convert(q.format,q.colorSpace),Ft=a.convert(q.type);let pe=T(q.internalFormat,dt,Ft,q.colorSpace,q.isVideoTexture);ue(Re,q);let Te;const $e=q.mipmaps,me=q.isVideoTexture!==!0,Xe=ht.__version===void 0||Ge===!0,tt=Le.dataReady,ct=O(q,st);if(q.isDepthTexture)pe=M(q.format===Mm,q.type),Xe&&(me?t.texStorage2D(n.TEXTURE_2D,1,pe,st.width,st.height):t.texImage2D(n.TEXTURE_2D,0,pe,st.width,st.height,0,dt,Ft,null));else if(q.isDataTexture)if($e.length>0){me&&Xe&&t.texStorage2D(n.TEXTURE_2D,ct,pe,$e[0].width,$e[0].height);for(let nt=0,Qe=$e.length;nt<Qe;nt++)Te=$e[nt],me?tt&&t.texSubImage2D(n.TEXTURE_2D,nt,0,0,Te.width,Te.height,dt,Ft,Te.data):t.texImage2D(n.TEXTURE_2D,nt,pe,Te.width,Te.height,0,dt,Ft,Te.data);q.generateMipmaps=!1}else me?(Xe&&t.texStorage2D(n.TEXTURE_2D,ct,pe,st.width,st.height),tt&&ie(q,st,dt,Ft)):t.texImage2D(n.TEXTURE_2D,0,pe,st.width,st.height,0,dt,Ft,st.data);else if(q.isCompressedTexture)if(q.isCompressedArrayTexture){me&&Xe&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ct,pe,$e[0].width,$e[0].height,st.depth);for(let nt=0,Qe=$e.length;nt<Qe;nt++)if(Te=$e[nt],q.format!==Ea)if(dt!==null)if(me){if(tt)if(q.layerUpdates.size>0){const pt=ER(Te.width,Te.height,q.format,q.type);for(const Rt of q.layerUpdates){const Yt=Te.data.subarray(Rt*pt/Te.data.BYTES_PER_ELEMENT,(Rt+1)*pt/Te.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,nt,0,0,Rt,Te.width,Te.height,1,dt,Yt)}q.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,nt,0,0,0,Te.width,Te.height,st.depth,dt,Te.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,nt,pe,Te.width,Te.height,st.depth,0,Te.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else me?tt&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,nt,0,0,0,Te.width,Te.height,st.depth,dt,Ft,Te.data):t.texImage3D(n.TEXTURE_2D_ARRAY,nt,pe,Te.width,Te.height,st.depth,0,dt,Ft,Te.data)}else{me&&Xe&&t.texStorage2D(n.TEXTURE_2D,ct,pe,$e[0].width,$e[0].height);for(let nt=0,Qe=$e.length;nt<Qe;nt++)Te=$e[nt],q.format!==Ea?dt!==null?me?tt&&t.compressedTexSubImage2D(n.TEXTURE_2D,nt,0,0,Te.width,Te.height,dt,Te.data):t.compressedTexImage2D(n.TEXTURE_2D,nt,pe,Te.width,Te.height,0,Te.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):me?tt&&t.texSubImage2D(n.TEXTURE_2D,nt,0,0,Te.width,Te.height,dt,Ft,Te.data):t.texImage2D(n.TEXTURE_2D,nt,pe,Te.width,Te.height,0,dt,Ft,Te.data)}else if(q.isDataArrayTexture)if(me){if(Xe&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ct,pe,st.width,st.height,st.depth),tt)if(q.layerUpdates.size>0){const nt=ER(st.width,st.height,q.format,q.type);for(const Qe of q.layerUpdates){const pt=st.data.subarray(Qe*nt/st.data.BYTES_PER_ELEMENT,(Qe+1)*nt/st.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Qe,st.width,st.height,1,dt,Ft,pt)}q.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,st.width,st.height,st.depth,dt,Ft,st.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,pe,st.width,st.height,st.depth,0,dt,Ft,st.data);else if(q.isData3DTexture)me?(Xe&&t.texStorage3D(n.TEXTURE_3D,ct,pe,st.width,st.height,st.depth),tt&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,st.width,st.height,st.depth,dt,Ft,st.data)):t.texImage3D(n.TEXTURE_3D,0,pe,st.width,st.height,st.depth,0,dt,Ft,st.data);else if(q.isFramebufferTexture){if(Xe)if(me)t.texStorage2D(n.TEXTURE_2D,ct,pe,st.width,st.height);else{let nt=st.width,Qe=st.height;for(let pt=0;pt<ct;pt++)t.texImage2D(n.TEXTURE_2D,pt,pe,nt,Qe,0,dt,Ft,null),nt>>=1,Qe>>=1}}else if($e.length>0){if(me&&Xe){const nt=Ae($e[0]);t.texStorage2D(n.TEXTURE_2D,ct,pe,nt.width,nt.height)}for(let nt=0,Qe=$e.length;nt<Qe;nt++)Te=$e[nt],me?tt&&t.texSubImage2D(n.TEXTURE_2D,nt,0,0,dt,Ft,Te):t.texImage2D(n.TEXTURE_2D,nt,pe,dt,Ft,Te);q.generateMipmaps=!1}else if(me){if(Xe){const nt=Ae(st);t.texStorage2D(n.TEXTURE_2D,ct,pe,nt.width,nt.height)}tt&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,dt,Ft,st)}else t.texImage2D(n.TEXTURE_2D,0,pe,dt,Ft,st);b(q)&&_(Re),ht.__version=Le.version,q.onUpdate&&q.onUpdate(q)}X.__version=q.version}function ee(X,q,ye){if(q.image.length!==6)return;const Re=se(X,q),Ge=q.source;t.bindTexture(n.TEXTURE_CUBE_MAP,X.__webglTexture,n.TEXTURE0+ye);const Le=r.get(Ge);if(Ge.version!==Le.__version||Re===!0){t.activeTexture(n.TEXTURE0+ye);const ht=Vn.getPrimaries(Vn.workingColorSpace),et=q.colorSpace===zc?null:Vn.getPrimaries(q.colorSpace),xt=q.colorSpace===zc||ht===et?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,q.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,q.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,xt);const St=q.isCompressedTexture||q.image[0].isCompressedTexture,st=q.image[0]&&q.image[0].isDataTexture,dt=[];for(let Qe=0;Qe<6;Qe++)!St&&!st?dt[Qe]=x(q.image[Qe],!0,i.maxCubemapSize):dt[Qe]=st?q.image[Qe].image:q.image[Qe],dt[Qe]=Ie(q,dt[Qe]);const Ft=dt[0],pe=a.convert(q.format,q.colorSpace),Te=a.convert(q.type),$e=T(q.internalFormat,pe,Te,q.colorSpace),me=q.isVideoTexture!==!0,Xe=Le.__version===void 0||Re===!0,tt=Ge.dataReady;let ct=O(q,Ft);ue(n.TEXTURE_CUBE_MAP,q);let nt;if(St){me&&Xe&&t.texStorage2D(n.TEXTURE_CUBE_MAP,ct,$e,Ft.width,Ft.height);for(let Qe=0;Qe<6;Qe++){nt=dt[Qe].mipmaps;for(let pt=0;pt<nt.length;pt++){const Rt=nt[pt];q.format!==Ea?pe!==null?me?tt&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,pt,0,0,Rt.width,Rt.height,pe,Rt.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,pt,$e,Rt.width,Rt.height,0,Rt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):me?tt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,pt,0,0,Rt.width,Rt.height,pe,Te,Rt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,pt,$e,Rt.width,Rt.height,0,pe,Te,Rt.data)}}}else{if(nt=q.mipmaps,me&&Xe){nt.length>0&&ct++;const Qe=Ae(dt[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,ct,$e,Qe.width,Qe.height)}for(let Qe=0;Qe<6;Qe++)if(st){me?tt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,0,0,dt[Qe].width,dt[Qe].height,pe,Te,dt[Qe].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,$e,dt[Qe].width,dt[Qe].height,0,pe,Te,dt[Qe].data);for(let pt=0;pt<nt.length;pt++){const Yt=nt[pt].image[Qe].image;me?tt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,pt+1,0,0,Yt.width,Yt.height,pe,Te,Yt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,pt+1,$e,Yt.width,Yt.height,0,pe,Te,Yt.data)}}else{me?tt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,0,0,pe,Te,dt[Qe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,0,$e,pe,Te,dt[Qe]);for(let pt=0;pt<nt.length;pt++){const Rt=nt[pt];me?tt&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,pt+1,0,0,pe,Te,Rt.image[Qe]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Qe,pt+1,$e,pe,Te,Rt.image[Qe])}}}b(q)&&_(n.TEXTURE_CUBE_MAP),Le.__version=Ge.version,q.onUpdate&&q.onUpdate(q)}X.__version=q.version}function xe(X,q,ye,Re,Ge,Le){const ht=a.convert(ye.format,ye.colorSpace),et=a.convert(ye.type),xt=T(ye.internalFormat,ht,et,ye.colorSpace),St=r.get(q),st=r.get(ye);if(st.__renderTarget=q,!St.__hasExternalTextures){const dt=Math.max(1,q.width>>Le),Ft=Math.max(1,q.height>>Le);Ge===n.TEXTURE_3D||Ge===n.TEXTURE_2D_ARRAY?t.texImage3D(Ge,Le,xt,dt,Ft,q.depth,0,ht,et,null):t.texImage2D(Ge,Le,xt,dt,Ft,0,ht,et,null)}t.bindFramebuffer(n.FRAMEBUFFER,X),be(q)?s.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Re,Ge,st.__webglTexture,0,ve(q)):(Ge===n.TEXTURE_2D||Ge>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ge<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Re,Ge,st.__webglTexture,Le),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ee(X,q,ye){if(n.bindRenderbuffer(n.RENDERBUFFER,X),q.depthBuffer){const Re=q.depthTexture,Ge=Re&&Re.isDepthTexture?Re.type:null,Le=M(q.stencilBuffer,Ge),ht=q.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,et=ve(q);be(q)?s.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,et,Le,q.width,q.height):ye?n.renderbufferStorageMultisample(n.RENDERBUFFER,et,Le,q.width,q.height):n.renderbufferStorage(n.RENDERBUFFER,Le,q.width,q.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,ht,n.RENDERBUFFER,X)}else{const Re=q.textures;for(let Ge=0;Ge<Re.length;Ge++){const Le=Re[Ge],ht=a.convert(Le.format,Le.colorSpace),et=a.convert(Le.type),xt=T(Le.internalFormat,ht,et,Le.colorSpace),St=ve(q);ye&&be(q)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,St,xt,q.width,q.height):be(q)?s.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,St,xt,q.width,q.height):n.renderbufferStorage(n.RENDERBUFFER,xt,q.width,q.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Se(X,q){if(q&&q.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,X),!(q.depthTexture&&q.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Re=r.get(q.depthTexture);Re.__renderTarget=q,(!Re.__webglTexture||q.depthTexture.image.width!==q.width||q.depthTexture.image.height!==q.height)&&(q.depthTexture.image.width=q.width,q.depthTexture.image.height=q.height,q.depthTexture.needsUpdate=!0),V(q.depthTexture,0);const Ge=Re.__webglTexture,Le=ve(q);if(q.depthTexture.format===Tm)be(q)?s.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ge,0,Le):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ge,0);else if(q.depthTexture.format===Mm)be(q)?s.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ge,0,Le):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ge,0);else throw new Error("Unknown depthTexture format")}function ze(X){const q=r.get(X),ye=X.isWebGLCubeRenderTarget===!0;if(q.__boundDepthTexture!==X.depthTexture){const Re=X.depthTexture;if(q.__depthDisposeCallback&&q.__depthDisposeCallback(),Re){const Ge=()=>{delete q.__boundDepthTexture,delete q.__depthDisposeCallback,Re.removeEventListener("dispose",Ge)};Re.addEventListener("dispose",Ge),q.__depthDisposeCallback=Ge}q.__boundDepthTexture=Re}if(X.depthTexture&&!q.__autoAllocateDepthBuffer){if(ye)throw new Error("target.depthTexture not supported in Cube render targets");const Re=X.texture.mipmaps;Re&&Re.length>0?Se(q.__webglFramebuffer[0],X):Se(q.__webglFramebuffer,X)}else if(ye){q.__webglDepthbuffer=[];for(let Re=0;Re<6;Re++)if(t.bindFramebuffer(n.FRAMEBUFFER,q.__webglFramebuffer[Re]),q.__webglDepthbuffer[Re]===void 0)q.__webglDepthbuffer[Re]=n.createRenderbuffer(),Ee(q.__webglDepthbuffer[Re],X,!1);else{const Ge=X.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Le=q.__webglDepthbuffer[Re];n.bindRenderbuffer(n.RENDERBUFFER,Le),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ge,n.RENDERBUFFER,Le)}}else{const Re=X.texture.mipmaps;if(Re&&Re.length>0?t.bindFramebuffer(n.FRAMEBUFFER,q.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,q.__webglFramebuffer),q.__webglDepthbuffer===void 0)q.__webglDepthbuffer=n.createRenderbuffer(),Ee(q.__webglDepthbuffer,X,!1);else{const Ge=X.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Le=q.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Le),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ge,n.RENDERBUFFER,Le)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ue(X,q,ye){const Re=r.get(X);q!==void 0&&xe(Re.__webglFramebuffer,X,X.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),ye!==void 0&&ze(X)}function re(X){const q=X.texture,ye=r.get(X),Re=r.get(q);X.addEventListener("dispose",U);const Ge=X.textures,Le=X.isWebGLCubeRenderTarget===!0,ht=Ge.length>1;if(ht||(Re.__webglTexture===void 0&&(Re.__webglTexture=n.createTexture()),Re.__version=q.version,o.memory.textures++),Le){ye.__webglFramebuffer=[];for(let et=0;et<6;et++)if(q.mipmaps&&q.mipmaps.length>0){ye.__webglFramebuffer[et]=[];for(let xt=0;xt<q.mipmaps.length;xt++)ye.__webglFramebuffer[et][xt]=n.createFramebuffer()}else ye.__webglFramebuffer[et]=n.createFramebuffer()}else{if(q.mipmaps&&q.mipmaps.length>0){ye.__webglFramebuffer=[];for(let et=0;et<q.mipmaps.length;et++)ye.__webglFramebuffer[et]=n.createFramebuffer()}else ye.__webglFramebuffer=n.createFramebuffer();if(ht)for(let et=0,xt=Ge.length;et<xt;et++){const St=r.get(Ge[et]);St.__webglTexture===void 0&&(St.__webglTexture=n.createTexture(),o.memory.textures++)}if(X.samples>0&&be(X)===!1){ye.__webglMultisampledFramebuffer=n.createFramebuffer(),ye.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ye.__webglMultisampledFramebuffer);for(let et=0;et<Ge.length;et++){const xt=Ge[et];ye.__webglColorRenderbuffer[et]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ye.__webglColorRenderbuffer[et]);const St=a.convert(xt.format,xt.colorSpace),st=a.convert(xt.type),dt=T(xt.internalFormat,St,st,xt.colorSpace,X.isXRRenderTarget===!0),Ft=ve(X);n.renderbufferStorageMultisample(n.RENDERBUFFER,Ft,dt,X.width,X.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+et,n.RENDERBUFFER,ye.__webglColorRenderbuffer[et])}n.bindRenderbuffer(n.RENDERBUFFER,null),X.depthBuffer&&(ye.__webglDepthRenderbuffer=n.createRenderbuffer(),Ee(ye.__webglDepthRenderbuffer,X,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Le){t.bindTexture(n.TEXTURE_CUBE_MAP,Re.__webglTexture),ue(n.TEXTURE_CUBE_MAP,q);for(let et=0;et<6;et++)if(q.mipmaps&&q.mipmaps.length>0)for(let xt=0;xt<q.mipmaps.length;xt++)xe(ye.__webglFramebuffer[et][xt],X,q,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+et,xt);else xe(ye.__webglFramebuffer[et],X,q,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+et,0);b(q)&&_(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(ht){for(let et=0,xt=Ge.length;et<xt;et++){const St=Ge[et],st=r.get(St);let dt=n.TEXTURE_2D;(X.isWebGL3DRenderTarget||X.isWebGLArrayRenderTarget)&&(dt=X.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(dt,st.__webglTexture),ue(dt,St),xe(ye.__webglFramebuffer,X,St,n.COLOR_ATTACHMENT0+et,dt,0),b(St)&&_(dt)}t.unbindTexture()}else{let et=n.TEXTURE_2D;if((X.isWebGL3DRenderTarget||X.isWebGLArrayRenderTarget)&&(et=X.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(et,Re.__webglTexture),ue(et,q),q.mipmaps&&q.mipmaps.length>0)for(let xt=0;xt<q.mipmaps.length;xt++)xe(ye.__webglFramebuffer[xt],X,q,n.COLOR_ATTACHMENT0,et,xt);else xe(ye.__webglFramebuffer,X,q,n.COLOR_ATTACHMENT0,et,0);b(q)&&_(et),t.unbindTexture()}X.depthBuffer&&ze(X)}function Ce(X){const q=X.textures;for(let ye=0,Re=q.length;ye<Re;ye++){const Ge=q[ye];if(b(Ge)){const Le=C(X),ht=r.get(Ge).__webglTexture;t.bindTexture(Le,ht),_(Le),t.unbindTexture()}}}const Fe=[],ge=[];function fe(X){if(X.samples>0){if(be(X)===!1){const q=X.textures,ye=X.width,Re=X.height;let Ge=n.COLOR_BUFFER_BIT;const Le=X.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ht=r.get(X),et=q.length>1;if(et)for(let St=0;St<q.length;St++)t.bindFramebuffer(n.FRAMEBUFFER,ht.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+St,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,ht.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+St,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,ht.__webglMultisampledFramebuffer);const xt=X.texture.mipmaps;xt&&xt.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ht.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ht.__webglFramebuffer);for(let St=0;St<q.length;St++){if(X.resolveDepthBuffer&&(X.depthBuffer&&(Ge|=n.DEPTH_BUFFER_BIT),X.stencilBuffer&&X.resolveStencilBuffer&&(Ge|=n.STENCIL_BUFFER_BIT)),et){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ht.__webglColorRenderbuffer[St]);const st=r.get(q[St]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,st,0)}n.blitFramebuffer(0,0,ye,Re,0,0,ye,Re,Ge,n.NEAREST),l===!0&&(Fe.length=0,ge.length=0,Fe.push(n.COLOR_ATTACHMENT0+St),X.depthBuffer&&X.resolveDepthBuffer===!1&&(Fe.push(Le),ge.push(Le),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,ge)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Fe))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),et)for(let St=0;St<q.length;St++){t.bindFramebuffer(n.FRAMEBUFFER,ht.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+St,n.RENDERBUFFER,ht.__webglColorRenderbuffer[St]);const st=r.get(q[St]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,ht.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+St,n.TEXTURE_2D,st,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,ht.__webglMultisampledFramebuffer)}else if(X.depthBuffer&&X.resolveDepthBuffer===!1&&l){const q=X.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[q])}}}function ve(X){return Math.min(i.maxSamples,X.samples)}function be(X){const q=r.get(X);return X.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&q.__useRenderToTexture!==!1}function we(X){const q=o.render.frame;d.get(X)!==q&&(d.set(X,q),X.update())}function Ie(X,q){const ye=X.colorSpace,Re=X.format,Ge=X.type;return X.isCompressedTexture===!0||X.isVideoTexture===!0||ye!==Gu&&ye!==zc&&(Vn.getTransfer(ye)===br?(Re!==Ea||Ge!==ws)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ye)),q}function Ae(X){return typeof HTMLImageElement!="undefined"&&X instanceof HTMLImageElement?(c.width=X.naturalWidth||X.width,c.height=X.naturalHeight||X.height):typeof VideoFrame!="undefined"&&X instanceof VideoFrame?(c.width=X.displayWidth,c.height=X.displayHeight):(c.width=X.width,c.height=X.height),c}this.allocateTextureUnit=Y,this.resetTextureUnits=$,this.setTexture2D=V,this.setTexture2DArray=B,this.setTexture3D=G,this.setTextureCube=W,this.rebindTextures=Ue,this.setupRenderTarget=re,this.updateRenderTargetMipmap=Ce,this.updateMultisampleRenderTarget=fe,this.setupDepthRenderbuffer=ze,this.setupFrameBufferTexture=xe,this.useMultisampledRTT=be}function lk(n,e){function t(r,i=zc){let a;const o=Vn.getTransfer(i);if(r===ws)return n.UNSIGNED_BYTE;if(r===Cw)return n.UNSIGNED_SHORT_4_4_4_4;if(r===ww)return n.UNSIGNED_SHORT_5_5_5_1;if(r===JP)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===QP)return n.UNSIGNED_INT_10F_11F_11F_REV;if(r===KP)return n.BYTE;if(r===ZP)return n.SHORT;if(r===Cm)return n.UNSIGNED_SHORT;if(r===Sw)return n.INT;if(r===Jc)return n.UNSIGNED_INT;if(r===bo)return n.FLOAT;if(r===Qm)return n.HALF_FLOAT;if(r===e2)return n.ALPHA;if(r===t2)return n.RGB;if(r===Ea)return n.RGBA;if(r===Tm)return n.DEPTH_COMPONENT;if(r===Mm)return n.DEPTH_STENCIL;if(r===Tw)return n.RED;if(r===Qy)return n.RED_INTEGER;if(r===n2)return n.RG;if(r===Mw)return n.RG_INTEGER;if(r===Ew)return n.RGBA_INTEGER;if(r===_0||r===S0||r===C0||r===w0)if(o===br)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(r===_0)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===S0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===C0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===w0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===_0)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===S0)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===C0)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===w0)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===N1||r===U1||r===B1||r===z1)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===N1)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===U1)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===B1)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===z1)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===H1||r===k1||r===j1)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(r===H1||r===k1)return o===br?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(r===j1)return o===br?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===$1||r===V1||r===G1||r===W1||r===q1||r===X1||r===Y1||r===K1||r===Z1||r===J1||r===Q1||r===eC||r===tC||r===nC)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(r===$1)return o===br?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===V1)return o===br?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===G1)return o===br?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===W1)return o===br?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===q1)return o===br?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===X1)return o===br?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===Y1)return o===br?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===K1)return o===br?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===Z1)return o===br?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===J1)return o===br?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===Q1)return o===br?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===eC)return o===br?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===tC)return o===br?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===nC)return o===br?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===rC||r===iC||r===aC)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(r===rC)return o===br?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===iC)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===aC)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===oC||r===sC||r===lC||r===cC)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(r===oC)return a.COMPRESSED_RED_RGTC1_EXT;if(r===sC)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===lC)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===cC)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===wm?n.UNSIGNED_INT_24_8:n[r]!==void 0?n[r]:null}return{convert:t}}const vIe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,yIe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class bIe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const r=new p2(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,r=new al({vertexShader:vIe,fragmentShader:yIe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Ri(new tg(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class xIe extends ql{constructor(e,t){super();const r=this;let i=null,a=1,o=null,s="local-floor",l=1,c=null,d=null,h=null,m=null,v=null,g=null;const x=typeof XRWebGLBinding!="undefined",b=new bIe,_={},C=t.getContextAttributes();let T=null,M=null;const O=[],I=[],U=new ot;let F=null;const L=new mi;L.viewport=new tr;const D=new mi;D.viewport=new tr;const z=[L,D],$=new ZH;let Y=null,j=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(te){let ee=O[te];return ee===void 0&&(ee=new pS,O[te]=ee),ee.getTargetRaySpace()},this.getControllerGrip=function(te){let ee=O[te];return ee===void 0&&(ee=new pS,O[te]=ee),ee.getGripSpace()},this.getHand=function(te){let ee=O[te];return ee===void 0&&(ee=new pS,O[te]=ee),ee.getHandSpace()};function V(te){const ee=I.indexOf(te.inputSource);if(ee===-1)return;const xe=O[ee];xe!==void 0&&(xe.update(te.inputSource,te.frame,c||o),xe.dispatchEvent({type:te.type,data:te.inputSource}))}function B(){i.removeEventListener("select",V),i.removeEventListener("selectstart",V),i.removeEventListener("selectend",V),i.removeEventListener("squeeze",V),i.removeEventListener("squeezestart",V),i.removeEventListener("squeezeend",V),i.removeEventListener("end",B),i.removeEventListener("inputsourceschange",G);for(let te=0;te<O.length;te++){const ee=I[te];ee!==null&&(I[te]=null,O[te].disconnect(ee))}Y=null,j=null,b.reset();for(const te in _)delete _[te];e.setRenderTarget(T),v=null,m=null,h=null,i=null,M=null,ie.stop(),r.isPresenting=!1,e.setPixelRatio(F),e.setSize(U.width,U.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(te){a=te,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(te){s=te,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(te){c=te},this.getBaseLayer=function(){return m!==null?m:v},this.getBinding=function(){return h===null&&x&&(h=new XRWebGLBinding(i,t)),h},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=function(te){return Bt(this,null,function*(){if(i=te,i!==null){if(T=e.getRenderTarget(),i.addEventListener("select",V),i.addEventListener("selectstart",V),i.addEventListener("selectend",V),i.addEventListener("squeeze",V),i.addEventListener("squeezestart",V),i.addEventListener("squeezeend",V),i.addEventListener("end",B),i.addEventListener("inputsourceschange",G),C.xrCompatible!==!0&&(yield t.makeXRCompatible()),F=e.getPixelRatio(),e.getSize(U),x&&"createProjectionLayer"in XRWebGLBinding.prototype){let xe=null,Ee=null,Se=null;C.depth&&(Se=C.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,xe=C.stencil?Mm:Tm,Ee=C.stencil?wm:Jc);const ze={colorFormat:t.RGBA8,depthFormat:Se,scaleFactor:a};h=this.getBinding(),m=h.createProjectionLayer(ze),i.updateRenderState({layers:[m]}),e.setPixelRatio(1),e.setSize(m.textureWidth,m.textureHeight,!1),M=new jl(m.textureWidth,m.textureHeight,{format:Ea,type:ws,depthTexture:new h2(m.textureWidth,m.textureHeight,Ee,void 0,void 0,void 0,void 0,void 0,void 0,xe),stencilBuffer:C.stencil,colorSpace:e.outputColorSpace,samples:C.antialias?4:0,resolveDepthBuffer:m.ignoreDepthValues===!1,resolveStencilBuffer:m.ignoreDepthValues===!1})}else{const xe={antialias:C.antialias,alpha:!0,depth:C.depth,stencil:C.stencil,framebufferScaleFactor:a};v=new XRWebGLLayer(i,t,xe),i.updateRenderState({baseLayer:v}),e.setPixelRatio(1),e.setSize(v.framebufferWidth,v.framebufferHeight,!1),M=new jl(v.framebufferWidth,v.framebufferHeight,{format:Ea,type:ws,colorSpace:e.outputColorSpace,stencilBuffer:C.stencil,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}M.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=yield i.requestReferenceSpace(s),ie.setContext(i),ie.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}})},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return b.getDepthTexture()};function G(te){for(let ee=0;ee<te.removed.length;ee++){const xe=te.removed[ee],Ee=I.indexOf(xe);Ee>=0&&(I[Ee]=null,O[Ee].disconnect(xe))}for(let ee=0;ee<te.added.length;ee++){const xe=te.added[ee];let Ee=I.indexOf(xe);if(Ee===-1){for(let ze=0;ze<O.length;ze++)if(ze>=I.length){I.push(xe),Ee=ze;break}else if(I[ze]===null){I[ze]=xe,Ee=ze;break}if(Ee===-1)break}const Se=O[Ee];Se&&Se.connect(xe)}}const W=new he,Z=new he;function J(te,ee,xe){W.setFromMatrixPosition(ee.matrixWorld),Z.setFromMatrixPosition(xe.matrixWorld);const Ee=W.distanceTo(Z),Se=ee.projectionMatrix.elements,ze=xe.projectionMatrix.elements,Ue=Se[14]/(Se[10]-1),re=Se[14]/(Se[10]+1),Ce=(Se[9]+1)/Se[5],Fe=(Se[9]-1)/Se[5],ge=(Se[8]-1)/Se[0],fe=(ze[8]+1)/ze[0],ve=Ue*ge,be=Ue*fe,we=Ee/(-ge+fe),Ie=we*-ge;if(ee.matrixWorld.decompose(te.position,te.quaternion,te.scale),te.translateX(Ie),te.translateZ(we),te.matrixWorld.compose(te.position,te.quaternion,te.scale),te.matrixWorldInverse.copy(te.matrixWorld).invert(),Se[10]===-1)te.projectionMatrix.copy(ee.projectionMatrix),te.projectionMatrixInverse.copy(ee.projectionMatrixInverse);else{const Ae=Ue+we,X=re+we,q=ve-Ie,ye=be+(Ee-Ie),Re=Ce*re/X*Ae,Ge=Fe*re/X*Ae;te.projectionMatrix.makePerspective(q,ye,Re,Ge,Ae,X),te.projectionMatrixInverse.copy(te.projectionMatrix).invert()}}function Q(te,ee){ee===null?te.matrixWorld.copy(te.matrix):te.matrixWorld.multiplyMatrices(ee.matrixWorld,te.matrix),te.matrixWorldInverse.copy(te.matrixWorld).invert()}this.updateCamera=function(te){if(i===null)return;let ee=te.near,xe=te.far;b.texture!==null&&(b.depthNear>0&&(ee=b.depthNear),b.depthFar>0&&(xe=b.depthFar)),$.near=D.near=L.near=ee,$.far=D.far=L.far=xe,(Y!==$.near||j!==$.far)&&(i.updateRenderState({depthNear:$.near,depthFar:$.far}),Y=$.near,j=$.far),$.layers.mask=te.layers.mask|6,L.layers.mask=$.layers.mask&3,D.layers.mask=$.layers.mask&5;const Ee=te.parent,Se=$.cameras;Q($,Ee);for(let ze=0;ze<Se.length;ze++)Q(Se[ze],Ee);Se.length===2?J($,L,D):$.projectionMatrix.copy(L.projectionMatrix),ue(te,$,Ee)};function ue(te,ee,xe){xe===null?te.matrix.copy(ee.matrixWorld):(te.matrix.copy(xe.matrixWorld),te.matrix.invert(),te.matrix.multiply(ee.matrixWorld)),te.matrix.decompose(te.position,te.quaternion,te.scale),te.updateMatrixWorld(!0),te.projectionMatrix.copy(ee.projectionMatrix),te.projectionMatrixInverse.copy(ee.projectionMatrixInverse),te.isPerspectiveCamera&&(te.fov=Am*2*Math.atan(1/te.projectionMatrix.elements[5]),te.zoom=1)}this.getCamera=function(){return $},this.getFoveation=function(){if(!(m===null&&v===null))return l},this.setFoveation=function(te){l=te,m!==null&&(m.fixedFoveation=te),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=te)},this.hasDepthSensing=function(){return b.texture!==null},this.getDepthSensingMesh=function(){return b.getMesh($)},this.getCameraTexture=function(te){return _[te]};let se=null;function ae(te,ee){if(d=ee.getViewerPose(c||o),g=ee,d!==null){const xe=d.views;v!==null&&(e.setRenderTargetFramebuffer(M,v.framebuffer),e.setRenderTarget(M));let Ee=!1;xe.length!==$.cameras.length&&($.cameras.length=0,Ee=!0);for(let re=0;re<xe.length;re++){const Ce=xe[re];let Fe=null;if(v!==null)Fe=v.getViewport(Ce);else{const fe=h.getViewSubImage(m,Ce);Fe=fe.viewport,re===0&&(e.setRenderTargetTextures(M,fe.colorTexture,fe.depthStencilTexture),e.setRenderTarget(M))}let ge=z[re];ge===void 0&&(ge=new mi,ge.layers.enable(re),ge.viewport=new tr,z[re]=ge),ge.matrix.fromArray(Ce.transform.matrix),ge.matrix.decompose(ge.position,ge.quaternion,ge.scale),ge.projectionMatrix.fromArray(Ce.projectionMatrix),ge.projectionMatrixInverse.copy(ge.projectionMatrix).invert(),ge.viewport.set(Fe.x,Fe.y,Fe.width,Fe.height),re===0&&($.matrix.copy(ge.matrix),$.matrix.decompose($.position,$.quaternion,$.scale)),Ee===!0&&$.cameras.push(ge)}const Se=i.enabledFeatures;if(Se&&Se.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&x){h=r.getBinding();const re=h.getDepthInformation(xe[0]);re&&re.isValid&&re.texture&&b.init(re,i.renderState)}if(Se&&Se.includes("camera-access")&&x){e.state.unbindTexture(),h=r.getBinding();for(let re=0;re<xe.length;re++){const Ce=xe[re].camera;if(Ce){let Fe=_[Ce];Fe||(Fe=new p2,_[Ce]=Fe);const ge=h.getCameraImage(Ce);Fe.sourceTexture=ge}}}}for(let xe=0;xe<O.length;xe++){const Ee=I[xe],Se=O[xe];Ee!==null&&Se!==void 0&&Se.update(Ee,ee,c||o)}se&&se(te,ee),ee.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ee}),g=null}const ie=new rk;ie.setAnimationLoop(ae),this.setAnimationLoop=function(te){se=te},this.dispose=function(){}}}const uf=new es,_Ie=new on;function SIe(n,e){function t(b,_){b.matrixAutoUpdate===!0&&b.updateMatrix(),_.value.copy(b.matrix)}function r(b,_){_.color.getRGB(b.fogColor.value,nH(n)),_.isFog?(b.fogNear.value=_.near,b.fogFar.value=_.far):_.isFogExp2&&(b.fogDensity.value=_.density)}function i(b,_,C,T,M){_.isMeshBasicMaterial||_.isMeshLambertMaterial?a(b,_):_.isMeshToonMaterial?(a(b,_),h(b,_)):_.isMeshPhongMaterial?(a(b,_),d(b,_)):_.isMeshStandardMaterial?(a(b,_),m(b,_),_.isMeshPhysicalMaterial&&v(b,_,M)):_.isMeshMatcapMaterial?(a(b,_),g(b,_)):_.isMeshDepthMaterial?a(b,_):_.isMeshDistanceMaterial?(a(b,_),x(b,_)):_.isMeshNormalMaterial?a(b,_):_.isLineBasicMaterial?(o(b,_),_.isLineDashedMaterial&&s(b,_)):_.isPointsMaterial?l(b,_,C,T):_.isSpriteMaterial?c(b,_):_.isShadowMaterial?(b.color.value.copy(_.color),b.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function a(b,_){b.opacity.value=_.opacity,_.color&&b.diffuse.value.copy(_.color),_.emissive&&b.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(b.map.value=_.map,t(_.map,b.mapTransform)),_.alphaMap&&(b.alphaMap.value=_.alphaMap,t(_.alphaMap,b.alphaMapTransform)),_.bumpMap&&(b.bumpMap.value=_.bumpMap,t(_.bumpMap,b.bumpMapTransform),b.bumpScale.value=_.bumpScale,_.side===Xa&&(b.bumpScale.value*=-1)),_.normalMap&&(b.normalMap.value=_.normalMap,t(_.normalMap,b.normalMapTransform),b.normalScale.value.copy(_.normalScale),_.side===Xa&&b.normalScale.value.negate()),_.displacementMap&&(b.displacementMap.value=_.displacementMap,t(_.displacementMap,b.displacementMapTransform),b.displacementScale.value=_.displacementScale,b.displacementBias.value=_.displacementBias),_.emissiveMap&&(b.emissiveMap.value=_.emissiveMap,t(_.emissiveMap,b.emissiveMapTransform)),_.specularMap&&(b.specularMap.value=_.specularMap,t(_.specularMap,b.specularMapTransform)),_.alphaTest>0&&(b.alphaTest.value=_.alphaTest);const C=e.get(_),T=C.envMap,M=C.envMapRotation;T&&(b.envMap.value=T,uf.copy(M),uf.x*=-1,uf.y*=-1,uf.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(uf.y*=-1,uf.z*=-1),b.envMapRotation.value.setFromMatrix4(_Ie.makeRotationFromEuler(uf)),b.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,b.reflectivity.value=_.reflectivity,b.ior.value=_.ior,b.refractionRatio.value=_.refractionRatio),_.lightMap&&(b.lightMap.value=_.lightMap,b.lightMapIntensity.value=_.lightMapIntensity,t(_.lightMap,b.lightMapTransform)),_.aoMap&&(b.aoMap.value=_.aoMap,b.aoMapIntensity.value=_.aoMapIntensity,t(_.aoMap,b.aoMapTransform))}function o(b,_){b.diffuse.value.copy(_.color),b.opacity.value=_.opacity,_.map&&(b.map.value=_.map,t(_.map,b.mapTransform))}function s(b,_){b.dashSize.value=_.dashSize,b.totalSize.value=_.dashSize+_.gapSize,b.scale.value=_.scale}function l(b,_,C,T){b.diffuse.value.copy(_.color),b.opacity.value=_.opacity,b.size.value=_.size*C,b.scale.value=T*.5,_.map&&(b.map.value=_.map,t(_.map,b.uvTransform)),_.alphaMap&&(b.alphaMap.value=_.alphaMap,t(_.alphaMap,b.alphaMapTransform)),_.alphaTest>0&&(b.alphaTest.value=_.alphaTest)}function c(b,_){b.diffuse.value.copy(_.color),b.opacity.value=_.opacity,b.rotation.value=_.rotation,_.map&&(b.map.value=_.map,t(_.map,b.mapTransform)),_.alphaMap&&(b.alphaMap.value=_.alphaMap,t(_.alphaMap,b.alphaMapTransform)),_.alphaTest>0&&(b.alphaTest.value=_.alphaTest)}function d(b,_){b.specular.value.copy(_.specular),b.shininess.value=Math.max(_.shininess,1e-4)}function h(b,_){_.gradientMap&&(b.gradientMap.value=_.gradientMap)}function m(b,_){b.metalness.value=_.metalness,_.metalnessMap&&(b.metalnessMap.value=_.metalnessMap,t(_.metalnessMap,b.metalnessMapTransform)),b.roughness.value=_.roughness,_.roughnessMap&&(b.roughnessMap.value=_.roughnessMap,t(_.roughnessMap,b.roughnessMapTransform)),_.envMap&&(b.envMapIntensity.value=_.envMapIntensity)}function v(b,_,C){b.ior.value=_.ior,_.sheen>0&&(b.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),b.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(b.sheenColorMap.value=_.sheenColorMap,t(_.sheenColorMap,b.sheenColorMapTransform)),_.sheenRoughnessMap&&(b.sheenRoughnessMap.value=_.sheenRoughnessMap,t(_.sheenRoughnessMap,b.sheenRoughnessMapTransform))),_.clearcoat>0&&(b.clearcoat.value=_.clearcoat,b.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(b.clearcoatMap.value=_.clearcoatMap,t(_.clearcoatMap,b.clearcoatMapTransform)),_.clearcoatRoughnessMap&&(b.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap,t(_.clearcoatRoughnessMap,b.clearcoatRoughnessMapTransform)),_.clearcoatNormalMap&&(b.clearcoatNormalMap.value=_.clearcoatNormalMap,t(_.clearcoatNormalMap,b.clearcoatNormalMapTransform),b.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),_.side===Xa&&b.clearcoatNormalScale.value.negate())),_.dispersion>0&&(b.dispersion.value=_.dispersion),_.iridescence>0&&(b.iridescence.value=_.iridescence,b.iridescenceIOR.value=_.iridescenceIOR,b.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],b.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(b.iridescenceMap.value=_.iridescenceMap,t(_.iridescenceMap,b.iridescenceMapTransform)),_.iridescenceThicknessMap&&(b.iridescenceThicknessMap.value=_.iridescenceThicknessMap,t(_.iridescenceThicknessMap,b.iridescenceThicknessMapTransform))),_.transmission>0&&(b.transmission.value=_.transmission,b.transmissionSamplerMap.value=C.texture,b.transmissionSamplerSize.value.set(C.width,C.height),_.transmissionMap&&(b.transmissionMap.value=_.transmissionMap,t(_.transmissionMap,b.transmissionMapTransform)),b.thickness.value=_.thickness,_.thicknessMap&&(b.thicknessMap.value=_.thicknessMap,t(_.thicknessMap,b.thicknessMapTransform)),b.attenuationDistance.value=_.attenuationDistance,b.attenuationColor.value.copy(_.attenuationColor)),_.anisotropy>0&&(b.anisotropyVector.value.set(_.anisotropy*Math.cos(_.anisotropyRotation),_.anisotropy*Math.sin(_.anisotropyRotation)),_.anisotropyMap&&(b.anisotropyMap.value=_.anisotropyMap,t(_.anisotropyMap,b.anisotropyMapTransform))),b.specularIntensity.value=_.specularIntensity,b.specularColor.value.copy(_.specularColor),_.specularColorMap&&(b.specularColorMap.value=_.specularColorMap,t(_.specularColorMap,b.specularColorMapTransform)),_.specularIntensityMap&&(b.specularIntensityMap.value=_.specularIntensityMap,t(_.specularIntensityMap,b.specularIntensityMapTransform))}function g(b,_){_.matcap&&(b.matcap.value=_.matcap)}function x(b,_){const C=e.get(_).light;b.referencePosition.value.setFromMatrixPosition(C.matrixWorld),b.nearDistance.value=C.shadow.camera.near,b.farDistance.value=C.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function CIe(n,e,t,r){let i={},a={},o=[];const s=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(C,T){const M=T.program;r.uniformBlockBinding(C,M)}function c(C,T){let M=i[C.id];M===void 0&&(g(C),M=d(C),i[C.id]=M,C.addEventListener("dispose",b));const O=T.program;r.updateUBOMapping(C,O);const I=e.render.frame;a[C.id]!==I&&(m(C),a[C.id]=I)}function d(C){const T=h();C.__bindingPointIndex=T;const M=n.createBuffer(),O=C.__size,I=C.usage;return n.bindBuffer(n.UNIFORM_BUFFER,M),n.bufferData(n.UNIFORM_BUFFER,O,I),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,T,M),M}function h(){for(let C=0;C<s;C++)if(o.indexOf(C)===-1)return o.push(C),C;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function m(C){const T=i[C.id],M=C.uniforms,O=C.__cache;n.bindBuffer(n.UNIFORM_BUFFER,T);for(let I=0,U=M.length;I<U;I++){const F=Array.isArray(M[I])?M[I]:[M[I]];for(let L=0,D=F.length;L<D;L++){const z=F[L];if(v(z,I,L,O)===!0){const $=z.__offset,Y=Array.isArray(z.value)?z.value:[z.value];let j=0;for(let V=0;V<Y.length;V++){const B=Y[V],G=x(B);typeof B=="number"||typeof B=="boolean"?(z.__data[0]=B,n.bufferSubData(n.UNIFORM_BUFFER,$+j,z.__data)):B.isMatrix3?(z.__data[0]=B.elements[0],z.__data[1]=B.elements[1],z.__data[2]=B.elements[2],z.__data[3]=0,z.__data[4]=B.elements[3],z.__data[5]=B.elements[4],z.__data[6]=B.elements[5],z.__data[7]=0,z.__data[8]=B.elements[6],z.__data[9]=B.elements[7],z.__data[10]=B.elements[8],z.__data[11]=0):(B.toArray(z.__data,j),j+=G.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,$,z.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function v(C,T,M,O){const I=C.value,U=T+"_"+M;if(O[U]===void 0)return typeof I=="number"||typeof I=="boolean"?O[U]=I:O[U]=I.clone(),!0;{const F=O[U];if(typeof I=="number"||typeof I=="boolean"){if(F!==I)return O[U]=I,!0}else if(F.equals(I)===!1)return F.copy(I),!0}return!1}function g(C){const T=C.uniforms;let M=0;const O=16;for(let U=0,F=T.length;U<F;U++){const L=Array.isArray(T[U])?T[U]:[T[U]];for(let D=0,z=L.length;D<z;D++){const $=L[D],Y=Array.isArray($.value)?$.value:[$.value];for(let j=0,V=Y.length;j<V;j++){const B=Y[j],G=x(B),W=M%O,Z=W%G.boundary,J=W+Z;M+=Z,J!==0&&O-J<G.storage&&(M+=O-J),$.__data=new Float32Array(G.storage/Float32Array.BYTES_PER_ELEMENT),$.__offset=M,M+=G.storage}}}const I=M%O;return I>0&&(M+=O-I),C.__size=M,C.__cache={},this}function x(C){const T={boundary:0,storage:0};return typeof C=="number"||typeof C=="boolean"?(T.boundary=4,T.storage=4):C.isVector2?(T.boundary=8,T.storage=8):C.isVector3||C.isColor?(T.boundary=16,T.storage=12):C.isVector4?(T.boundary=16,T.storage=16):C.isMatrix3?(T.boundary=48,T.storage=48):C.isMatrix4?(T.boundary=64,T.storage=64):C.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",C),T}function b(C){const T=C.target;T.removeEventListener("dispose",b);const M=o.indexOf(T.__bindingPointIndex);o.splice(M,1),n.deleteBuffer(i[T.id]),delete i[T.id],delete a[T.id]}function _(){for(const C in i)n.deleteBuffer(i[C]);o=[],i={},a={}}return{bind:l,update:c,dispose:_}}class ck{constructor(e={}){const{canvas:t=Q5(),context:r=null,depth:i=!0,stencil:a=!1,alpha:o=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:h=!1,reversedDepthBuffer:m=!1}=e;this.isWebGLRenderer=!0;let v;if(r!==null){if(typeof WebGLRenderingContext!="undefined"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");v=r.getContextAttributes().alpha}else v=o;const g=new Uint32Array(4),x=new Int32Array(4);let b=null,_=null;const C=[],T=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Hl,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const M=this;let O=!1;this._outputColorSpace=wa;let I=0,U=0,F=null,L=-1,D=null;const z=new tr,$=new tr;let Y=null;const j=new It(0);let V=0,B=t.width,G=t.height,W=1,Z=null,J=null;const Q=new tr(0,0,B,G),ue=new tr(0,0,B,G);let se=!1;const ae=new eg;let ie=!1,te=!1;const ee=new on,xe=new he,Ee=new tr,Se={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ze=!1;function Ue(){return F===null?W:1}let re=r;function Ce(ce,De){return t.getContext(ce,De)}try{const ce={alpha:!0,depth:i,stencil:a,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:h};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${bw}`),t.addEventListener("webglcontextlost",tt,!1),t.addEventListener("webglcontextrestored",ct,!1),t.addEventListener("webglcontextcreationerror",nt,!1),re===null){const De="webgl2";if(re=Ce(De,ce),re===null)throw Ce(De)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(ce){throw console.error("THREE.WebGLRenderer: "+ce.message),ce}let Fe,ge,fe,ve,be,we,Ie,Ae,X,q,ye,Re,Ge,Le,ht,et,xt,St,st,dt,Ft,pe,Te,$e;function me(){Fe=new LOe(re),Fe.init(),pe=new lk(re,Fe),ge=new AOe(re,Fe,e,pe),fe=new mIe(re,Fe),ge.reversedDepthBuffer&&m&&fe.buffers.depth.setReversed(!0),ve=new BOe(re),be=new nIe,we=new gIe(re,Fe,fe,be,ge,pe,ve),Ie=new POe(M),Ae=new DOe(M),X=new VRe(re),Te=new MOe(re,X),q=new NOe(re,X,ve,Te),ye=new HOe(re,q,X,ve),st=new zOe(re,ge,we),et=new ROe(be),Re=new tIe(M,Ie,Ae,Fe,ge,Te,et),Ge=new SIe(M,be),Le=new iIe,ht=new uIe(Fe),St=new TOe(M,Ie,Ae,fe,ye,v,l),xt=new hIe(M,ye,ge),$e=new CIe(re,ve,ge,fe),dt=new EOe(re,Fe,ve),Ft=new UOe(re,Fe,ve),ve.programs=Re.programs,M.capabilities=ge,M.extensions=Fe,M.properties=be,M.renderLists=Le,M.shadowMap=xt,M.state=fe,M.info=ve}me();const Xe=new xIe(M,re);this.xr=Xe,this.getContext=function(){return re},this.getContextAttributes=function(){return re.getContextAttributes()},this.forceContextLoss=function(){const ce=Fe.get("WEBGL_lose_context");ce&&ce.loseContext()},this.forceContextRestore=function(){const ce=Fe.get("WEBGL_lose_context");ce&&ce.restoreContext()},this.getPixelRatio=function(){return W},this.setPixelRatio=function(ce){ce!==void 0&&(W=ce,this.setSize(B,G,!1))},this.getSize=function(ce){return ce.set(B,G)},this.setSize=function(ce,De,Ve=!0){if(Xe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}B=ce,G=De,t.width=Math.floor(ce*W),t.height=Math.floor(De*W),Ve===!0&&(t.style.width=ce+"px",t.style.height=De+"px"),this.setViewport(0,0,ce,De)},this.getDrawingBufferSize=function(ce){return ce.set(B*W,G*W).floor()},this.setDrawingBufferSize=function(ce,De,Ve){B=ce,G=De,W=Ve,t.width=Math.floor(ce*Ve),t.height=Math.floor(De*Ve),this.setViewport(0,0,ce,De)},this.getCurrentViewport=function(ce){return ce.copy(z)},this.getViewport=function(ce){return ce.copy(Q)},this.setViewport=function(ce,De,Ve,Ye){ce.isVector4?Q.set(ce.x,ce.y,ce.z,ce.w):Q.set(ce,De,Ve,Ye),fe.viewport(z.copy(Q).multiplyScalar(W).round())},this.getScissor=function(ce){return ce.copy(ue)},this.setScissor=function(ce,De,Ve,Ye){ce.isVector4?ue.set(ce.x,ce.y,ce.z,ce.w):ue.set(ce,De,Ve,Ye),fe.scissor($.copy(ue).multiplyScalar(W).round())},this.getScissorTest=function(){return se},this.setScissorTest=function(ce){fe.setScissorTest(se=ce)},this.setOpaqueSort=function(ce){Z=ce},this.setTransparentSort=function(ce){J=ce},this.getClearColor=function(ce){return ce.copy(St.getClearColor())},this.setClearColor=function(){St.setClearColor(...arguments)},this.getClearAlpha=function(){return St.getClearAlpha()},this.setClearAlpha=function(){St.setClearAlpha(...arguments)},this.clear=function(ce=!0,De=!0,Ve=!0){let Ye=0;if(ce){let Be=!1;if(F!==null){const vt=F.texture.format;Be=vt===Ew||vt===Mw||vt===Qy}if(Be){const vt=F.texture.type,Ct=vt===ws||vt===Jc||vt===Cm||vt===wm||vt===Cw||vt===ww,Nt=St.getClearColor(),Pt=St.getClearAlpha(),Wt=Nt.r,Zt=Nt.g,$t=Nt.b;Ct?(g[0]=Wt,g[1]=Zt,g[2]=$t,g[3]=Pt,re.clearBufferuiv(re.COLOR,0,g)):(x[0]=Wt,x[1]=Zt,x[2]=$t,x[3]=Pt,re.clearBufferiv(re.COLOR,0,x))}else Ye|=re.COLOR_BUFFER_BIT}De&&(Ye|=re.DEPTH_BUFFER_BIT),Ve&&(Ye|=re.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),re.clear(Ye)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",tt,!1),t.removeEventListener("webglcontextrestored",ct,!1),t.removeEventListener("webglcontextcreationerror",nt,!1),St.dispose(),Le.dispose(),ht.dispose(),be.dispose(),Ie.dispose(),Ae.dispose(),ye.dispose(),Te.dispose(),$e.dispose(),Re.dispose(),Xe.dispose(),Xe.removeEventListener("sessionstart",jr),Xe.removeEventListener("sessionend",rs),Ia.stop()};function tt(ce){ce.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),O=!0}function ct(){console.log("THREE.WebGLRenderer: Context Restored."),O=!1;const ce=ve.autoReset,De=xt.enabled,Ve=xt.autoUpdate,Ye=xt.needsUpdate,Be=xt.type;me(),ve.autoReset=ce,xt.enabled=De,xt.autoUpdate=Ve,xt.needsUpdate=Ye,xt.type=Be}function nt(ce){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ce.statusMessage)}function Qe(ce){const De=ce.target;De.removeEventListener("dispose",Qe),pt(De)}function pt(ce){Rt(ce),be.remove(ce)}function Rt(ce){const De=be.get(ce).programs;De!==void 0&&(De.forEach(function(Ve){Re.releaseProgram(Ve)}),ce.isShaderMaterial&&Re.releaseShaderCache(ce))}this.renderBufferDirect=function(ce,De,Ve,Ye,Be,vt){De===null&&(De=Se);const Ct=Be.isMesh&&Be.matrixWorld.determinant()<0,Nt=id(ce,De,Ve,Ye,Be);fe.setMaterial(Ye,Ct);let Pt=Ve.index,Wt=1;if(Ye.wireframe===!0){if(Pt=q.getWireframeAttribute(Ve),Pt===void 0)return;Wt=2}const Zt=Ve.drawRange,$t=Ve.attributes.position;let xn=Zt.start*Wt,Kn=(Zt.start+Zt.count)*Wt;vt!==null&&(xn=Math.max(xn,vt.start*Wt),Kn=Math.min(Kn,(vt.start+vt.count)*Wt)),Pt!==null?(xn=Math.max(xn,0),Kn=Math.min(Kn,Pt.count)):$t!=null&&(xn=Math.max(xn,0),Kn=Math.min(Kn,$t.count));const Ar=Kn-xn;if(Ar<0||Ar===1/0)return;Te.setup(Be,Ye,Nt,Ve,Pt);let ir,Gn=dt;if(Pt!==null&&(ir=X.get(Pt),Gn=Ft,Gn.setIndex(ir)),Be.isMesh)Ye.wireframe===!0?(fe.setLineWidth(Ye.wireframeLinewidth*Ue()),Gn.setMode(re.LINES)):Gn.setMode(re.TRIANGLES);else if(Be.isLine){let Vt=Ye.linewidth;Vt===void 0&&(Vt=1),fe.setLineWidth(Vt*Ue()),Be.isLineSegments?Gn.setMode(re.LINES):Be.isLineLoop?Gn.setMode(re.LINE_LOOP):Gn.setMode(re.LINE_STRIP)}else Be.isPoints?Gn.setMode(re.POINTS):Be.isSprite&&Gn.setMode(re.TRIANGLES);if(Be.isBatchedMesh)if(Be._multiDrawInstances!==null)oy("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Gn.renderMultiDrawInstances(Be._multiDrawStarts,Be._multiDrawCounts,Be._multiDrawCount,Be._multiDrawInstances);else if(Fe.get("WEBGL_multi_draw"))Gn.renderMultiDraw(Be._multiDrawStarts,Be._multiDrawCounts,Be._multiDrawCount);else{const Vt=Be._multiDrawStarts,vr=Be._multiDrawCounts,Fn=Be._multiDrawCount,Pi=Pt?X.get(Pt).bytesPerElement:1,Ka=be.get(Ye).currentProgram.getUniforms();for(let yi=0;yi<Fn;yi++)Ka.setValue(re,"_gl_DrawID",yi),Gn.render(Vt[yi]/Pi,vr[yi])}else if(Be.isInstancedMesh)Gn.renderInstances(xn,Ar,Be.count);else if(Ve.isInstancedBufferGeometry){const Vt=Ve._maxInstanceCount!==void 0?Ve._maxInstanceCount:1/0,vr=Math.min(Ve.instanceCount,Vt);Gn.renderInstances(xn,Ar,vr)}else Gn.render(xn,Ar)};function Yt(ce,De,Ve){ce.transparent===!0&&ce.side===_s&&ce.forceSinglePass===!1?(ce.side=Xa,ce.needsUpdate=!0,Rr(ce,De,Ve),ce.side=Kc,ce.needsUpdate=!0,Rr(ce,De,Ve),ce.side=_s):Rr(ce,De,Ve)}this.compile=function(ce,De,Ve=null){Ve===null&&(Ve=ce),_=ht.get(Ve),_.init(De),T.push(_),Ve.traverseVisible(function(Be){Be.isLight&&Be.layers.test(De.layers)&&(_.pushLight(Be),Be.castShadow&&_.pushShadow(Be))}),ce!==Ve&&ce.traverseVisible(function(Be){Be.isLight&&Be.layers.test(De.layers)&&(_.pushLight(Be),Be.castShadow&&_.pushShadow(Be))}),_.setupLights();const Ye=new Set;return ce.traverse(function(Be){if(!(Be.isMesh||Be.isPoints||Be.isLine||Be.isSprite))return;const vt=Be.material;if(vt)if(Array.isArray(vt))for(let Ct=0;Ct<vt.length;Ct++){const Nt=vt[Ct];Yt(Nt,Ve,Be),Ye.add(Nt)}else Yt(vt,Ve,Be),Ye.add(vt)}),_=T.pop(),Ye},this.compileAsync=function(ce,De,Ve=null){const Ye=this.compile(ce,De,Ve);return new Promise(Be=>{function vt(){if(Ye.forEach(function(Ct){be.get(Ct).currentProgram.isReady()&&Ye.delete(Ct)}),Ye.size===0){Be(ce);return}setTimeout(vt,10)}Fe.get("KHR_parallel_shader_compile")!==null?vt():setTimeout(vt,10)})};let Kt=null;function cr(ce){Kt&&Kt(ce)}function jr(){Ia.stop()}function rs(){Ia.start()}const Ia=new rk;Ia.setAnimationLoop(cr),typeof self!="undefined"&&Ia.setContext(self),this.setAnimationLoop=function(ce){Kt=ce,Xe.setAnimationLoop(ce),ce===null?Ia.stop():Ia.start()},Xe.addEventListener("sessionstart",jr),Xe.addEventListener("sessionend",rs),this.render=function(ce,De){if(De!==void 0&&De.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(O===!0)return;if(ce.matrixWorldAutoUpdate===!0&&ce.updateMatrixWorld(),De.parent===null&&De.matrixWorldAutoUpdate===!0&&De.updateMatrixWorld(),Xe.enabled===!0&&Xe.isPresenting===!0&&(Xe.cameraAutoUpdate===!0&&Xe.updateCamera(De),De=Xe.getCamera()),ce.isScene===!0&&ce.onBeforeRender(M,ce,De,F),_=ht.get(ce,T.length),_.init(De),T.push(_),ee.multiplyMatrices(De.projectionMatrix,De.matrixWorldInverse),ae.setFromProjectionMatrix(ee,Yo,De.reversedDepth),te=this.localClippingEnabled,ie=et.init(this.clippingPlanes,te),b=Le.get(ce,C.length),b.init(),C.push(b),Xe.enabled===!0&&Xe.isPresenting===!0){const vt=M.xr.getDepthSensingMesh();vt!==null&&wo(vt,De,-1/0,M.sortObjects)}wo(ce,De,0,M.sortObjects),b.finish(),M.sortObjects===!0&&b.sort(Z,J),ze=Xe.enabled===!1||Xe.isPresenting===!1||Xe.hasDepthSensing()===!1,ze&&St.addToRenderList(b,ce),this.info.render.frame++,ie===!0&&et.beginShadows();const Ve=_.state.shadowsArray;xt.render(Ve,ce,De),ie===!0&&et.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ye=b.opaque,Be=b.transmissive;if(_.setupLights(),De.isArrayCamera){const vt=De.cameras;if(Be.length>0)for(let Ct=0,Nt=vt.length;Ct<Nt;Ct++){const Pt=vt[Ct];wt(Ye,Be,ce,Pt)}ze&&St.render(ce);for(let Ct=0,Nt=vt.length;Ct<Nt;Ct++){const Pt=vt[Ct];gt(b,ce,Pt,Pt.viewport)}}else Be.length>0&&wt(Ye,Be,ce,De),ze&&St.render(ce),gt(b,ce,De);F!==null&&U===0&&(we.updateMultisampleRenderTarget(F),we.updateRenderTargetMipmap(F)),ce.isScene===!0&&ce.onAfterRender(M,ce,De),Te.resetDefaultState(),L=-1,D=null,T.pop(),T.length>0?(_=T[T.length-1],ie===!0&&et.setGlobalState(M.clippingPlanes,_.state.camera)):_=null,C.pop(),C.length>0?b=C[C.length-1]:b=null};function wo(ce,De,Ve,Ye){if(ce.visible===!1)return;if(ce.layers.test(De.layers)){if(ce.isGroup)Ve=ce.renderOrder;else if(ce.isLOD)ce.autoUpdate===!0&&ce.update(De);else if(ce.isLight)_.pushLight(ce),ce.castShadow&&_.pushShadow(ce);else if(ce.isSprite){if(!ce.frustumCulled||ae.intersectsSprite(ce)){Ye&&Ee.setFromMatrixPosition(ce.matrixWorld).applyMatrix4(ee);const Ct=ye.update(ce),Nt=ce.material;Nt.visible&&b.push(ce,Ct,Nt,Ve,Ee.z,null)}}else if((ce.isMesh||ce.isLine||ce.isPoints)&&(!ce.frustumCulled||ae.intersectsObject(ce))){const Ct=ye.update(ce),Nt=ce.material;if(Ye&&(ce.boundingSphere!==void 0?(ce.boundingSphere===null&&ce.computeBoundingSphere(),Ee.copy(ce.boundingSphere.center)):(Ct.boundingSphere===null&&Ct.computeBoundingSphere(),Ee.copy(Ct.boundingSphere.center)),Ee.applyMatrix4(ce.matrixWorld).applyMatrix4(ee)),Array.isArray(Nt)){const Pt=Ct.groups;for(let Wt=0,Zt=Pt.length;Wt<Zt;Wt++){const $t=Pt[Wt],xn=Nt[$t.materialIndex];xn&&xn.visible&&b.push(ce,Ct,xn,Ve,Ee.z,$t)}}else Nt.visible&&b.push(ce,Ct,Nt,Ve,Ee.z,null)}}const vt=ce.children;for(let Ct=0,Nt=vt.length;Ct<Nt;Ct++)wo(vt[Ct],De,Ve,Ye)}function gt(ce,De,Ve,Ye){const Be=ce.opaque,vt=ce.transmissive,Ct=ce.transparent;_.setupLightsView(Ve),ie===!0&&et.setGlobalState(M.clippingPlanes,Ve),Ye&&fe.viewport(z.copy(Ye)),Be.length>0&&kt(Be,De,Ve),vt.length>0&&kt(vt,De,Ve),Ct.length>0&&kt(Ct,De,Ve),fe.buffers.depth.setTest(!0),fe.buffers.depth.setMask(!0),fe.buffers.color.setMask(!0),fe.setPolygonOffset(!1)}function wt(ce,De,Ve,Ye){if((Ve.isScene===!0?Ve.overrideMaterial:null)!==null)return;_.state.transmissionRenderTarget[Ye.id]===void 0&&(_.state.transmissionRenderTarget[Ye.id]=new jl(1,1,{generateMipmaps:!0,type:Fe.has("EXT_color_buffer_half_float")||Fe.has("EXT_color_buffer_float")?Qm:ws,minFilter:Ul,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Vn.workingColorSpace}));const vt=_.state.transmissionRenderTarget[Ye.id],Ct=Ye.viewport||z;vt.setSize(Ct.z*M.transmissionResolutionScale,Ct.w*M.transmissionResolutionScale);const Nt=M.getRenderTarget(),Pt=M.getActiveCubeFace(),Wt=M.getActiveMipmapLevel();M.setRenderTarget(vt),M.getClearColor(j),V=M.getClearAlpha(),V<1&&M.setClearColor(16777215,.5),M.clear(),ze&&St.render(Ve);const Zt=M.toneMapping;M.toneMapping=Hl;const $t=Ye.viewport;if(Ye.viewport!==void 0&&(Ye.viewport=void 0),_.setupLightsView(Ye),ie===!0&&et.setGlobalState(M.clippingPlanes,Ye),kt(ce,Ve,Ye),we.updateMultisampleRenderTarget(vt),we.updateRenderTargetMipmap(vt),Fe.has("WEBGL_multisampled_render_to_texture")===!1){let xn=!1;for(let Kn=0,Ar=De.length;Kn<Ar;Kn++){const ir=De[Kn],Gn=ir.object,Vt=ir.geometry,vr=ir.material,Fn=ir.group;if(vr.side===_s&&Gn.layers.test(Ye.layers)){const Pi=vr.side;vr.side=Xa,vr.needsUpdate=!0,sn(Gn,Ve,Ye,Vt,vr,Fn),vr.side=Pi,vr.needsUpdate=!0,xn=!0}}xn===!0&&(we.updateMultisampleRenderTarget(vt),we.updateRenderTargetMipmap(vt))}M.setRenderTarget(Nt,Pt,Wt),M.setClearColor(j,V),$t!==void 0&&(Ye.viewport=$t),M.toneMapping=Zt}function kt(ce,De,Ve){const Ye=De.isScene===!0?De.overrideMaterial:null;for(let Be=0,vt=ce.length;Be<vt;Be++){const Ct=ce[Be],Nt=Ct.object,Pt=Ct.geometry,Wt=Ct.group;let Zt=Ct.material;Zt.allowOverride===!0&&Ye!==null&&(Zt=Ye),Nt.layers.test(Ve.layers)&&sn(Nt,De,Ve,Pt,Zt,Wt)}}function sn(ce,De,Ve,Ye,Be,vt){ce.onBeforeRender(M,De,Ve,Ye,Be,vt),ce.modelViewMatrix.multiplyMatrices(Ve.matrixWorldInverse,ce.matrixWorld),ce.normalMatrix.getNormalMatrix(ce.modelViewMatrix),Be.onBeforeRender(M,De,Ve,Ye,ce,vt),Be.transparent===!0&&Be.side===_s&&Be.forceSinglePass===!1?(Be.side=Xa,Be.needsUpdate=!0,M.renderBufferDirect(Ve,De,Ye,Be,ce,vt),Be.side=Kc,Be.needsUpdate=!0,M.renderBufferDirect(Ve,De,Ye,Be,ce,vt),Be.side=_s):M.renderBufferDirect(Ve,De,Ye,Be,ce,vt),ce.onAfterRender(M,De,Ve,Ye,Be,vt)}function Rr(ce,De,Ve){De.isScene!==!0&&(De=Se);const Ye=be.get(ce),Be=_.state.lights,vt=_.state.shadowsArray,Ct=Be.state.version,Nt=Re.getParameters(ce,Be.state,vt,De,Ve),Pt=Re.getProgramCacheKey(Nt);let Wt=Ye.programs;Ye.environment=ce.isMeshStandardMaterial?De.environment:null,Ye.fog=De.fog,Ye.envMap=(ce.isMeshStandardMaterial?Ae:Ie).get(ce.envMap||Ye.environment),Ye.envMapRotation=Ye.environment!==null&&ce.envMap===null?De.environmentRotation:ce.envMapRotation,Wt===void 0&&(ce.addEventListener("dispose",Qe),Wt=new Map,Ye.programs=Wt);let Zt=Wt.get(Pt);if(Zt!==void 0){if(Ye.currentProgram===Zt&&Ye.lightsStateVersion===Ct)return vi(ce,Nt),Zt}else Nt.uniforms=Re.getUniforms(ce),ce.onBeforeCompile(Nt,M),Zt=Re.acquireProgram(Nt,Pt),Wt.set(Pt,Zt),Ye.uniforms=Nt.uniforms;const $t=Ye.uniforms;return(!ce.isShaderMaterial&&!ce.isRawShaderMaterial||ce.clipping===!0)&&($t.clippingPlanes=et.uniform),vi(ce,Nt),Ye.needsLights=uh(ce),Ye.lightsStateVersion=Ct,Ye.needsLights&&($t.ambientLightColor.value=Be.state.ambient,$t.lightProbe.value=Be.state.probe,$t.directionalLights.value=Be.state.directional,$t.directionalLightShadows.value=Be.state.directionalShadow,$t.spotLights.value=Be.state.spot,$t.spotLightShadows.value=Be.state.spotShadow,$t.rectAreaLights.value=Be.state.rectArea,$t.ltc_1.value=Be.state.rectAreaLTC1,$t.ltc_2.value=Be.state.rectAreaLTC2,$t.pointLights.value=Be.state.point,$t.pointLightShadows.value=Be.state.pointShadow,$t.hemisphereLights.value=Be.state.hemi,$t.directionalShadowMap.value=Be.state.directionalShadowMap,$t.directionalShadowMatrix.value=Be.state.directionalShadowMatrix,$t.spotShadowMap.value=Be.state.spotShadowMap,$t.spotLightMatrix.value=Be.state.spotLightMatrix,$t.spotLightMap.value=Be.state.spotLightMap,$t.pointShadowMap.value=Be.state.pointShadowMap,$t.pointShadowMatrix.value=Be.state.pointShadowMatrix),Ye.currentProgram=Zt,Ye.uniformsList=null,Zt}function Nn(ce){if(ce.uniformsList===null){const De=ce.currentProgram.getUniforms();ce.uniformsList=mS.seqWithValue(De.seq,ce.uniforms)}return ce.uniformsList}function vi(ce,De){const Ve=be.get(ce);Ve.outputColorSpace=De.outputColorSpace,Ve.batching=De.batching,Ve.batchingColor=De.batchingColor,Ve.instancing=De.instancing,Ve.instancingColor=De.instancingColor,Ve.instancingMorph=De.instancingMorph,Ve.skinning=De.skinning,Ve.morphTargets=De.morphTargets,Ve.morphNormals=De.morphNormals,Ve.morphColors=De.morphColors,Ve.morphTargetsCount=De.morphTargetsCount,Ve.numClippingPlanes=De.numClippingPlanes,Ve.numIntersection=De.numClipIntersection,Ve.vertexAlphas=De.vertexAlphas,Ve.vertexTangents=De.vertexTangents,Ve.toneMapping=De.toneMapping}function id(ce,De,Ve,Ye,Be){De.isScene!==!0&&(De=Se),we.resetTextureUnits();const vt=De.fog,Ct=Ye.isMeshStandardMaterial?De.environment:null,Nt=F===null?M.outputColorSpace:F.isXRRenderTarget===!0?F.texture.colorSpace:Gu,Pt=(Ye.isMeshStandardMaterial?Ae:Ie).get(Ye.envMap||Ct),Wt=Ye.vertexColors===!0&&!!Ve.attributes.color&&Ve.attributes.color.itemSize===4,Zt=!!Ve.attributes.tangent&&(!!Ye.normalMap||Ye.anisotropy>0),$t=!!Ve.morphAttributes.position,xn=!!Ve.morphAttributes.normal,Kn=!!Ve.morphAttributes.color;let Ar=Hl;Ye.toneMapped&&(F===null||F.isXRRenderTarget===!0)&&(Ar=M.toneMapping);const ir=Ve.morphAttributes.position||Ve.morphAttributes.normal||Ve.morphAttributes.color,Gn=ir!==void 0?ir.length:0,Vt=be.get(Ye),vr=_.state.lights;if(ie===!0&&(te===!0||ce!==D)){const bi=ce===D&&Ye.id===L;et.setState(Ye,ce,bi)}let Fn=!1;Ye.version===Vt.__version?(Vt.needsLights&&Vt.lightsStateVersion!==vr.state.version||Vt.outputColorSpace!==Nt||Be.isBatchedMesh&&Vt.batching===!1||!Be.isBatchedMesh&&Vt.batching===!0||Be.isBatchedMesh&&Vt.batchingColor===!0&&Be.colorTexture===null||Be.isBatchedMesh&&Vt.batchingColor===!1&&Be.colorTexture!==null||Be.isInstancedMesh&&Vt.instancing===!1||!Be.isInstancedMesh&&Vt.instancing===!0||Be.isSkinnedMesh&&Vt.skinning===!1||!Be.isSkinnedMesh&&Vt.skinning===!0||Be.isInstancedMesh&&Vt.instancingColor===!0&&Be.instanceColor===null||Be.isInstancedMesh&&Vt.instancingColor===!1&&Be.instanceColor!==null||Be.isInstancedMesh&&Vt.instancingMorph===!0&&Be.morphTexture===null||Be.isInstancedMesh&&Vt.instancingMorph===!1&&Be.morphTexture!==null||Vt.envMap!==Pt||Ye.fog===!0&&Vt.fog!==vt||Vt.numClippingPlanes!==void 0&&(Vt.numClippingPlanes!==et.numPlanes||Vt.numIntersection!==et.numIntersection)||Vt.vertexAlphas!==Wt||Vt.vertexTangents!==Zt||Vt.morphTargets!==$t||Vt.morphNormals!==xn||Vt.morphColors!==Kn||Vt.toneMapping!==Ar||Vt.morphTargetsCount!==Gn)&&(Fn=!0):(Fn=!0,Vt.__version=Ye.version);let Pi=Vt.currentProgram;Fn===!0&&(Pi=Rr(Ye,De,Be));let Ka=!1,yi=!1,cl=!1;const yr=Pi.getUniforms(),Gi=Vt.uniforms;if(fe.useProgram(Pi.program)&&(Ka=!0,yi=!0,cl=!0),Ye.id!==L&&(L=Ye.id,yi=!0),Ka||D!==ce){fe.buffers.depth.getReversed()&&ce.reversedDepth!==!0&&(ce._reversedDepth=!0,ce.updateProjectionMatrix()),yr.setValue(re,"projectionMatrix",ce.projectionMatrix),yr.setValue(re,"viewMatrix",ce.matrixWorldInverse);const Fi=yr.map.cameraPosition;Fi!==void 0&&Fi.setValue(re,xe.setFromMatrixPosition(ce.matrixWorld)),ge.logarithmicDepthBuffer&&yr.setValue(re,"logDepthBufFC",2/(Math.log(ce.far+1)/Math.LN2)),(Ye.isMeshPhongMaterial||Ye.isMeshToonMaterial||Ye.isMeshLambertMaterial||Ye.isMeshBasicMaterial||Ye.isMeshStandardMaterial||Ye.isShaderMaterial)&&yr.setValue(re,"isOrthographic",ce.isOrthographicCamera===!0),D!==ce&&(D=ce,yi=!0,cl=!0)}if(Be.isSkinnedMesh){yr.setOptional(re,Be,"bindMatrix"),yr.setOptional(re,Be,"bindMatrixInverse");const bi=Be.skeleton;bi&&(bi.boneTexture===null&&bi.computeBoneTexture(),yr.setValue(re,"boneTexture",bi.boneTexture,we))}Be.isBatchedMesh&&(yr.setOptional(re,Be,"batchingTexture"),yr.setValue(re,"batchingTexture",Be._matricesTexture,we),yr.setOptional(re,Be,"batchingIdTexture"),yr.setValue(re,"batchingIdTexture",Be._indirectTexture,we),yr.setOptional(re,Be,"batchingColorTexture"),Be._colorsTexture!==null&&yr.setValue(re,"batchingColorTexture",Be._colorsTexture,we));const Oi=Ve.morphAttributes;if((Oi.position!==void 0||Oi.normal!==void 0||Oi.color!==void 0)&&st.update(Be,Ve,Pi),(yi||Vt.receiveShadow!==Be.receiveShadow)&&(Vt.receiveShadow=Be.receiveShadow,yr.setValue(re,"receiveShadow",Be.receiveShadow)),Ye.isMeshGouraudMaterial&&Ye.envMap!==null&&(Gi.envMap.value=Pt,Gi.flipEnvMap.value=Pt.isCubeTexture&&Pt.isRenderTargetTexture===!1?-1:1),Ye.isMeshStandardMaterial&&Ye.envMap===null&&De.environment!==null&&(Gi.envMapIntensity.value=De.environmentIntensity),yi&&(yr.setValue(re,"toneMappingExposure",M.toneMappingExposure),Vt.needsLights&&ad(Gi,cl),vt&&Ye.fog===!0&&Ge.refreshFogUniforms(Gi,vt),Ge.refreshMaterialUniforms(Gi,Ye,W,G,_.state.transmissionRenderTarget[ce.id]),mS.upload(re,Nn(Vt),Gi,we)),Ye.isShaderMaterial&&Ye.uniformsNeedUpdate===!0&&(mS.upload(re,Nn(Vt),Gi,we),Ye.uniformsNeedUpdate=!1),Ye.isSpriteMaterial&&yr.setValue(re,"center",Be.center),yr.setValue(re,"modelViewMatrix",Be.modelViewMatrix),yr.setValue(re,"normalMatrix",Be.normalMatrix),yr.setValue(re,"modelMatrix",Be.matrixWorld),Ye.isShaderMaterial||Ye.isRawShaderMaterial){const bi=Ye.uniformsGroups;for(let Fi=0,ul=bi.length;Fi<ul;Fi++){const Wi=bi[Fi];$e.update(Wi,Pi),$e.bind(Wi,Pi)}}return Pi}function ad(ce,De){ce.ambientLightColor.needsUpdate=De,ce.lightProbe.needsUpdate=De,ce.directionalLights.needsUpdate=De,ce.directionalLightShadows.needsUpdate=De,ce.pointLights.needsUpdate=De,ce.pointLightShadows.needsUpdate=De,ce.spotLights.needsUpdate=De,ce.spotLightShadows.needsUpdate=De,ce.rectAreaLights.needsUpdate=De,ce.hemisphereLights.needsUpdate=De}function uh(ce){return ce.isMeshLambertMaterial||ce.isMeshToonMaterial||ce.isMeshPhongMaterial||ce.isMeshStandardMaterial||ce.isShadowMaterial||ce.isShaderMaterial&&ce.lights===!0}this.getActiveCubeFace=function(){return I},this.getActiveMipmapLevel=function(){return U},this.getRenderTarget=function(){return F},this.setRenderTargetTextures=function(ce,De,Ve){const Ye=be.get(ce);Ye.__autoAllocateDepthBuffer=ce.resolveDepthBuffer===!1,Ye.__autoAllocateDepthBuffer===!1&&(Ye.__useRenderToTexture=!1),be.get(ce.texture).__webglTexture=De,be.get(ce.depthTexture).__webglTexture=Ye.__autoAllocateDepthBuffer?void 0:Ve,Ye.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(ce,De){const Ve=be.get(ce);Ve.__webglFramebuffer=De,Ve.__useDefaultFramebuffer=De===void 0};const ig=re.createFramebuffer();this.setRenderTarget=function(ce,De=0,Ve=0){F=ce,I=De,U=Ve;let Ye=!0,Be=null,vt=!1,Ct=!1;if(ce){const Pt=be.get(ce);if(Pt.__useDefaultFramebuffer!==void 0)fe.bindFramebuffer(re.FRAMEBUFFER,null),Ye=!1;else if(Pt.__webglFramebuffer===void 0)we.setupRenderTarget(ce);else if(Pt.__hasExternalTextures)we.rebindTextures(ce,be.get(ce.texture).__webglTexture,be.get(ce.depthTexture).__webglTexture);else if(ce.depthBuffer){const $t=ce.depthTexture;if(Pt.__boundDepthTexture!==$t){if($t!==null&&be.has($t)&&(ce.width!==$t.image.width||ce.height!==$t.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");we.setupDepthRenderbuffer(ce)}}const Wt=ce.texture;(Wt.isData3DTexture||Wt.isDataArrayTexture||Wt.isCompressedArrayTexture)&&(Ct=!0);const Zt=be.get(ce).__webglFramebuffer;ce.isWebGLCubeRenderTarget?(Array.isArray(Zt[De])?Be=Zt[De][Ve]:Be=Zt[De],vt=!0):ce.samples>0&&we.useMultisampledRTT(ce)===!1?Be=be.get(ce).__webglMultisampledFramebuffer:Array.isArray(Zt)?Be=Zt[Ve]:Be=Zt,z.copy(ce.viewport),$.copy(ce.scissor),Y=ce.scissorTest}else z.copy(Q).multiplyScalar(W).floor(),$.copy(ue).multiplyScalar(W).floor(),Y=se;if(Ve!==0&&(Be=ig),fe.bindFramebuffer(re.FRAMEBUFFER,Be)&&Ye&&fe.drawBuffers(ce,Be),fe.viewport(z),fe.scissor($),fe.setScissorTest(Y),vt){const Pt=be.get(ce.texture);re.framebufferTexture2D(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_CUBE_MAP_POSITIVE_X+De,Pt.__webglTexture,Ve)}else if(Ct){const Pt=De;for(let Wt=0;Wt<ce.textures.length;Wt++){const Zt=be.get(ce.textures[Wt]);re.framebufferTextureLayer(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0+Wt,Zt.__webglTexture,Ve,Pt)}}else if(ce!==null&&Ve!==0){const Pt=be.get(ce.texture);re.framebufferTexture2D(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_2D,Pt.__webglTexture,Ve)}L=-1},this.readRenderTargetPixels=function(ce,De,Ve,Ye,Be,vt,Ct,Nt=0){if(!(ce&&ce.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Pt=be.get(ce).__webglFramebuffer;if(ce.isWebGLCubeRenderTarget&&Ct!==void 0&&(Pt=Pt[Ct]),Pt){fe.bindFramebuffer(re.FRAMEBUFFER,Pt);try{const Wt=ce.textures[Nt],Zt=Wt.format,$t=Wt.type;if(!ge.textureFormatReadable(Zt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!ge.textureTypeReadable($t)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}De>=0&&De<=ce.width-Ye&&Ve>=0&&Ve<=ce.height-Be&&(ce.textures.length>1&&re.readBuffer(re.COLOR_ATTACHMENT0+Nt),re.readPixels(De,Ve,Ye,Be,pe.convert(Zt),pe.convert($t),vt))}finally{const Wt=F!==null?be.get(F).__webglFramebuffer:null;fe.bindFramebuffer(re.FRAMEBUFFER,Wt)}}},this.readRenderTargetPixelsAsync=function(ce,De,Ve,Ye,Be,vt,Ct,Nt=0){return Bt(this,null,function*(){if(!(ce&&ce.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Pt=be.get(ce).__webglFramebuffer;if(ce.isWebGLCubeRenderTarget&&Ct!==void 0&&(Pt=Pt[Ct]),Pt)if(De>=0&&De<=ce.width-Ye&&Ve>=0&&Ve<=ce.height-Be){fe.bindFramebuffer(re.FRAMEBUFFER,Pt);const Wt=ce.textures[Nt],Zt=Wt.format,$t=Wt.type;if(!ge.textureFormatReadable(Zt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!ge.textureTypeReadable($t))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const xn=re.createBuffer();re.bindBuffer(re.PIXEL_PACK_BUFFER,xn),re.bufferData(re.PIXEL_PACK_BUFFER,vt.byteLength,re.STREAM_READ),ce.textures.length>1&&re.readBuffer(re.COLOR_ATTACHMENT0+Nt),re.readPixels(De,Ve,Ye,Be,pe.convert(Zt),pe.convert($t),0);const Kn=F!==null?be.get(F).__webglFramebuffer:null;fe.bindFramebuffer(re.FRAMEBUFFER,Kn);const Ar=re.fenceSync(re.SYNC_GPU_COMMANDS_COMPLETE,0);return re.flush(),yield lEe(re,Ar,4),re.bindBuffer(re.PIXEL_PACK_BUFFER,xn),re.getBufferSubData(re.PIXEL_PACK_BUFFER,0,vt),re.deleteBuffer(xn),re.deleteSync(Ar),vt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")})},this.copyFramebufferToTexture=function(ce,De=null,Ve=0){const Ye=Math.pow(2,-Ve),Be=Math.floor(ce.image.width*Ye),vt=Math.floor(ce.image.height*Ye),Ct=De!==null?De.x:0,Nt=De!==null?De.y:0;we.setTexture2D(ce,0),re.copyTexSubImage2D(re.TEXTURE_2D,Ve,0,0,Ct,Nt,Be,vt),fe.unbindTexture()};const od=re.createFramebuffer(),sd=re.createFramebuffer();this.copyTextureToTexture=function(ce,De,Ve=null,Ye=null,Be=0,vt=null){vt===null&&(Be!==0?(oy("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),vt=Be,Be=0):vt=0);let Ct,Nt,Pt,Wt,Zt,$t,xn,Kn,Ar;const ir=ce.isCompressedTexture?ce.mipmaps[vt]:ce.image;if(Ve!==null)Ct=Ve.max.x-Ve.min.x,Nt=Ve.max.y-Ve.min.y,Pt=Ve.isBox3?Ve.max.z-Ve.min.z:1,Wt=Ve.min.x,Zt=Ve.min.y,$t=Ve.isBox3?Ve.min.z:0;else{const Oi=Math.pow(2,-Be);Ct=Math.floor(ir.width*Oi),Nt=Math.floor(ir.height*Oi),ce.isDataArrayTexture?Pt=ir.depth:ce.isData3DTexture?Pt=Math.floor(ir.depth*Oi):Pt=1,Wt=0,Zt=0,$t=0}Ye!==null?(xn=Ye.x,Kn=Ye.y,Ar=Ye.z):(xn=0,Kn=0,Ar=0);const Gn=pe.convert(De.format),Vt=pe.convert(De.type);let vr;De.isData3DTexture?(we.setTexture3D(De,0),vr=re.TEXTURE_3D):De.isDataArrayTexture||De.isCompressedArrayTexture?(we.setTexture2DArray(De,0),vr=re.TEXTURE_2D_ARRAY):(we.setTexture2D(De,0),vr=re.TEXTURE_2D),re.pixelStorei(re.UNPACK_FLIP_Y_WEBGL,De.flipY),re.pixelStorei(re.UNPACK_PREMULTIPLY_ALPHA_WEBGL,De.premultiplyAlpha),re.pixelStorei(re.UNPACK_ALIGNMENT,De.unpackAlignment);const Fn=re.getParameter(re.UNPACK_ROW_LENGTH),Pi=re.getParameter(re.UNPACK_IMAGE_HEIGHT),Ka=re.getParameter(re.UNPACK_SKIP_PIXELS),yi=re.getParameter(re.UNPACK_SKIP_ROWS),cl=re.getParameter(re.UNPACK_SKIP_IMAGES);re.pixelStorei(re.UNPACK_ROW_LENGTH,ir.width),re.pixelStorei(re.UNPACK_IMAGE_HEIGHT,ir.height),re.pixelStorei(re.UNPACK_SKIP_PIXELS,Wt),re.pixelStorei(re.UNPACK_SKIP_ROWS,Zt),re.pixelStorei(re.UNPACK_SKIP_IMAGES,$t);const yr=ce.isDataArrayTexture||ce.isData3DTexture,Gi=De.isDataArrayTexture||De.isData3DTexture;if(ce.isDepthTexture){const Oi=be.get(ce),bi=be.get(De),Fi=be.get(Oi.__renderTarget),ul=be.get(bi.__renderTarget);fe.bindFramebuffer(re.READ_FRAMEBUFFER,Fi.__webglFramebuffer),fe.bindFramebuffer(re.DRAW_FRAMEBUFFER,ul.__webglFramebuffer);for(let Wi=0;Wi<Pt;Wi++)yr&&(re.framebufferTextureLayer(re.READ_FRAMEBUFFER,re.COLOR_ATTACHMENT0,be.get(ce).__webglTexture,Be,$t+Wi),re.framebufferTextureLayer(re.DRAW_FRAMEBUFFER,re.COLOR_ATTACHMENT0,be.get(De).__webglTexture,vt,Ar+Wi)),re.blitFramebuffer(Wt,Zt,Ct,Nt,xn,Kn,Ct,Nt,re.DEPTH_BUFFER_BIT,re.NEAREST);fe.bindFramebuffer(re.READ_FRAMEBUFFER,null),fe.bindFramebuffer(re.DRAW_FRAMEBUFFER,null)}else if(Be!==0||ce.isRenderTargetTexture||be.has(ce)){const Oi=be.get(ce),bi=be.get(De);fe.bindFramebuffer(re.READ_FRAMEBUFFER,od),fe.bindFramebuffer(re.DRAW_FRAMEBUFFER,sd);for(let Fi=0;Fi<Pt;Fi++)yr?re.framebufferTextureLayer(re.READ_FRAMEBUFFER,re.COLOR_ATTACHMENT0,Oi.__webglTexture,Be,$t+Fi):re.framebufferTexture2D(re.READ_FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_2D,Oi.__webglTexture,Be),Gi?re.framebufferTextureLayer(re.DRAW_FRAMEBUFFER,re.COLOR_ATTACHMENT0,bi.__webglTexture,vt,Ar+Fi):re.framebufferTexture2D(re.DRAW_FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_2D,bi.__webglTexture,vt),Be!==0?re.blitFramebuffer(Wt,Zt,Ct,Nt,xn,Kn,Ct,Nt,re.COLOR_BUFFER_BIT,re.NEAREST):Gi?re.copyTexSubImage3D(vr,vt,xn,Kn,Ar+Fi,Wt,Zt,Ct,Nt):re.copyTexSubImage2D(vr,vt,xn,Kn,Wt,Zt,Ct,Nt);fe.bindFramebuffer(re.READ_FRAMEBUFFER,null),fe.bindFramebuffer(re.DRAW_FRAMEBUFFER,null)}else Gi?ce.isDataTexture||ce.isData3DTexture?re.texSubImage3D(vr,vt,xn,Kn,Ar,Ct,Nt,Pt,Gn,Vt,ir.data):De.isCompressedArrayTexture?re.compressedTexSubImage3D(vr,vt,xn,Kn,Ar,Ct,Nt,Pt,Gn,ir.data):re.texSubImage3D(vr,vt,xn,Kn,Ar,Ct,Nt,Pt,Gn,Vt,ir):ce.isDataTexture?re.texSubImage2D(re.TEXTURE_2D,vt,xn,Kn,Ct,Nt,Gn,Vt,ir.data):ce.isCompressedTexture?re.compressedTexSubImage2D(re.TEXTURE_2D,vt,xn,Kn,ir.width,ir.height,Gn,ir.data):re.texSubImage2D(re.TEXTURE_2D,vt,xn,Kn,Ct,Nt,Gn,Vt,ir);re.pixelStorei(re.UNPACK_ROW_LENGTH,Fn),re.pixelStorei(re.UNPACK_IMAGE_HEIGHT,Pi),re.pixelStorei(re.UNPACK_SKIP_PIXELS,Ka),re.pixelStorei(re.UNPACK_SKIP_ROWS,yi),re.pixelStorei(re.UNPACK_SKIP_IMAGES,cl),vt===0&&De.generateMipmaps&&re.generateMipmap(vr),fe.unbindTexture()},this.initRenderTarget=function(ce){be.get(ce).__webglFramebuffer===void 0&&we.setupRenderTarget(ce)},this.initTexture=function(ce){ce.isCubeTexture?we.setTextureCube(ce,0):ce.isData3DTexture?we.setTexture3D(ce,0):ce.isDataArrayTexture||ce.isCompressedArrayTexture?we.setTexture2DArray(ce,0):we.setTexture2D(ce,0),fe.unbindTexture()},this.resetState=function(){I=0,U=0,F=null,fe.reset(),Te.reset()},typeof __THREE_DEVTOOLS__!="undefined"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Yo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Vn._getDrawingBufferColorSpace(e),t.unpackColorSpace=Vn._getUnpackColorSpace()}}const wIe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:XP,AddEquation:Du,AddOperation:O5,AdditiveAnimationBlendMode:r2,AdditiveBlending:pR,AgXToneMapping:N5,AlphaFormat:e2,AlwaysCompare:Z5,AlwaysDepth:P1,AlwaysStencilFunc:yR,AmbientLight:GH,AnimationAction:ek,AnimationClip:fy,AnimationLoader:LAe,AnimationMixer:uRe,AnimationObjectGroup:lRe,AnimationUtils:OAe,ArcCurve:gH,ArrayCamera:ZH,ArrowHelper:LRe,AttachedBindMode:vR,Audio:JH,AudioAnalyser:JAe,AudioContext:R2,AudioListener:YAe,AudioLoader:WAe,AxesHelper:NRe,BackSide:Xa,BasicDepthPacking:j5,BasicShadowMap:d5,BatchedMesh:dH,Bone:d2,BooleanKeyframeTrack:lh,Box2:bRe,Box3:Aa,Box3Helper:IRe,BoxGeometry:sh,BoxHelper:FRe,BufferAttribute:Er,BufferGeometry:bn,BufferGeometryLoader:KH,ByteType:KP,Cache:Bl,Camera:Ow,CameraHelper:ORe,CanvasTexture:eAe,CapsuleGeometry:Bw,CatmullRomCurve3:vH,CineonToneMapping:D5,CircleGeometry:zw,ClampToEdgeWrapping:Ss,Clock:P2,Color:It,ColorKeyframeTrack:M2,ColorManagement:Vn,CompressedArrayTexture:JEe,CompressedCubeTexture:QEe,CompressedTexture:Uw,CompressedTextureLoader:NAe,ConeGeometry:nb,ConstantAlphaFactor:A5,ConstantColorFactor:M5,Controls:BRe,CubeCamera:iH,CubeReflectionMapping:Zc,CubeRefractionMapping:Vu,CubeTexture:eb,CubeTextureLoader:UAe,CubeUVReflectionMapping:Jm,CubicBezierCurve:g2,CubicBezierCurve3:yH,CubicInterpolant:UH,CullFaceBack:hR,CullFaceFront:u5,CullFaceFrontBack:sMe,CullFaceNone:c5,Curve:ll,CurvePath:xH,CustomBlending:f5,CustomToneMapping:L5,CylinderGeometry:tb,Cylindrical:yRe,Data3DTexture:Pw,DataArrayTexture:Rw,DataTexture:kl,DataTextureLoader:BAe,DataUtils:CEe,DecrementStencilOp:_Me,DecrementWrapStencilOp:CMe,DefaultLoadingManager:HH,DepthFormat:Tm,DepthStencilFormat:Mm,DepthTexture:h2,DetachedBindMode:B5,DirectionalLight:VH,DirectionalLightHelper:PRe,DiscreteInterpolant:BH,DodecahedronGeometry:Hw,DoubleSide:_s,DstAlphaFactor:_5,DstColorFactor:C5,DynamicCopyUsage:BMe,DynamicDrawUsage:FMe,DynamicReadUsage:LMe,EdgesGeometry:mH,EllipseCurve:kw,EqualCompare:q5,EqualDepth:F1,EqualStencilFunc:EMe,EquirectangularReflectionMapping:Z0,EquirectangularRefractionMapping:J0,Euler:es,EventDispatcher:ql,ExternalTexture:p2,ExtrudeGeometry:jw,FileLoader:Qc,Float16BufferAttribute:PEe,Float32BufferAttribute:zt,FloatType:bo,Fog:Iw,FogExp2:Fw,FramebufferTexture:ZEe,FrontSide:Kc,Frustum:eg,FrustumArray:Nw,GLBufferAttribute:mRe,GLSL1:HMe,GLSL3:bR,GreaterCompare:X5,GreaterDepth:D1,GreaterEqualCompare:K5,GreaterEqualDepth:I1,GreaterEqualStencilFunc:OMe,GreaterStencilFunc:RMe,GridHelper:ARe,Group:Zp,HalfFloatType:Qm,HemisphereLight:kH,HemisphereLightHelper:ERe,IcosahedronGeometry:$w,ImageBitmapLoader:GAe,ImageLoader:hy,ImageUtils:eH,IncrementStencilOp:xMe,IncrementWrapStencilOp:SMe,InstancedBufferAttribute:Om,InstancedBufferGeometry:YH,InstancedInterleavedBuffer:pRe,InstancedMesh:uH,Int16BufferAttribute:AEe,Int32BufferAttribute:REe,Int8BufferAttribute:TEe,IntType:Sw,InterleavedBuffer:Dw,InterleavedBufferAttribute:qf,Interpolant:ab,InterpolateDiscrete:ty,InterpolateLinear:uC,InterpolateSmooth:hS,InterpolationSamplingMode:$Me,InterpolationSamplingType:jMe,InvertStencilOp:wMe,KeepStencilOp:gf,KeyframeTrack:Es,LOD:lH,LatheGeometry:Vw,Layers:Rm,LessCompare:W5,LessDepth:O1,LessEqualCompare:i2,LessEqualDepth:Wf,LessEqualStencilFunc:AMe,LessStencilFunc:MMe,Light:nd,LightProbe:XH,Line:Wu,Line3:SRe,LineBasicMaterial:Ya,LineCurve:v2,LineCurve3:bH,LineDashedMaterial:DH,LineLoop:fH,LineSegments:Xl,LinearFilter:Hi,LinearInterpolant:T2,LinearMipMapLinearFilter:dMe,LinearMipMapNearestFilter:uMe,LinearMipmapLinearFilter:Ul,LinearMipmapNearestFilter:x0,LinearSRGBColorSpace:Gu,LinearToneMapping:F5,LinearTransfer:ry,Loader:Co,LoaderUtils:wR,LoadingManager:E2,LoopOnce:z5,LoopPingPong:k5,LoopRepeat:H5,MOUSE:pf,Material:Fa,MaterialLoader:Zw,MathUtils:oEe,Matrix2:D2,Matrix3:fn,Matrix4:on,MaxEquation:g5,Mesh:Ri,MeshBasicMaterial:ed,MeshDepthMaterial:S2,MeshDistanceMaterial:C2,MeshLambertMaterial:FH,MeshMatcapMaterial:IH,MeshNormalMaterial:OH,MeshPhongMaterial:RH,MeshPhysicalMaterial:AH,MeshStandardMaterial:_2,MeshToonMaterial:PH,MinEquation:m5,MirroredRepeatWrapping:ey,MixOperation:P5,MultiplyBlending:gR,MultiplyOperation:Jy,NearestFilter:ha,NearestMipMapLinearFilter:cMe,NearestMipMapNearestFilter:lMe,NearestMipmapLinearFilter:Yp,NearestMipmapNearestFilter:YP,NeutralToneMapping:U5,NeverCompare:G5,NeverDepth:R1,NeverStencilFunc:TMe,NoBlending:Gc,NoColorSpace:zc,NoToneMapping:Hl,NormalAnimationBlendMode:Aw,NormalBlending:If,NotEqualCompare:Y5,NotEqualDepth:L1,NotEqualStencilFunc:PMe,NumberKeyframeTrack:uy,Object3D:nr,ObjectLoader:$Ae,ObjectSpaceNormalMap:V5,OctahedronGeometry:rb,OneFactor:y5,OneMinusConstantAlphaFactor:R5,OneMinusConstantColorFactor:E5,OneMinusDstAlphaFactor:S5,OneMinusDstColorFactor:w5,OneMinusSrcAlphaFactor:A1,OneMinusSrcColorFactor:x5,OrthographicCamera:Hu,PCFShadowMap:xw,PCFSoftShadowMap:b0,PMREMGenerator:AR,Path:pC,PerspectiveCamera:mi,Plane:Uc,PlaneGeometry:tg,PlaneHelper:DRe,PointLight:$H,PointLightHelper:TRe,Points:hH,PointsMaterial:f2,PolarGridHelper:RRe,PolyhedronGeometry:td,PositionalAudio:ZAe,PropertyBinding:er,PropertyMixer:QH,QuadraticBezierCurve:y2,QuadraticBezierCurve3:b2,Quaternion:ki,QuaternionKeyframeTrack:ob,QuaternionLinearInterpolant:zH,RED_GREEN_RGTC2_Format:lC,RED_RGTC1_Format:oC,REVISION:bw,RGBADepthPacking:$5,RGBAFormat:Ea,RGBAIntegerFormat:Ew,RGBA_ASTC_10x10_Format:eC,RGBA_ASTC_10x5_Format:Z1,RGBA_ASTC_10x6_Format:J1,RGBA_ASTC_10x8_Format:Q1,RGBA_ASTC_12x10_Format:tC,RGBA_ASTC_12x12_Format:nC,RGBA_ASTC_4x4_Format:$1,RGBA_ASTC_5x4_Format:V1,RGBA_ASTC_5x5_Format:G1,RGBA_ASTC_6x5_Format:W1,RGBA_ASTC_6x6_Format:q1,RGBA_ASTC_8x5_Format:X1,RGBA_ASTC_8x6_Format:Y1,RGBA_ASTC_8x8_Format:K1,RGBA_BPTC_Format:rC,RGBA_ETC2_EAC_Format:j1,RGBA_PVRTC_2BPPV1_Format:z1,RGBA_PVRTC_4BPPV1_Format:B1,RGBA_S3TC_DXT1_Format:S0,RGBA_S3TC_DXT3_Format:C0,RGBA_S3TC_DXT5_Format:w0,RGBDepthPacking:gMe,RGBFormat:t2,RGBIntegerFormat:fMe,RGB_BPTC_SIGNED_Format:iC,RGB_BPTC_UNSIGNED_Format:aC,RGB_ETC1_Format:H1,RGB_ETC2_Format:k1,RGB_PVRTC_2BPPV1_Format:U1,RGB_PVRTC_4BPPV1_Format:N1,RGB_S3TC_DXT1_Format:_0,RGDepthPacking:vMe,RGFormat:n2,RGIntegerFormat:Mw,RawShaderMaterial:EH,Ray:oh,Raycaster:tk,RectAreaLight:WH,RedFormat:Tw,RedIntegerFormat:Qy,ReinhardToneMapping:I5,RenderTarget:o2,RenderTarget3D:dRe,RepeatWrapping:Q0,ReplaceStencilOp:bMe,ReverseSubtractEquation:p5,RingGeometry:Gw,SIGNED_RED_GREEN_RGTC2_Format:cC,SIGNED_RED_RGTC1_Format:sC,SRGBColorSpace:wa,SRGBTransfer:br,Scene:c2,ShaderChunk:wn,ShaderLib:el,ShaderMaterial:al,ShadowMaterial:MH,Shape:Lf,ShapeGeometry:Ww,ShapePath:URe,ShapeUtils:il,ShortType:ZP,Skeleton:Lw,SkeletonHelper:wRe,SkinnedMesh:cH,Source:zu,Sphere:pa,SphereGeometry:ib,Spherical:MR,SphericalHarmonics3:qH,SplineCurve:x2,SpotLight:jH,SpotLightHelper:CRe,Sprite:sH,SpriteMaterial:u2,SrcAlphaFactor:E1,SrcAlphaSaturateFactor:T5,SrcColorFactor:b5,StaticCopyUsage:UMe,StaticDrawUsage:iy,StaticReadUsage:DMe,StereoCamera:qAe,StreamCopyUsage:zMe,StreamDrawUsage:IMe,StreamReadUsage:NMe,StringKeyframeTrack:ch,SubtractEquation:h5,SubtractiveBlending:mR,TOUCH:mf,TangentSpaceNormalMap:Qu,TetrahedronGeometry:qw,Texture:ni,TextureLoader:zAe,TextureUtils:$Re,Timer:gRe,TimestampQuery:kMe,TorusGeometry:Xw,TorusKnotGeometry:Yw,Triangle:go,TriangleFanDrawMode:mMe,TriangleStripDrawMode:pMe,TrianglesDrawMode:hMe,TubeGeometry:Kw,UVMapping:_w,Uint16BufferAttribute:s2,Uint32BufferAttribute:l2,Uint8BufferAttribute:MEe,Uint8ClampedBufferAttribute:EEe,Uniform:I2,UniformsGroup:hRe,UniformsLib:Mt,UniformsUtils:rH,UnsignedByteType:ws,UnsignedInt101111Type:QP,UnsignedInt248Type:wm,UnsignedInt5999Type:JP,UnsignedIntType:Jc,UnsignedShort4444Type:Cw,UnsignedShort5551Type:ww,UnsignedShortType:Cm,VSMShadowMap:Js,Vector2:ot,Vector3:he,Vector4:tr,VectorKeyframeTrack:dy,VideoFrameTexture:KEe,VideoTexture:pH,WebGL3DRenderTarget:hEe,WebGLArrayRenderTarget:fEe,WebGLCoordinateSystem:Yo,WebGLCubeRenderTarget:aH,WebGLRenderTarget:jl,WebGLRenderer:ck,WebGLUtils:lk,WebGPUCoordinateSystem:Em,WebXRController:pS,WireframeGeometry:TH,WrapAroundEnding:ny,ZeroCurvatureEnding:Mf,ZeroFactor:v5,ZeroSlopeEnding:Ef,ZeroStencilOp:yMe,createCanvasElement:Q5},Symbol.toStringTag,{value:"Module"}));var uk={exports:{}},rd={};/**
* @license React
* react-reconciler-constants.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/rd.ConcurrentRoot=1;rd.ContinuousEventPriority=8;rd.DefaultEventPriority=32;rd.DiscreteEventPriority=2;rd.IdleEventPriority=268435456;rd.LegacyRoot=0;rd.NoEventPriority=0;uk.exports=rd;var gS=uk.exports,dk={exports:{}},fk={};/**
* @license React
* use-sync-external-store-shim/with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Qw=P,TIe=CS;function MIe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var EIe=typeof Object.is=="function"?Object.is:MIe,AIe=TIe.useSyncExternalStore,RIe=Qw.useRef,PIe=Qw.useEffect,OIe=Qw.useMemo,FIe=Qw.useDebugValue;fk.useSyncExternalStoreWithSelector=function(n,e,t,r,i){var a=RIe(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=OIe(function(){function l(v){if(!c){if(c=!0,d=v,v=r(v),i!==void 0&&o.hasValue){var g=o.value;if(i(g,v))return h=g}return h=v}if(g=h,EIe(d,v))return g;var x=r(v);return i!==void 0&&i(g,x)?(d=v,g):(d=v,h=x)}var c=!1,d,h,m=t===void 0?null:t;return[function(){return l(e())},m===null?void 0:function(){return l(m())}]},[e,t,r,i]);var s=AIe(n,a[0],a[1]);return PIe(function(){o.hasValue=!0,o.value=s},[s]),FIe(s),s};dk.exports=fk;var IIe=dk.exports;const DIe=ri(IIe),{useSyncExternalStoreWithSelector:LIe}=DIe,NIe=n=>n;function UIe(n,e=NIe,t){const r=LIe(n.subscribe,n.getState,n.getInitialState,e,t);return Oe.useDebugValue(r),r}const HN=(n,e)=>{const t=A6(n),r=(i,a=e)=>UIe(t,i,a);return Object.assign(r,t),r},BIe=(n,e)=>n?HN(n,e):HN;var hk={exports:{}},pk={exports:{}},mk={exports:{}},gk={};/**
* @license React
* scheduler.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(n){function e(B,G){var W=B.length;B.push(G);e:for(;0<W;){var Z=W-1>>>1,J=B[Z];if(0<i(J,G))B[Z]=G,B[W]=J,W=Z;else break e}}function t(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var G=B[0],W=B.pop();if(W!==G){B[0]=W;e:for(var Z=0,J=B.length,Q=J>>>1;Z<Q;){var ue=2*(Z+1)-1,se=B[ue],ae=ue+1,ie=B[ae];if(0>i(se,W))ae<J&&0>i(ie,se)?(B[Z]=ie,B[ae]=W,Z=ae):(B[Z]=se,B[ue]=W,Z=ue);else if(ae<J&&0>i(ie,W))B[Z]=ie,B[ae]=W,Z=ae;else break e}}return G}function i(B,G){var W=B.sortIndex-G.sortIndex;return W!==0?W:B.id-G.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();n.unstable_now=function(){return o.now()-s}}var l=[],c=[],d=1,h=null,m=3,v=!1,g=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate!="undefined"?setImmediate:null;function T(B){for(var G=t(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=B)r(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=t(c)}}function M(B){if(x=!1,T(B),!g)if(t(l)!==null)g=!0,j();else{var G=t(c);G!==null&&V(M,G.startTime-B)}}var O=!1,I=-1,U=5,F=-1;function L(){return!(n.unstable_now()-F<U)}function D(){if(O){var B=n.unstable_now();F=B;var G=!0;try{e:{g=!1,x&&(x=!1,_(I),I=-1),v=!0;var W=m;try{t:{for(T(B),h=t(l);h!==null&&!(h.expirationTime>B&&L());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,m=h.priorityLevel;var J=Z(h.expirationTime<=B);if(B=n.unstable_now(),typeof J=="function"){h.callback=J,T(B),G=!0;break t}h===t(l)&&r(l),T(B)}else r(l);h=t(l)}if(h!==null)G=!0;else{var Q=t(c);Q!==null&&V(M,Q.startTime-B),G=!1}}break e}finally{h=null,m=W,v=!1}G=void 0}}finally{G?z():O=!1}}}var z;if(typeof C=="function")z=function(){C(D)};else if(typeof MessageChannel!="undefined"){var $=new MessageChannel,Y=$.port2;$.port1.onmessage=D,z=function(){Y.postMessage(null)}}else z=function(){b(D,0)};function j(){O||(O=!0,z())}function V(B,G){I=b(function(){B(n.unstable_now())},G)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){g||v||(g=!0,j())},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(B){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var W=m;m=G;try{return B()}finally{m=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var W=m;m=B;try{return G()}finally{m=W}},n.unstable_scheduleCallback=function(B,G,W){var Z=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Z+W:Z):W=Z,B){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=W+J,B={id:d++,callback:G,priorityLevel:B,startTime:W,expirationTime:J,sortIndex:-1},W>Z?(B.sortIndex=W,e(c,B),t(l)===null&&B===t(c)&&(x?(_(I),I=-1):x=!0,V(M,W-Z))):(B.sortIndex=J,e(l,B),g||v||(g=!0,j())),B},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(B){var G=m;return function(){var W=m;m=G;try{return B.apply(this,arguments)}finally{m=W}}}})(gk);mk.exports=gk;var PR=mk.exports;/**
* @license React
* react-reconciler.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(n){n.exports=function(e){function t(u,f,S,E){return new Qa(u,f,S,E)}function r(){}function i(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)f+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(u){return u===null||typeof u!="object"?null:(u=Dh&&u[Dh]||u["@@iterator"],typeof u=="function"?u:null)}function o(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===Ad?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case eo:return"Fragment";case uu:return"Portal";case Hg:return"Profiler";case Gb:return"StrictMode";case jg:return"Suspense";case $g:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case yl:return(u.displayName||"Context")+".Provider";case Wb:return(u._context.displayName||"Context")+".Consumer";case kg:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case Ih:return f=u.displayName||null,f!==null?f:o(u.type)||"Memo";case Ls:f=u._payload,u=u._init;try{return o(u(f))}catch(S){}}return null}function s(u){if(Vg===void 0)try{throw Error()}catch(S){var f=S.stack.trim().match(/\n( *(at )?)/);Vg=f&&f[1]||"",Gg=-1<S.stack.indexOf(`
    at`)?" (<anonymous>)":-1<S.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vg+u+Gg}function l(u,f){if(!u||Wg)return"";Wg=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(f){var Et=function(){throw Error()};if(Object.defineProperty(Et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Et,[])}catch(cn){var Ot=cn}Reflect.construct(u,[],Et)}else{try{Et.call()}catch(cn){Ot=cn}u.call(Et.prototype)}}else{try{throw Error()}catch(cn){Ot=cn}(Et=u())&&typeof Et.catch=="function"&&Et.catch(function(){})}}catch(cn){if(cn&&Ot&&typeof cn.stack=="string")return[cn.stack,Ot.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=E.DetermineComponentFrameRoot(),le=k[0],Me=k[1];if(le&&Me){var je=le.split(`
`),it=Me.split(`
`);for(N=E=0;E<je.length&&!je[E].includes("DetermineComponentFrameRoot");)E++;for(;N<it.length&&!it[N].includes("DetermineComponentFrameRoot");)N++;if(E===je.length||N===it.length)for(E=je.length-1,N=it.length-1;1<=E&&0<=N&&je[E]!==it[N];)N--;for(;1<=E&&0<=N;E--,N--)if(je[E]!==it[N]){if(E!==1||N!==1)do if(E--,N--,0>N||je[E]!==it[N]){var bt=`
`+je[E].replace(" at new "," at ");return u.displayName&&bt.includes("<anonymous>")&&(bt=bt.replace("<anonymous>",u.displayName)),bt}while(1<=E&&0<=N);break}}}finally{Wg=!1,Error.prepareStackTrace=S}return(S=u?u.displayName||u.name:"")?s(S):""}function c(u){switch(u.tag){case 26:case 27:case 5:return s(u.type);case 16:return s("Lazy");case 13:return s("Suspense");case 19:return s("SuspenseList");case 0:case 15:return u=l(u.type,!1),u;case 11:return u=l(u.type.render,!1),u;case 1:return u=l(u.type,!0),u;default:return""}}function d(u){try{var f="";do f+=c(u),u=u.return;while(u);return f}catch(S){return`
Error generating stack: `+S.message+`
`+S.stack}}function h(u){var f=u,S=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,f.flags&4098&&(S=f.return),u=f.return;while(u)}return f.tag===3?S:null}function m(u){if(h(u)!==u)throw Error(i(188))}function v(u){var f=u.alternate;if(!f){if(f=h(u),f===null)throw Error(i(188));return f!==u?null:u}for(var S=u,E=f;;){var N=S.return;if(N===null)break;var k=N.alternate;if(k===null){if(E=N.return,E!==null){S=E;continue}break}if(N.child===k.child){for(k=N.child;k;){if(k===S)return m(N),u;if(k===E)return m(N),f;k=k.sibling}throw Error(i(188))}if(S.return!==E.return)S=N,E=k;else{for(var le=!1,Me=N.child;Me;){if(Me===S){le=!0,S=N,E=k;break}if(Me===E){le=!0,E=N,S=k;break}Me=Me.sibling}if(!le){for(Me=k.child;Me;){if(Me===S){le=!0,S=k,E=N;break}if(Me===E){le=!0,E=k,S=N;break}Me=Me.sibling}if(!le)throw Error(i(189))}}if(S.alternate!==E)throw Error(i(190))}if(S.tag!==3)throw Error(i(188));return S.stateNode.current===S?u:f}function g(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(f=g(u),f!==null)return f;u=u.sibling}return null}function x(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(u.tag!==4&&(f=x(u),f!==null))return f;u=u.sibling}return null}function b(u){return{current:u}}function _(u){0>sc||(u.current=mu[sc],mu[sc]=null,sc--)}function C(u,f){sc++,mu[sc]=u.current,u.current=f}function T(u){return u>>>=0,u===0?32:31-(jh(u)/ET|0)|0}function M(u){var f=u&42;if(f!==0)return f;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function O(u,f){var S=u.pendingLanes;if(S===0)return 0;var E=0,N=u.suspendedLanes,k=u.pingedLanes,le=u.warmLanes;u=u.finishedLanes!==0;var Me=S&134217727;return Me!==0?(S=Me&~N,S!==0?E=M(S):(k&=Me,k!==0?E=M(k):u||(le=Me&~le,le!==0&&(E=M(le))))):(Me=S&~N,Me!==0?E=M(Me):k!==0?E=M(k):u||(le=S&~le,le!==0&&(E=M(le)))),E===0?0:f!==0&&f!==E&&!(f&N)&&(N=E&-E,le=f&-f,N>=le||N===32&&(le&4194176)!==0)?f:E}function I(u,f){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&f)===0}function U(u,f){switch(u){case 1:case 2:case 4:case 8:return f+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F(){var u=Dd;return Dd<<=1,!(Dd&4194176)&&(Dd=128),u}function L(){var u=lc;return lc<<=1,!(lc&62914560)&&(lc=4194304),u}function D(u){for(var f=[],S=0;31>S;S++)f.push(u);return f}function z(u,f){u.pendingLanes|=f,f!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function $(u,f,S,E,N,k){var le=u.pendingLanes;u.pendingLanes=S,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=S,u.entangledLanes&=S,u.errorRecoveryDisabledLanes&=S,u.shellSuspendCounter=0;var Me=u.entanglements,je=u.expirationTimes,it=u.hiddenUpdates;for(S=le&~S;0<S;){var bt=31-ra(S),Et=1<<bt;Me[bt]=0,je[bt]=-1;var Ot=it[bt];if(Ot!==null)for(it[bt]=null,bt=0;bt<Ot.length;bt++){var cn=Ot[bt];cn!==null&&(cn.lane&=-536870913)}S&=~Et}E!==0&&Y(u,E,0),k!==0&&N===0&&u.tag!==0&&(u.suspendedLanes|=k&~(le&~f))}function Y(u,f,S){u.pendingLanes|=f,u.suspendedLanes&=~f;var E=31-ra(f);u.entangledLanes|=f,u.entanglements[E]=u.entanglements[E]|1073741824|S&4194218}function j(u,f){var S=u.entangledLanes|=f;for(u=u.entanglements;S;){var E=31-ra(S),N=1<<E;N&f|u[E]&f&&(u[E]|=f),S&=~N}}function V(u){return u&=-u,2<u?8<u?u&134217727?32:268435456:8:2}function B(u){if(ia&&typeof ia.onCommitFiberRoot=="function")try{ia.onCommitFiberRoot(ka,u,void 0,(u.current.flags&128)===128)}catch(f){}}function G(u){if(typeof RT=="function"&&PT(u),ia&&typeof ia.setStrictMode=="function")try{ia.setStrictMode(ka,u)}catch(f){}}function W(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}function Z(u,f){if(typeof u=="object"&&u!==null){var S=$h.get(u);return S!==void 0?S:(f={value:u,source:f,stack:d(f)},$h.set(u,f),f)}return{value:u,source:f,stack:d(f)}}function J(u,f){Bs[Oo++]=cc,Bs[Oo++]=qt,qt=u,cc=f}function Q(u,f,S){va[wi++]=Fo,va[wi++]=us,va[wi++]=uc,uc=u;var E=Fo;u=us;var N=32-ra(E)-1;E&=~(1<<N),S+=1;var k=32-ra(f)+N;if(30<k){var le=N-N%5;k=(E&(1<<le)-1).toString(32),E>>=le,N-=le,Fo=1<<32-ra(f)+N|S<<N|E,us=k+u}else Fo=1<<k|S<<N|E,us=u}function ue(u){u.return!==null&&(J(u,1),Q(u,1,0))}function se(u){for(;u===qt;)qt=Bs[--Oo],Bs[Oo]=null,cc=Bs[--Oo],Bs[Oo]=null;for(;u===uc;)uc=va[--wi],va[wi]=null,us=va[--wi],va[wi]=null,Fo=va[--wi],va[wi]=null}function ae(u,f){C(Sl,f),C(Ud,u),C(qn,null),u=Xb(f),_(qn),C(qn,u)}function ie(){_(qn),_(Ud),_(Sl)}function te(u){u.memoizedState!==null&&C(Bd,u);var f=qn.current,S=Yb(f,u.type);f!==S&&(C(Ud,u),C(qn,S))}function ee(u){Ud.current===u&&(_(qn),_(Ud)),Bd.current===u&&(_(Bd),_i?ic._currentValue=ls:ic._currentValue2=ls)}function xe(u){var f=Error(i(418,""));throw re(Z(f,u)),Do}function Ee(u,f){if(!Ci)throw Error(i(175));ov(u.stateNode,u.type,u.memoizedProps,f,u)||xe(u)}function Se(u){for(oa=u.return;oa;)switch(oa.tag){case 3:case 27:ds=!0;return;case 5:case 13:ds=!1;return;default:oa=oa.return}}function ze(u){if(!Ci||u!==oa)return!1;if(!Xn)return Se(u),Xn=!0,!1;var f=!1;if(Ui?u.tag!==3&&u.tag!==27&&(u.tag!==5||bx(u.type)&&!Lh(u.type,u.memoizedProps))&&(f=!0):u.tag!==3&&(u.tag!==5||bx(u.type)&&!Lh(u.type,u.memoizedProps))&&(f=!0),f&&Bi&&xe(u),Se(u),u.tag===13){if(!Ci)throw Error(i(316));if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));Bi=ST(u)}else Bi=oa?Ns(u.stateNode):null;return!0}function Ue(){Ci&&(Bi=oa=null,Xn=!1)}function re(u){Io===null?Io=[u]:Io.push(u)}function Ce(){for(var u=Cl,f=vv=Cl=0;f<u;){var S=Sr[f];Sr[f++]=null;var E=Sr[f];Sr[f++]=null;var N=Sr[f];Sr[f++]=null;var k=Sr[f];if(Sr[f++]=null,E!==null&&N!==null){var le=E.pending;le===null?N.next=N:(N.next=le.next,le.next=N),E.pending=N}k!==0&&ve(S,N,k)}}function Fe(u,f,S,E){Sr[Cl++]=u,Sr[Cl++]=f,Sr[Cl++]=S,Sr[Cl++]=E,vv|=E,u.lanes|=E,u=u.alternate,u!==null&&(u.lanes|=E)}function ge(u,f,S,E){return Fe(u,f,S,E),be(u)}function fe(u,f){return Fe(u,null,null,f),be(u)}function ve(u,f,S){u.lanes|=S;var E=u.alternate;E!==null&&(E.lanes|=S);for(var N=!1,k=u.return;k!==null;)k.childLanes|=S,E=k.alternate,E!==null&&(E.childLanes|=S),k.tag===22&&(u=k.stateNode,u===null||u._visibility&1||(N=!0)),u=k,k=k.return;N&&f!==null&&u.tag===3&&(k=u.stateNode,N=31-ra(S),k=k.hiddenUpdates,u=k[N],u===null?k[N]=[f]:u.push(f),f.lane=S|536870912)}function be(u){if(50<Wd)throw Wd=0,Av=null,Error(i(185));for(var f=u.return;f!==null;)u=f,f=u.return;return u.tag===3?u.stateNode:null}function we(u){u!==vu&&u.next===null&&(vu===null?gu=vu=u:vu=vu.next=u),wl=!0,yv||(yv=!0,Re(Ae))}function Ie(u,f){if(!Vh&&wl){Vh=!0;do for(var S=!1,E=gu;E!==null;){if(u!==0){var N=E.pendingLanes;if(N===0)var k=0;else{var le=E.suspendedLanes,Me=E.pingedLanes;k=(1<<31-ra(42|u)+1)-1,k&=N&~(le&~Me),k=k&201326677?k&201326677|1:k?k|2:0}k!==0&&(S=!0,ye(E,k))}else k=Un,k=O(E,E===Cr?k:0),!(k&3)||I(E,k)||(S=!0,ye(E,k));E=E.next}while(S);Vh=!1}}function Ae(){wl=yv=!1;var u=0;dc!==0&&(uT()&&(u=dc),dc=0);for(var f=oi(),S=null,E=gu;E!==null;){var N=E.next,k=X(E,f);k===0?(E.next=null,S===null?gu=N:S.next=N,N===null&&(vu=S)):(S=E,(u!==0||k&3)&&(wl=!0)),E=N}Ie(u)}function X(u,f){for(var S=u.suspendedLanes,E=u.pingedLanes,N=u.expirationTimes,k=u.pendingLanes&-62914561;0<k;){var le=31-ra(k),Me=1<<le,je=N[le];je===-1?(!(Me&S)||Me&E)&&(N[le]=U(Me,f)):je<=f&&(u.expiredLanes|=Me),k&=~Me}if(f=Cr,S=Un,S=O(u,u===f?S:0),E=u.callbackNode,S===0||u===f&&wr===2||u.cancelPendingCommit!==null)return E!==null&&E!==null&&Nd(E),u.callbackNode=null,u.callbackPriority=0;if(!(S&3)||I(u,S)){if(f=S&-S,f===u.callbackPriority)return f;switch(E!==null&&Nd(E),V(S)){case 2:case 8:S=Tx;break;case 32:S=gv;break;case 268435456:S=Mx;break;default:S=gv}return E=q.bind(null,u),S=Ld(S,E),u.callbackPriority=f,u.callbackNode=S,f}return E!==null&&E!==null&&Nd(E),u.callbackPriority=2,u.callbackNode=null,2}function q(u,f){var S=u.callbackNode;if(tc()&&u.callbackNode!==S)return null;var E=Un;return E=O(u,u===Cr?E:0),E===0?null:(Ib(u,E,f),X(u,oi()),u.callbackNode!=null&&u.callbackNode===S?q.bind(null,u):null)}function ye(u,f){if(tc())return null;Ib(u,f,!0)}function Re(u){Qg?Qb(function(){hr&6?Ld(mv,u):u()}):Ld(mv,u)}function Ge(){return dc===0&&(dc=F()),dc}function Le(u,f){if(zd===null){var S=zd=[];bv=0,yu=Ge(),bu={status:"pending",value:void 0,then:function(E){S.push(E)}}}return bv++,f.then(ht,ht),f}function ht(){if(--bv===0&&zd!==null){bu!==null&&(bu.status="fulfilled");var u=zd;zd=null,yu=0,bu=null;for(var f=0;f<u.length;f++)(0,u[f])()}}function et(u,f){var S=[],E={status:"pending",value:null,reason:null,then:function(N){S.push(N)}};return u.then(function(){E.status="fulfilled",E.value=f;for(var N=0;N<S.length;N++)(0,S[N])(f)},function(N){for(E.status="rejected",E.reason=N,N=0;N<S.length;N++)(0,S[N])(void 0)}),E}function xt(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function St(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function st(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function dt(u,f,S){var E=u.updateQueue;if(E===null)return null;if(E=E.shared,hr&2){var N=E.pending;return N===null?f.next=f:(f.next=N.next,N.next=f),E.pending=f,f=be(u),ve(u,null,S),f}return Fe(u,E,f,S),be(u)}function Ft(u,f,S){if(f=f.updateQueue,f!==null&&(f=f.shared,(S&4194176)!==0)){var E=f.lanes;E&=u.pendingLanes,S|=E,f.lanes=S,j(u,S)}}function pe(u,f){var S=u.updateQueue,E=u.alternate;if(E!==null&&(E=E.updateQueue,S===E)){var N=null,k=null;if(S=S.firstBaseUpdate,S!==null){do{var le={lane:S.lane,tag:S.tag,payload:S.payload,callback:null,next:null};k===null?N=k=le:k=k.next=le,S=S.next}while(S!==null);k===null?N=k=f:k=k.next=f}else N=k=f;S={baseState:E.baseState,firstBaseUpdate:N,lastBaseUpdate:k,shared:E.shared,callbacks:E.callbacks},u.updateQueue=S;return}u=S.lastBaseUpdate,u===null?S.firstBaseUpdate=f:u.next=f,S.lastBaseUpdate=f}function Te(){if(Gh){var u=bu;if(u!==null)throw u}}function $e(u,f,S,E){Gh=!1;var N=u.updateQueue;zs=!1;var k=N.firstBaseUpdate,le=N.lastBaseUpdate,Me=N.shared.pending;if(Me!==null){N.shared.pending=null;var je=Me,it=je.next;je.next=null,le===null?k=it:le.next=it,le=je;var bt=u.alternate;bt!==null&&(bt=bt.updateQueue,Me=bt.lastBaseUpdate,Me!==le&&(Me===null?bt.firstBaseUpdate=it:Me.next=it,bt.lastBaseUpdate=je))}if(k!==null){var Et=N.baseState;le=0,bt=it=je=null,Me=k;do{var Ot=Me.lane&-536870913,cn=Ot!==Me.lane;if(cn?(Un&Ot)===Ot:(E&Ot)===Ot){Ot!==0&&Ot===yu&&(Gh=!0),bt!==null&&(bt=bt.next={lane:0,tag:Me.tag,payload:Me.payload,callback:null,next:null});e:{var io=u,qd=Me;Ot=f;var Sc=S;switch(qd.tag){case 1:if(io=qd.payload,typeof io=="function"){Et=io.call(Sc,Et,Ot);break e}Et=io;break e;case 3:io.flags=io.flags&-65537|128;case 0:if(io=qd.payload,Ot=typeof io=="function"?io.call(Sc,Et,Ot):io,Ot==null)break e;Et=zg({},Et,Ot);break e;case 2:zs=!0}}Ot=Me.callback,Ot!==null&&(u.flags|=64,cn&&(u.flags|=8192),cn=N.callbacks,cn===null?N.callbacks=[Ot]:cn.push(Ot))}else cn={lane:Ot,tag:Me.tag,payload:Me.payload,callback:Me.callback,next:null},bt===null?(it=bt=cn,je=Et):bt=bt.next=cn,le|=Ot;if(Me=Me.next,Me===null){if(Me=N.shared.pending,Me===null)break;cn=Me,Me=cn.next,cn.next=null,N.lastBaseUpdate=cn,N.shared.pending=null}}while(!0);bt===null&&(je=Et),N.baseState=je,N.firstBaseUpdate=it,N.lastBaseUpdate=bt,k===null&&(N.shared.lanes=0),Rl|=le,u.lanes=le,u.memoizedState=Et}}function me(u,f){if(typeof u!="function")throw Error(i(191,u));u.call(f)}function Xe(u,f){var S=u.callbacks;if(S!==null)for(u.callbacks=null,u=0;u<S.length;u++)me(S[u],f)}function tt(u,f){if(aa(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var S=Object.keys(u),E=Object.keys(f);if(S.length!==E.length)return!1;for(E=0;E<S.length;E++){var N=S[E];if(!OT.call(f,N)||!aa(u[N],f[N]))return!1}return!0}function ct(u){return u=u.status,u==="fulfilled"||u==="rejected"}function nt(){}function Qe(u,f,S){switch(S=u[S],S===void 0?u.push(f):S!==f&&(f.then(nt,nt),f=S),f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,u===fc?Error(i(483)):u;default:if(typeof f.status=="string")f.then(nt,nt);else{if(u=Cr,u!==null&&100<u.shellSuspendCounter)throw Error(i(482));u=f,u.status="pending",u.then(function(E){if(f.status==="pending"){var N=f;N.status="fulfilled",N.value=E}},function(E){if(f.status==="pending"){var N=f;N.status="rejected",N.reason=E}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,u===fc?Error(i(483)):u}throw Ml=f,fc}}function pt(){if(Ml===null)throw Error(i(459));var u=Ml;return Ml=null,u}function Rt(u){var f=xu;return xu+=1,hc===null&&(hc=[]),Qe(hc,u,f)}function Yt(u,f){f=f.props.ref,u.ref=f!==void 0?f:null}function Kt(u,f){throw f.$$typeof===sT?Error(i(525)):(u=Object.prototype.toString.call(f),Error(i(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u)))}function cr(u){var f=u._init;return f(u._payload)}function jr(u){function f(We,He){if(u){var Ke=We.deletions;Ke===null?(We.deletions=[He],We.flags|=16):Ke.push(He)}}function S(We,He){if(!u)return null;for(;He!==null;)f(We,He),He=He.sibling;return null}function E(We){for(var He=new Map;We!==null;)We.key!==null?He.set(We.key,We):He.set(We.index,We),We=We.sibling;return He}function N(We,He){return We=vl(We,He),We.index=0,We.sibling=null,We}function k(We,He,Ke){return We.index=Ke,u?(Ke=We.alternate,Ke!==null?(Ke=Ke.index,Ke<He?(We.flags|=33554434,He):Ke):(We.flags|=33554434,He)):(We.flags|=1048576,He)}function le(We){return u&&We.alternate===null&&(We.flags|=33554434),We}function Me(We,He,Ke,yt){return He===null||He.tag!==6?(He=Ng(Ke,We.mode,yt),He.return=We,He):(He=N(He,Ke),He.return=We,He)}function je(We,He,Ke,yt){var Gt=Ke.type;return Gt===eo?bt(We,He,Ke.props.children,yt,Ke.key):He!==null&&(He.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===Ls&&cr(Gt)===He.type)?(He=N(He,Ke.props),Yt(He,Ke),He.return=We,He):(He=Oh(Ke.type,Ke.key,Ke.props,null,We.mode,yt),Yt(He,Ke),He.return=We,He)}function it(We,He,Ke,yt){return He===null||He.tag!==4||He.stateNode.containerInfo!==Ke.containerInfo||He.stateNode.implementation!==Ke.implementation?(He=Ug(Ke,We.mode,yt),He.return=We,He):(He=N(He,Ke.children||[]),He.return=We,He)}function bt(We,He,Ke,yt,Gt){return He===null||He.tag!==7?(He=La(Ke,We.mode,yt,Gt),He.return=We,He):(He=N(He,Ke),He.return=We,He)}function Et(We,He,Ke){if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return He=Ng(""+He,We.mode,Ke),He.return=We,He;if(typeof He=="object"&&He!==null){switch(He.$$typeof){case Fh:return Ke=Oh(He.type,He.key,He.props,null,We.mode,Ke),Yt(Ke,He),Ke.return=We,Ke;case uu:return He=Ug(He,We.mode,Ke),He.return=We,He;case Ls:var yt=He._init;return He=yt(He._payload),Et(We,He,Ke)}if(to(He)||a(He))return He=La(He,We.mode,Ke,null),He.return=We,He;if(typeof He.then=="function")return Et(We,Rt(He),Ke);if(He.$$typeof===yl)return Et(We,yh(We,He),Ke);Kt(We,He)}return null}function Ot(We,He,Ke,yt){var Gt=He!==null?He.key:null;if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return Gt!==null?null:Me(We,He,""+Ke,yt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case Fh:return Ke.key===Gt?je(We,He,Ke,yt):null;case uu:return Ke.key===Gt?it(We,He,Ke,yt):null;case Ls:return Gt=Ke._init,Ke=Gt(Ke._payload),Ot(We,He,Ke,yt)}if(to(Ke)||a(Ke))return Gt!==null?null:bt(We,He,Ke,yt,null);if(typeof Ke.then=="function")return Ot(We,He,Rt(Ke),yt);if(Ke.$$typeof===yl)return Ot(We,He,yh(We,Ke),yt);Kt(We,Ke)}return null}function cn(We,He,Ke,yt,Gt){if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return We=We.get(Ke)||null,Me(He,We,""+yt,Gt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case Fh:return We=We.get(yt.key===null?Ke:yt.key)||null,je(He,We,yt,Gt);case uu:return We=We.get(yt.key===null?Ke:yt.key)||null,it(He,We,yt,Gt);case Ls:var pr=yt._init;return yt=pr(yt._payload),cn(We,He,Ke,yt,Gt)}if(to(yt)||a(yt))return We=We.get(Ke)||null,bt(He,We,yt,Gt,null);if(typeof yt.then=="function")return cn(We,He,Ke,Rt(yt),Gt);if(yt.$$typeof===yl)return cn(We,He,Ke,yh(He,yt),Gt);Kt(He,yt)}return null}function io(We,He,Ke,yt){for(var Gt=null,pr=null,nn=He,kn=He=0,li=null;nn!==null&&kn<Ke.length;kn++){nn.index>kn?(li=nn,nn=null):li=nn.sibling;var Bn=Ot(We,nn,Ke[kn],yt);if(Bn===null){nn===null&&(nn=li);break}u&&nn&&Bn.alternate===null&&f(We,nn),He=k(Bn,He,kn),pr===null?Gt=Bn:pr.sibling=Bn,pr=Bn,nn=li}if(kn===Ke.length)return S(We,nn),Xn&&J(We,kn),Gt;if(nn===null){for(;kn<Ke.length;kn++)nn=Et(We,Ke[kn],yt),nn!==null&&(He=k(nn,He,kn),pr===null?Gt=nn:pr.sibling=nn,pr=nn);return Xn&&J(We,kn),Gt}for(nn=E(nn);kn<Ke.length;kn++)li=cn(nn,We,kn,Ke[kn],yt),li!==null&&(u&&li.alternate!==null&&nn.delete(li.key===null?kn:li.key),He=k(li,He,kn),pr===null?Gt=li:pr.sibling=li,pr=li);return u&&nn.forEach(function(js){return f(We,js)}),Xn&&J(We,kn),Gt}function qd(We,He,Ke,yt){if(Ke==null)throw Error(i(151));for(var Gt=null,pr=null,nn=He,kn=He=0,li=null,Bn=Ke.next();nn!==null&&!Bn.done;kn++,Bn=Ke.next()){nn.index>kn?(li=nn,nn=null):li=nn.sibling;var js=Ot(We,nn,Bn.value,yt);if(js===null){nn===null&&(nn=li);break}u&&nn&&js.alternate===null&&f(We,nn),He=k(js,He,kn),pr===null?Gt=js:pr.sibling=js,pr=js,nn=li}if(Bn.done)return S(We,nn),Xn&&J(We,kn),Gt;if(nn===null){for(;!Bn.done;kn++,Bn=Ke.next())Bn=Et(We,Bn.value,yt),Bn!==null&&(He=k(Bn,He,kn),pr===null?Gt=Bn:pr.sibling=Bn,pr=Bn);return Xn&&J(We,kn),Gt}for(nn=E(nn);!Bn.done;kn++,Bn=Ke.next())Bn=cn(nn,We,kn,Bn.value,yt),Bn!==null&&(u&&Bn.alternate!==null&&nn.delete(Bn.key===null?kn:Bn.key),He=k(Bn,He,kn),pr===null?Gt=Bn:pr.sibling=Bn,pr=Bn);return u&&nn.forEach(function(Ix){return f(We,Ix)}),Xn&&J(We,kn),Gt}function Sc(We,He,Ke,yt){if(typeof Ke=="object"&&Ke!==null&&Ke.type===eo&&Ke.key===null&&(Ke=Ke.props.children),typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case Fh:e:{for(var Gt=Ke.key;He!==null;){if(He.key===Gt){if(Gt=Ke.type,Gt===eo){if(He.tag===7){S(We,He.sibling),yt=N(He,Ke.props.children),yt.return=We,We=yt;break e}}else if(He.elementType===Gt||typeof Gt=="object"&&Gt!==null&&Gt.$$typeof===Ls&&cr(Gt)===He.type){S(We,He.sibling),yt=N(He,Ke.props),Yt(yt,Ke),yt.return=We,We=yt;break e}S(We,He);break}else f(We,He);He=He.sibling}Ke.type===eo?(yt=La(Ke.props.children,We.mode,yt,Ke.key),yt.return=We,We=yt):(yt=Oh(Ke.type,Ke.key,Ke.props,null,We.mode,yt),Yt(yt,Ke),yt.return=We,We=yt)}return le(We);case uu:e:{for(Gt=Ke.key;He!==null;){if(He.key===Gt)if(He.tag===4&&He.stateNode.containerInfo===Ke.containerInfo&&He.stateNode.implementation===Ke.implementation){S(We,He.sibling),yt=N(He,Ke.children||[]),yt.return=We,We=yt;break e}else{S(We,He);break}else f(We,He);He=He.sibling}yt=Ug(Ke,We.mode,yt),yt.return=We,We=yt}return le(We);case Ls:return Gt=Ke._init,Ke=Gt(Ke._payload),Sc(We,He,Ke,yt)}if(to(Ke))return io(We,He,Ke,yt);if(a(Ke)){if(Gt=a(Ke),typeof Gt!="function")throw Error(i(150));return Ke=Gt.call(Ke),qd(We,He,Ke,yt)}if(typeof Ke.then=="function")return Sc(We,He,Rt(Ke),yt);if(Ke.$$typeof===yl)return Sc(We,He,yh(We,Ke),yt);Kt(We,Ke)}return typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint"?(Ke=""+Ke,He!==null&&He.tag===6?(S(We,He.sibling),yt=N(He,Ke),yt.return=We,We=yt):(S(We,He),yt=Ng(Ke,We.mode,yt),yt.return=We,We=yt),le(We)):S(We,He)}return function(We,He,Ke,yt){try{xu=0;var Gt=Sc(We,He,Ke,yt);return hc=null,Gt}catch(nn){if(nn===fc)throw nn;var pr=t(29,nn,null,We.mode);return pr.lanes=yt,pr.return=We,pr}finally{}}}function rs(u,f){u=ks,C(hs,u),C(sa,f),ks=u|f.baseLanes}function Ia(){C(hs,ks),C(sa,sa.current)}function wo(){ks=hs.current,_(sa),_(hs)}function gt(u){var f=u.alternate;C(si,si.current&1),C(no,u),Lo===null&&(f===null||sa.current!==null||f.memoizedState!==null)&&(Lo=u)}function wt(u){if(u.tag===22){if(C(si,si.current),C(no,u),Lo===null){var f=u.alternate;f!==null&&f.memoizedState!==null&&(Lo=u)}}else kt()}function kt(){C(si,si.current),C(no,no.current)}function sn(u){_(no),Lo===u&&(Lo=null),_(si)}function Rr(u){for(var f=u;f!==null;){if(f.tag===13){var S=f.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||rv(S)||hu(S)))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function Nn(){throw Error(i(321))}function vi(u,f){if(f===null)return!1;for(var S=0;S<f.length&&S<u.length;S++)if(!aa(u[S],f[S]))return!1;return!0}function id(u,f,S,E,N,k){return El=k,Sn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Qt.H=u===null||u.memoizedState===null?mc:Al,pc=!1,k=S(E,N),pc=!1,_u&&(k=uh(f,S,E,N)),ad(u),k}function ad(u){Qt.H=No;var f=fr!==null&&fr.next!==null;if(El=0,Yr=fr=Sn=null,qh=!1,Hd=0,Su=null,f)throw Error(i(300));u===null||Ti||(u=u.dependencies,u!==null&&iu(u)&&(Ti=!0))}function uh(u,f,S,E){Sn=u;var N=0;do{if(_u&&(Su=null),Hd=0,_u=!1,25<=N)throw Error(i(301));if(N+=1,Yr=fr=null,u.updateQueue!=null){var k=u.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}Qt.H=gc,k=f(S,E)}while(_u);return k}function ig(){var u=Qt.H,f=u.useState()[0];return f=typeof f.then=="function"?Ye(f):f,u=u.useState()[0],(fr!==null?fr.memoizedState:null)!==u&&(Sn.flags|=1024),f}function od(){var u=Xh!==0;return Xh=0,u}function sd(u,f,S){f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~S}function ce(u){if(qh){for(u=u.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}qh=!1}El=0,Yr=fr=Sn=null,_u=!1,Hd=Xh=0,Su=null}function De(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yr===null?Sn.memoizedState=Yr=u:Yr=Yr.next=u,Yr}function Ve(){if(fr===null){var u=Sn.alternate;u=u!==null?u.memoizedState:null}else u=fr.next;var f=Yr===null?Sn.memoizedState:Yr.next;if(f!==null)Yr=f,fr=u;else{if(u===null)throw Sn.alternate===null?Error(i(467)):Error(i(310));fr=u,u={memoizedState:fr.memoizedState,baseState:fr.baseState,baseQueue:fr.baseQueue,queue:fr.queue,next:null},Yr===null?Sn.memoizedState=Yr=u:Yr=Yr.next=u}return Yr}function Ye(u){var f=Hd;return Hd+=1,Su===null&&(Su=[]),u=Qe(Su,u,f),f=Sn,(Yr===null?f.memoizedState:Yr.next)===null&&(f=f.alternate,Qt.H=f===null||f.memoizedState===null?mc:Al),u}function Be(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Ye(u);if(u.$$typeof===yl)return Ii(u)}throw Error(i(438,String(u)))}function vt(u){var f=null,S=Sn.updateQueue;if(S!==null&&(f=S.memoCache),f==null){var E=Sn.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(f={data:E.data.map(function(N){return N.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),S===null&&(S=Yh(),Sn.updateQueue=S),S.memoCache=f,S=f.data[f.index],S===void 0)for(S=f.data[f.index]=Array(u),E=0;E<u;E++)S[E]=lT;return f.index++,S}function Ct(u,f){return typeof f=="function"?f(u):f}function Nt(u){var f=Ve();return Pt(f,fr,u)}function Pt(u,f,S){var E=u.queue;if(E===null)throw Error(i(311));E.lastRenderedReducer=S;var N=u.baseQueue,k=E.pending;if(k!==null){if(N!==null){var le=N.next;N.next=k.next,k.next=le}f.baseQueue=N=k,E.pending=null}if(k=u.baseState,N===null)u.memoizedState=k;else{f=N.next;var Me=le=null,je=null,it=f,bt=!1;do{var Et=it.lane&-536870913;if(Et!==it.lane?(Un&Et)===Et:(El&Et)===Et){var Ot=it.revertLane;if(Ot===0)je!==null&&(je=je.next={lane:0,revertLane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),Et===yu&&(bt=!0);else if((El&Ot)===Ot){it=it.next,Ot===yu&&(bt=!0);continue}else Et={lane:0,revertLane:it.revertLane,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},je===null?(Me=je=Et,le=k):je=je.next=Et,Sn.lanes|=Ot,Rl|=Ot;Et=it.action,pc&&S(k,Et),k=it.hasEagerState?it.eagerState:S(k,Et)}else Ot={lane:Et,revertLane:it.revertLane,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},je===null?(Me=je=Ot,le=k):je=je.next=Ot,Sn.lanes|=Et,Rl|=Et;it=it.next}while(it!==null&&it!==f);if(je===null?le=k:je.next=Me,!aa(k,u.memoizedState)&&(Ti=!0,bt&&(S=bu,S!==null)))throw S;u.memoizedState=k,u.baseState=le,u.baseQueue=je,E.lastRenderedState=k}return N===null&&(E.lanes=0),[u.memoizedState,E.dispatch]}function Wt(u){var f=Ve(),S=f.queue;if(S===null)throw Error(i(311));S.lastRenderedReducer=u;var E=S.dispatch,N=S.pending,k=f.memoizedState;if(N!==null){S.pending=null;var le=N=N.next;do k=u(k,le.action),le=le.next;while(le!==N);aa(k,f.memoizedState)||(Ti=!0),f.memoizedState=k,f.baseQueue===null&&(f.baseState=k),S.lastRenderedState=k}return[k,E]}function Zt(u,f,S){var E=Sn,N=Ve(),k=Xn;if(k){if(S===void 0)throw Error(i(407));S=S()}else S=f();var le=!aa((fr||N).memoizedState,S);if(le&&(N.memoizedState=S,Ti=!0),N=N.queue,dh(Kn.bind(null,E,N,u),[u]),N.getSnapshot!==f||le||Yr!==null&&Yr.memoizedState.tag&1){if(E.flags|=2048,Wi(9,xn.bind(null,E,N,S,f),{destroy:void 0},null),Cr===null)throw Error(i(349));k||El&60||$t(E,f,S)}return S}function $t(u,f,S){u.flags|=16384,u={getSnapshot:f,value:S},f=Sn.updateQueue,f===null?(f=Yh(),Sn.updateQueue=f,f.stores=[u]):(S=f.stores,S===null?f.stores=[u]:S.push(u))}function xn(u,f,S,E){f.value=S,f.getSnapshot=E,Ar(f)&&ir(u)}function Kn(u,f,S){return S(function(){Ar(f)&&ir(u)})}function Ar(u){var f=u.getSnapshot;u=u.value;try{var S=f();return!aa(u,S)}catch(E){return!0}}function ir(u){var f=fe(u,2);f!==null&&ea(f,u,2)}function Gn(u){var f=De();if(typeof u=="function"){var S=u;if(u=S(),pc){G(!0);try{S()}finally{G(!1)}}}return f.memoizedState=f.baseState=u,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ct,lastRenderedState:u},f}function Vt(u,f,S,E){return u.baseState=S,Pt(u,fr,typeof E=="function"?E:Ct)}function vr(u,f,S,E,N){if(fh(u))throw Error(i(485));if(u=f.action,u!==null){var k={payload:N,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(le){k.listeners.push(le)}};Qt.T!==null?S(!0):k.isTransition=!1,E(k),S=f.pending,S===null?(k.next=f.pending=k,Fn(f,k)):(k.next=S.next,f.pending=S.next=k)}}function Fn(u,f){var S=f.action,E=f.payload,N=u.state;if(f.isTransition){var k=Qt.T,le={};Qt.T=le;try{var Me=S(N,E),je=Qt.S;je!==null&&je(le,Me),Pi(u,f,Me)}catch(it){yi(u,f,it)}finally{Qt.T=k}}else try{k=S(N,E),Pi(u,f,k)}catch(it){yi(u,f,it)}}function Pi(u,f,S){S!==null&&typeof S=="object"&&typeof S.then=="function"?S.then(function(E){Ka(u,f,E)},function(E){return yi(u,f,E)}):Ka(u,f,S)}function Ka(u,f,S){f.status="fulfilled",f.value=S,cl(f),u.state=S,f=u.pending,f!==null&&(S=f.next,S===f?u.pending=null:(S=S.next,f.next=S,Fn(u,S)))}function yi(u,f,S){var E=u.pending;if(u.pending=null,E!==null){E=E.next;do f.status="rejected",f.reason=S,cl(f),f=f.next;while(f!==E)}u.action=null}function cl(u){u=u.listeners;for(var f=0;f<u.length;f++)(0,u[f])()}function yr(u,f){return f}function Gi(u,f){if(Xn){var S=Cr.formState;if(S!==null){e:{var E=Sn;if(Xn){if(Bi){var N=hx(Bi,ds);if(N){Bi=Ns(N),E=za(N);break e}}xe(E)}E=!1}E&&(f=S[0])}}S=De(),S.memoizedState=S.baseState=f,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yr,lastRenderedState:f},S.queue=E,S=gb.bind(null,Sn,E),E.dispatch=S,E=Gn(!1);var k=ur.bind(null,Sn,!1,E.queue);return E=De(),N={state:f,dispatch:null,action:u,pending:null},E.queue=N,S=vr.bind(null,Sn,N,k,S),N.dispatch=S,E.memoizedState=u,[f,S,!1]}function Oi(u){var f=Ve();return bi(f,fr,u)}function bi(u,f,S){f=Pt(u,f,yr)[0],u=Nt(Ct)[0],f=typeof f=="object"&&f!==null&&typeof f.then=="function"?Ye(f):f;var E=Ve(),N=E.queue,k=N.dispatch;return S!==E.memoizedState&&(Sn.flags|=2048,Wi(9,Fi.bind(null,N,S),{destroy:void 0},null)),[f,k,u]}function Fi(u,f){u.action=f}function ul(u){var f=Ve(),S=fr;if(S!==null)return bi(f,S,u);Ve(),f=f.memoizedState,S=Ve();var E=S.queue.dispatch;return S.memoizedState=u,[f,E,!1]}function Wi(u,f,S,E){return u={tag:u,create:f,inst:S,deps:E,next:null},f=Sn.updateQueue,f===null&&(f=Yh(),Sn.updateQueue=f),S=f.lastEffect,S===null?f.lastEffect=u.next=u:(E=S.next,S.next=u,u.next=E,f.lastEffect=u),u}function Yl(){return Ve().memoizedState}function ld(u,f,S,E){var N=De();Sn.flags|=u,N.memoizedState=Wi(1|f,S,{destroy:void 0},E===void 0?null:E)}function cd(u,f,S,E){var N=Ve();E=E===void 0?null:E;var k=N.memoizedState.inst;fr!==null&&E!==null&&vi(E,fr.memoizedState.deps)?N.memoizedState=Wi(f,S,k,E):(Sn.flags|=u,N.memoizedState=Wi(1|f,S,k,E))}function lb(u,f){ld(8390656,8,u,f)}function dh(u,f){cd(2048,8,u,f)}function ag(u,f){return cd(4,2,u,f)}function og(u,f){return cd(4,4,u,f)}function sg(u,f){if(typeof f=="function"){u=u();var S=f(u);return function(){typeof S=="function"?S():f(null)}}if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function cb(u,f,S){S=S!=null?S.concat([u]):null,cd(4,4,sg.bind(null,f,u),S)}function lg(){}function ub(u,f){var S=Ve();f=f===void 0?null:f;var E=S.memoizedState;return f!==null&&vi(f,E[1])?E[0]:(S.memoizedState=[u,f],u)}function cg(u,f){var S=Ve();f=f===void 0?null:f;var E=S.memoizedState;if(f!==null&&vi(f,E[1]))return E[0];if(E=u(),pc){G(!0);try{u()}finally{G(!1)}}return S.memoizedState=[E,f],E}function ug(u,f,S){return S===void 0||El&1073741824?u.memoizedState=f:(u.memoizedState=S,u=Cd(),Sn.lanes|=u,Rl|=u,S)}function db(u,f,S,E){return aa(S,f)?S:sa.current!==null?(u=ug(u,S,E),aa(u,f)||(Ti=!0),u):El&42?(u=Cd(),Sn.lanes|=u,Rl|=u,f):(Ti=!0,u.memoizedState=S)}function fb(u,f,S,E,N){var k=rc();Yi(k!==0&&8>k?k:8);var le=Qt.T,Me={};Qt.T=Me,ur(u,!1,f,S);try{var je=N(),it=Qt.S;if(it!==null&&it(Me,je),je!==null&&typeof je=="object"&&typeof je.then=="function"){var bt=et(je,E);ar(u,f,bt,ai(u))}else ar(u,f,E,ai(u))}catch(Et){ar(u,f,{then:function(){},status:"rejected",reason:Et},ai())}finally{Yi(k),Qt.T=le}}function hb(u){var f=u.memoizedState;if(f!==null)return f;f={memoizedState:ls,baseState:ls,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ct,lastRenderedState:ls},next:null};var S={};return f.next={memoizedState:S,baseState:S,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ct,lastRenderedState:S},next:null},u.memoizedState=f,u=u.alternate,u!==null&&(u.memoizedState=f),f}function ud(){return Ii(ic)}function pb(){return Ve().memoizedState}function mb(){return Ve().memoizedState}function tT(u){for(var f=u.return;f!==null;){switch(f.tag){case 24:case 3:var S=ai();u=st(S);var E=dt(f,u,S);E!==null&&(ea(E,f,S),Ft(E,f,S)),f={cache:pd()},u.payload=f;return}f=f.return}}function nT(u,f,S){var E=ai();S={lane:E,revertLane:0,action:S,hasEagerState:!1,eagerState:null,next:null},fh(u)?vb(f,S):(S=ge(u,f,S,E),S!==null&&(ea(S,u,E),yb(S,f,E)))}function gb(u,f,S){var E=ai();ar(u,f,S,E)}function ar(u,f,S,E){var N={lane:E,revertLane:0,action:S,hasEagerState:!1,eagerState:null,next:null};if(fh(u))vb(f,N);else{var k=u.alternate;if(u.lanes===0&&(k===null||k.lanes===0)&&(k=f.lastRenderedReducer,k!==null))try{var le=f.lastRenderedState,Me=k(le,S);if(N.hasEagerState=!0,N.eagerState=Me,aa(Me,le))return Fe(u,f,N,0),Cr===null&&Ce(),!1}catch(je){}finally{}if(S=ge(u,f,N,E),S!==null)return ea(S,u,E),yb(S,f,E),!0}return!1}function ur(u,f,S,E){if(E={lane:2,revertLane:Ge(),action:E,hasEagerState:!1,eagerState:null,next:null},fh(u)){if(f)throw Error(i(479))}else f=ge(u,S,E,2),f!==null&&ea(f,u,2)}function fh(u){var f=u.alternate;return u===Sn||f!==null&&f===Sn}function vb(u,f){_u=qh=!0;var S=u.pending;S===null?f.next=f:(f.next=S.next,S.next=f),u.pending=f}function yb(u,f,S){if(S&4194176){var E=f.lanes;E&=u.pendingLanes,S|=E,f.lanes=S,j(u,S)}}function dg(u,f,S,E){f=u.memoizedState,S=S(E,f),S=S==null?f:zg({},f,S),u.memoizedState=S,u.lanes===0&&(u.updateQueue.baseState=S)}function bb(u,f,S,E,N,k,le){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(E,k,le):f.prototype&&f.prototype.isPureReactComponent?!tt(S,E)||!tt(N,k):!0}function xb(u,f,S,E){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(S,E),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(S,E),f.state!==u&&Kh.enqueueReplaceState(f,f.state,null)}function dl(u,f){var S=f;if("ref"in f){S={};for(var E in f)E!=="ref"&&(S[E]=f[E])}if(u=u.defaultProps){S===f&&(S=zg({},S));for(var N in u)S[N]===void 0&&(S[N]=u[N])}return S}function hh(u,f){try{var S=u.onUncaughtError;S(f.value,{componentStack:f.stack})}catch(E){setTimeout(function(){throw E})}}function xi(u,f,S){try{var E=u.onCaughtError;E(S.value,{componentStack:S.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function dd(u,f,S){return S=st(S),S.tag=3,S.payload={element:null},S.callback=function(){hh(u,f)},S}function fl(u){return u=st(u),u.tag=3,u}function fg(u,f,S,E){var N=S.type.getDerivedStateFromError;if(typeof N=="function"){var k=E.value;u.payload=function(){return N(k)},u.callback=function(){xi(f,S,E)}}var le=S.stateNode;le!==null&&typeof le.componentDidCatch=="function"&&(u.callback=function(){xi(f,S,E),typeof N!="function"&&(Pl===null?Pl=new Set([this]):Pl.add(this));var Me=E.stack;this.componentDidCatch(E.value,{componentStack:Me!==null?Me:""})})}function hg(u,f,S,E,N){if(S.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(f=S.alternate,f!==null&&ru(f,S,N,!0),S=no.current,S!==null){switch(S.tag){case 13:return Lo===null?Ig():S.alternate===null&&Hr===0&&(Hr=3),S.flags&=-257,S.flags|=65536,S.lanes=N,E===Tl?S.flags|=16384:(f=S.updateQueue,f===null?S.updateQueue=new Set([E]):f.add(E),lu(u,E,N)),!1;case 22:return S.flags|=65536,E===Tl?S.flags|=16384:(f=S.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([E])},S.updateQueue=f):(S=f.retryQueue,S===null?f.retryQueue=new Set([E]):S.add(E)),lu(u,E,N)),!1}throw Error(i(435,S.tag))}return lu(u,E,N),Ig(),!1}if(Xn)return f=no.current,f!==null?(!(f.flags&65536)&&(f.flags|=256),f.flags|=65536,f.lanes=N,E!==Do&&(u=Error(i(422),{cause:E}),re(Z(u,S)))):(E!==Do&&(f=Error(i(423),{cause:E}),re(Z(f,S))),u=u.current.alternate,u.flags|=65536,N&=-N,u.lanes|=N,E=Z(E,S),N=dd(u.stateNode,E,N),pe(u,N),Hr!==4&&(Hr=2)),!1;var k=Error(i(520),{cause:E});if(k=Z(k,S),$d===null?$d=[k]:$d.push(k),Hr!==4&&(Hr=2),f===null)return!0;E=Z(E,S),S=f;do{switch(S.tag){case 3:return S.flags|=65536,u=N&-N,S.lanes|=u,u=dd(S.stateNode,E,u),pe(S,u),!1;case 1:if(f=S.type,k=S.stateNode,(S.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Pl===null||!Pl.has(k))))return S.flags|=65536,N&=-N,S.lanes|=N,N=fl(N),fg(N,u,S,E),pe(S,N),!1}S=S.return}while(S!==null);return!1}function dr(u,f,S,E){f.child=u===null?xv(f,null,S,E):fs(f,u.child,S,E)}function pg(u,f,S,E,N){S=S.render;var k=f.ref;if("ref"in E){var le={};for(var Me in E)Me!=="ref"&&(le[Me]=E[Me])}else le=E;return Rs(f),E=id(u,f,S,le,k,N),Me=od(),u!==null&&!Ti?(sd(u,f,N),As(u,f,N)):(Xn&&Me&&ue(f),f.flags|=1,dr(u,f,E,N),f.child)}function mg(u,f,S,E,N){if(u===null){var k=S.type;return typeof k=="function"&&!Tn(k)&&k.defaultProps===void 0&&S.compare===null?(f.tag=15,f.type=k,gg(u,f,k,E,N)):(u=Oh(S.type,null,E,f,f.mode,N),u.ref=f.ref,u.return=f,f.child=u)}if(k=u.child,!xg(u,N)){var le=k.memoizedProps;if(S=S.compare,S=S!==null?S:tt,S(le,E)&&u.ref===f.ref)return As(u,f,N)}return f.flags|=1,u=vl(k,E),u.ref=f.ref,u.return=f,f.child=u}function gg(u,f,S,E,N){if(u!==null){var k=u.memoizedProps;if(tt(k,E)&&u.ref===f.ref)if(Ti=!1,f.pendingProps=E=k,xg(u,N))u.flags&131072&&(Ti=!0);else return f.lanes=u.lanes,As(u,f,N)}return Qi(u,f,S,E,N)}function vg(u,f,S){var E=f.pendingProps,N=E.children,k=(f.stateNode._pendingVisibility&2)!==0,le=u!==null?u.memoizedState:null;if(nu(u,f),E.mode==="hidden"||k){if(f.flags&128){if(E=le!==null?le.baseLanes|S:S,u!==null){for(N=f.child=u.child,k=0;N!==null;)k=k|N.lanes|N.childLanes,N=N.sibling;f.childLanes=k&~E}else f.childLanes=0,f.child=null;return yg(u,f,E,S)}if(S&536870912)f.memoizedState={baseLanes:0,cachePool:null},u!==null&&qi(f,le!==null?le.cachePool:null),le!==null?rs(f,le):Ia(),wt(f);else return f.lanes=f.childLanes=536870912,yg(u,f,le!==null?le.baseLanes|S:S,S)}else le!==null?(qi(f,le.cachePool),rs(f,le),kt(),f.memoizedState=null):(u!==null&&qi(f,null),Ia(),kt());return dr(u,f,N,S),f.child}function yg(u,f,S,E){var N=xh();return N=N===null?null:{parent:_i?Dr._currentValue:Dr._currentValue2,pool:N},f.memoizedState={baseLanes:S,cachePool:N},u!==null&&qi(f,null),Ia(),wt(f),u!==null&&ru(u,f,E,!0),null}function nu(u,f){var S=f.ref;if(S===null)u!==null&&u.ref!==null&&(f.flags|=2097664);else{if(typeof S!="function"&&typeof S!="object")throw Error(i(284));(u===null||u.ref!==S)&&(f.flags|=2097664)}}function Qi(u,f,S,E,N){return Rs(f),S=id(u,f,S,E,void 0,N),E=od(),u!==null&&!Ti?(sd(u,f,N),As(u,f,N)):(Xn&&E&&ue(f),f.flags|=1,dr(u,f,S,N),f.child)}function _b(u,f,S,E,N,k){return Rs(f),f.updateQueue=null,S=uh(f,E,S,N),ad(u),E=od(),u!==null&&!Ti?(sd(u,f,k),As(u,f,k)):(Xn&&E&&ue(f),f.flags|=1,dr(u,f,S,k),f.child)}function Da(u,f,S,E,N){if(Rs(f),f.stateNode===null){var k=Us,le=S.contextType;typeof le=="object"&&le!==null&&(k=Ii(le)),k=new S(E,k),f.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=Kh,f.stateNode=k,k._reactInternals=f,k=f.stateNode,k.props=E,k.state=f.memoizedState,k.refs={},xt(f),le=S.contextType,k.context=typeof le=="object"&&le!==null?Ii(le):Us,k.state=f.memoizedState,le=S.getDerivedStateFromProps,typeof le=="function"&&(dg(f,S,le,E),k.state=f.memoizedState),typeof S.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(le=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),le!==k.state&&Kh.enqueueReplaceState(k,k.state,null),$e(f,E,k,N),Te(),k.state=f.memoizedState),typeof k.componentDidMount=="function"&&(f.flags|=4194308),E=!0}else if(u===null){k=f.stateNode;var Me=f.memoizedProps,je=dl(S,Me);k.props=je;var it=k.context,bt=S.contextType;le=Us,typeof bt=="object"&&bt!==null&&(le=Ii(bt));var Et=S.getDerivedStateFromProps;bt=typeof Et=="function"||typeof k.getSnapshotBeforeUpdate=="function",Me=f.pendingProps!==Me,bt||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(Me||it!==le)&&xb(f,k,E,le),zs=!1;var Ot=f.memoizedState;k.state=Ot,$e(f,E,k,N),Te(),it=f.memoizedState,Me||Ot!==it||zs?(typeof Et=="function"&&(dg(f,S,Et,E),it=f.memoizedState),(je=zs||bb(f,S,je,E,Ot,it,le))?(bt||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(f.flags|=4194308)):(typeof k.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=E,f.memoizedState=it),k.props=E,k.state=it,k.context=le,E=je):(typeof k.componentDidMount=="function"&&(f.flags|=4194308),E=!1)}else{k=f.stateNode,St(u,f),le=f.memoizedProps,bt=dl(S,le),k.props=bt,Et=f.pendingProps,Ot=k.context,it=S.contextType,je=Us,typeof it=="object"&&it!==null&&(je=Ii(it)),Me=S.getDerivedStateFromProps,(it=typeof Me=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(le!==Et||Ot!==je)&&xb(f,k,E,je),zs=!1,Ot=f.memoizedState,k.state=Ot,$e(f,E,k,N),Te();var cn=f.memoizedState;le!==Et||Ot!==cn||zs||u!==null&&u.dependencies!==null&&iu(u.dependencies)?(typeof Me=="function"&&(dg(f,S,Me,E),cn=f.memoizedState),(bt=zs||bb(f,S,bt,E,Ot,cn,je)||u!==null&&u.dependencies!==null&&iu(u.dependencies))?(it||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(E,cn,je),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(E,cn,je)),typeof k.componentDidUpdate=="function"&&(f.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof k.componentDidUpdate!="function"||le===u.memoizedProps&&Ot===u.memoizedState||(f.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||le===u.memoizedProps&&Ot===u.memoizedState||(f.flags|=1024),f.memoizedProps=E,f.memoizedState=cn),k.props=E,k.state=cn,k.context=je,E=bt):(typeof k.componentDidUpdate!="function"||le===u.memoizedProps&&Ot===u.memoizedState||(f.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||le===u.memoizedProps&&Ot===u.memoizedState||(f.flags|=1024),E=!1)}return k=E,nu(u,f),E=(f.flags&128)!==0,k||E?(k=f.stateNode,S=E&&typeof S.getDerivedStateFromError!="function"?null:k.render(),f.flags|=1,u!==null&&E?(f.child=fs(f,u.child,null,N),f.child=fs(f,null,S,N)):dr(u,f,S,N),f.memoizedState=k.state,u=f.child):u=As(u,f,N),u}function Sb(u,f,S,E){return Ue(),f.flags|=256,dr(u,f,S,E),f.child}function ph(u){return{baseLanes:u,cachePool:_h()}}function is(u,f,S){return u=u!==null?u.childLanes&~S:0,f&&(u|=ro),u}function fd(u,f,S){var E=f.pendingProps,N=!1,k=(f.flags&128)!==0,le;if((le=k)||(le=u!==null&&u.memoizedState===null?!1:(si.current&2)!==0),le&&(N=!0,f.flags&=-129),le=(f.flags&32)!==0,f.flags&=-33,u===null){if(Xn){if(N?gt(f):kt(),Xn){var Me=Bi,je;(je=Me)&&(Me=gx(Me,ds),Me!==null?(f.memoizedState={dehydrated:Me,treeContext:uc!==null?{id:Fo,overflow:us}:null,retryLane:536870912},je=t(18,null,null,0),je.stateNode=Me,je.return=f,f.child=je,oa=f,Bi=null,je=!0):je=!1),je||xe(f)}if(Me=f.memoizedState,Me!==null&&(Me=Me.dehydrated,Me!==null))return hu(Me)?f.lanes=16:f.lanes=536870912,null;sn(f)}return Me=E.children,E=E.fallback,N?(kt(),N=f.mode,Me=_r({mode:"hidden",children:Me},N),E=La(E,N,S,null),Me.return=f,E.return=f,Me.sibling=E,f.child=Me,N=f.child,N.memoizedState=ph(S),N.childLanes=is(u,le,S),f.memoizedState=_v,E):(gt(f),hd(f,Me))}if(je=u.memoizedState,je!==null&&(Me=je.dehydrated,Me!==null)){if(k)f.flags&256?(gt(f),f.flags&=-257,f=as(u,f,S)):f.memoizedState!==null?(kt(),f.child=u.child,f.flags|=128,f=null):(kt(),N=E.fallback,Me=f.mode,E=_r({mode:"visible",children:E.children},Me),N=La(N,Me,S,null),N.flags|=2,E.return=f,N.return=f,E.sibling=N,f.child=E,fs(f,u.child,null,S),E=f.child,E.memoizedState=ph(S),E.childLanes=is(u,le,S),f.memoizedState=_v,f=N);else if(gt(f),hu(Me))le=iv(Me).digest,E=Error(i(419)),E.stack="",E.digest=le,re({value:E,source:null,stack:null}),f=as(u,f,S);else if(Ti||ru(u,f,S,!1),le=(S&u.childLanes)!==0,Ti||le){if(le=Cr,le!==null){if(E=S&-S,E&42)E=1;else switch(E){case 2:E=1;break;case 8:E=4;break;case 32:E=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:E=64;break;case 268435456:E=134217728;break;default:E=0}if(E=E&(le.suspendedLanes|S)?0:E,E!==0&&E!==je.retryLane)throw je.retryLane=E,fe(u,E),ea(le,u,E),Rx}rv(Me)||Ig(),f=as(u,f,S)}else rv(Me)?(f.flags|=128,f.child=u.child,f=oe.bind(null,u),fx(Me,f),f=null):(u=je.treeContext,Ci&&(Bi=Hh(Me),oa=f,Xn=!0,Io=null,ds=!1,u!==null&&(va[wi++]=Fo,va[wi++]=us,va[wi++]=uc,Fo=u.id,us=u.overflow,uc=f)),f=hd(f,E.children),f.flags|=4096);return f}return N?(kt(),N=E.fallback,Me=f.mode,je=u.child,k=je.sibling,E=vl(je,{mode:"hidden",children:E.children}),E.subtreeFlags=je.subtreeFlags&31457280,k!==null?N=vl(k,N):(N=La(N,Me,S,null),N.flags|=2),N.return=f,E.return=f,E.sibling=N,f.child=E,E=N,N=f.child,Me=u.child.memoizedState,Me===null?Me=ph(S):(je=Me.cachePool,je!==null?(k=_i?Dr._currentValue:Dr._currentValue2,je=je.parent!==k?{parent:k,pool:k}:je):je=_h(),Me={baseLanes:Me.baseLanes|S,cachePool:je}),N.memoizedState=Me,N.childLanes=is(u,le,S),f.memoizedState=_v,E):(gt(f),S=u.child,u=S.sibling,S=vl(S,{mode:"visible",children:E.children}),S.return=f,S.sibling=null,u!==null&&(le=f.deletions,le===null?(f.deletions=[u],f.flags|=16):le.push(u)),f.child=S,f.memoizedState=null,S)}function hd(u,f){return f=_r({mode:"visible",children:f},u.mode),f.return=u,u.child=f}function _r(u,f){return Hb(u,f,0,null)}function as(u,f,S){return fs(f,u.child,null,S),u=hd(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function mh(u,f,S){u.lanes|=f;var E=u.alternate;E!==null&&(E.lanes|=f),Sg(u.return,f,S)}function bg(u,f,S,E,N){var k=u.memoizedState;k===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:E,tail:S,tailMode:N}:(k.isBackwards=f,k.rendering=null,k.renderingStartTime=0,k.last=E,k.tail=S,k.tailMode=N)}function gh(u,f,S){var E=f.pendingProps,N=E.revealOrder,k=E.tail;if(dr(u,f,E.children,S),E=si.current,E&2)E=E&1|2,f.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&mh(u,S,f);else if(u.tag===19)mh(u,S,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}E&=1}switch(C(si,E),N){case"forwards":for(S=f.child,N=null;S!==null;)u=S.alternate,u!==null&&Rr(u)===null&&(N=S),S=S.sibling;S=N,S===null?(N=f.child,f.child=null):(N=S.sibling,S.sibling=null),bg(f,!1,N,S,k);break;case"backwards":for(S=null,N=f.child,f.child=null;N!==null;){if(u=N.alternate,u!==null&&Rr(u)===null){f.child=N;break}u=N.sibling,N.sibling=S,S=N,N=u}bg(f,!0,S,null,k);break;case"together":bg(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function As(u,f,S){if(u!==null&&(f.dependencies=u.dependencies),Rl|=f.lanes,!(S&f.childLanes))if(u!==null){if(ru(u,f,S,!1),(S&f.childLanes)===0)return null}else return null;if(u!==null&&f.child!==u.child)throw Error(i(153));if(f.child!==null){for(u=f.child,S=vl(u,u.pendingProps),f.child=S,S.return=f;u.sibling!==null;)u=u.sibling,S=S.sibling=vl(u,u.pendingProps),S.return=f;S.sibling=null}return f.child}function xg(u,f){return u.lanes&f?!0:(u=u.dependencies,!!(u!==null&&iu(u)))}function rT(u,f,S){switch(f.tag){case 3:ae(f,f.stateNode.containerInfo),To(f,Dr,u.memoizedState.cache),Ue();break;case 27:case 5:te(f);break;case 4:ae(f,f.stateNode.containerInfo);break;case 10:To(f,f.type,f.memoizedProps.value);break;case 13:var E=f.memoizedState;if(E!==null)return E.dehydrated!==null?(gt(f),f.flags|=128,null):S&f.child.childLanes?fd(u,f,S):(gt(f),u=As(u,f,S),u!==null?u.sibling:null);gt(f);break;case 19:var N=(u.flags&128)!==0;if(E=(S&f.childLanes)!==0,E||(ru(u,f,S,!1),E=(S&f.childLanes)!==0),N){if(E)return gh(u,f,S);f.flags|=128}if(N=f.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),C(si,si.current),E)break;return null;case 22:case 23:return f.lanes=0,vg(u,f,S);case 24:To(f,Dr,u.memoizedState.cache)}return As(u,f,S)}function _g(u,f,S){if(u!==null)if(u.memoizedProps!==f.pendingProps)Ti=!0;else{if(!xg(u,S)&&!(f.flags&128))return Ti=!1,rT(u,f,S);Ti=!!(u.flags&131072)}else Ti=!1,Xn&&f.flags&1048576&&Q(f,cc,f.index);switch(f.lanes=0,f.tag){case 16:e:{u=f.pendingProps;var E=f.elementType,N=E._init;if(E=N(E._payload),f.type=E,typeof E=="function")Tn(E)?(u=dl(E,u),f.tag=1,f=Da(null,f,E,u,S)):(f.tag=0,f=Qi(null,f,E,u,S));else{if(E!=null){if(N=E.$$typeof,N===kg){f.tag=11,f=pg(null,f,E,u,S);break e}else if(N===Ih){f.tag=14,f=mg(null,f,E,u,S);break e}}throw f=o(E)||E,Error(i(306,f,""))}}return f;case 0:return Qi(u,f,f.type,f.pendingProps,S);case 1:return E=f.type,N=dl(E,f.pendingProps),Da(u,f,E,N,S);case 3:e:{if(ae(f,f.stateNode.containerInfo),u===null)throw Error(i(387));var k=f.pendingProps;N=f.memoizedState,E=N.element,St(u,f),$e(f,k,null,S);var le=f.memoizedState;if(k=le.cache,To(f,Dr,k),k!==N.cache&&vh(f,[Dr],S,!0),Te(),k=le.element,Ci&&N.isDehydrated)if(N={element:k,isDehydrated:!1,cache:le.cache},f.updateQueue.baseState=N,f.memoizedState=N,f.flags&256){f=Sb(u,f,k,S);break e}else if(k!==E){E=Z(Error(i(424)),f),re(E),f=Sb(u,f,k,S);break e}else for(Ci&&(Bi=px(f.stateNode.containerInfo),oa=f,Xn=!0,Io=null,ds=!0),S=xv(f,null,k,S),f.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Ue(),k===E){f=As(u,f,S);break e}dr(u,f,k,S)}f=f.child}return f;case 26:if(Ha)return nu(u,f),u===null?(S=dv(f.type,null,f.pendingProps,null))?f.memoizedState=S:Xn||(f.stateNode=kh(f.type,f.pendingProps,Sl.current,f)):f.memoizedState=dv(f.type,u.memoizedProps,f.pendingProps,u.memoizedState),null;case 27:if(Ui)return te(f),u===null&&Ui&&Xn&&(E=f.stateNode=oc(f.type,f.pendingProps,Sl.current,qn.current,!1),oa=f,ds=!0,Bi=zh(E)),E=f.pendingProps.children,u!==null||Xn?dr(u,f,E,S):f.child=fs(f,null,E,S),nu(u,f),f.child;case 5:return u===null&&Xn&&(CT(f.type,f.pendingProps,qn.current),(N=E=Bi)&&(E=mx(E,f.type,f.pendingProps,ds),E!==null?(f.stateNode=E,oa=f,Bi=zh(E),ds=!1,N=!0):N=!1),N||xe(f)),te(f),N=f.type,k=f.pendingProps,le=u!==null?u.memoizedProps:null,E=k.children,Lh(N,k)?E=null:le!==null&&Lh(N,le)&&(f.flags|=32),f.memoizedState!==null&&(N=id(u,f,ig,null,null,S),_i?ic._currentValue=N:ic._currentValue2=N),nu(u,f),dr(u,f,E,S),f.child;case 6:return u===null&&Xn&&(wT(f.pendingProps,qn.current),(u=S=Bi)&&(S=av(S,f.pendingProps,ds),S!==null?(f.stateNode=S,oa=f,Bi=null,u=!0):u=!1),u||xe(f)),null;case 13:return fd(u,f,S);case 4:return ae(f,f.stateNode.containerInfo),E=f.pendingProps,u===null?f.child=fs(f,null,E,S):dr(u,f,E,S),f.child;case 11:return pg(u,f,f.type,f.pendingProps,S);case 7:return dr(u,f,f.pendingProps,S),f.child;case 8:return dr(u,f,f.pendingProps.children,S),f.child;case 12:return dr(u,f,f.pendingProps.children,S),f.child;case 10:return E=f.pendingProps,To(f,f.type,E.value),dr(u,f,E.children,S),f.child;case 9:return N=f.type._context,E=f.pendingProps.children,Rs(f),N=Ii(N),E=E(N),f.flags|=1,dr(u,f,E,S),f.child;case 14:return mg(u,f,f.type,f.pendingProps,S);case 15:return gg(u,f,f.type,f.pendingProps,S);case 19:return gh(u,f,S);case 22:return vg(u,f,S);case 24:return Rs(f),E=Ii(Dr),u===null?(N=xh(),N===null&&(N=Cr,k=pd(),N.pooledCache=k,k.refCount++,k!==null&&(N.pooledCacheLanes|=S),N=k),f.memoizedState={parent:E,cache:N},xt(f),To(f,Dr,N)):(u.lanes&S&&(St(u,f),$e(f,null,null,S),Te()),N=u.memoizedState,k=f.memoizedState,N.parent!==E?(N={parent:E,cache:E},f.memoizedState=N,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=N),To(f,Dr,E)):(E=k.cache,To(f,Dr,E),E!==N.cache&&vh(f,[Dr],S,!0))),dr(u,f,f.pendingProps.children,S),f.child;case 29:throw f.pendingProps}throw Error(i(156,f.tag))}function To(u,f,S){_i?(C(Zh,f._currentValue),f._currentValue=S):(C(Zh,f._currentValue2),f._currentValue2=S)}function ga(u){var f=Zh.current;_i?u._currentValue=f:u._currentValue2=f,_(Zh)}function Sg(u,f,S){for(;u!==null;){var E=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,E!==null&&(E.childLanes|=f)):E!==null&&(E.childLanes&f)!==f&&(E.childLanes|=f),u===S)break;u=u.return}}function vh(u,f,S,E){var N=u.child;for(N!==null&&(N.return=u);N!==null;){var k=N.dependencies;if(k!==null){var le=N.child;k=k.firstContext;e:for(;k!==null;){var Me=k;k=N;for(var je=0;je<f.length;je++)if(Me.context===f[je]){k.lanes|=S,Me=k.alternate,Me!==null&&(Me.lanes|=S),Sg(k.return,S,u),E||(le=null);break e}k=Me.next}}else if(N.tag===18){if(le=N.return,le===null)throw Error(i(341));le.lanes|=S,k=le.alternate,k!==null&&(k.lanes|=S),Sg(le,S,u),le=null}else le=N.child;if(le!==null)le.return=N;else for(le=N;le!==null;){if(le===u){le=null;break}if(N=le.sibling,N!==null){N.return=le.return,le=N;break}le=le.return}N=le}}function ru(u,f,S,E){u=null;for(var N=f,k=!1;N!==null;){if(!k){if(N.flags&524288)k=!0;else if(N.flags&262144)break}if(N.tag===10){var le=N.alternate;if(le===null)throw Error(i(387));if(le=le.memoizedProps,le!==null){var Me=N.type;aa(N.pendingProps.value,le.value)||(u!==null?u.push(Me):u=[Me])}}else if(N===Bd.current){if(le=N.alternate,le===null)throw Error(i(387));le.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(u!==null?u.push(ic):u=[ic])}N=N.return}u!==null&&vh(f,u,S,E),f.flags|=262144}function iu(u){for(u=u.firstContext;u!==null;){var f=u.context;if(!aa(_i?f._currentValue:f._currentValue2,u.memoizedValue))return!0;u=u.next}return!1}function Rs(u){vc=u,Kr=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Ii(u){return bh(vc,u)}function yh(u,f){return vc===null&&Rs(u),bh(u,f)}function bh(u,f){var S=_i?f._currentValue:f._currentValue2;if(f={context:f,memoizedValue:S,next:null},Kr===null){if(u===null)throw Error(i(308));Kr=f,u.dependencies={lanes:0,firstContext:f},u.flags|=524288}else Kr=Kr.next=f;return S}function pd(){return{controller:new FT,data:new Map,refCount:0}}function md(u){u.refCount--,u.refCount===0&&IT(DT,function(){u.controller.abort()})}function xh(){var u=yc.current;return u!==null?u:Cr.pooledCache}function qi(u,f){f===null?C(yc,yc.current):C(yc,f.pool)}function _h(){var u=xh();return u===null?null:{parent:_i?Dr._currentValue:Dr._currentValue2,pool:u}}function Di(u){u.flags|=4}function Cg(u,f){if(u!==null&&u.child===f.child)return!1;if(f.flags&16)return!0;for(u=f.child;u!==null;){if(u.flags&13878||u.subtreeFlags&13878)return!0;u=u.sibling}return!1}function Sh(u,f,S,E){if(Si)for(S=f.child;S!==null;){if(S.tag===5||S.tag===6)Xg(u,S.stateNode);else if(!(S.tag===4||Ui&&S.tag===27)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===f)break;for(;S.sibling===null;){if(S.return===null||S.return===f)return;S=S.return}S.sibling.return=S.return,S=S.sibling}else if(Po)for(var N=f.child;N!==null;){if(N.tag===5){var k=N.stateNode;S&&E&&(k=dx(k,N.type,N.memoizedProps)),Xg(u,k)}else if(N.tag===6)k=N.stateNode,S&&E&&(k=Ba(k,N.memoizedProps)),Xg(u,k);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)k=N.child,k!==null&&(k.return=N),Sh(u,N,!0,!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===f)break;for(;N.sibling===null;){if(N.return===null||N.return===f)return;N=N.return}N.sibling.return=N.return,N=N.sibling}}function Cb(u,f,S,E){if(Po)for(var N=f.child;N!==null;){if(N.tag===5){var k=N.stateNode;S&&E&&(k=dx(k,N.type,N.memoizedProps)),fu(u,k)}else if(N.tag===6)k=N.stateNode,S&&E&&(k=Ba(k,N.memoizedProps)),fu(u,k);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)k=N.child,k!==null&&(k.return=N),Cb(u,N,!(N.memoizedProps!==null&&N.memoizedProps.mode==="manual"),!0);else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===f)break;for(;N.sibling===null;){if(N.return===null||N.return===f)return;N=N.return}N.sibling.return=N.return,N=N.sibling}}function wb(u,f){if(Po&&Cg(u,f)){u=f.stateNode;var S=u.containerInfo,E=lx();Cb(E,f,!1,!1),u.pendingChildren=E,Di(f),cx(S,E)}}function wg(u,f,S,E){if(Si)u.memoizedProps!==E&&Di(f);else if(Po){var N=u.stateNode,k=u.memoizedProps;if((u=Cg(u,f))||k!==E){var le=qn.current;k=_T(N,S,k,E,!u,null),k===N?f.stateNode=N:(Od(k,S,E,le)&&Di(f),f.stateNode=k,u?Sh(k,f,!1,!1):Di(f))}else f.stateNode=N}}function Tg(u,f,S){if(dT(f,S)){if(u.flags|=16777216,!du(f,S))if(Xr())u.flags|=8192;else throw Ml=Tl,Wh}else u.flags&=-16777217}function Tb(u,f){if(Sx(f)){if(u.flags|=16777216,!hv(f))if(Xr())u.flags|=8192;else throw Ml=Tl,Wh}else u.flags&=-16777217}function Ps(u,f){f!==null&&(u.flags|=4),u.flags&16384&&(f=u.tag!==22?L():536870912,u.lanes|=f,xc|=f)}function gd(u,f){if(!Xn)switch(u.tailMode){case"hidden":f=u.tail;for(var S=null;f!==null;)f.alternate!==null&&(S=f),f=f.sibling;S===null?u.tail=null:S.sibling=null;break;case"collapsed":S=u.tail;for(var E=null;S!==null;)S.alternate!==null&&(E=S),S=S.sibling;E===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:E.sibling=null}}function Fr(u){var f=u.alternate!==null&&u.alternate.child===u.child,S=0,E=0;if(f)for(var N=u.child;N!==null;)S|=N.lanes|N.childLanes,E|=N.subtreeFlags&31457280,E|=N.flags&31457280,N.return=u,N=N.sibling;else for(N=u.child;N!==null;)S|=N.lanes|N.childLanes,E|=N.subtreeFlags,E|=N.flags,N.return=u,N=N.sibling;return u.subtreeFlags|=E,u.childLanes=S,f}function Mg(u,f,S){var E=f.pendingProps;switch(se(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fr(f),null;case 1:return Fr(f),null;case 3:return S=f.stateNode,E=null,u!==null&&(E=u.memoizedState.cache),f.memoizedState.cache!==E&&(f.flags|=2048),ga(Dr),ie(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(u===null||u.child===null)&&(ze(f)?Di(f):u===null||u.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Io!==null&&(Fg(Io),Io=null))),wb(u,f),Fr(f),null;case 26:if(Ha){S=f.type;var N=f.memoizedState;return u===null?(Di(f),N!==null?(Fr(f),Tb(f,N)):(Fr(f),Tg(f,S,E))):N?N!==u.memoizedState?(Di(f),Fr(f),Tb(f,N)):(Fr(f),f.flags&=-16777217):(Si?u.memoizedProps!==E&&Di(f):wg(u,f,S,E),Fr(f),Tg(f,S,E)),null}case 27:if(Ui){if(ee(f),S=Sl.current,N=f.type,u!==null&&f.stateNode!=null)Si?u.memoizedProps!==E&&Di(f):wg(u,f,N,E);else{if(!E){if(f.stateNode===null)throw Error(i(166));return Fr(f),null}u=qn.current,ze(f)?Ee(f,u):(u=oc(N,E,S,u,!0),f.stateNode=u,Di(f))}return Fr(f),null}case 5:if(ee(f),S=f.type,u!==null&&f.stateNode!=null)wg(u,f,S,E);else{if(!E){if(f.stateNode===null)throw Error(i(166));return Fr(f),null}u=qn.current,ze(f)?Ee(f,u):(N=Kb(S,E,Sl.current,u,f),Sh(N,f,!1,!1),f.stateNode=N,Od(N,S,E,u)&&Di(f))}return Fr(f),Tg(f,f.type,f.pendingProps),null;case 6:if(u&&f.stateNode!=null)S=u.memoizedProps,Si?S!==E&&Di(f):Po&&(S!==E?(f.stateNode=Yg(E,Sl.current,qn.current,f),Di(f)):f.stateNode=u.stateNode);else{if(typeof E!="string"&&f.stateNode===null)throw Error(i(166));if(u=Sl.current,S=qn.current,ze(f)){if(!Ci)throw Error(i(176));if(u=f.stateNode,S=f.memoizedProps,E=null,N=oa,N!==null)switch(N.tag){case 27:case 5:E=N.memoizedProps}sv(u,S,f,E)||xe(f)}else f.stateNode=Yg(E,u,S,f)}return Fr(f),null;case 13:if(E=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(N=ze(f),E!==null&&E.dehydrated!==null){if(u===null){if(!N)throw Error(i(318));if(!Ci)throw Error(i(344));if(N=f.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(i(317));xl(N,f)}else Ue(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;Fr(f),N=!1}else Io!==null&&(Fg(Io),Io=null),N=!0;if(!N)return f.flags&256?(sn(f),f):(sn(f),null)}if(sn(f),f.flags&128)return f.lanes=S,f;if(S=E!==null,u=u!==null&&u.memoizedState!==null,S){E=f.child,N=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(N=E.alternate.memoizedState.cachePool.pool);var k=null;E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(k=E.memoizedState.cachePool.pool),k!==N&&(E.flags|=2048)}return S!==u&&S&&(f.child.flags|=8192),Ps(f,f.updateQueue),Fr(f),null;case 4:return ie(),wb(u,f),u===null&&ta(f.stateNode.containerInfo),Fr(f),null;case 10:return ga(f.type),Fr(f),null;case 19:if(_(si),N=f.memoizedState,N===null)return Fr(f),null;if(E=(f.flags&128)!==0,k=N.rendering,k===null)if(E)gd(N,!1);else{if(Hr!==0||u!==null&&u.flags&128)for(u=f.child;u!==null;){if(k=Rr(u),k!==null){for(f.flags|=128,gd(N,!1),u=k.updateQueue,f.updateQueue=u,Ps(f,u),f.subtreeFlags=0,u=S,S=f.child;S!==null;)zb(S,u),S=S.sibling;return C(si,si.current&1|2),f.child}u=u.sibling}N.tail!==null&&oi()>Vd&&(f.flags|=128,E=!0,gd(N,!1),f.lanes=4194304)}else{if(!E)if(u=Rr(k),u!==null){if(f.flags|=128,E=!0,u=u.updateQueue,f.updateQueue=u,Ps(f,u),gd(N,!0),N.tail===null&&N.tailMode==="hidden"&&!k.alternate&&!Xn)return Fr(f),null}else 2*oi()-N.renderingStartTime>Vd&&S!==536870912&&(f.flags|=128,E=!0,gd(N,!1),f.lanes=4194304);N.isBackwards?(k.sibling=f.child,f.child=k):(u=N.last,u!==null?u.sibling=k:f.child=k,N.last=k)}return N.tail!==null?(f=N.tail,N.rendering=f,N.tail=f.sibling,N.renderingStartTime=oi(),f.sibling=null,u=si.current,C(si,E?u&1|2:u&1),f):(Fr(f),null);case 22:case 23:return sn(f),wo(),E=f.memoizedState!==null,u!==null?u.memoizedState!==null!==E&&(f.flags|=8192):E&&(f.flags|=8192),E?S&536870912&&!(f.flags&128)&&(Fr(f),f.subtreeFlags&6&&(f.flags|=8192)):Fr(f),S=f.updateQueue,S!==null&&Ps(f,S.retryQueue),S=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(S=u.memoizedState.cachePool.pool),E=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(E=f.memoizedState.cachePool.pool),E!==S&&(f.flags|=2048),u!==null&&_(yc),null;case 24:return S=null,u!==null&&(S=u.memoizedState.cache),f.memoizedState.cache!==S&&(f.flags|=2048),ga(Dr),Fr(f),null;case 25:return null}throw Error(i(156,f.tag))}function Mb(u,f){switch(se(f),f.tag){case 1:return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return ga(Dr),ie(),u=f.flags,u&65536&&!(u&128)?(f.flags=u&-65537|128,f):null;case 26:case 27:case 5:return ee(f),null;case 13:if(sn(f),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(i(340));Ue()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return _(si),null;case 4:return ie(),null;case 10:return ga(f.type),null;case 22:case 23:return sn(f),wo(),u!==null&&_(yc),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 24:return ga(Dr),null;case 25:return null;default:return null}}function Os(u,f){switch(se(f),f.tag){case 3:ga(Dr),ie();break;case 26:case 27:case 5:ee(f);break;case 4:ie();break;case 13:sn(f);break;case 19:_(si);break;case 10:ga(f.type);break;case 22:case 23:sn(f),wo(),u!==null&&_(yc);break;case 24:ga(Dr)}}function hl(u,f){try{var S=f.updateQueue,E=S!==null?S.lastEffect:null;if(E!==null){var N=E.next;S=N;do{if((S.tag&u)===u){E=void 0;var k=S.create,le=S.inst;E=k(),le.destroy=E}S=S.next}while(S!==N)}}catch(Me){sr(f,f.return,Me)}}function pl(u,f,S){try{var E=f.updateQueue,N=E!==null?E.lastEffect:null;if(N!==null){var k=N.next;E=k;do{if((E.tag&u)===u){var le=E.inst,Me=le.destroy;if(Me!==void 0){le.destroy=void 0,N=f;var je=S;try{Me()}catch(it){sr(N,je,it)}}}E=E.next}while(E!==k)}}catch(it){sr(f,f.return,it)}}function Eb(u){var f=u.updateQueue;if(f!==null){var S=u.stateNode;try{Xe(f,S)}catch(E){sr(u,u.return,E)}}}function Ab(u,f,S){S.props=dl(u.type,u.memoizedProps),S.state=u.memoizedState;try{S.componentWillUnmount()}catch(E){sr(u,f,E)}}function Za(u,f){try{var S=u.ref;if(S!==null){var E=u.stateNode;switch(u.tag){case 26:case 27:case 5:var N=Rd(E);break;default:N=E}typeof S=="function"?u.refCleanup=S(N):S.current=N}}catch(k){sr(u,f,k)}}function Ir(u,f){var S=u.ref,E=u.refCleanup;if(S!==null)if(typeof E=="function")try{E()}catch(N){sr(u,f,N)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof S=="function")try{S(null)}catch(N){sr(u,f,N)}else S.current=null}function Eg(u){var f=u.type,S=u.memoizedProps,E=u.stateNode;try{vT(E,f,S,u)}catch(N){sr(u,u.return,N)}}function Rb(u,f,S){try{ix(u.stateNode,u.type,S,f,u)}catch(E){sr(u,u.return,E)}}function Pb(u){return u.tag===5||u.tag===3||(Ha?u.tag===26:!1)||(Ui?u.tag===27:!1)||u.tag===4}function Ag(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||Pb(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&(!Ui||u.tag!==27)&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Rg(u,f,S){var E=u.tag;if(E===5||E===6)u=u.stateNode,f?yT(S,u,f):rx(S,u);else if(!(E===4||Ui&&E===27)&&(u=u.child,u!==null))for(Rg(u,f,S),u=u.sibling;u!==null;)Rg(u,f,S),u=u.sibling}function Ch(u,f,S){var E=u.tag;if(E===5||E===6)u=u.stateNode,f?ax(S,u,f):nx(S,u);else if(!(E===4||Ui&&E===27)&&(u=u.child,u!==null))for(Ch(u,f,S),u=u.sibling;u!==null;)Ch(u,f,S),u=u.sibling}function Kl(u,f,S){u=u.containerInfo;try{ux(u,S)}catch(E){sr(f,f.return,E)}}function Ne(u,f){for(Pd(u.containerInfo),Mi=f;Mi!==null;)if(u=Mi,f=u.child,(u.subtreeFlags&1028)!==0&&f!==null)f.return=u,Mi=f;else for(;Mi!==null;){u=Mi;var S=u.alternate;switch(f=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if(f&1024&&S!==null){f=void 0;var E=u,N=S.memoizedProps;S=S.memoizedState;var k=E.stateNode;try{var le=dl(E.type,N,E.elementType===E.type);f=k.getSnapshotBeforeUpdate(le,S),k.__reactInternalSnapshotBeforeUpdate=f}catch(Me){sr(E,E.return,Me)}}break;case 3:f&1024&&Si&&_n(u.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(f&1024)throw Error(i(163))}if(f=u.sibling,f!==null){f.return=u.return,Mi=f;break}Mi=u.return}return le=Fx,Fx=!1,le}function rt(u,f,S){var E=S.flags;switch(S.tag){case 0:case 11:case 15:Fs(u,S),E&4&&hl(5,S);break;case 1:if(Fs(u,S),E&4)if(u=S.stateNode,f===null)try{u.componentDidMount()}catch(Me){sr(S,S.return,Me)}else{var N=dl(S.type,f.memoizedProps);f=f.memoizedState;try{u.componentDidUpdate(N,f,u.__reactInternalSnapshotBeforeUpdate)}catch(Me){sr(S,S.return,Me)}}E&64&&Eb(S),E&512&&Za(S,S.return);break;case 3:if(Fs(u,S),E&64&&(E=S.updateQueue,E!==null)){if(u=null,S.child!==null)switch(S.child.tag){case 27:case 5:u=Rd(S.child.stateNode);break;case 1:u=S.child.stateNode}try{Xe(E,u)}catch(Me){sr(S,S.return,Me)}}break;case 26:if(Ha){Fs(u,S),E&512&&Za(S,S.return);break}case 27:case 5:Fs(u,S),f===null&&E&4&&Eg(S),E&512&&Za(S,S.return);break;case 12:Fs(u,S);break;case 13:Fs(u,S),E&4&&Wn(u,S);break;case 22:if(N=S.memoizedState!==null||Hs,!N){f=f!==null&&f.memoizedState!==null||zr;var k=Hs,le=zr;Hs=N,(zr=f)&&!le?Eo(u,S,(S.subtreeFlags&8772)!==0):Fs(u,S),Hs=k,zr=le}E&512&&(S.memoizedProps.mode==="manual"?Za(S,S.return):Ir(S,S.return));break;default:Fs(u,S)}}function Ze(u){var f=u.alternate;f!==null&&(u.alternate=null,Ze(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&Jg(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function Tt(u,f,S){for(S=S.child;S!==null;)an(u,f,S),S=S.sibling}function an(u,f,S){if(ia&&typeof ia.onCommitFiberUnmount=="function")try{ia.onCommitFiberUnmount(ka,S)}catch(k){}switch(S.tag){case 26:if(Ha){zr||Ir(S,f),Tt(u,f,S),S.memoizedState?na(S.memoizedState):S.stateNode&&_x(S.stateNode);break}case 27:if(Ui){zr||Ir(S,f);var E=Zr,N=ja;Zr=S.stateNode,Tt(u,f,S),Cx(S.stateNode),Zr=E,ja=N;break}case 5:zr||Ir(S,f);case 6:if(Si){if(E=Zr,N=ja,Zr=null,Tt(u,f,S),Zr=E,ja=N,Zr!==null)if(ja)try{bT(Zr,S.stateNode)}catch(k){sr(S,f,k)}else try{ox(Zr,S.stateNode)}catch(k){sr(S,f,k)}}else Tt(u,f,S);break;case 18:Si&&Zr!==null&&(ja?lv(Zr,S.stateNode):yx(Zr,S.stateNode));break;case 4:Si?(E=Zr,N=ja,Zr=S.stateNode.containerInfo,ja=!0,Tt(u,f,S),Zr=E,ja=N):(Po&&Kl(S.stateNode,S,lx()),Tt(u,f,S));break;case 0:case 11:case 14:case 15:zr||pl(2,S,f),zr||pl(4,S,f),Tt(u,f,S);break;case 1:zr||(Ir(S,f),E=S.stateNode,typeof E.componentWillUnmount=="function"&&Ab(S,f,E)),Tt(u,f,S);break;case 21:Tt(u,f,S);break;case 22:zr||Ir(S,f),zr=(E=zr)||S.memoizedState!==null,Tt(u,f,S),zr=E;break;default:Tt(u,f,S)}}function Wn(u,f){if(Ci&&f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{vx(u)}catch(S){sr(f,f.return,S)}}function ii(u){switch(u.tag){case 13:case 19:var f=u.stateNode;return f===null&&(f=u.stateNode=new Ox),f;case 22:return u=u.stateNode,f=u._retryCache,f===null&&(f=u._retryCache=new Ox),f;default:throw Error(i(435,u.tag))}}function or(u,f){var S=ii(u);f.forEach(function(E){var N=cu.bind(null,u,E);S.has(E)||(S.add(E),E.then(N,N))})}function Xi(u,f){var S=f.deletions;if(S!==null)for(var E=0;E<S.length;E++){var N=S[E],k=u,le=f;if(Si){var Me=le;e:for(;Me!==null;){switch(Me.tag){case 27:case 5:Zr=Me.stateNode,ja=!1;break e;case 3:Zr=Me.stateNode.containerInfo,ja=!0;break e;case 4:Zr=Me.stateNode.containerInfo,ja=!0;break e}Me=Me.return}if(Zr===null)throw Error(i(160));an(k,le,N),Zr=null,ja=!1}else an(k,le,N);k=N.alternate,k!==null&&(k.return=null),N.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)Ob(f,u),f=f.sibling}function Ob(u,f){var S=u.alternate,E=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:Xi(f,u),Pr(u),E&4&&(pl(3,u,u.return),hl(3,u),pl(5,u,u.return));break;case 1:Xi(f,u),Pr(u),E&512&&(zr||S===null||Ir(S,S.return)),E&64&&Hs&&(u=u.updateQueue,u!==null&&(E=u.callbacks,E!==null&&(S=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=S===null?E:S.concat(E))));break;case 26:if(Ha){var N=Uo;Xi(f,u),Pr(u),E&512&&(zr||S===null||Ir(S,S.return)),E&4&&(E=S!==null?S.memoizedState:null,f=u.memoizedState,S===null?f===null?u.stateNode===null?u.stateNode=cs(N,u.type,u.memoizedProps,u):xx(N,u.type,u.stateNode):u.stateNode=fv(N,f,u.memoizedProps):E!==f?(E===null?S.stateNode!==null&&_x(S.stateNode):na(E),f===null?xx(N,u.type,u.stateNode):fv(N,f,u.memoizedProps)):f===null&&u.stateNode!==null&&Rb(u,u.memoizedProps,S.memoizedProps));break}case 27:if(Ui&&E&4&&u.alternate===null){N=u.stateNode;var k=u.memoizedProps;try{Id(N),MT(u.type,k,N,u)}catch(bt){sr(u,u.return,bt)}}case 5:if(Xi(f,u),Pr(u),E&512&&(zr||S===null||Ir(S,S.return)),Si){if(u.flags&32){f=u.stateNode;try{Bh(f)}catch(bt){sr(u,u.return,bt)}}E&4&&u.stateNode!=null&&(f=u.memoizedProps,Rb(u,f,S!==null?S.memoizedProps:f)),E&1024&&(kd=!0)}break;case 6:if(Xi(f,u),Pr(u),E&4&&Si){if(u.stateNode===null)throw Error(i(162));E=u.memoizedProps,S=S!==null?S.memoizedProps:E,f=u.stateNode;try{Uh(f,S,E)}catch(bt){sr(u,u.return,bt)}}break;case 3:if(Ha?(pu(),N=Uo,Uo=uv(f.containerInfo),Xi(f,u),Uo=N):Xi(f,u),Pr(u),E&4){if(Si&&Ci&&S!==null&&S.memoizedState.isDehydrated)try{_l(f.containerInfo)}catch(bt){sr(u,u.return,bt)}if(Po){E=f.containerInfo,S=f.pendingChildren;try{ux(E,S)}catch(bt){sr(u,u.return,bt)}}}kd&&(kd=!1,vd(u));break;case 4:Ha?(S=Uo,Uo=uv(u.stateNode.containerInfo),Xi(f,u),Pr(u),Uo=S):(Xi(f,u),Pr(u)),E&4&&Po&&Kl(u.stateNode,u,u.stateNode.pendingChildren);break;case 12:Xi(f,u),Pr(u);break;case 13:Xi(f,u),Pr(u),u.child.flags&8192&&u.memoizedState!==null!=(S!==null&&S.memoizedState!==null)&&(Tv=oi()),E&4&&(E=u.updateQueue,E!==null&&(u.updateQueue=null,or(u,E)));break;case 22:E&512&&(zr||S===null||Ir(S,S.return)),N=u.memoizedState!==null;var le=S!==null&&S.memoizedState!==null,Me=Hs,je=zr;if(Hs=Me||N,zr=je||le,Xi(f,u),zr=je,Hs=Me,Pr(u),f=u.stateNode,f._current=u,f._visibility&=-3,f._visibility|=f._pendingVisibility&2,E&8192&&(f._visibility=N?f._visibility&-2:f._visibility|1,N&&(f=Hs||zr,S===null||le||f||Mo(u)),Si&&(u.memoizedProps===null||u.memoizedProps.mode!=="manual"))){e:if(S=null,Si)for(f=u;;){if(f.tag===5||Ha&&f.tag===26||Ui&&f.tag===27){if(S===null){le=S=f;try{k=le.stateNode,N?sx(k):xT(le.stateNode,le.memoizedProps)}catch(bt){sr(le,le.return,bt)}}}else if(f.tag===6){if(S===null){le=f;try{var it=le.stateNode;N?tv(it):nv(it,le.memoizedProps)}catch(bt){sr(le,le.return,bt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;S===f&&(S=null),f=f.return}S===f&&(S=null),f.sibling.return=f.return,f=f.sibling}}E&4&&(E=u.updateQueue,E!==null&&(S=E.retryQueue,S!==null&&(E.retryQueue=null,or(u,S))));break;case 19:Xi(f,u),Pr(u),E&4&&(E=u.updateQueue,E!==null&&(u.updateQueue=null,or(u,E)));break;case 21:break;default:Xi(f,u),Pr(u)}}function Pr(u){var f=u.flags;if(f&2){try{if(Si&&(!Ui||u.tag!==27)){e:{for(var S=u.return;S!==null;){if(Pb(S)){var E=S;break e}S=S.return}throw Error(i(160))}switch(E.tag){case 27:if(Ui){var N=E.stateNode,k=Ag(u);Ch(u,k,N);break}case 5:var le=E.stateNode;E.flags&32&&(Bh(le),E.flags&=-33);var Me=Ag(u);Ch(u,Me,le);break;case 3:case 4:var je=E.stateNode.containerInfo,it=Ag(u);Rg(u,it,je);break;default:throw Error(i(161))}}}catch(bt){sr(u,u.return,bt)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function vd(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var f=u;vd(f),f.tag===5&&f.flags&1024&&hT(f.stateNode),u=u.sibling}}function Fs(u,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)rt(u,f.alternate,f),f=f.sibling}function Mo(u){for(u=u.child;u!==null;){var f=u;switch(f.tag){case 0:case 11:case 14:case 15:pl(4,f,f.return),Mo(f);break;case 1:Ir(f,f.return);var S=f.stateNode;typeof S.componentWillUnmount=="function"&&Ab(f,f.return,S),Mo(f);break;case 26:case 27:case 5:Ir(f,f.return),Mo(f);break;case 22:Ir(f,f.return),f.memoizedState===null&&Mo(f);break;default:Mo(f)}u=u.sibling}}function Eo(u,f,S){for(S=S&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var E=f.alternate,N=u,k=f,le=k.flags;switch(k.tag){case 0:case 11:case 15:Eo(N,k,S),hl(4,k);break;case 1:if(Eo(N,k,S),E=k,N=E.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(it){sr(E,E.return,it)}if(E=k,N=E.updateQueue,N!==null){var Me=E.stateNode;try{var je=N.shared.hiddenCallbacks;if(je!==null)for(N.shared.hiddenCallbacks=null,N=0;N<je.length;N++)me(je[N],Me)}catch(it){sr(E,E.return,it)}}S&&le&64&&Eb(k),Za(k,k.return);break;case 26:case 27:case 5:Eo(N,k,S),S&&E===null&&le&4&&Eg(k),Za(k,k.return);break;case 12:Eo(N,k,S);break;case 13:Eo(N,k,S),S&&le&4&&Wn(N,k);break;case 22:k.memoizedState===null&&Eo(N,k,S),Za(k,k.return);break;default:Eo(N,k,S)}f=f.sibling}}function au(u,f){var S=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(S=u.memoizedState.cachePool.pool),u=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(u=f.memoizedState.cachePool.pool),u!==S&&(u!=null&&u.refCount++,S!=null&&md(S))}function Zn(u,f){u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&md(u))}function ml(u,f,S,E){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Pg(u,f,S,E),f=f.sibling}function Pg(u,f,S,E){var N=f.flags;switch(f.tag){case 0:case 11:case 15:ml(u,f,S,E),N&2048&&hl(9,f);break;case 3:ml(u,f,S,E),N&2048&&(u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&md(u)));break;case 12:if(N&2048){ml(u,f,S,E),u=f.stateNode;try{var k=f.memoizedProps,le=k.id,Me=k.onPostCommit;typeof Me=="function"&&Me(le,f.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(je){sr(f,f.return,je)}}else ml(u,f,S,E);break;case 23:break;case 22:k=f.stateNode,f.memoizedState!==null?k._visibility&4?ml(u,f,S,E):yd(u,f):k._visibility&4?ml(u,f,S,E):(k._visibility|=4,Is(u,f,S,E,(f.subtreeFlags&10256)!==0)),N&2048&&au(f.alternate,f);break;case 24:ml(u,f,S,E),N&2048&&Zn(f.alternate,f);break;default:ml(u,f,S,E)}}function Is(u,f,S,E,N){for(N=N&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var k=u,le=f,Me=S,je=E,it=le.flags;switch(le.tag){case 0:case 11:case 15:Is(k,le,Me,je,N),hl(8,le);break;case 23:break;case 22:var bt=le.stateNode;le.memoizedState!==null?bt._visibility&4?Is(k,le,Me,je,N):yd(k,le):(bt._visibility|=4,Is(k,le,Me,je,N)),N&&it&2048&&au(le.alternate,le);break;case 24:Is(k,le,Me,je,N),N&&it&2048&&Zn(le.alternate,le);break;default:Is(k,le,Me,je,N)}f=f.sibling}}function yd(u,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var S=u,E=f,N=E.flags;switch(E.tag){case 22:yd(S,E),N&2048&&au(E.alternate,E);break;case 24:yd(S,E),N&2048&&Zn(E.alternate,E);break;default:yd(S,E)}f=f.sibling}}function Zl(u){if(u.subtreeFlags&Cu)for(u=u.child;u!==null;)Fb(u),u=u.sibling}function Fb(u){switch(u.tag){case 26:Zl(u),u.flags&Cu&&(u.memoizedState!==null?TT(Uo,u.memoizedState,u.memoizedProps):Jb(u.type,u.memoizedProps));break;case 5:Zl(u),u.flags&Cu&&Jb(u.type,u.memoizedProps);break;case 3:case 4:if(Ha){var f=Uo;Uo=uv(u.stateNode.containerInfo),Zl(u),Uo=f}else Zl(u);break;case 22:u.memoizedState===null&&(f=u.alternate,f!==null&&f.memoizedState!==null?(f=Cu,Cu=16777216,Zl(u),Cu=f):Zl(u));break;default:Zl(u)}}function bd(u){var f=u.alternate;if(f!==null&&(u=f.child,u!==null)){f.child=null;do f=u.sibling,u.sibling=null,u=f;while(u!==null)}}function Ja(u){var f=u.deletions;if(u.flags&16){if(f!==null)for(var S=0;S<f.length;S++){var E=f[S];Mi=E,Sd(E,u)}bd(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)xd(u),u=u.sibling}function xd(u){switch(u.tag){case 0:case 11:case 15:Ja(u),u.flags&2048&&pl(9,u,u.return);break;case 3:Ja(u);break;case 12:Ja(u);break;case 22:var f=u.stateNode;u.memoizedState!==null&&f._visibility&4&&(u.return===null||u.return.tag!==13)?(f._visibility&=-5,_d(u)):Ja(u);break;default:Ja(u)}}function _d(u){var f=u.deletions;if(u.flags&16){if(f!==null)for(var S=0;S<f.length;S++){var E=f[S];Mi=E,Sd(E,u)}bd(u)}for(u=u.child;u!==null;){switch(f=u,f.tag){case 0:case 11:case 15:pl(8,f,f.return),_d(f);break;case 22:S=f.stateNode,S._visibility&4&&(S._visibility&=-5,_d(f));break;default:_d(f)}u=u.sibling}}function Sd(u,f){for(;Mi!==null;){var S=Mi;switch(S.tag){case 0:case 11:case 15:pl(8,S,f);break;case 23:case 22:if(S.memoizedState!==null&&S.memoizedState.cachePool!==null){var E=S.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:md(S.memoizedState.cache)}if(E=S.child,E!==null)E.return=S,Mi=E;else e:for(S=u;Mi!==null;){E=Mi;var N=E.sibling,k=E.return;if(Ze(E),E===S){Mi=null;break e}if(N!==null){N.return=k,Mi=N;break e}Mi=k}}}function wh(u){var f=Zg(u);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(i(364));return f}if(u=pT(u),u===null)throw Error(i(362));return u.stateNode.current}function Th(u,f){var S=u.tag;switch(f.$$typeof){case Jh:if(u.type===f.value)return!0;break;case Qh:e:{for(f=f.value,u=[u,0],S=0;S<u.length;){var E=u[S++],N=E.tag,k=u[S++],le=f[k];if(N!==5&&N!==26&&N!==27||!ac(E)){for(;le!=null&&Th(E,le);)k++,le=f[k];if(k===f.length){f=!0;break e}else for(E=E.child;E!==null;)u.push(E,k),E=E.sibling}}f=!1}return f;case ep:if((S===5||S===26||S===27)&&gT(u.stateNode,f.value))return!0;break;case np:if((S===5||S===6||S===26||S===27)&&(u=ex(u),u!==null&&0<=u.indexOf(f.value)))return!0;break;case tp:if((S===5||S===26||S===27)&&(u=u.memoizedProps["data-testname"],typeof u=="string"&&u.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function ou(u){switch(u.$$typeof){case Jh:return"<"+(o(u.value)||"Unknown")+">";case Qh:return":has("+(ou(u)||"")+")";case ep:return'[role="'+u.value+'"]';case np:return'"'+u.value+'"';case tp:return'[data-testname="'+u.value+'"]';default:throw Error(i(365))}}function Og(u,f){var S=[];u=[u,0];for(var E=0;E<u.length;){var N=u[E++],k=N.tag,le=u[E++],Me=f[le];if(k!==5&&k!==26&&k!==27||!ac(N)){for(;Me!=null&&Th(N,Me);)le++,Me=f[le];if(le===f.length)S.push(N);else for(N=N.child;N!==null;)u.push(N,le),N=N.sibling}}return S}function Jl(u,f){if(!Fd)throw Error(i(363));u=wh(u),u=Og(u,f),f=[],u=Array.from(u);for(var S=0;S<u.length;){var E=u[S++],N=E.tag;if(N===5||N===26||N===27)ac(E)||f.push(E.stateNode);else for(E=E.child;E!==null;)u.push(E),E=E.sibling}return f}function ai(){if(hr&2&&Un!==0)return Un&-Un;if(Qt.T!==null){var u=yu;return u!==0?u:Ge()}return cT()}function Cd(){ro===0&&(ro=!(Un&536870912)||Xn?F():536870912);var u=no.current;return u!==null&&(u.flags|=32),ro}function ea(u,f,S){(u===Cr&&wr===2||u.cancelPendingCommit!==null)&&(su(u,0),Ao(u,Un,ro,!1)),z(u,S),(!(hr&2)||u!==Cr)&&(u===Cr&&(!(hr&2)&&(bc|=S),Hr===4&&Ao(u,Un,ro,!1)),we(u))}function Ib(u,f,S){if(hr&6)throw Error(i(327));var E=!S&&(f&60)===0&&(f&u.expiredLanes)===0||I(u,f),N=E?Dg(u,f):Ah(u,f,!0),k=E;do{if(N===0){wu&&!E&&Ao(u,f,0,!1);break}else if(N===6)Ao(u,f,0,!ps);else{if(S=u.current.alternate,k&&!Mh(S)){N=Ah(u,f,!1),k=!1;continue}if(N===2){if(k=f,u.errorRecoveryDisabledLanes&k)var le=0;else le=u.pendingLanes&-536870913,le=le!==0?le:le&536870912?536870912:0;if(le!==0){f=le;e:{var Me=u;N=$d;var je=Ci&&Me.current.memoizedState.isDehydrated;if(je&&(su(Me,le).flags|=256),le=Ah(Me,le,!1),le!==2){if(Sv&&!je){Me.errorRecoveryDisabledLanes|=k,bc|=k,N=4;break e}k=$a,$a=N,k!==null&&Fg(k)}N=le}if(k=!1,N!==2)continue}}if(N===1){su(u,0),Ao(u,f,0,!0);break}e:{switch(E=u,N){case 0:case 1:throw Error(i(345));case 4:if((f&4194176)===f){Ao(E,f,ro,!ps);break e}break;case 2:$a=null;break;case 3:case 5:break;default:throw Error(i(329))}if(E.finishedWork=S,E.finishedLanes=f,(f&62914560)===f&&(k=Tv+300-oi(),10<k)){if(Ao(E,f,ro,!ps),O(E,0)!==0)break e;E.timeoutHandle=Ni(wd.bind(null,E,S,$a,rp,wv,f,ro,bc,xc,ps,2,-0,0),k);break e}wd(E,S,$a,rp,wv,f,ro,bc,xc,ps,0,-0,0)}}break}while(!0);we(u)}function Fg(u){$a===null?$a=u:$a.push.apply($a,u)}function wd(u,f,S,E,N,k,le,Me,je,it,bt,Et,Ot){var cn=f.subtreeFlags;if((cn&8192||(cn&16785408)===16785408)&&(Zb(),Fb(f),f=fT(),f!==null)){u.cancelPendingCommit=f(ec.bind(null,u,S,E,N,le,Me,je,1,Et,Ot)),Ao(u,k,le,!it);return}ec(u,S,E,N,le,Me,je,bt,Et,Ot)}function Mh(u){for(var f=u;;){var S=f.tag;if((S===0||S===11||S===15)&&f.flags&16384&&(S=f.updateQueue,S!==null&&(S=S.stores,S!==null)))for(var E=0;E<S.length;E++){var N=S[E],k=N.getSnapshot;N=N.value;try{if(!aa(k(),N))return!1}catch(le){return!1}}if(S=f.child,f.subtreeFlags&16384&&S!==null)S.return=f,f=S;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Ao(u,f,S,E){f&=~Cv,f&=~bc,u.suspendedLanes|=f,u.pingedLanes&=~f,E&&(u.warmLanes|=f),E=u.expirationTimes;for(var N=f;0<N;){var k=31-ra(N),le=1<<k;E[k]=-1,N&=~le}S!==0&&Y(u,S,f)}function Db(){return hr&6?!0:(Ie(0),!1)}function Eh(){if(An!==null){if(wr===0)var u=An.return;else u=An,Kr=vc=null,ce(u),hc=null,xu=0,u=An;for(;u!==null;)Os(u.alternate,u),u=u.return;An=null}}function su(u,f){u.finishedWork=null,u.finishedLanes=0;var S=u.timeoutHandle;S!==Nh&&(u.timeoutHandle=Nh,Kg(S)),S=u.cancelPendingCommit,S!==null&&(u.cancelPendingCommit=null,S()),Eh(),Cr=u,An=S=vl(u.current,null),Un=f,wr=0,la=null,ps=!1,wu=I(u,f),Sv=!1,xc=ro=Cv=bc=Rl=Hr=0,$a=$d=null,wv=!1,f&8&&(f|=f&32);var E=u.entangledLanes;if(E!==0)for(u=u.entanglements,E&=f;0<E;){var N=31-ra(E),k=1<<N;f|=u[N],E&=~k}return ks=f,Ce(),S}function Lb(u,f){Sn=null,Qt.H=No,f===fc?(f=pt(),wr=3):f===Wh?(f=pt(),wr=4):wr=f===Rx?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,la=f,An===null&&(Hr=1,hh(u,Z(f,u.current)))}function Xr(){var u=no.current;return u===null?!0:(Un&4194176)===Un?Lo===null:(Un&62914560)===Un||Un&536870912?u===Lo:!1}function Li(){var u=Qt.H;return Qt.H=No,u===null?No:u}function Nb(){var u=Qt.A;return Qt.A=LT,u}function Ig(){Hr=4,ps||(Un&4194176)!==Un&&no.current!==null||(wu=!0),!(Rl&134217727)&&!(bc&134217727)||Cr===null||Ao(Cr,Un,ro,!1)}function Ah(u,f,S){var E=hr;hr|=2;var N=Li(),k=Nb();(Cr!==u||Un!==f)&&(rp=null,su(u,f)),f=!1;var le=Hr;e:do try{if(wr!==0&&An!==null){var Me=An,je=la;switch(wr){case 8:Eh(),le=6;break e;case 3:case 2:case 6:no.current===null&&(f=!0);var it=wr;if(wr=0,la=null,os(u,Me,je,it),S&&wu){le=0;break e}break;default:it=wr,wr=0,la=null,os(u,Me,je,it)}}iT(),le=Hr;break}catch(bt){Lb(u,bt)}while(!0);return f&&u.shellSuspendCounter++,Kr=vc=null,hr=E,Qt.H=N,Qt.A=k,An===null&&(Cr=null,Un=0,Ce()),le}function iT(){for(;An!==null;)Rh(An)}function Dg(u,f){var S=hr;hr|=2;var E=Li(),N=Nb();Cr!==u||Un!==f?(rp=null,Vd=oi()+500,su(u,f)):wu=I(u,f);e:do try{if(wr!==0&&An!==null){f=An;var k=la;t:switch(wr){case 1:wr=0,la=null,os(u,f,k,1);break;case 2:if(ct(k)){wr=0,la=null,Ql(f);break}f=function(){wr===2&&Cr===u&&(wr=7),we(u)},k.then(f,f);break e;case 3:wr=7;break e;case 4:wr=5;break e;case 7:ct(k)?(wr=0,la=null,Ql(f)):(wr=0,la=null,os(u,f,k,7));break;case 5:var le=null;switch(An.tag){case 26:le=An.memoizedState;case 5:case 27:var Me=An,je=Me.type,it=Me.pendingProps;if(le?hv(le):du(je,it)){wr=0,la=null;var bt=Me.sibling;if(bt!==null)An=bt;else{var Et=Me.return;Et!==null?(An=Et,gl(Et)):An=null}break t}}wr=0,la=null,os(u,f,k,5);break;case 6:wr=0,la=null,os(u,f,k,6);break;case 8:Eh(),Hr=6;break e;default:throw Error(i(462))}}Td();break}catch(Ot){Lb(u,Ot)}while(!0);return Kr=vc=null,Qt.H=E,Qt.A=N,hr=S,An!==null?0:(Cr=null,Un=0,Ce(),Hr)}function Td(){for(;An!==null&&!AT();)Rh(An)}function Rh(u){var f=_g(u.alternate,u,ks);u.memoizedProps=u.pendingProps,f===null?gl(u):An=f}function Ql(u){var f=u,S=f.alternate;switch(f.tag){case 15:case 0:f=_b(S,f,f.pendingProps,f.type,void 0,Un);break;case 11:f=_b(S,f,f.pendingProps,f.type.render,f.ref,Un);break;case 5:ce(f);default:Os(S,f),f=An=zb(f,ks),f=_g(S,f,ks)}u.memoizedProps=u.pendingProps,f===null?gl(u):An=f}function os(u,f,S,E){Kr=vc=null,ce(f),hc=null,xu=0;var N=f.return;try{if(hg(u,N,f,S,Un)){Hr=1,hh(u,Z(S,u.current)),An=null;return}}catch(k){if(N!==null)throw An=N,k;Hr=1,hh(u,Z(S,u.current)),An=null;return}f.flags&32768?(Xn||E===1?u=!0:wu||Un&536870912?u=!1:(ps=u=!0,(E===2||E===3||E===6)&&(E=no.current,E!==null&&E.tag===13&&(E.flags|=16384))),Md(f,u)):gl(f)}function gl(u){var f=u;do{if(f.flags&32768){Md(f,ps);return}u=f.return;var S=Mg(f.alternate,f,ks);if(S!==null){An=S;return}if(f=f.sibling,f!==null){An=f;return}An=f=u}while(f!==null);Hr===0&&(Hr=5)}function Md(u,f){do{var S=Mb(u.alternate,u);if(S!==null){S.flags&=32767,An=S;return}if(S=u.return,S!==null&&(S.flags|=32768,S.subtreeFlags=0,S.deletions=null),!f&&(u=u.sibling,u!==null)){An=u;return}An=u=S}while(u!==null);Hr=6,An=null}function ec(u,f,S,E,N,k,le,Me,je,it){var bt=Qt.T,Et=rc();try{Yi(2),Qt.T=null,aT(u,f,S,E,Et,N,k,le,Me,je,it)}finally{Qt.T=bt,Yi(Et)}}function aT(u,f,S,E,N,k,le,Me){do tc();while(_c!==null);if(hr&6)throw Error(i(327));var je=u.finishedWork;if(E=u.finishedLanes,je===null)return null;if(u.finishedWork=null,u.finishedLanes=0,je===u.current)throw Error(i(177));u.callbackNode=null,u.callbackPriority=0,u.cancelPendingCommit=null;var it=je.lanes|je.childLanes;if(it|=vv,$(u,E,it,k,le,Me),u===Cr&&(An=Cr=null,Un=0),!(je.subtreeFlags&10256)&&!(je.flags&10256)||ip||(ip=!0,Mv=it,Ev=S,Ph(gv,function(){return tc(),null})),S=(je.flags&15990)!==0,je.subtreeFlags&15990||S?(S=Qt.T,Qt.T=null,k=rc(),Yi(2),le=hr,hr|=4,Ne(u,je),Ob(je,u),bl(u.containerInfo),u.current=je,rt(u,je.alternate,je),wx(),hr=le,Yi(k),Qt.T=S):u.current=je,ip?(ip=!1,_c=u,Gd=E):Ub(u,it),it=u.pendingLanes,it===0&&(Pl=null),B(je.stateNode),we(u),f!==null)for(N=u.onRecoverableError,je=0;je<f.length;je++)it=f[je],N(it.value,{componentStack:it.stack});return Gd&3&&tc(),it=u.pendingLanes,E&4194218&&it&42?u===Av?Wd++:(Wd=0,Av=u):Wd=0,Ie(0),null}function Ub(u,f){(u.pooledCacheLanes&=f)===0&&(f=u.pooledCache,f!=null&&(u.pooledCache=null,md(f)))}function tc(){if(_c!==null){var u=_c,f=Mv;Mv=0;var S=V(Gd),E=32>S?32:S;S=Qt.T;var N=rc();try{if(Yi(E),Qt.T=null,_c===null)var k=!1;else{E=Ev,Ev=null;var le=_c,Me=Gd;if(_c=null,Gd=0,hr&6)throw Error(i(331));var je=hr;if(hr|=4,xd(le.current),Pg(le,le.current,Me,E),hr=je,Ie(0,!1),ia&&typeof ia.onPostCommitFiberRoot=="function")try{ia.onPostCommitFiberRoot(ka,le)}catch(it){}k=!0}return k}finally{Yi(N),Qt.T=S,Ub(u,f)}}return!1}function Bb(u,f,S){f=Z(S,f),f=dd(u.stateNode,f,2),u=dt(u,f,2),u!==null&&(z(u,2),we(u))}function sr(u,f,S){if(u.tag===3)Bb(u,u,S);else for(;f!==null;){if(f.tag===3){Bb(f,u,S);break}else if(f.tag===1){var E=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Pl===null||!Pl.has(E))){u=Z(S,u),S=fl(2),E=dt(f,S,2),E!==null&&(fg(S,E,f,u),z(E,2),we(E));break}}f=f.return}}function lu(u,f,S){var E=u.pingCache;if(E===null){E=u.pingCache=new NT;var N=new Set;E.set(f,N)}else N=E.get(f),N===void 0&&(N=new Set,E.set(f,N));N.has(S)||(Sv=!0,N.add(S),u=Ed.bind(null,u,f,S),f.then(u,u))}function Ed(u,f,S){var E=u.pingCache;E!==null&&E.delete(f),u.pingedLanes|=u.suspendedLanes&S,u.warmLanes&=~S,Cr===u&&(Un&S)===S&&(Hr===4||Hr===3&&(Un&62914560)===Un&&300>oi()-Tv?!(hr&2)&&su(u,0):Cv|=S,xc===Un&&(xc=0)),we(u)}function Lg(u,f){f===0&&(f=L()),u=fe(u,f),u!==null&&(z(u,f),we(u))}function oe(u){var f=u.memoizedState,S=0;f!==null&&(S=f.retryLane),Lg(u,S)}function cu(u,f){var S=0;switch(u.tag){case 13:var E=u.stateNode,N=u.memoizedState;N!==null&&(S=N.retryLane);break;case 19:E=u.stateNode;break;case 22:E=u.stateNode._retryCache;break;default:throw Error(i(314))}E!==null&&E.delete(f),Lg(u,S)}function Ph(u,f){return Ld(u,f)}function Qa(u,f,S,E){this.tag=u,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(u){return u=u.prototype,!(!u||!u.isReactComponent)}function vl(u,f){var S=u.alternate;return S===null?(S=t(u.tag,f,u.key,u.mode),S.elementType=u.elementType,S.type=u.type,S.stateNode=u.stateNode,S.alternate=u,u.alternate=S):(S.pendingProps=f,S.type=u.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=u.flags&31457280,S.childLanes=u.childLanes,S.lanes=u.lanes,S.child=u.child,S.memoizedProps=u.memoizedProps,S.memoizedState=u.memoizedState,S.updateQueue=u.updateQueue,f=u.dependencies,S.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},S.sibling=u.sibling,S.index=u.index,S.ref=u.ref,S.refCleanup=u.refCleanup,S}function zb(u,f){u.flags&=31457282;var S=u.alternate;return S===null?(u.childLanes=0,u.lanes=f,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=S.childLanes,u.lanes=S.lanes,u.child=S.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=S.memoizedProps,u.memoizedState=S.memoizedState,u.updateQueue=S.updateQueue,u.type=S.type,f=S.dependencies,u.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),u}function Oh(u,f,S,E,N,k){var le=0;if(E=u,typeof u=="function")Tn(u)&&(le=1);else if(typeof u=="string")le=Ha&&Ui?cv(u,S,qn.current)?26:pv(u)?27:5:Ha?cv(u,S,qn.current)?26:5:Ui&&pv(u)?27:5;else e:switch(u){case eo:return La(S.children,N,k,f);case Gb:le=8,N|=24;break;case Hg:return u=t(12,S,f,N|2),u.elementType=Hg,u.lanes=k,u;case jg:return u=t(13,S,f,N),u.elementType=jg,u.lanes=k,u;case $g:return u=t(19,S,f,N),u.elementType=$g,u.lanes=k,u;case qb:return Hb(S,N,k,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case Ro:case yl:le=10;break e;case Wb:le=9;break e;case kg:le=11;break e;case Ih:le=14;break e;case Ls:le=16,E=null;break e}le=29,S=Error(i(130,u===null?"null":typeof u,"")),E=null}return f=t(le,S,f,N),f.elementType=u,f.type=E,f.lanes=k,f}function La(u,f,S,E){return u=t(7,u,E,f),u.lanes=S,u}function Hb(u,f,S,E){u=t(22,u,E,f),u.elementType=qb,u.lanes=S;var N={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var k=N._current;if(k===null)throw Error(i(456));if(!(N._pendingVisibility&2)){var le=fe(k,2);le!==null&&(N._pendingVisibility|=2,ea(le,k,2))}},attach:function(){var k=N._current;if(k===null)throw Error(i(456));if(N._pendingVisibility&2){var le=fe(k,2);le!==null&&(N._pendingVisibility&=-3,ea(le,k,2))}}};return u.stateNode=N,u}function Ng(u,f,S){return u=t(6,u,null,f),u.lanes=S,u}function Ug(u,f,S){return f=t(4,u.children!==null?u.children:[],u.key,f),f.lanes=S,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function oT(u,f,S,E,N,k,le,Me){this.tag=1,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Nh,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=D(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=D(0),this.hiddenUpdates=D(null),this.identifierPrefix=E,this.onUncaughtError=N,this.onCaughtError=k,this.onRecoverableError=le,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Me,this.incompleteTransitions=new Map}function kb(u,f,S,E,N,k,le,Me,je,it,bt,Et){return u=new oT(u,f,S,le,Me,je,it,Et),f=1,k===!0&&(f|=24),k=t(3,null,null,f),u.current=k,k.stateNode=u,f=pd(),f.refCount++,u.pooledCache=f,f.refCount++,k.memoizedState={element:E,isDehydrated:S,cache:f},xt(k),u}function ss(u){return u?(u=Us,u):Us}function jb(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(i(188)):(u=Object.keys(u).join(","),Error(i(268,u)));return u=v(f),u=u!==null?g(u):null,u===null?null:Rd(u.stateNode)}function $b(u,f,S,E,N,k){N=ss(N),E.context===null?E.context=N:E.pendingContext=N,E=st(f),E.payload={element:S},k=k===void 0?null:k,k!==null&&(E.callback=k),S=dt(u,E,f),S!==null&&(ea(S,u,f),Ft(S,u,f))}function Vb(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var S=u.retryLane;u.retryLane=S!==0&&S<f?S:f}}function Bg(u,f){Vb(u,f),(u=u.alternate)&&Vb(u,f)}var En={},Ds=P,Na=PR,zg=Object.assign,sT=Symbol.for("react.element"),Fh=Symbol.for("react.transitional.element"),uu=Symbol.for("react.portal"),eo=Symbol.for("react.fragment"),Gb=Symbol.for("react.strict_mode"),Hg=Symbol.for("react.profiler"),Ro=Symbol.for("react.provider"),Wb=Symbol.for("react.consumer"),yl=Symbol.for("react.context"),kg=Symbol.for("react.forward_ref"),jg=Symbol.for("react.suspense"),$g=Symbol.for("react.suspense_list"),Ih=Symbol.for("react.memo"),Ls=Symbol.for("react.lazy"),qb=Symbol.for("react.offscreen"),lT=Symbol.for("react.memo_cache_sentinel"),Dh=Symbol.iterator,Ad=Symbol.for("react.client.reference"),Qt=Ds.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Vg,Gg,Wg=!1,to=Array.isArray,qg=e.rendererVersion,nc=e.rendererPackageName,Ua=e.extraDevToolsConfig,Rd=e.getPublicInstance,Xb=e.getRootHostContext,Yb=e.getChildHostContext,Pd=e.prepareForCommit,bl=e.resetAfterCommit,Kb=e.createInstance,Xg=e.appendInitialChild,Od=e.finalizeInitialChildren,Lh=e.shouldSetTextContent,Yg=e.createTextInstance,Ni=e.scheduleTimeout,Kg=e.cancelTimeout,Nh=e.noTimeout,_i=e.isPrimaryRenderer;e.warnsIfNotActing;var Si=e.supportsMutation,Po=e.supportsPersistence,Ci=e.supportsHydration,Zg=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var ta=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Yi=e.setCurrentUpdatePriority,rc=e.getCurrentUpdatePriority,cT=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var uT=e.shouldAttemptEagerTransition,Jg=e.detachDeletedInstance;e.requestPostPaintCallback;var dT=e.maySuspendCommit,du=e.preloadInstance,Zb=e.startSuspendingCommit,Jb=e.suspendInstance,fT=e.waitForCommitToBeReady,ls=e.NotPendingTransition,ic=e.HostTransitionContext,hT=e.resetFormInstance;e.bindToConsole;var Qg=e.supportsMicrotasks,Qb=e.scheduleMicrotask,Fd=e.supportsTestSelectors,pT=e.findFiberRoot,mT=e.getBoundingRect,ex=e.getTextContent,ac=e.isHiddenSubtree,gT=e.matchAccessibilityRole,ev=e.setFocusIfFocusable,tx=e.setupIntersectionObserver,nx=e.appendChild,rx=e.appendChildToContainer,Uh=e.commitTextUpdate,vT=e.commitMount,ix=e.commitUpdate,ax=e.insertBefore,yT=e.insertInContainerBefore,ox=e.removeChild,bT=e.removeChildFromContainer,Bh=e.resetTextContent,sx=e.hideInstance,tv=e.hideTextInstance,xT=e.unhideInstance,nv=e.unhideTextInstance,_n=e.clearContainer,_T=e.cloneInstance,lx=e.createContainerChildSet,fu=e.appendChildToContainerChildSet,cx=e.finalizeContainerChildren,ux=e.replaceContainerChildren,dx=e.cloneHiddenInstance,Ba=e.cloneHiddenTextInstance,rv=e.isSuspenseInstancePending,hu=e.isSuspenseInstanceFallback,iv=e.getSuspenseInstanceFallbackErrorDetails,fx=e.registerSuspenseInstanceRetry,hx=e.canHydrateFormStateMarker,za=e.isFormStateMarkerMatching,Ns=e.getNextHydratableSibling,zh=e.getFirstHydratableChild,px=e.getFirstHydratableChildWithinContainer,Hh=e.getFirstHydratableChildWithinSuspenseInstance,mx=e.canHydrateInstance,av=e.canHydrateTextInstance,gx=e.canHydrateSuspenseInstance,ov=e.hydrateInstance,sv=e.hydrateTextInstance,xl=e.hydrateSuspenseInstance,ST=e.getNextHydratableInstanceAfterSuspenseInstance,_l=e.commitHydratedContainer,vx=e.commitHydratedSuspenseInstance,yx=e.clearSuspenseBoundary,lv=e.clearSuspenseBoundaryFromContainer,bx=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var CT=e.validateHydratableInstance,wT=e.validateHydratableTextInstance,Ha=e.supportsResources,cv=e.isHostHoistableType,uv=e.getHoistableRoot,dv=e.getResource,fv=e.acquireResource,na=e.releaseResource,cs=e.hydrateHoistable,xx=e.mountHoistable,_x=e.unmountHoistable,kh=e.createHoistableInstance,pu=e.prepareToCommitHoistables,Sx=e.mayResourceSuspendCommit,hv=e.preloadResource,TT=e.suspendResource,Ui=e.supportsSingletons,oc=e.resolveSingletonInstance,Id=e.clearSingleton,MT=e.acquireSingletonInstance,Cx=e.releaseSingletonInstance,pv=e.isHostSingletonType,mu=[],sc=-1,Us={},ra=Math.clz32?Math.clz32:T,jh=Math.log,ET=Math.LN2,Dd=128,lc=4194304,Ld=Na.unstable_scheduleCallback,Nd=Na.unstable_cancelCallback,AT=Na.unstable_shouldYield,wx=Na.unstable_requestPaint,oi=Na.unstable_now,mv=Na.unstable_ImmediatePriority,Tx=Na.unstable_UserBlockingPriority,gv=Na.unstable_NormalPriority,Mx=Na.unstable_IdlePriority,RT=Na.log,PT=Na.unstable_setDisableYieldValue,ka=null,ia=null,aa=typeof Object.is=="function"?Object.is:W,$h=new WeakMap,Bs=[],Oo=0,qt=null,cc=0,va=[],wi=0,uc=null,Fo=1,us="",qn=b(null),Ud=b(null),Sl=b(null),Bd=b(null),oa=null,Bi=null,Xn=!1,Io=null,ds=!1,Do=Error(i(519)),Sr=[],Cl=0,vv=0,gu=null,vu=null,yv=!1,wl=!1,Vh=!1,dc=0,zd=null,bv=0,yu=0,bu=null,zs=!1,Gh=!1,OT=Object.prototype.hasOwnProperty,fc=Error(i(460)),Wh=Error(i(474)),Tl={then:function(){}},Ml=null,hc=null,xu=0,fs=jr(!0),xv=jr(!1),sa=b(null),hs=b(0),no=b(null),Lo=null,si=b(0),El=0,Sn=null,fr=null,Yr=null,qh=!1,_u=!1,pc=!1,Xh=0,Hd=0,Su=null,Ex=0,Yh=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},No={readContext:Ii,use:Be,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useLayoutEffect:Nn,useInsertionEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useSyncExternalStore:Nn,useId:Nn};No.useCacheRefresh=Nn,No.useMemoCache=Nn,No.useHostTransitionStatus=Nn,No.useFormState=Nn,No.useActionState=Nn,No.useOptimistic=Nn;var mc={readContext:Ii,use:Be,useCallback:function(u,f){return De().memoizedState=[u,f===void 0?null:f],u},useContext:Ii,useEffect:lb,useImperativeHandle:function(u,f,S){S=S!=null?S.concat([u]):null,ld(4194308,4,sg.bind(null,f,u),S)},useLayoutEffect:function(u,f){return ld(4194308,4,u,f)},useInsertionEffect:function(u,f){ld(4,2,u,f)},useMemo:function(u,f){var S=De();f=f===void 0?null:f;var E=u();if(pc){G(!0);try{u()}finally{G(!1)}}return S.memoizedState=[E,f],E},useReducer:function(u,f,S){var E=De();if(S!==void 0){var N=S(f);if(pc){G(!0);try{S(f)}finally{G(!1)}}}else N=f;return E.memoizedState=E.baseState=N,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:N},E.queue=u,u=u.dispatch=nT.bind(null,Sn,u),[E.memoizedState,u]},useRef:function(u){var f=De();return u={current:u},f.memoizedState=u},useState:function(u){u=Gn(u);var f=u.queue,S=gb.bind(null,Sn,f);return f.dispatch=S,[u.memoizedState,S]},useDebugValue:lg,useDeferredValue:function(u,f){var S=De();return ug(S,u,f)},useTransition:function(){var u=Gn(!1);return u=fb.bind(null,Sn,u.queue,!0,!1),De().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,f,S){var E=Sn,N=De();if(Xn){if(S===void 0)throw Error(i(407));S=S()}else{if(S=f(),Cr===null)throw Error(i(349));Un&60||$t(E,f,S)}N.memoizedState=S;var k={value:S,getSnapshot:f};return N.queue=k,lb(Kn.bind(null,E,k,u),[u]),E.flags|=2048,Wi(9,xn.bind(null,E,k,S,f),{destroy:void 0},null),S},useId:function(){var u=De(),f=Cr.identifierPrefix;if(Xn){var S=us,E=Fo;S=(E&~(1<<32-ra(E)-1)).toString(32)+S,f=":"+f+"R"+S,S=Xh++,0<S&&(f+="H"+S.toString(32)),f+=":"}else S=Ex++,f=":"+f+"r"+S.toString(32)+":";return u.memoizedState=f},useCacheRefresh:function(){return De().memoizedState=tT.bind(null,Sn)}};mc.useMemoCache=vt,mc.useHostTransitionStatus=ud,mc.useFormState=Gi,mc.useActionState=Gi,mc.useOptimistic=function(u){var f=De();f.memoizedState=f.baseState=u;var S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=S,f=ur.bind(null,Sn,!0,S),S.dispatch=f,[u,f]};var Al={readContext:Ii,use:Be,useCallback:ub,useContext:Ii,useEffect:dh,useImperativeHandle:cb,useInsertionEffect:ag,useLayoutEffect:og,useMemo:cg,useReducer:Nt,useRef:Yl,useState:function(){return Nt(Ct)},useDebugValue:lg,useDeferredValue:function(u,f){var S=Ve();return db(S,fr.memoizedState,u,f)},useTransition:function(){var u=Nt(Ct)[0],f=Ve().memoizedState;return[typeof u=="boolean"?u:Ye(u),f]},useSyncExternalStore:Zt,useId:pb};Al.useCacheRefresh=mb,Al.useMemoCache=vt,Al.useHostTransitionStatus=ud,Al.useFormState=Oi,Al.useActionState=Oi,Al.useOptimistic=function(u,f){var S=Ve();return Vt(S,fr,u,f)};var gc={readContext:Ii,use:Be,useCallback:ub,useContext:Ii,useEffect:dh,useImperativeHandle:cb,useInsertionEffect:ag,useLayoutEffect:og,useMemo:cg,useReducer:Wt,useRef:Yl,useState:function(){return Wt(Ct)},useDebugValue:lg,useDeferredValue:function(u,f){var S=Ve();return fr===null?ug(S,u,f):db(S,fr.memoizedState,u,f)},useTransition:function(){var u=Wt(Ct)[0],f=Ve().memoizedState;return[typeof u=="boolean"?u:Ye(u),f]},useSyncExternalStore:Zt,useId:pb};gc.useCacheRefresh=mb,gc.useMemoCache=vt,gc.useHostTransitionStatus=ud,gc.useFormState=ul,gc.useActionState=ul,gc.useOptimistic=function(u,f){var S=Ve();return fr!==null?Vt(S,fr,u,f):(S.baseState=u,[u,S.queue.dispatch])};var Kh={isMounted:function(u){return(u=u._reactInternals)?h(u)===u:!1},enqueueSetState:function(u,f,S){u=u._reactInternals;var E=ai(),N=st(E);N.payload=f,S!=null&&(N.callback=S),f=dt(u,N,E),f!==null&&(ea(f,u,E),Ft(f,u,E))},enqueueReplaceState:function(u,f,S){u=u._reactInternals;var E=ai(),N=st(E);N.tag=1,N.payload=f,S!=null&&(N.callback=S),f=dt(u,N,E),f!==null&&(ea(f,u,E),Ft(f,u,E))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var S=ai(),E=st(S);E.tag=2,f!=null&&(E.callback=f),f=dt(u,E,S),f!==null&&(ea(f,u,S),Ft(f,u,S))}},Ax=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},Rx=Error(i(461)),Ti=!1,_v={dehydrated:null,treeContext:null,retryLane:0},Zh=b(null),vc=null,Kr=null,FT=typeof AbortController!="undefined"?AbortController:function(){var u=[],f=this.signal={aborted:!1,addEventListener:function(S,E){u.push(E)}};this.abort=function(){f.aborted=!0,u.forEach(function(S){return S()})}},IT=Na.unstable_scheduleCallback,DT=Na.unstable_NormalPriority,Dr={$$typeof:yl,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Px=Qt.S;Qt.S=function(u,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&Le(u,f),Px!==null&&Px(u,f)};var yc=b(null),Hs=!1,zr=!1,kd=!1,Ox=typeof WeakSet=="function"?WeakSet:Set,Mi=null,Fx=!1,Zr=null,ja=!1,Uo=null,Cu=8192,LT={getCacheForType:function(u){var f=Ii(Dr),S=f.data.get(u);return S===void 0&&(S=u(),f.data.set(u,S)),S}},Jh=0,Qh=1,ep=2,tp=3,np=4;if(typeof Symbol=="function"&&Symbol.for){var jd=Symbol.for;Jh=jd("selector.component"),Qh=jd("selector.has_pseudo_class"),ep=jd("selector.role"),tp=jd("selector.test_id"),np=jd("selector.text")}var NT=typeof WeakMap=="function"?WeakMap:Map,hr=0,Cr=null,An=null,Un=0,wr=0,la=null,ps=!1,wu=!1,Sv=!1,ks=0,Hr=0,Rl=0,bc=0,Cv=0,ro=0,xc=0,$d=null,$a=null,wv=!1,Tv=0,Vd=1/0,rp=null,Pl=null,ip=!1,_c=null,Gd=0,Mv=0,Ev=null,Wd=0,Av=null;return En.attemptContinuousHydration=function(u){if(u.tag===13){var f=fe(u,67108864);f!==null&&ea(f,u,67108864),Bg(u,67108864)}},En.attemptHydrationAtCurrentPriority=function(u){if(u.tag===13){var f=ai(),S=fe(u,f);S!==null&&ea(S,u,f),Bg(u,f)}},En.attemptSynchronousHydration=function(u){switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var f=M(u.pendingLanes);if(f!==0){for(u.pendingLanes|=2,u.entangledLanes|=2;f;){var S=1<<31-ra(f);u.entanglements[1]|=S,f&=~S}we(u),!(hr&6)&&(Vd=oi()+500,Ie(0))}}break;case 13:f=fe(u,2),f!==null&&ea(f,u,2),Db(),Bg(u,2)}},En.batchedUpdates=function(u,f){return u(f)},En.createComponentSelector=function(u){return{$$typeof:Jh,value:u}},En.createContainer=function(u,f,S,E,N,k,le,Me,je,it){return kb(u,f,!1,null,S,E,k,le,Me,je,it,null)},En.createHasPseudoClassSelector=function(u){return{$$typeof:Qh,value:u}},En.createHydrationContainer=function(u,f,S,E,N,k,le,Me,je,it,bt,Et,Ot){return u=kb(S,E,!0,u,N,k,Me,je,it,bt,Et,Ot),u.context=ss(null),S=u.current,E=ai(),N=st(E),N.callback=f!=null?f:null,dt(S,N,E),u.current.lanes=E,z(u,E),we(u),u},En.createPortal=function(u,f,S){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uu,key:E==null?null:""+E,children:u,containerInfo:f,implementation:S}},En.createRoleSelector=function(u){return{$$typeof:ep,value:u}},En.createTestNameSelector=function(u){return{$$typeof:tp,value:u}},En.createTextSelector=function(u){return{$$typeof:np,value:u}},En.defaultOnCaughtError=function(u){console.error(u)},En.defaultOnRecoverableError=function(u){Ax(u)},En.defaultOnUncaughtError=function(u){Ax(u)},En.deferredUpdates=function(u){var f=Qt.T,S=rc();try{return Yi(32),Qt.T=null,u()}finally{Yi(S),Qt.T=f}},En.discreteUpdates=function(u,f,S,E,N){var k=Qt.T,le=rc();try{return Yi(2),Qt.T=null,u(f,S,E,N)}finally{Yi(le),Qt.T=k,hr===0&&(Vd=oi()+500)}},En.findAllNodes=Jl,En.findBoundingRects=function(u,f){if(!Fd)throw Error(i(363));f=Jl(u,f),u=[];for(var S=0;S<f.length;S++)u.push(mT(f[S]));for(f=u.length-1;0<f;f--){S=u[f];for(var E=S.x,N=E+S.width,k=S.y,le=k+S.height,Me=f-1;0<=Me;Me--)if(f!==Me){var je=u[Me],it=je.x,bt=it+je.width,Et=je.y,Ot=Et+je.height;if(E>=it&&k>=Et&&N<=bt&&le<=Ot){u.splice(f,1);break}else if(E!==it||S.width!==je.width||Ot<k||Et>le){if(!(k!==Et||S.height!==je.height||bt<E||it>N)){it>E&&(je.width+=it-E,je.x=E),bt<N&&(je.width=N-it),u.splice(f,1);break}}else{Et>k&&(je.height+=Et-k,je.y=k),Ot<le&&(je.height=le-Et),u.splice(f,1);break}}}return u},En.findHostInstance=jb,En.findHostInstanceWithNoPortals=function(u){return u=v(u),u=u!==null?x(u):null,u===null?null:Rd(u.stateNode)},En.findHostInstanceWithWarning=function(u){return jb(u)},En.flushPassiveEffects=tc,En.flushSyncFromReconciler=function(u){var f=hr;hr|=1;var S=Qt.T,E=rc();try{if(Yi(2),Qt.T=null,u)return u()}finally{Yi(E),Qt.T=S,hr=f,!(hr&6)&&Ie(0)}},En.flushSyncWork=Db,En.focusWithin=function(u,f){if(!Fd)throw Error(i(363));for(u=wh(u),f=Og(u,f),f=Array.from(f),u=0;u<f.length;){var S=f[u++],E=S.tag;if(!ac(S)){if((E===5||E===26||E===27)&&ev(S.stateNode))return!0;for(S=S.child;S!==null;)f.push(S),S=S.sibling}}return!1},En.getFindAllNodesFailureDescription=function(u,f){if(!Fd)throw Error(i(363));var S=0,E=[];u=[wh(u),0];for(var N=0;N<u.length;){var k=u[N++],le=k.tag,Me=u[N++],je=f[Me];if((le!==5&&le!==26&&le!==27||!ac(k))&&(Th(k,je)&&(E.push(ou(je)),Me++,Me>S&&(S=Me)),Me<f.length))for(k=k.child;k!==null;)u.push(k,Me),k=k.sibling}if(S<f.length){for(u=[];S<f.length;S++)u.push(ou(f[S]));return`findAllNodes was able to match part of the selector:
  `+(E.join(" > ")+`

No matching component was found for:
  `)+u.join(" > ")}return null},En.getPublicRootInstance=function(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 27:case 5:return Rd(u.child.stateNode);default:return u.child.stateNode}},En.injectIntoDevTools=function(){var u={bundleType:0,version:qg,rendererPackageName:nc,currentDispatcherRef:Qt,findFiberByHostInstance:Zg,reconcilerVersion:"19.0.0"};if(Ua!==null&&(u.rendererConfig=Ua),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined")u=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)u=!0;else{try{ka=f.inject(u),ia=f}catch(S){}u=!!f.checkDCE}}return u},En.isAlreadyRendering=function(){return!1},En.observeVisibleRects=function(u,f,S,E){if(!Fd)throw Error(i(363));u=Jl(u,f);var N=tx(u,S,E).disconnect;return{disconnect:function(){N()}}},En.shouldError=function(){return null},En.shouldSuspend=function(){return!1},En.startHostTransition=function(u,f,S,E){if(u.tag!==5)throw Error(i(476));var N=hb(u).queue;fb(u,N,f,ls,S===null?r:function(){var k=hb(u).next.queue;return ar(u,k,{},ai()),S(E)})},En.updateContainer=function(u,f,S,E){var N=f.current,k=ai();return $b(N,k,u,f,S,E),k},En.updateContainerSync=function(u,f,S,E){return f.tag===0&&tc(),$b(f.current,2,u,f,S,E),2},En},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})(pk);var zIe=pk.exports;hk.exports=zIe;var HIe=hk.exports;const kIe=ri(HIe);function N2(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=N2(r,e,t);if(i)return i;r=e?null:r.sibling}}function vk(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch(e){return n}}const U2=vk(P.createContext(null));class yk extends P.Component{render(){return P.createElement(U2.Provider,{value:this._reactInternals},this.props.children)}}function bk(){const n=P.useContext(U2);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=P.useId();return P.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const r=N2(t,!1,i=>{let a=i.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(r)return r}},[n,e])}const jIe=Symbol.for("react.context"),$Ie=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===jIe;function VIe(){const n=bk(),[e]=P.useState(()=>new Map);e.clear();let t=n;for(;t;){const r=t.type;$Ie(r)&&r!==U2&&!e.has(r)&&e.set(r,P.use(vk(r))),t=t.return}return e}function GIe(){const n=VIe();return P.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>P.createElement(e,null,P.createElement(t.Provider,mn(qe({},r),{value:n.get(t)}))),e=>P.createElement(yk,qe({},e))),[n])}function xk(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const _k=n=>n&&n.isOrthographicCamera,WIe=n=>n&&n.hasOwnProperty("current"),qIe=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),sb=((n,e)=>typeof window!="undefined"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?P.useLayoutEffect:P.useEffect;function Sk(n){const e=P.useRef(n);return sb(()=>void(e.current=n),[n]),e}function XIe(){const n=bk(),e=GIe();return P.useMemo(()=>({children:t})=>{const i=!!N2(n,!0,a=>a.type===P.StrictMode)?P.StrictMode:P.Fragment;return w.jsx(i,{children:w.jsx(e,{children:t})})},[n,e])}function YIe({set:n}){return sb(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const KIe=(n=>(n=class extends P.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function Ck(n){var e;const t=typeof window!="undefined"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function kp(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Gr={obj:n=>n===Object(n)&&!Gr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Gr.str(n)||Gr.num(n)||Gr.boo(n))return n===e;const a=Gr.obj(n);if(a&&r==="reference")return n===e;const o=Gr.arr(n);if(o&&t==="reference")return n===e;if((o||a)&&n===e)return!0;let s;for(s in n)if(!(s in e))return!1;if(a&&t==="shallow"&&r==="shallow"){for(s in i?e:n)if(!Gr.equ(n[s],e[s],{strict:i,objects:"reference"}))return!1}else for(s in i?e:n)if(n[s]!==e[s])return!1;if(Gr.und(s)){if(o&&n.length===0&&e.length===0||a&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function ZIe(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const wk=["children","key","ref"];function JIe(n){const e={};for(const t in n)wk.includes(t)||(e[t]=n[t]);return e}function mC(n,e,t,r){const i=n;let a=i==null?void 0:i.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:JIe(r),object:i,eventCount:0,handlers:{},isHidden:!1},i&&(i.__r3f=a)),a}function py(n,e){if(!e.includes("-"))return{root:n,key:e,target:n[e]};if(e in n)return{root:n,key:e,target:n[e]};let t=n;const r=e.split("-");for(const i of r){if(typeof t!="object"||t===null){if(t!==void 0){const a=r.slice(r.indexOf(i)).join("-");return{root:t,key:a,target:void 0}}return{root:n,key:e,target:void 0}}e=i,n=t,t=t[e]}return{root:n,key:e,target:t}}const kN=/-\d+$/;function gC(n,e){if(Gr.str(e.props.attach)){if(kN.test(e.props.attach)){const i=e.props.attach.replace(kN,""),{root:a,key:o}=py(n.object,i);Array.isArray(a[o])||(a[o]=[])}const{root:t,key:r}=py(n.object,e.props.attach);e.previousAttach=t[r],t[r]=e.object}else Gr.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function vC(n,e){if(Gr.str(e.props.attach)){const{root:t,key:r}=py(n.object,e.props.attach),i=e.previousAttach;i===void 0?delete t[r]:t[r]=i}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const OR=[...wk,"args","dispose","attach","object","onUpdate","dispose"],jN=new Map;function QIe(n){let e=jN.get(n.constructor);try{e||(e=new n.constructor,jN.set(n.constructor,e))}catch(t){}return e}function eDe(n,e){const t={};for(const r in e)if(!OR.includes(r)&&!Gr.equ(e[r],n.props[r])){t[r]=e[r];for(const i in e)i.startsWith(`${r}-`)&&(t[i]=e[i])}for(const r in n.props){if(OR.includes(r)||e.hasOwnProperty(r))continue;const{root:i,key:a}=py(n.object,r);if(i.constructor&&i.constructor.length===0){const o=QIe(i);Gr.und(o)||(t[a]=o[a])}else t[a]=0}return t}const tDe=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],nDe=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Lu(n,e){var t;const r=n.__r3f,i=r&&xk(r).getState(),a=r==null?void 0:r.eventCount;for(const s in e){let l=e[s];if(OR.includes(s))continue;if(r&&nDe.test(s)){typeof l=="function"?r.handlers[s]=l:delete r.handlers[s],r.eventCount=Object.keys(r.handlers).length;continue}if(l===void 0)continue;let{root:c,key:d,target:h}=py(n,s);if(h===void 0&&(typeof c!="object"||c===null))throw Error(`R3F: Cannot set "${s}". Ensure it is an object before setting "${d}".`);if(h instanceof Rm&&l instanceof Rm)h.mask=l.mask;else if(h instanceof It&&qIe(l))h.set(l);else if(h!==null&&typeof h=="object"&&typeof h.set=="function"&&typeof h.copy=="function"&&l!=null&&l.constructor&&h.constructor===l.constructor)h.copy(l);else if(h!==null&&typeof h=="object"&&typeof h.set=="function"&&Array.isArray(l))typeof h.fromArray=="function"?h.fromArray(l):h.set(...l);else if(h!==null&&typeof h=="object"&&typeof h.set=="function"&&typeof l=="number")typeof h.setScalar=="function"?h.setScalar(l):h.set(l);else{var o;c[d]=l,i&&!i.linear&&tDe.includes(d)&&(o=c[d])!=null&&o.isTexture&&c[d].format===Ea&&c[d].type===ws&&(c[d].colorSpace=wa)}}if(r!=null&&r.parent&&i!=null&&i.internal&&(t=r.object)!=null&&t.isObject3D&&a!==r.eventCount){const s=r.object,l=i.internal.interaction.indexOf(s);l>-1&&i.internal.interaction.splice(l,1),r.eventCount&&s.raycast!==null&&i.internal.interaction.push(s)}return r&&r.props.attach===void 0&&(r.object.isBufferGeometry?r.props.attach="geometry":r.object.isMaterial&&(r.props.attach="material")),r&&rg(r),n}function rg(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function rDe(n,e){n.manual||(_k(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const po=n=>n==null?void 0:n.isObject3D;function K_(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Tk(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function iDe(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{Tk(t.capturedMap,e,r,i)})}function aDe(n){function e(l){const{internal:c}=n.getState(),d=l.offsetX-c.initialClick[0],h=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(d*d+h*h))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(d=>{var h;return(h=c.__r3f)==null?void 0:h.handlers["onPointer"+d]}))}function r(l,c){const d=n.getState(),h=new Set,m=[],v=c?c(d.internal.interaction):d.internal.interaction;for(let _=0;_<v.length;_++){const C=kp(v[_]);C&&(C.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function g(_){const C=kp(_);if(!C||!C.events.enabled||C.raycaster.camera===null)return[];if(C.raycaster.camera===void 0){var T;C.events.compute==null||C.events.compute(l,C,(T=C.previousRoot)==null?void 0:T.getState()),C.raycaster.camera===void 0&&(C.raycaster.camera=null)}return C.raycaster.camera?C.raycaster.intersectObject(_,!0):[]}let x=v.flatMap(g).sort((_,C)=>{const T=kp(_.object),M=kp(C.object);return!T||!M?_.distance-C.distance:M.events.priority-T.events.priority||_.distance-C.distance}).filter(_=>{const C=K_(_);return h.has(C)?!1:(h.add(C),!0)});d.events.filter&&(x=d.events.filter(x,d));for(const _ of x){let C=_.object;for(;C;){var b;(b=C.__r3f)!=null&&b.eventCount&&m.push(mn(qe({},_),{eventObject:C})),C=C.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let _ of d.internal.capturedMap.get(l.pointerId).values())h.has(K_(_.intersection))||m.push(_.intersection);return m}function i(l,c,d,h){if(l.length){const m={stopped:!1};for(const v of l){let g=kp(v.object);if(g||v.object.traverseAncestors(x=>{const b=kp(x);if(b)return g=b,!1}),g){const{raycaster:x,pointer:b,camera:_,internal:C}=g,T=new he(b.x,b.y,0).unproject(_),M=L=>{var D,z;return(D=(z=C.capturedMap.get(L))==null?void 0:z.has(v.eventObject))!=null?D:!1},O=L=>{const D={intersection:v,target:c.target};C.capturedMap.has(L)?C.capturedMap.get(L).set(v.eventObject,D):C.capturedMap.set(L,new Map([[v.eventObject,D]])),c.target.setPointerCapture(L)},I=L=>{const D=C.capturedMap.get(L);D&&Tk(C.capturedMap,v.eventObject,D,L)};let U={};for(let L in c){let D=c[L];typeof D!="function"&&(U[L]=D)}let F=mn(qe(qe({},v),U),{pointer:b,intersections:l,stopped:m.stopped,delta:d,unprojectedPoint:T,ray:x.ray,camera:_,stopPropagation(){const L="pointerId"in c&&C.capturedMap.get(c.pointerId);if((!L||L.has(v.eventObject))&&(F.stopped=m.stopped=!0,C.hovered.size&&Array.from(C.hovered.values()).find(D=>D.eventObject===v.eventObject))){const D=l.slice(0,l.indexOf(v));a([...D,v])}},target:{hasPointerCapture:M,setPointerCapture:O,releasePointerCapture:I},currentTarget:{hasPointerCapture:M,setPointerCapture:O,releasePointerCapture:I},nativeEvent:c});if(h(F),m.stopped===!0)break}}}return l}function a(l){const{internal:c}=n.getState();for(const d of c.hovered.values())if(!l.length||!l.find(h=>h.object===d.object&&h.index===d.index&&h.instanceId===d.instanceId)){const m=d.eventObject.__r3f;if(c.hovered.delete(K_(d)),m!=null&&m.eventCount){const v=m.handlers,g=mn(qe({},d),{intersections:l});v.onPointerOut==null||v.onPointerOut(g),v.onPointerLeave==null||v.onPointerLeave(g)}}}function o(l,c){for(let d=0;d<c.length;d++){const h=c[d].__r3f;h==null||h.handlers.onPointerMissed==null||h.handlers.onPointerMissed(l)}}function s(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return c=>{const{internal:d}=n.getState();"pointerId"in c&&d.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(c.pointerId)&&(d.capturedMap.delete(c.pointerId),a([]))})}}return function(d){const{onPointerMissed:h,internal:m}=n.getState();m.lastEvent.current=d;const v=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",b=r(d,v?t:void 0),_=g?e(d):0;l==="onPointerDown"&&(m.initialClick=[d.offsetX,d.offsetY],m.initialHits=b.map(T=>T.eventObject)),g&&!b.length&&_<=2&&(o(d,m.interaction),h&&h(d)),v&&a(b);function C(T){const M=T.eventObject,O=M.__r3f;if(!(O!=null&&O.eventCount))return;const I=O.handlers;if(v){if(I.onPointerOver||I.onPointerEnter||I.onPointerOut||I.onPointerLeave){const U=K_(T),F=m.hovered.get(U);F?F.stopped&&T.stopPropagation():(m.hovered.set(U,T),I.onPointerOver==null||I.onPointerOver(T),I.onPointerEnter==null||I.onPointerEnter(T))}I.onPointerMove==null||I.onPointerMove(T)}else{const U=I[l];U?(!g||m.initialHits.includes(M))&&(o(d,m.interaction.filter(F=>!m.initialHits.includes(F))),U(T)):g&&m.initialHits.includes(M)&&o(d,m.interaction.filter(F=>!m.initialHits.includes(F)))}}i(b,d,_,C)}}return{handlePointer:s}}const $N=n=>!!(n!=null&&n.render),Mk=P.createContext(null),oDe=(n,e)=>{const t=BIe((s,l)=>{const c=new he,d=new he,h=new he;function m(_=l().camera,C=d,T=l().size){const{width:M,height:O,top:I,left:U}=T,F=M/O;C.isVector3?h.copy(C):h.set(...C);const L=_.getWorldPosition(c).distanceTo(h);if(_k(_))return{width:M/_.zoom,height:O/_.zoom,top:I,left:U,factor:1,distance:L,aspect:F};{const D=_.fov*Math.PI/180,z=2*Math.tan(D/2)*L,$=z*(M/O);return{width:$,height:z,top:I,left:U,factor:M/$,distance:L,aspect:F}}}let v;const g=_=>s(C=>({performance:mn(qe({},C.performance),{current:_})})),x=new ot;return{set:s,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(_=1)=>n(l(),_),advance:(_,C)=>e(_,C,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new P2,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=l();v&&clearTimeout(v),_.performance.current!==_.performance.min&&g(_.performance.min),v=setTimeout(()=>g(l().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:m},setEvents:_=>s(C=>mn(qe({},C),{events:qe(qe({},C.events),_)})),setSize:(_,C,T=0,M=0)=>{const O=l().camera,I={width:_,height:C,top:T,left:M};s(U=>({size:I,viewport:qe(qe({},U.viewport),m(O,d,I))}))},setDpr:_=>s(C=>{const T=Ck(_);return{viewport:mn(qe({},C.viewport),{dpr:T,initialDpr:C.viewport.initialDpr||T})}}),setFrameloop:(_="always")=>{const C=l().clock;C.stop(),C.elapsedTime=0,_!=="never"&&(C.start(),C.elapsedTime=0),s(()=>({frameloop:_}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:P.createRef(),active:!1,frames:0,priority:0,subscribe:(_,C,T)=>{const M=l().internal;return M.priority=M.priority+(C>0?1:0),M.subscribers.push({ref:_,priority:C,store:T}),M.subscribers=M.subscribers.sort((O,I)=>O.priority-I.priority),()=>{const O=l().internal;O!=null&&O.subscribers&&(O.priority=O.priority-(C>0?1:0),O.subscribers=O.subscribers.filter(I=>I.ref!==_))}}}}}),r=t.getState();let i=r.size,a=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:s,size:l,viewport:c,gl:d,set:h}=t.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==a){i=l,a=c.dpr,rDe(s,l),c.dpr>0&&d.setPixelRatio(c.dpr);const m=typeof HTMLCanvasElement!="undefined"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,m)}s!==o&&(o=s,h(m=>({viewport:qe(qe({},m.viewport),m.viewport.getCurrentViewport(s))})))}),t.subscribe(s=>n(s)),t};function Ek(){const n=P.useContext(Mk);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Iu(n=t=>t,e){return Ek()(n,e)}function sDe(n,e=0){const t=Ek(),r=t.getState().internal.subscribe,i=Sk(n);return sb(()=>r(i,e,t),[e,r,t]),null}var lDe={version:"9.4.2"};function cDe(n){const e=kIe(n);return e.injectIntoDevTools(),e}const Ak=0,Im={},uDe=/^three(?=[A-Z])/,eT=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let dDe=0;const fDe=n=>typeof n=="function";function hDe(n){if(fDe(n)){const e=`${dDe++}`;return Im[e]=n,e}else Object.assign(Im,n)}function Rk(n,e){const t=eT(n),r=Im[t];if(n!=="primitive"&&!r)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function pDe(n,e,t){var r;return n=eT(n)in Im?n:n.replace(uDe,""),Rk(n,e),n==="primitive"&&(r=e.object)!=null&&r.__r3f&&delete e.object.__r3f,mC(e.object,t,n,e)}function mDe(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?vC(n.parent,n):po(n.object)&&(n.object.visible=!1),n.isHidden=!0,rg(n)}}function Pk(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?gC(n.parent,n):po(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,rg(n)}}function B2(n,e,t){const r=e.root.getState();if(!(!n.parent&&n.object!==r.scene)){if(!e.object){var i,a;const o=Im[eT(e.type)];e.object=(i=e.props.object)!=null?i:new o(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(Lu(e.object,e.props),e.props.attach)gC(n,e);else if(po(e.object)&&po(n.object)){const o=n.object.children.indexOf(t==null?void 0:t.object);if(t&&o!==-1){const s=n.object.children.indexOf(e.object);if(s!==-1){n.object.children.splice(s,1);const l=s<o?o-1:o;n.object.children.splice(l,0,e.object)}else e.object.parent=n.object,n.object.children.splice(o,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const o of e.children)B2(e,o);rg(e)}}function BE(n,e){e&&(e.parent=n,n.children.push(e),B2(n,e))}function VN(n,e,t){if(!e||!t)return;e.parent=n;const r=n.children.indexOf(t);r!==-1?n.children.splice(r,0,e):n.children.push(e),B2(n,e,t)}function Ok(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch(t){}};typeof IS_REACT_ACT_ENVIRONMENT!="undefined"?e():PR.unstable_scheduleCallback(PR.unstable_IdlePriority,e)}}function FR(n,e,t){if(!e)return;e.parent=null;const r=n.children.indexOf(e);r!==-1&&n.children.splice(r,1),e.props.attach?vC(n,e):po(e.object)&&po(n.object)&&(n.object.remove(e.object),iDe(xk(e),e.object));const i=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const o=e.children[a];FR(e,o,i)}e.children.length=0,delete e.object.__r3f,i&&e.type!=="primitive"&&e.object.type!=="Scene"&&Ok(e.object),t===void 0&&rg(e)}function gDe(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const r=t.ref(e);typeof r=="function"&&(t.refCleanup=r)}else t.ref&&(t.ref.current=e)}const vS=[];function vDe(){for(const[t]of vS){const r=t.parent;if(r){t.props.attach?vC(r,t):po(t.object)&&po(r.object)&&r.object.remove(t.object);for(const i of t.children)i.props.attach?vC(t,i):po(i.object)&&po(t.object)&&t.object.remove(i.object)}t.isHidden&&Pk(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&Ok(t.object)}for(const[t,r,i]of vS){t.props=r;const a=t.parent;if(a){var n,e;const o=Im[eT(t.type)];t.object=(n=t.props.object)!=null?n:new o(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,gDe(i,t.object),Lu(t.object,t.props),t.props.attach?gC(a,t):po(t.object)&&po(a.object)&&a.object.add(t.object);for(const s of t.children)s.props.attach?gC(t,s):po(s.object)&&po(t.object)&&t.object.add(s.object);rg(t)}}vS.length=0}const zE=()=>{},GN={};let Z_=Ak;const yDe=0,bDe=4,IR=cDe({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:pDe,removeChild:FR,appendChild:BE,appendInitialChild:BE,insertBefore:VN,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||BE(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||FR(t,e)},insertInContainerBefore(n,e,t){const r=n.getState().scene.__r3f;!e||!t||!r||VN(r,e,t)},getRootHostContext:()=>GN,getChildHostContext:()=>GN,commitUpdate(n,e,t,r,i){var a,o,s;Rk(e,r);let l=!1;if((n.type==="primitive"&&t.object!==r.object||((a=r.args)==null?void 0:a.length)!==((o=t.args)==null?void 0:o.length)||(s=r.args)!=null&&s.some((d,h)=>{var m;return d!==((m=t.args)==null?void 0:m[h])}))&&(l=!0),l)vS.push([n,qe({},r),i]);else{const d=eDe(n,r);Object.keys(d).length&&(Object.assign(n.props,d),Lu(n.object,d))}(i.sibling===null||(i.flags&bDe)===yDe)&&vDe()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>mC(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:mDe,unhideInstance:Pk,createTextInstance:zE,hideTextInstance:zE,unhideTextInstance:zE,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:P.createContext(null),setCurrentUpdatePriority(n){Z_=n},getCurrentUpdatePriority(){return Z_},resolveUpdatePriority(){var n;if(Z_!==Ak)return Z_;switch(typeof window!="undefined"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return gS.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return gS.ContinuousEventPriority;default:return gS.DefaultEventPriority}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:lDe.version}),Yf=new Map,jp={objects:"shallow",strict:!1};function xDe(n,e){if(!e&&typeof HTMLCanvasElement!="undefined"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:r,top:i,left:a}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:a}}else if(!e&&typeof OffscreenCanvas!="undefined"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return qe({width:0,height:0,top:0,left:0},e)}function _De(n){const e=Yf.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,a=r||oDe(NR,qN),o=t||IR.createContainer(a,gS.ConcurrentRoot,null,!1,null,"",i,i,i,null);e||Yf.set(n,{fiber:o,store:a});let s,l,c=!1,d=null;return{configure(){return Bt(this,arguments,function*(m={}){let v;d=new Promise(se=>v=se);let{gl:g,size:x,scene:b,events:_,onCreated:C,shadows:T=!1,linear:M=!1,flat:O=!1,legacy:I=!1,orthographic:U=!1,frameloop:F="always",dpr:L=[1,2],performance:D,raycaster:z,camera:$,onPointerMissed:Y}=m,j=a.getState(),V=j.gl;if(!j.gl){const se={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},ae=typeof g=="function"?yield g(se):g;$N(ae)?V=ae:V=new ck(qe(qe({},se),g)),j.set({gl:V})}let B=j.raycaster;B||j.set({raycaster:B=new tk});const ue=z||{},{params:G}=ue,W=lp(ue,["params"]);if(Gr.equ(W,B,jp)||Lu(B,qe({},W)),Gr.equ(G,B.params,jp)||Lu(B,{params:qe(qe({},B.params),G)}),!j.camera||j.camera===l&&!Gr.equ(l,$,jp)){l=$;const se=$==null?void 0:$.isCamera,ae=se?$:U?new Hu(0,0,0,0,.1,1e3):new mi(75,0,.1,1e3);se||(ae.position.z=5,$&&(Lu(ae,$),ae.manual||("aspect"in $||"left"in $||"right"in $||"bottom"in $||"top"in $)&&(ae.manual=!0,ae.updateProjectionMatrix())),!j.camera&&!($!=null&&$.rotation)&&ae.lookAt(0,0,0)),j.set({camera:ae}),B.camera=ae}if(!j.scene){let se;b!=null&&b.isScene?(se=b,mC(se,a,"",{})):(se=new c2,mC(se,a,"",{}),b&&Lu(se,b)),j.set({scene:se})}_&&!j.events.handlers&&j.set({events:_(a)});const Z=xDe(n,x);if(Gr.equ(Z,j.size,jp)||j.setSize(Z.width,Z.height,Z.top,Z.left),L&&j.viewport.dpr!==Ck(L)&&j.setDpr(L),j.frameloop!==F&&j.setFrameloop(F),j.onPointerMissed||j.set({onPointerMissed:Y}),D&&!Gr.equ(D,j.performance,jp)&&j.set(se=>({performance:qe(qe({},se.performance),D)})),!j.xr){var J;const se=(te,ee)=>{const xe=a.getState();xe.frameloop!=="never"&&qN(te,!0,xe,ee)},ae=()=>{const te=a.getState();te.gl.xr.enabled=te.gl.xr.isPresenting,te.gl.xr.setAnimationLoop(te.gl.xr.isPresenting?se:null),te.gl.xr.isPresenting||NR(te)},ie={connect(){const te=a.getState().gl;te.xr.addEventListener("sessionstart",ae),te.xr.addEventListener("sessionend",ae)},disconnect(){const te=a.getState().gl;te.xr.removeEventListener("sessionstart",ae),te.xr.removeEventListener("sessionend",ae)}};typeof((J=V.xr)==null?void 0:J.addEventListener)=="function"&&ie.connect(),j.set({xr:ie})}if(V.shadowMap){const se=V.shadowMap.enabled,ae=V.shadowMap.type;if(V.shadowMap.enabled=!!T,Gr.boo(T))V.shadowMap.type=b0;else if(Gr.str(T)){var Q;const ie={basic:d5,percentage:xw,soft:b0,variance:Js};V.shadowMap.type=(Q=ie[T])!=null?Q:b0}else Gr.obj(T)&&Object.assign(V.shadowMap,T);(se!==V.shadowMap.enabled||ae!==V.shadowMap.type)&&(V.shadowMap.needsUpdate=!0)}return Vn.enabled=!I,c||(V.outputColorSpace=M?Gu:wa,V.toneMapping=O?Hl:XP),j.legacy!==I&&j.set(()=>({legacy:I})),j.linear!==M&&j.set(()=>({linear:M})),j.flat!==O&&j.set(()=>({flat:O})),g&&!Gr.fun(g)&&!$N(g)&&!Gr.equ(g,V,jp)&&Lu(V,g),s=C,c=!0,v(),this})},render(m){return!c&&!d&&this.configure(),d.then(()=>{IR.updateContainer(w.jsx(SDe,{store:a,children:m,onCreated:s,rootElement:n}),o,null,()=>{})}),a},unmount(){Fk(n)}}}function SDe({store:n,children:e,onCreated:t,rootElement:r}){return sb(()=>{const i=n.getState();i.set(a=>({internal:mn(qe({},a.internal),{active:!0})})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),w.jsx(Mk.Provider,{value:n,children:e})}function Fk(n,e){const t=Yf.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),IR.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var a,o,s,l;i.events.disconnect==null||i.events.disconnect(),(a=i.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(s=i.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),ZIe(i.scene),Yf.delete(n)}catch(c){}},500)})}}const CDe=new Set,wDe=new Set,TDe=new Set;function HE(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function A0(n,e){switch(n){case"before":return HE(CDe,e);case"after":return HE(wDe,e);case"tail":return HE(TDe,e)}}let kE,jE;function DR(n,e,t){let r=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),kE=e.internal.subscribers;for(let i=0;i<kE.length;i++)jE=kE[i],jE.ref.current(jE.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let yC=!1,LR=!1,$E,WN,$p;function Ik(n){WN=requestAnimationFrame(Ik),yC=!0,$E=0,A0("before",n),LR=!0;for(const t of Yf.values()){var e;$p=t.store.getState(),$p.internal.active&&($p.frameloop==="always"||$p.internal.frames>0)&&!((e=$p.gl.xr)!=null&&e.isPresenting)&&($E+=DR(n,$p))}if(LR=!1,A0("after",n),$E===0)return A0("tail",n),yC=!1,cancelAnimationFrame(WN)}function NR(n,e=1){var t;if(!n)return Yf.forEach(r=>NR(r.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):LR?n.internal.frames=2:n.internal.frames=1,yC||(yC=!0,requestAnimationFrame(Ik)))}function qN(n,e=!0,t,r){if(e&&A0("before",n),t)DR(n,t,r);else for(const i of Yf.values())DR(n,i.store.getState());e&&A0("after",n)}const VE={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function MDe(n){const{handlePointer:e}=aDe(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(VE).reduce((t,r)=>mn(qe({},t),{[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{const{set:r,events:i}=n.getState();if(i.disconnect==null||i.disconnect(),r(a=>({events:mn(qe({},a.events),{connected:t})})),i.handlers)for(const a in i.handlers){const o=i.handlers[a],[s,l]=VE[a];t.addEventListener(s,o,{passive:l})}},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){if(r.handlers)for(const i in r.handlers){const a=r.handlers[i],[o]=VE[i];r.connected.removeEventListener(o,a)}t(i=>({events:mn(qe({},i.events),{connected:void 0})}))}}}}function XN(n,e){let t;return(...r)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...r),e)}}function EDe({debounce:n,scroll:e,polyfill:t,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||(typeof window=="undefined"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=P.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=P.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,c=n?typeof n=="number"?n:n.resize:null,d=P.useRef(!1);P.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[h,m,v]=P.useMemo(()=>{const _=()=>{if(!s.current.element)return;const{left:C,top:T,width:M,height:O,bottom:I,right:U,x:F,y:L}=s.current.element.getBoundingClientRect(),D={left:C,top:T,width:M,height:O,bottom:I,right:U,x:F,y:L};s.current.element instanceof HTMLElement&&r&&(D.height=s.current.element.offsetHeight,D.width=s.current.element.offsetWidth),Object.freeze(D),d.current&&!ODe(s.current.lastBounds,D)&&o(s.current.lastBounds=D)};return[_,c?XN(_,c):_,l?XN(_,l):_]},[o,r,l,c]);function g(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",v,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function x(){s.current.element&&(s.current.resizeObserver=new i(v),s.current.resizeObserver.observe(s.current.element),e&&s.current.scrollContainers&&s.current.scrollContainers.forEach(_=>_.addEventListener("scroll",v,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{v()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const b=_=>{!_||_===s.current.element||(g(),s.current.element=_,s.current.scrollContainers=Dk(_),x())};return RDe(v,!!e),ADe(m),P.useEffect(()=>{g(),x()},[e,v,m]),P.useEffect(()=>g,[]),[b,a,h]}function ADe(n){P.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function RDe(n,e){P.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function Dk(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(a=>a==="auto"||a==="scroll")&&e.push(n),[...e,...Dk(n.parentElement)]}const PDe=["x","y","top","bottom","left","right","width","height"],ODe=(n,e)=>PDe.every(t=>n[t]===e[t]);function FDe(U){var F=U,{ref:n,children:e,fallback:t,resize:r,style:i,gl:a,events:o=MDe,eventSource:s,eventPrefix:l,shadows:c,linear:d,flat:h,legacy:m,orthographic:v,frameloop:g,dpr:x,performance:b,raycaster:_,camera:C,scene:T,onPointerMissed:M,onCreated:O}=F,I=lp(F,["ref","children","fallback","resize","style","gl","events","eventSource","eventPrefix","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","scene","onPointerMissed","onCreated"]);P.useMemo(()=>hDe(wIe),[]);const L=XIe(),[D,z]=EDe(qe({scroll:!0,debounce:{scroll:50,resize:0}},r)),$=P.useRef(null),Y=P.useRef(null);P.useImperativeHandle(n,()=>$.current);const j=Sk(M),[V,B]=P.useState(!1),[G,W]=P.useState(!1);if(V)throw V;if(G)throw G;const Z=P.useRef(null);sb(()=>{const Q=$.current;if(z.width>0&&z.height>0&&Q){Z.current||(Z.current=_De(Q));function ue(){return Bt(this,null,function*(){yield Z.current.configure({gl:a,scene:T,events:o,shadows:c,linear:d,flat:h,legacy:m,orthographic:v,frameloop:g,dpr:x,performance:b,raycaster:_,camera:C,size:z,onPointerMissed:(...se)=>j.current==null?void 0:j.current(...se),onCreated:se=>{se.events.connect==null||se.events.connect(s?WIe(s)?s.current:s:Y.current),l&&se.setEvents({compute:(ae,ie)=>{const te=ae[l+"X"],ee=ae[l+"Y"];ie.pointer.set(te/ie.size.width*2-1,-(ee/ie.size.height)*2+1),ie.raycaster.setFromCamera(ie.pointer,ie.camera)}}),O==null||O(se)}}),Z.current.render(w.jsx(L,{children:w.jsx(KIe,{set:W,children:w.jsx(P.Suspense,{fallback:w.jsx(YIe,{set:B}),children:e!=null?e:null})})}))})}ue()}}),P.useEffect(()=>{const Q=$.current;if(Q)return()=>Fk(Q)},[]);const J=s?"none":"auto";return w.jsx("div",mn(qe({ref:Y,style:qe({position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:J},i)},I),{children:w.jsx("div",{ref:D,style:{width:"100%",height:"100%"},children:w.jsx("canvas",{ref:$,style:{display:"block"},children:t})})}))}function IDe(n){return w.jsx(yk,{children:w.jsx(FDe,qe({},n))})}var DDe=Object.defineProperty,LDe=(n,e,t)=>e in n?DDe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,NDe=(n,e,t)=>(LDe(n,e+"",t),t);class UDe{constructor(){NDe(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,o=i.length;a<o;a++)i[a].call(this,e);e.target=null}}}var BDe=Object.defineProperty,zDe=(n,e,t)=>e in n?BDe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Jt=(n,e,t)=>(zDe(n,typeof e!="symbol"?e+"":e,t),t);const J_=new oh,YN=new Uc,HDe=Math.cos(70*(Math.PI/180)),KN=(n,e)=>(n%e+e)%e;let kDe=class extends UDe{constructor(e,t){super(),Jt(this,"object"),Jt(this,"domElement"),Jt(this,"enabled",!0),Jt(this,"target",new he),Jt(this,"minDistance",0),Jt(this,"maxDistance",1/0),Jt(this,"minZoom",0),Jt(this,"maxZoom",1/0),Jt(this,"minPolarAngle",0),Jt(this,"maxPolarAngle",Math.PI),Jt(this,"minAzimuthAngle",-1/0),Jt(this,"maxAzimuthAngle",1/0),Jt(this,"enableDamping",!1),Jt(this,"dampingFactor",.05),Jt(this,"enableZoom",!0),Jt(this,"zoomSpeed",1),Jt(this,"enableRotate",!0),Jt(this,"rotateSpeed",1),Jt(this,"enablePan",!0),Jt(this,"panSpeed",1),Jt(this,"screenSpacePanning",!0),Jt(this,"keyPanSpeed",7),Jt(this,"zoomToCursor",!1),Jt(this,"autoRotate",!1),Jt(this,"autoRotateSpeed",2),Jt(this,"reverseOrbit",!1),Jt(this,"reverseHorizontalOrbit",!1),Jt(this,"reverseVerticalOrbit",!1),Jt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Jt(this,"mouseButtons",{LEFT:pf.ROTATE,MIDDLE:pf.DOLLY,RIGHT:pf.PAN}),Jt(this,"touches",{ONE:mf.ROTATE,TWO:mf.DOLLY_PAN}),Jt(this,"target0"),Jt(this,"position0"),Jt(this,"zoom0"),Jt(this,"_domElementKeyEvents",null),Jt(this,"getPolarAngle"),Jt(this,"getAzimuthalAngle"),Jt(this,"setPolarAngle"),Jt(this,"setAzimuthalAngle"),Jt(this,"getDistance"),Jt(this,"getZoomScale"),Jt(this,"listenToKeyEvents"),Jt(this,"stopListenToKeyEvents"),Jt(this,"saveState"),Jt(this,"reset"),Jt(this,"update"),Jt(this,"connect"),Jt(this,"dispose"),Jt(this,"dollyIn"),Jt(this,"dollyOut"),Jt(this,"getScale"),Jt(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=pe=>{let Te=KN(pe,2*Math.PI),$e=d.phi;$e<0&&($e+=2*Math.PI),Te<0&&(Te+=2*Math.PI);let me=Math.abs(Te-$e);2*Math.PI-me<me&&(Te<$e?Te+=2*Math.PI:$e+=2*Math.PI),h.phi=Te-$e,r.update()},this.setAzimuthalAngle=pe=>{let Te=KN(pe,2*Math.PI),$e=d.theta;$e<0&&($e+=2*Math.PI),Te<0&&(Te+=2*Math.PI);let me=Math.abs(Te-$e);2*Math.PI-me<me&&(Te<$e?Te+=2*Math.PI:$e+=2*Math.PI),h.theta=Te-$e,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=pe=>{pe.addEventListener("keydown",Le),this._domElementKeyEvents=pe},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Le),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=s.NONE},this.update=(()=>{const pe=new he,Te=new he(0,1,0),$e=new ki().setFromUnitVectors(e.up,Te),me=$e.clone().invert(),Xe=new he,tt=new ki,ct=2*Math.PI;return function(){const Qe=r.object.position;$e.setFromUnitVectors(e.up,Te),me.copy($e).invert(),pe.copy(Qe).sub(r.target),pe.applyQuaternion($e),d.setFromVector3(pe),r.autoRotate&&l===s.NONE&&j($()),r.enableDamping?(d.theta+=h.theta*r.dampingFactor,d.phi+=h.phi*r.dampingFactor):(d.theta+=h.theta,d.phi+=h.phi);let pt=r.minAzimuthAngle,Rt=r.maxAzimuthAngle;isFinite(pt)&&isFinite(Rt)&&(pt<-Math.PI?pt+=ct:pt>Math.PI&&(pt-=ct),Rt<-Math.PI?Rt+=ct:Rt>Math.PI&&(Rt-=ct),pt<=Rt?d.theta=Math.max(pt,Math.min(Rt,d.theta)):d.theta=d.theta>(pt+Rt)/2?Math.max(pt,d.theta):Math.min(Rt,d.theta)),d.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,d.phi)),d.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(v,r.dampingFactor):r.target.add(v),r.zoomToCursor&&L||r.object.isOrthographicCamera?d.radius=se(d.radius):d.radius=se(d.radius*m),pe.setFromSpherical(d),pe.applyQuaternion(me),Qe.copy(r.target).add(pe),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(h.theta*=1-r.dampingFactor,h.phi*=1-r.dampingFactor,v.multiplyScalar(1-r.dampingFactor)):(h.set(0,0,0),v.set(0,0,0));let Yt=!1;if(r.zoomToCursor&&L){let Kt=null;if(r.object instanceof mi&&r.object.isPerspectiveCamera){const cr=pe.length();Kt=se(cr*m);const jr=cr-Kt;r.object.position.addScaledVector(U,jr),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const cr=new he(F.x,F.y,0);cr.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/m)),r.object.updateProjectionMatrix(),Yt=!0;const jr=new he(F.x,F.y,0);jr.unproject(r.object),r.object.position.sub(jr).add(cr),r.object.updateMatrixWorld(),Kt=pe.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Kt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Kt).add(r.object.position):(J_.origin.copy(r.object.position),J_.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(J_.direction))<HDe?e.lookAt(r.target):(YN.setFromNormalAndCoplanarPoint(r.object.up,r.target),J_.intersectPlane(YN,r.target))))}else r.object instanceof Hu&&r.object.isOrthographicCamera&&(Yt=m!==1,Yt&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/m)),r.object.updateProjectionMatrix()));return m=1,L=!1,Yt||Xe.distanceToSquared(r.object.position)>c||8*(1-tt.dot(r.object.quaternion))>c?(r.dispatchEvent(i),Xe.copy(r.object.position),tt.copy(r.object.quaternion),Yt=!1,!0):!1}})(),this.connect=pe=>{r.domElement=pe,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",xt),r.domElement.addEventListener("pointerdown",Ae),r.domElement.addEventListener("pointercancel",q),r.domElement.addEventListener("wheel",Ge)},this.dispose=()=>{var pe,Te,$e,me,Xe,tt;r.domElement&&(r.domElement.style.touchAction="auto"),(pe=r.domElement)==null||pe.removeEventListener("contextmenu",xt),(Te=r.domElement)==null||Te.removeEventListener("pointerdown",Ae),($e=r.domElement)==null||$e.removeEventListener("pointercancel",q),(me=r.domElement)==null||me.removeEventListener("wheel",Ge),(Xe=r.domElement)==null||Xe.ownerDocument.removeEventListener("pointermove",X),(tt=r.domElement)==null||tt.ownerDocument.removeEventListener("pointerup",q),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Le)};const r=this,i={type:"change"},a={type:"start"},o={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=s.NONE;const c=1e-6,d=new MR,h=new MR;let m=1;const v=new he,g=new ot,x=new ot,b=new ot,_=new ot,C=new ot,T=new ot,M=new ot,O=new ot,I=new ot,U=new he,F=new ot;let L=!1;const D=[],z={};function $(){return 2*Math.PI/60/60*r.autoRotateSpeed}function Y(){return Math.pow(.95,r.zoomSpeed)}function j(pe){r.reverseOrbit||r.reverseHorizontalOrbit?h.theta+=pe:h.theta-=pe}function V(pe){r.reverseOrbit||r.reverseVerticalOrbit?h.phi+=pe:h.phi-=pe}const B=(()=>{const pe=new he;return function($e,me){pe.setFromMatrixColumn(me,0),pe.multiplyScalar(-$e),v.add(pe)}})(),G=(()=>{const pe=new he;return function($e,me){r.screenSpacePanning===!0?pe.setFromMatrixColumn(me,1):(pe.setFromMatrixColumn(me,0),pe.crossVectors(r.object.up,pe)),pe.multiplyScalar($e),v.add(pe)}})(),W=(()=>{const pe=new he;return function($e,me){const Xe=r.domElement;if(Xe&&r.object instanceof mi&&r.object.isPerspectiveCamera){const tt=r.object.position;pe.copy(tt).sub(r.target);let ct=pe.length();ct*=Math.tan(r.object.fov/2*Math.PI/180),B(2*$e*ct/Xe.clientHeight,r.object.matrix),G(2*me*ct/Xe.clientHeight,r.object.matrix)}else Xe&&r.object instanceof Hu&&r.object.isOrthographicCamera?(B($e*(r.object.right-r.object.left)/r.object.zoom/Xe.clientWidth,r.object.matrix),G(me*(r.object.top-r.object.bottom)/r.object.zoom/Xe.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function Z(pe){r.object instanceof mi&&r.object.isPerspectiveCamera||r.object instanceof Hu&&r.object.isOrthographicCamera?m=pe:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function J(pe){Z(m/pe)}function Q(pe){Z(m*pe)}function ue(pe){if(!r.zoomToCursor||!r.domElement)return;L=!0;const Te=r.domElement.getBoundingClientRect(),$e=pe.clientX-Te.left,me=pe.clientY-Te.top,Xe=Te.width,tt=Te.height;F.x=$e/Xe*2-1,F.y=-(me/tt)*2+1,U.set(F.x,F.y,1).unproject(r.object).sub(r.object.position).normalize()}function se(pe){return Math.max(r.minDistance,Math.min(r.maxDistance,pe))}function ae(pe){g.set(pe.clientX,pe.clientY)}function ie(pe){ue(pe),M.set(pe.clientX,pe.clientY)}function te(pe){_.set(pe.clientX,pe.clientY)}function ee(pe){x.set(pe.clientX,pe.clientY),b.subVectors(x,g).multiplyScalar(r.rotateSpeed);const Te=r.domElement;Te&&(j(2*Math.PI*b.x/Te.clientHeight),V(2*Math.PI*b.y/Te.clientHeight)),g.copy(x),r.update()}function xe(pe){O.set(pe.clientX,pe.clientY),I.subVectors(O,M),I.y>0?J(Y()):I.y<0&&Q(Y()),M.copy(O),r.update()}function Ee(pe){C.set(pe.clientX,pe.clientY),T.subVectors(C,_).multiplyScalar(r.panSpeed),W(T.x,T.y),_.copy(C),r.update()}function Se(pe){ue(pe),pe.deltaY<0?Q(Y()):pe.deltaY>0&&J(Y()),r.update()}function ze(pe){let Te=!1;switch(pe.code){case r.keys.UP:W(0,r.keyPanSpeed),Te=!0;break;case r.keys.BOTTOM:W(0,-r.keyPanSpeed),Te=!0;break;case r.keys.LEFT:W(r.keyPanSpeed,0),Te=!0;break;case r.keys.RIGHT:W(-r.keyPanSpeed,0),Te=!0;break}Te&&(pe.preventDefault(),r.update())}function Ue(){if(D.length==1)g.set(D[0].pageX,D[0].pageY);else{const pe=.5*(D[0].pageX+D[1].pageX),Te=.5*(D[0].pageY+D[1].pageY);g.set(pe,Te)}}function re(){if(D.length==1)_.set(D[0].pageX,D[0].pageY);else{const pe=.5*(D[0].pageX+D[1].pageX),Te=.5*(D[0].pageY+D[1].pageY);_.set(pe,Te)}}function Ce(){const pe=D[0].pageX-D[1].pageX,Te=D[0].pageY-D[1].pageY,$e=Math.sqrt(pe*pe+Te*Te);M.set(0,$e)}function Fe(){r.enableZoom&&Ce(),r.enablePan&&re()}function ge(){r.enableZoom&&Ce(),r.enableRotate&&Ue()}function fe(pe){if(D.length==1)x.set(pe.pageX,pe.pageY);else{const $e=Ft(pe),me=.5*(pe.pageX+$e.x),Xe=.5*(pe.pageY+$e.y);x.set(me,Xe)}b.subVectors(x,g).multiplyScalar(r.rotateSpeed);const Te=r.domElement;Te&&(j(2*Math.PI*b.x/Te.clientHeight),V(2*Math.PI*b.y/Te.clientHeight)),g.copy(x)}function ve(pe){if(D.length==1)C.set(pe.pageX,pe.pageY);else{const Te=Ft(pe),$e=.5*(pe.pageX+Te.x),me=.5*(pe.pageY+Te.y);C.set($e,me)}T.subVectors(C,_).multiplyScalar(r.panSpeed),W(T.x,T.y),_.copy(C)}function be(pe){const Te=Ft(pe),$e=pe.pageX-Te.x,me=pe.pageY-Te.y,Xe=Math.sqrt($e*$e+me*me);O.set(0,Xe),I.set(0,Math.pow(O.y/M.y,r.zoomSpeed)),J(I.y),M.copy(O)}function we(pe){r.enableZoom&&be(pe),r.enablePan&&ve(pe)}function Ie(pe){r.enableZoom&&be(pe),r.enableRotate&&fe(pe)}function Ae(pe){var Te,$e;r.enabled!==!1&&(D.length===0&&((Te=r.domElement)==null||Te.ownerDocument.addEventListener("pointermove",X),($e=r.domElement)==null||$e.ownerDocument.addEventListener("pointerup",q)),St(pe),pe.pointerType==="touch"?ht(pe):ye(pe))}function X(pe){r.enabled!==!1&&(pe.pointerType==="touch"?et(pe):Re(pe))}function q(pe){var Te,$e,me;st(pe),D.length===0&&((Te=r.domElement)==null||Te.releasePointerCapture(pe.pointerId),($e=r.domElement)==null||$e.ownerDocument.removeEventListener("pointermove",X),(me=r.domElement)==null||me.ownerDocument.removeEventListener("pointerup",q)),r.dispatchEvent(o),l=s.NONE}function ye(pe){let Te;switch(pe.button){case 0:Te=r.mouseButtons.LEFT;break;case 1:Te=r.mouseButtons.MIDDLE;break;case 2:Te=r.mouseButtons.RIGHT;break;default:Te=-1}switch(Te){case pf.DOLLY:if(r.enableZoom===!1)return;ie(pe),l=s.DOLLY;break;case pf.ROTATE:if(pe.ctrlKey||pe.metaKey||pe.shiftKey){if(r.enablePan===!1)return;te(pe),l=s.PAN}else{if(r.enableRotate===!1)return;ae(pe),l=s.ROTATE}break;case pf.PAN:if(pe.ctrlKey||pe.metaKey||pe.shiftKey){if(r.enableRotate===!1)return;ae(pe),l=s.ROTATE}else{if(r.enablePan===!1)return;te(pe),l=s.PAN}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(a)}function Re(pe){if(r.enabled!==!1)switch(l){case s.ROTATE:if(r.enableRotate===!1)return;ee(pe);break;case s.DOLLY:if(r.enableZoom===!1)return;xe(pe);break;case s.PAN:if(r.enablePan===!1)return;Ee(pe);break}}function Ge(pe){r.enabled===!1||r.enableZoom===!1||l!==s.NONE&&l!==s.ROTATE||(pe.preventDefault(),r.dispatchEvent(a),Se(pe),r.dispatchEvent(o))}function Le(pe){r.enabled===!1||r.enablePan===!1||ze(pe)}function ht(pe){switch(dt(pe),D.length){case 1:switch(r.touches.ONE){case mf.ROTATE:if(r.enableRotate===!1)return;Ue(),l=s.TOUCH_ROTATE;break;case mf.PAN:if(r.enablePan===!1)return;re(),l=s.TOUCH_PAN;break;default:l=s.NONE}break;case 2:switch(r.touches.TWO){case mf.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Fe(),l=s.TOUCH_DOLLY_PAN;break;case mf.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ge(),l=s.TOUCH_DOLLY_ROTATE;break;default:l=s.NONE}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(a)}function et(pe){switch(dt(pe),l){case s.TOUCH_ROTATE:if(r.enableRotate===!1)return;fe(pe),r.update();break;case s.TOUCH_PAN:if(r.enablePan===!1)return;ve(pe),r.update();break;case s.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;we(pe),r.update();break;case s.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ie(pe),r.update();break;default:l=s.NONE}}function xt(pe){r.enabled!==!1&&pe.preventDefault()}function St(pe){D.push(pe)}function st(pe){delete z[pe.pointerId];for(let Te=0;Te<D.length;Te++)if(D[Te].pointerId==pe.pointerId){D.splice(Te,1);return}}function dt(pe){let Te=z[pe.pointerId];Te===void 0&&(Te=new ot,z[pe.pointerId]=Te),Te.set(pe.pageX,pe.pageY)}function Ft(pe){const Te=pe.pointerId===D[0].pointerId?D[1]:D[0];return z[Te.pointerId]}this.dollyIn=(pe=Y())=>{Q(pe),r.update()},this.dollyOut=(pe=Y())=>{J(pe),r.update()},this.getScale=()=>m,this.setScale=pe=>{Z(pe),r.update()},this.getZoomScale=()=>Y(),t!==void 0&&this.connect(t),this.update()}};const jDe=P.forwardRef((h,d)=>{var m=h,{makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:a=!1,onChange:o,onStart:s,onEnd:l}=m,c=lp(m,["makeDefault","camera","regress","domElement","enableDamping","keyEvents","onChange","onStart","onEnd"]);const v=Iu(F=>F.invalidate),g=Iu(F=>F.camera),x=Iu(F=>F.gl),b=Iu(F=>F.events),_=Iu(F=>F.setEvents),C=Iu(F=>F.set),T=Iu(F=>F.get),M=Iu(F=>F.performance),O=e||g,I=r||b.connected||x.domElement,U=P.useMemo(()=>new kDe(O),[O]);return sDe(()=>{U.enabled&&U.update()},-1),P.useEffect(()=>(a&&U.connect(a===!0?I:a),U.connect(I),()=>void U.dispose()),[a,I,t,U,v]),P.useEffect(()=>{const F=z=>{v(),t&&M.regress(),o&&o(z)},L=z=>{s&&s(z)},D=z=>{l&&l(z)};return U.addEventListener("change",F),U.addEventListener("start",L),U.addEventListener("end",D),()=>{U.removeEventListener("start",L),U.removeEventListener("end",D),U.removeEventListener("change",F)}},[o,s,l,U,v,_]),P.useEffect(()=>{if(n){const F=T().controls;return C({controls:U}),()=>C({controls:F})}},[n,U]),P.createElement("primitive",Pn({ref:d,object:U,enableDamping:i},c))}),Lk=({color:n=16711680,shaftRadius:e=.003,shaftLength:t=.07,headRadius:r=.005,headLength:i=.03,opacity:a=1})=>w.jsxs("group",{rotation:[Math.PI/2,0,0],children:[w.jsxs("mesh",{position:[0,t/2,0],children:[w.jsx("cylinderGeometry",{args:[e,e,t,32]}),w.jsx("meshBasicMaterial",{color:n,transparent:a<1,opacity:a,side:_s})]}),w.jsxs("mesh",{position:[0,t+i/2,0],children:[w.jsx("coneGeometry",{args:[r,i,32]}),w.jsx("meshBasicMaterial",{color:n,transparent:a<1,opacity:a,side:_s})]})]}),$De=P.memo(({pose:n,color:e,opacity:t})=>w.jsx("group",{position:n.position,quaternion:n.quaternion,scale:.9,children:w.jsx(Lk,{color:e,shaftRadius:.003,shaftLength:.07,headRadius:.005,headLength:.03,opacity:t})})),UR=({currentPose:n,history:e,trajectoryLength:t})=>{const r=P.useRef(null),i=new It(16711680),a=1;return P.useEffect(()=>{!n||!r.current||(r.current.position.copy(n.position).multiplyScalar(a),r.current.quaternion.copy(n.quaternion))},[n]),w.jsxs(IDe,{camera:{position:[.25,.25,.5],fov:70},gl:{preserveDrawingBuffer:!0},children:[w.jsx("ambientLight",{intensity:.6}),w.jsx("directionalLight",{position:[10,10,5],intensity:1,castShadow:!0}),w.jsx("gridHelper",{args:[5,50]}),w.jsx("axesHelper",{args:[5]}),e.map((o,s)=>{const l=(s+1)/Math.min(e.length,t);i.clone().multiplyScalar(l);const c=.2+l*.8,d=mn(qe({},o),{position:new he().copy(o.position).multiplyScalar(a)});return w.jsx($De,{pose:d,color:16711680,opacity:c},`history-arrow-${s}`)}),n&&w.jsxs("group",{ref:r,children:[w.jsx("axesHelper",{args:[.1]}),w.jsx(Lk,{color:16711680,shaftRadius:.003,shaftLength:.07,headRadius:.005,headLength:.03})]}),w.jsx(jDe,{enableDamping:!0,dampingFactor:.05,enableZoom:!0,enablePan:!0,rotateSpeed:.5,zoomSpeed:.8,panSpeed:.5})]})},Rf=n=>Nc.isString(n)?n.length===0:Nc.isObject(n)?Nc.isEmpty(Object.keys(n)):Nc.isArray(n)?Nc.isEmpty(n.length):Nc.isNil(n),o0="localhost",s0="8887",l0="v0",ZN=`http://${o0}:${s0}/api/${l0}`;function VDe(){const{t:n,i18n:e}=ah(),[t,r]=P.useState(zl.Portable),[i,a]=P.useState([]),o=P.useRef(null),s=P.useRef(null),l=P.useRef(null),c=P.useRef(null),d=P.useRef(0),[h,m]=P.useState("idle"),[v,g]=P.useState(!1),[x,b]=P.useState(!1),[_,C]=P.useState(),[T,M]=P.useState(),O=P.useRef(null);P.useRef(null),P.useRef(null);const[I,U]=P.useState(null),F=P.useRef(null),L=P.useRef(null),[D,z]=P.useState([]),$=P.useRef(null),[Y,j]=P.useState(null),V=P.useRef(null),B=P.useRef(null),[G,W]=P.useState(null),[Z,J]=P.useState(null),[Q,ue]=P.useState([]),[se,ae]=P.useState([]),ie=P.useRef(0),te=P.useRef(null),ee=P.useRef(null),xe=P.useRef(null),Ee=P.useRef(null),Se=P.useRef(null),[ze,Ue]=P.useState(!1),[re,Ce]=P.useState(!1),[Fe,ge]=P.useState(!1),[fe,ve]=P.useState(0),[be,we]=P.useState(!0),[Ie,Ae]=P.useState(!0),[X,q]=P.useState(!0),[ye,Re]=P.useState(!0),Ge=[{title:n("dataCollector.slamTable.columnTime"),dataIndex:"time",key:"time",align:"left"},{title:n("dataCollector.slamTable.columnCoordX"),dataIndex:"X",key:"X",align:"left"},{title:n("dataCollector.slamTable.columnCoordY"),dataIndex:"Y",key:"Y",align:"left"},{title:n("dataCollector.slamTable.columnCoordZ"),dataIndex:"Z",key:"Z",align:"left"},{title:n("dataCollector.slamTable.columnQX"),dataIndex:"QX",key:"QX",align:"left"},{title:n("dataCollector.slamTable.columnQY"),dataIndex:"QY",key:"QY",align:"left"},{title:n("dataCollector.slamTable.columnQZ"),dataIndex:"QZ",key:"QZ",align:"left"},{title:n("dataCollector.slamTable.columnQW"),dataIndex:"QW",key:"QW",align:"left"}],[Le,ht]=P.useState(!1),et=pe=>{switch(pe){case"leftRGB":we(!1),te.current&&(te.current.close(),te.current=null),xe.current&&(xe.current.pause(),xe.current.srcObject=null);break;case"leftTOF":Ae(!1),L.current&&(L.current.close(),L.current=null),U(null),F.current&&(URL.revokeObjectURL(F.current),F.current=null);break;case"rightRGB":q(!1),ee.current&&(ee.current.close(),ee.current=null),Ee.current&&(Ee.current.pause(),Ee.current.srcObject=null);break;case"rightTOF":Re(!1),B.current&&(B.current.close(),B.current=null),j(null),V.current&&(URL.revokeObjectURL(V.current),V.current=null);break}},xt=pe=>{var nt,Qe,pt,Rt,Yt,Kt,cr;const Te=pe.timestamp,$e=pe.data||[],me=e.language==="zh"?"zh-CN":"en-US",Xe=new Date(Te*1e3).toLocaleString(me,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),tt=[{id:"1",name:n("dataCollector.slamTable.columnCoordX"),value:((nt=$e[0])!=null?nt:0).toFixed(4),time:Xe},{id:"2",name:n("dataCollector.slamTable.columnCoordY"),value:((Qe=$e[1])!=null?Qe:0).toFixed(4),time:Xe},{id:"3",name:n("dataCollector.slamTable.columnCoordZ"),value:((pt=$e[2])!=null?pt:0).toFixed(4),time:Xe}],ct=[{id:"1",name:"QX",value:((Rt=$e[3])!=null?Rt:0).toFixed(4),time:Xe},{id:"2",name:"QY",value:((Yt=$e[4])!=null?Yt:0).toFixed(4),time:Xe},{id:"3",name:"QZ",value:((Kt=$e[5])!=null?Kt:0).toFixed(4),time:Xe},{id:"4",name:"QW",value:((cr=$e[6])!=null?cr:0).toFixed(4),time:Xe}];return{xyz:tt,q:ct}},St=50,st=1,dt=P.useMemo(()=>x||Le||Fe||re,[x,Le,Fe,re]),Ft=()=>{O.current&&(O.current.onerror=null,O.current.src="")};return P.useEffect(()=>{if(!x){Se.current&&(Se.current.close(),Se.current=null),g(!1),m("idle"),a([]),W(null),ue([]),o.current=null;return}const pe=`ws://${o0}:${s0}/api/${l0}/ws/slam_stream`,Te=new WebSocket(pe);return Se.current=Te,m("sse"),g(!1),Te.onopen=()=>{console.log("SLAM WebSocket Connected"),g(!0)},Te.onmessage=$e=>{try{const me=JSON.parse($e.data);me.type==="slam"&&(o.current=me)}catch(me){console.error("Failed to parse SLAM WebSocket message",me)}},Te.onerror=$e=>{console.error("SLAM WebSocket Error:",$e),$n.error(n("dataCollector.messageToast.slamConnectFailed")),g(!1)},Te.onclose=()=>{console.log("SLAM WebSocket Disconnected"),g(!1),Se.current=null},()=>{Te.readyState===WebSocket.OPEN&&Te.close(),Se.current=null}},[x,n]),P.useEffect(()=>{if(!x){L.current&&(L.current.close(),L.current=null),U(null),F.current&&(URL.revokeObjectURL(F.current),F.current=null),s.current=null;return}const pe=`ws://${o0}:${s0}/api/${l0}/ws/tof_stream`,Te=new WebSocket(pe);return L.current=Te,Te.binaryType="arraybuffer",Te.onopen=()=>{console.log("TOF WebSocket Connected")},Te.onmessage=$e=>{$e.data instanceof ArrayBuffer&&(s.current=$e.data)},Te.onerror=$e=>{console.error("TOF WebSocket Error:",$e),$n.error(n("dataCollector.messageToast.tofConnectFailed"))},Te.onclose=()=>{console.log("TOF WebSocket Disconnected"),L.current=null},()=>{Te.readyState===WebSocket.OPEN&&Te.close(),L.current=null}},[x,n]),P.useEffect(()=>{if(!x){$.current&&($.current.close(),$.current=null),z([]),J(null),ae([]),l.current=null;return}const pe=`ws://${o0}:${s0}/api/${l0}/ws/right_slam_stream`,Te=new WebSocket(pe);return $.current=Te,Te.onopen=()=>{console.log("Right SLAM WebSocket Connected")},Te.onmessage=$e=>{try{const me=JSON.parse($e.data);l.current=me}catch(me){console.error("Failed to parse Right SLAM WebSocket message",me)}},Te.onerror=$e=>{console.error("Right SLAM WebSocket Error:",$e),$n.error(n("dataCollector.messageToast.rightSlamConnectFailed"))},Te.onclose=()=>{console.log("Right SLAM WebSocket Disconnected"),$.current=null},()=>{Te.readyState===WebSocket.OPEN&&Te.close(),$.current=null}},[x,n]),P.useEffect(()=>{if(!x){B.current&&(B.current.close(),B.current=null),V.current&&(URL.revokeObjectURL(V.current),V.current=null),j(null),c.current=null;return}const pe=`ws://${o0}:${s0}/api/${l0}/ws/right_tof_stream`,Te=new WebSocket(pe);return B.current=Te,Te.binaryType="arraybuffer",Te.onopen=()=>{console.log("Right TOF Image WebSocket Connected")},Te.onmessage=$e=>{$e.data instanceof ArrayBuffer&&(c.current=$e.data)},Te.onerror=$e=>{console.error("Right TOF Image WebSocket Error:",$e),$n.error(n("dataCollector.messageToast.rightTofConnectFailed"))},Te.onclose=()=>{console.log("Right TOF Image WebSocket Disconnected"),B.current=null},()=>{Te.readyState===WebSocket.OPEN&&Te.close(),B.current=null,V.current&&(URL.revokeObjectURL(V.current),V.current=null)}},[x,n]),P.useEffect(()=>{const pe=($e,me,Xe,tt)=>Bt(this,null,function*(){if(me.current){console.log(`[WebRTC ${$e}] Already connected.`);return}console.log(`[WebRTC ${$e}] 1. Creating PeerConnection`);const ct=new RTCPeerConnection;me.current=ct,ct.ontrack=nt=>{console.log(`[WebRTC ${$e}] 4. Received remote track`),Xe.current&&nt.streams[0]&&(Xe.current.srcObject=nt.streams[0],console.log(`[WebRTC ${$e}] 5. Attached track to <video> element`))},ct.onconnectionstatechange=()=>{console.log(`[WebRTC ${$e}] Connection state: ${ct.connectionState}`),(ct.connectionState==="failed"||ct.connectionState==="closed"||ct.connectionState==="disconnected")&&Te($e,me,Xe)};try{ct.addTransceiver("video",{direction:"recvonly"}),console.log(`[WebRTC ${$e}] 2. Creating Offer`);const nt=yield ct.createOffer();yield ct.setLocalDescription(nt),console.log(`[WebRTC ${$e}] 3. Sending Offer to server...`);const Qe=yield fetch(tt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sdp:nt.sdp,type:nt.type})});if(!Qe.ok)throw new Error(`Server responded with ${Qe.status}`);const pt=yield Qe.json();console.log(`[WebRTC ${$e}] 6. Received server Answer`),yield ct.setRemoteDescription(new RTCSessionDescription(pt)),console.log(`[WebRTC ${$e}] 7. Set remote Answer. Connection established!`)}catch(nt){console.error(`[WebRTC ${$e}] Failed to start:`,nt),$n.error(n("dataCollector.messageToast.webrtcConnectionFailed")),Te($e,me,Xe)}}),Te=($e,me,Xe)=>{const tt=me.current;tt&&(console.log(`[WebRTC ${$e}] Stopping connection...`),tt.close(),me.current=null),Xe.current&&(Xe.current.srcObject=null)};if(x){const $e=window.location.hostname,me=ZN||`http://${$e}:8887/api/v0`;Rf(_)||pe("left",te,xe,`${me}/webrtc/offer/left`),Rf(T)||pe("right",ee,Ee,`${me}/webrtc/offer/right`)}return()=>{Te("left",te,xe),Te("right",ee,Ee)}},[x,_,T,n]),P.useEffect(()=>{if(!x)return;let pe;const Te=()=>{d.current+=1;const me=d.current%1===0;if(o.current){const Xe=o.current,tt={timestamp:Xe.timestamp,data:Xe.data},{xyz:ct,q:nt}=xt(tt),Qe=[{X:ct[0].value,Y:ct[1].value,Z:ct[2].value,QX:nt[0].value,QY:nt[1].value,QZ:nt[2].value,QW:nt[3].value,time:ct[0].time}],pt=Qe[0],Rt=new he(parseFloat(pt.Y||"0"),parseFloat(pt.Z||"0"),parseFloat(pt.X||"0")),Yt=new ki(parseFloat(pt.QX||"0"),parseFloat(pt.QY||"0"),parseFloat(pt.QZ||"0"),parseFloat(pt.QW||"1"));if(W({position:Rt,quaternion:Yt}),me&&a(Qe),ie.current+=1,ie.current%st===0){const Kt={position:Rt,quaternion:Yt};ue(cr=>[...cr,Kt].slice(-St))}o.current=null}if(l.current){const Xe=l.current,tt={timestamp:Xe.timestamp,data:Xe.data},{xyz:ct,q:nt}=xt(tt),Qe=[{X:ct[0].value,Y:ct[1].value,Z:ct[2].value,QX:nt[0].value,QY:nt[1].value,QZ:nt[2].value,QW:nt[3].value,time:ct[0].time}],pt=Qe[0],Rt=new he(parseFloat(pt.Y||"0"),parseFloat(pt.Z||"0"),parseFloat(pt.X||"0")),Yt=new ki(parseFloat(pt.QX||"0"),parseFloat(pt.QY||"0"),parseFloat(pt.QZ||"0"),parseFloat(pt.QW||"1"));if(J({position:Rt,quaternion:Yt}),me&&z(Qe),ie.current+=1,ie.current%st===0){const Kt={position:Rt,quaternion:Yt};ae(cr=>[...cr,Kt].slice(-St))}l.current=null}if(s.current&&!Rf(_)){const Xe=new Blob([s.current],{type:"image/jpeg"}),tt=URL.createObjectURL(Xe);U(tt),F.current&&URL.revokeObjectURL(F.current),F.current=tt,s.current=null}if(c.current&&!Rf(T)){const Xe=new Blob([c.current],{type:"image/jpeg"}),tt=URL.createObjectURL(Xe);j(tt),V.current&&URL.revokeObjectURL(V.current),V.current=tt,c.current=null}pe=requestAnimationFrame(Te)};return pe=requestAnimationFrame(Te),()=>{cancelAnimationFrame(pe),F.current&&URL.revokeObjectURL(F.current),V.current&&URL.revokeObjectURL(V.current)}},[x,_,T]),P.useEffect(()=>{if(x)x&&!ze?ve(1):x&&ze&&ve(2);else{Ft(),ve(0);return}return()=>{Ft()}},[x,ze]),w.jsxs(ih,{title:n("dataCollector.pageTitle"),children:[w.jsx(fTe,{disabled:dt,value:t,onChange:pe=>{r(pe)}}),w.jsx(iMe,{version:t,connect:x,connMode:h,connOk:v,isStarting:re,deviceStarted:Fe,recording:ze,currentStep:fe,setConnect:b,setConnMode:m,setConnOk:g,setIsStarting:Ce,setDeviceStarted:ge,setRecording:Ue,setVersion:r,leftSN:_,setLeftSN:C,rightSN:T,setRightSN:M,setCurrentStep:ve,setShowLeftRGB:we,setShowLeftTOF:Ae,setShowRightRGB:q,setShowRightTOF:Re}),w.jsxs(Ai,{title:n("dataCollector.visualizationArea"),variant:"borderless",style:{marginTop:8},children:[w.jsx(Ai,{variant:"borderless",style:{marginTop:0},bodyStyle:{padding:0},children:w.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",columnGap:0,rowGap:0,gap:24,alignItems:"start"},children:[w.jsxs(Ai,{variant:"borderless",style:{marginTop:0},bodyStyle:{padding:0},children:[w.jsx(Hx,{title:n("dataCollector.videoStream.leftHandRGB"),size:"small",style:{marginBottom:0},extra:w.jsx(lr,{type:"text",icon:w.jsx(Xp,{}),onClick:()=>et("leftRGB")}),styles:{header:{marginBottom:8,padding:"0 8px"},content:{margin:0,padding:0}},children:w.jsxs("div",{style:{width:"100%",paddingTop:"56.25%",backgroundColor:"black",position:"relative"},children:[w.jsx("video",{ref:xe,autoPlay:!0,playsInline:!0,muted:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain",display:x&&be?"block":"none"}}),!x&&w.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",lineHeight:"1.5",textAlign:"center"},children:w.jsx("span",{style:{fontSize:15},children:n("dataCollector.videoStream.notConnectedTip")})})]})}),w.jsx(Hx,{title:n("dataCollector.videoStream.leftHandTOF"),size:"small",style:{marginBottom:0},extra:w.jsx(lr,{type:"text",icon:w.jsx(Xp,{}),onClick:()=>et("leftTOF")}),styles:{header:{marginBottom:8,padding:"0 8px"},content:{margin:0,padding:0}},children:w.jsx("div",{style:{width:"100%",paddingTop:"56.25%",backgroundColor:"black",position:"relative"},children:x&&Ie&&I?w.jsx("img",{src:I,alt:"video-2-bottom",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain",backgroundColor:"black",display:"block"}}):w.jsx("div",{className:bp.loadingMask,children:w.jsx("span",{style:{fontSize:15},children:n(x?"dataCollector.videoStream.waitingStream":"dataCollector.videoStream.notConnectedTip")})})})})]}),w.jsxs(Ai,{variant:"borderless",style:{marginTop:0},bodyStyle:{padding:0},children:[w.jsx(Hx,{title:n("dataCollector.videoStream.rightHandRGB"),size:"small",style:{marginBottom:0},extra:w.jsx(lr,{type:"text",icon:w.jsx(Xp,{}),onClick:()=>et("rightRGB")}),styles:{header:{marginBottom:8,padding:"0 8px"},content:{margin:0,padding:0}},children:w.jsxs("div",{style:{width:"100%",paddingTop:"56.25%",backgroundColor:"black",position:"relative"},children:[w.jsx("video",{ref:Ee,autoPlay:!0,playsInline:!0,muted:!0,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain",display:x&&X?"block":"none"}}),!x&&w.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",color:"white",lineHeight:"1.5",textAlign:"center"},children:w.jsx("span",{style:{fontSize:15},children:n("dataCollector.videoStream.notConnectedTip")})})]})}),w.jsx(Hx,{title:n("dataCollector.videoStream.rightHandTOF"),size:"small",style:{marginBottom:0},extra:w.jsx(lr,{type:"text",icon:w.jsx(Xp,{}),onClick:()=>et("rightTOF")}),styles:{header:{marginBottom:8,padding:"0 8px"},content:{margin:0,padding:0}},children:w.jsx("div",{style:{width:"100%",paddingTop:"56.25%",backgroundColor:"black",position:"relative"},children:x&&ye&&Y?w.jsx("img",{src:Y,alt:"video-3-bottom",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"contain",backgroundColor:"black",display:"block"}}):w.jsx("div",{className:bp.loadingMask,children:w.jsx("span",{style:{fontSize:15},children:n(x?"dataCollector.videoStream.waitingStream":"dataCollector.videoStream.notConnectedTip")})})})})]})]})}),w.jsxs(zi,{gutter:24,children:[w.jsxs(hn,{span:12,children:[w.jsx("div",{className:bp.title,style:{marginTop:24},children:n("dataCollector.slamPose.leftHandTitle")}),w.jsx(Ai,{style:{height:400,marginBottom:24,padding:0},styles:{body:{padding:0,height:"100%"}},children:w.jsx(UR,{currentPose:G,history:Q,trajectoryLength:St})}),w.jsx("div",{className:bp.title,style:{marginTop:24},children:n("dataCollector.slamPose.leftDataTitle")}),w.jsx(_m,{style:{marginBottom:24,width:"100%"},pagination:!1,search:!1,loading:Le,options:!1,toolBarRender:!1,dataSource:i,columns:Ge,rowKey:"time"})]}),w.jsxs(hn,{span:12,children:[w.jsx("div",{className:bp.title,style:{marginTop:24},children:n("dataCollector.slamPose.rightHandTitle")}),w.jsx(Ai,{style:{height:400,marginBottom:24,padding:0},styles:{body:{padding:0,height:"100%"}},children:w.jsx(UR,{currentPose:Z,history:se,trajectoryLength:St})}),w.jsx("div",{className:bp.title,style:{marginTop:24},children:n("dataCollector.slamPose.rightDataTitle")}),w.jsx(_m,{style:{marginBottom:24,width:"100%"},pagination:!1,search:!1,loading:Le,options:!1,toolBarRender:!1,dataSource:D,columns:Ge,rowKey:"time"})]})]})]})]})}const Nk={subtitle:"若您需要订阅Fast UMI实时采集的数据,仅需三步即可接入:",step1:{title:"第一步",desc:"数据采集页面启动设备"},step2:{title:"第二步",desc:"在线配对设备"},step3:{title:"第三步",desc:"订阅websocket接口"},streamTitle:"websocket实时数据流",leftSlamTitle:"左手设备SLAM数据流",rightSlamTitle:"右手设备SLAM数据流",leftClampTitle:"左手设备CLAMP数据流",rightClampTitle:"右手设备CLAMP数据流",backToList:"返回列表",apiAddress:"接口地址",supportFormat:"支持格式",requestMethod:"请求方式",webSocketConnection:"WebSocket连接",dataFrequency:"数据发送频率",responseParams:"返回参数",responseExample:"JSON返回示例",requestExample:"请求示例",table:{paramName:"参数名",paramType:"类型",paramDesc:"说明"},param:{type:"消息类型",rosTimestamp:"ros发送消息的时间戳",slamData:"七元数数组[X，Y，Z，QX，QY，QZ，QW]，单位米",clampData:"clamp宽度，单位毫米"}},Uk={subtitle:"To subscribe to Fast UMI real-time data, just follow these 3 steps:",step1:{title:"Step 1",desc:"Start device on data collection page"},step2:{title:"Step 2",desc:"Pair device online"},step3:{title:"Step 3",desc:"Subscribe to websocket interface"},streamTitle:"WebSocket Real-time Data Stream",leftSlamTitle:"Left Hand Device SLAM Data Stream",rightSlamTitle:"Right Hand Device SLAM Data Stream",leftClampTitle:"Left Hand Device CLAMP Data Stream",rightClampTitle:"Right Hand Device CLAMP Data Stream",backToList:"Back to List",apiAddress:"API Address",supportFormat:"Support Format",requestMethod:"Request Method",webSocketConnection:"WebSocket Connection",dataFrequency:"Data Frequency",responseParams:"Response Parameters",responseExample:"JSON Response Example",requestExample:"Request Example",table:{paramName:"Parameter Name",paramType:"Type",paramDesc:"Description"},param:{type:"Message type",rosTimestamp:"ROS message timestamp",slamData:"Quaternion array [X, Y, Z, QX, QY, QZ, QW], unit: meters",clampData:"Clamp width, unit: millimeters"}},{Paragraph:GDe,Title:WDe,Text:qDe}=Kf,XDe=()=>{const n=bC(),{i18n:e}=ah(),t=e.language==="zh"?Nk:Uk,r=[{id:"left_slam",title:t.leftSlamTitle},{id:"right_slam",title:t.rightSlamTitle},{id:"left_clamp",title:t.leftClampTitle},{id:"right_clamp",title:t.rightClampTitle}],i=a=>{n(`/data-open/detail/${a}`,{state:{fromList:!0}})};return w.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[w.jsx("div",{style:{flex:1,padding:"40px 20px"},children:w.jsxs("div",{style:{maxWidth:1200,margin:"0 auto"},children:[w.jsx(Ai,{style:{marginBottom:40},children:w.jsxs("div",{style:{textAlign:"center",marginBottom:40},children:[w.jsx(GDe,{style:{fontSize:16,marginBottom:30,color:"#666"},children:t.subtitle}),w.jsx(bS,{current:-1,style:{maxWidth:800,margin:"0 auto"},items:[{title:w.jsx("span",{style:{color:"#1890ff",fontWeight:600},children:t.step1.title}),description:w.jsx("span",{style:{color:"#666"},children:t.step1.desc})},{title:w.jsx("span",{style:{color:"#1890ff",fontWeight:600},children:t.step2.title}),description:w.jsx("span",{style:{color:"#666"},children:t.step2.desc})},{title:w.jsx("span",{style:{color:"#1890ff",fontWeight:600},children:t.step3.title}),description:w.jsx("span",{style:{color:"#666"},children:t.step3.desc})}]})]})}),w.jsxs(Ai,{children:[w.jsx(WDe,{level:3,style:{marginBottom:30},children:t.streamTitle}),w.jsx(eM,{itemLayout:"horizontal",dataSource:r,renderItem:a=>w.jsxs(eM.Item,{style:{cursor:"pointer",padding:"16px 0",width:"fit-content",minWidth:"400px",transition:"all 0.3s"},className:"api-list-item",onClick:()=>i(a.id),children:[w.jsx(eM.Item.Meta,{title:w.jsx(qDe,{style:{fontSize:16},children:a.title})}),w.jsx(XR,{})]})})]})]})}),w.jsx("style",{children:`
        .api-list-item:hover {
          background: #f5f5f5;
          padding-left: 8px !important;
        }
      `})]})},{Title:Bk,Text:Q_}=Kf,df=({children:n})=>w.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:12},children:[w.jsx("div",{style:{width:4,height:16,background:"#1890ff",marginRight:8,borderRadius:2}}),w.jsx(Bk,{level:5,style:{margin:0,color:"#262626"},children:n})]}),YDe=()=>{const n=bC(),{id:e}=zR(),t=i3(),{i18n:r}=ah(),i=r.language==="zh"?Nk:Uk,s={left_slam:{title:i.leftSlamTitle,url:"ws://localhost:8887/api/v0/open/ws/left_slam_stream",format:"WebSocket",method:i.webSocketConnection,frequency:"100HZ",responseParams:[{name:"type",type:"string",desc:i.param.type},{name:"ros_timestamp",type:"float",desc:i.param.rosTimestamp},{name:"data",type:"array",desc:i.param.slamData}],responseExample:`{
  "type": "slam",
  "ros_timestamp": 340.265357,
  "data": [
    -0.09673779432161922,
    -0.002706221698421156,
    -0.0339129188463969,
    -0.013791387016844089,
    0.4059008828430092,
    0.006100105352891041,
    0.913792678711151
  ]
}`,requestExample:`import websocket
import threading

def on_message(ws, message):
    print(f"Received: {message}")

def on_error(ws, error):
    print(f"Error: {error}")

def on_close(ws, close_status_code, close_msg):
    print("Connection closed")

def on_open(ws):
    print("Connection established")

if __name__ == "__main__":
    websocket.enableTrace(True)
    ws = websocket.WebSocketApp(
        "ws://localhost:8887/api/v0/open/ws/left_slam_stream",
        on_open=on_open,
        on_message=on_message,
        on_error=on_error,
        on_close=on_close
    )
    ws.run_forever()`},right_slam:{title:i.rightSlamTitle,url:"ws://localhost:8887/api/v0/open/ws/right_slam_stream",format:"WebSocket",method:i.webSocketConnection,frequency:"100HZ",responseParams:[{name:"type",type:"string",desc:i.param.type},{name:"ros_timestamp",type:"float",desc:i.param.rosTimestamp},{name:"data",type:"array",desc:i.param.slamData}],responseExample:`{
  "type": "slam",
  "ros_timestamp": 340.265357,
  "data": [
    -0.09673779432161922,
    -0.002706221698421156,
    -0.0339129188463969,
    -0.013791387016844089,
    0.4059008828430092,
    0.006100105352891041,
    0.913792678711151
  ]
}`,requestExample:`import websocket
import threading

def on_message(ws, message):
    print(f"Received: {message}")

def on_error(ws, error):
    print(f"Error: {error}")

def on_close(ws, close_status_code, close_msg):
    print("Connection closed")

def on_open(ws):
    print("Connection established")

if __name__ == "__main__":
    websocket.enableTrace(True)
    ws = websocket.WebSocketApp(
        "ws://localhost:8887/api/v0/open/ws/right_slam_stream",
        on_open=on_open,
        on_message=on_message,
        on_error=on_error,
        on_close=on_close
    )
    ws.run_forever()`},left_clamp:{title:i.leftClampTitle,url:"ws://localhost:8887/api/v0/open/ws/left_clamp_stream",format:"WebSocket",method:i.webSocketConnection,frequency:"100HZ",responseParams:[{name:"type",type:"string",desc:i.param.type},{name:"ros_timestamp",type:"float",desc:i.param.rosTimestamp},{name:"data",type:"float",desc:i.param.clampData}],responseExample:`{
  "type": "clamp",
  "ros_timestamp": 2449.647088,
  "data": 87.975893266592
}`,requestExample:`import websocket
import threading

def on_message(ws, message):
    print(f"Received: {message}")

def on_error(ws, error):
    print(f"Error: {error}")

def on_close(ws, close_status_code, close_msg):
    print("Connection closed")

def on_open(ws):
    print("Connection established")

if __name__ == "__main__":
    websocket.enableTrace(True)
    ws = websocket.WebSocketApp(
        "ws://localhost:8887/api/v0/open/ws/left_clamp_stream",
        on_open=on_open,
        on_message=on_message,
        on_error=on_error,
        on_close=on_close
    )
    ws.run_forever()`},right_clamp:{title:i.rightClampTitle,url:"ws://localhost:8887/api/v0/open/ws/right_clamp_stream",format:"WebSocket",method:i.webSocketConnection,frequency:"100HZ",responseParams:[{name:"type",type:"string",desc:i.param.type},{name:"ros_timestamp",type:"float",desc:i.param.rosTimestamp},{name:"data",type:"float",desc:i.param.clampData}],responseExample:`{
  "type": "clamp",
  "ros_timestamp": 2449.647088,
  "data": 87.975893266592
}`,requestExample:`import websocket
import threading

def on_message(ws, message):
    print(f"Received: {message}")

def on_error(ws, error):
    print(f"Error: {error}")

def on_close(ws, close_status_code, close_msg):
    print("Connection closed")

def on_open(ws):
    print("Connection established")

if __name__ == "__main__":
    websocket.enableTrace(True)
    ws = websocket.WebSocketApp(
        "ws://localhost:8887/api/v0/open/ws/right_clamp_stream",
        on_open=on_open,
        on_message=on_message,
        on_error=on_error,
        on_close=on_close
    )
    ws.run_forever()`}}[e],l=[{title:i.table.paramName,dataIndex:"name",key:"name",width:150},{title:i.table.paramType,dataIndex:"type",key:"type",width:120},{title:i.table.paramDesc,dataIndex:"desc",key:"desc"}],c=()=>{const d=t.state&&t.state.fromList,h=document.referrer.includes(window.location.origin);n(d||h?-1:"/data-open")};return w.jsx("div",{style:{minHeight:"100vh",background:"#f0f2f5",padding:"24px"},children:w.jsxs("div",{style:{maxWidth:1200,margin:"0 auto"},children:[w.jsx(lr,{icon:w.jsx(q7,{}),onClick:c,style:{marginBottom:24},children:i.backToList}),w.jsxs(Ai,{children:[w.jsx(Bk,{level:2,style:{marginBottom:32,color:"#262626"},children:s==null?void 0:s.title}),w.jsxs("div",{style:{marginBottom:32},children:[w.jsx(df,{children:i.apiAddress}),w.jsx(Q_,{code:!0,style:{fontSize:14},children:s==null?void 0:s.url})]}),w.jsxs("div",{style:{marginBottom:32},children:[w.jsx(df,{children:i.supportFormat}),w.jsx(Q_,{children:s==null?void 0:s.format})]}),w.jsxs("div",{style:{marginBottom:32},children:[w.jsx(df,{children:i.requestMethod}),w.jsx(Q_,{children:s==null?void 0:s.method})]}),w.jsxs("div",{style:{marginBottom:32},children:[w.jsx(df,{children:i.dataFrequency}),w.jsx(Q_,{children:s==null?void 0:s.frequency})]}),w.jsxs("div",{style:{marginBottom:32},children:[w.jsx(df,{children:i.responseParams}),w.jsx(Uf,{columns:l,dataSource:s==null?void 0:s.responseParams,pagination:!1,size:"middle",bordered:!0})]}),w.jsxs("div",{style:{marginBottom:32},children:[w.jsx(df,{children:i.responseExample}),w.jsx("div",{style:{background:"#f5f5f5",padding:16,borderRadius:4,overflow:"auto",maxHeight:400,border:"1px solid #d9d9d9"},children:w.jsx("pre",{style:{margin:0,fontSize:13,fontFamily:"Consolas, Monaco, monospace"},children:s==null?void 0:s.responseExample})})]}),w.jsxs("div",{style:{marginBottom:32},children:[w.jsx(df,{children:i.requestExample}),w.jsx("div",{style:{display:"flex",alignItems:"center",marginBottom:12},children:w.jsx($V,{color:"blue",children:"Python"})}),w.jsx("div",{style:{background:"#f5f5f5",padding:16,borderRadius:4,overflow:"auto",maxHeight:500,border:"1px solid #d9d9d9"},children:w.jsx("pre",{style:{margin:0,fontSize:13,fontFamily:"Consolas, Monaco, monospace"},children:s==null?void 0:s.requestExample})})]})]})]})})};function KDe({initialValues:n,onFormInstanceReady:e}){const[t]=pn.useForm(),[r,i]=P.useState(!1);return P.useEffect(()=>{e(t)},[]),BR({message:"您还有未保存的修改，确定要离开吗？",when:({currentLocation:a,nextLocation:o})=>r&&a.pathname!==o.pathname}),w.jsxs(pn,{layout:"horizontal",form:t,name:"form_in_modal",initialValues:n,preserve:!1,labelAlign:"left",onChange:()=>{i(!0)},labelCol:{flex:"50px"},wrapperCol:{flex:1},className:"mt-4",children:[w.jsx(pn.Item,{name:"code",label:"标识",children:w.jsx(ei,{})}),w.jsx(pn.Item,{name:"name",label:"名称",children:w.jsx(ei,{})}),w.jsx(pn.Item,{name:"description",label:"备注",children:w.jsx(ei,{})})]})}function ZDe({open:n,onCreate:e,onCancel:t,initialValues:r}){const[i,a]=P.useState(),[o,s]=P.useState(!1);return w.jsx(cm,{title:"Edit",open:n,destroyOnHidden:!0,maskClosable:!1,onCancel:t,confirmLoading:o,okButtonProps:{htmlType:"submit"},cancelButtonProps:{disabled:o},onOk:()=>Bt(this,null,function*(){try{const l=yield i==null?void 0:i.validateFields();s(!0),e(l).finally(()=>{s(!1),t()})}catch(l){console.log("Failed:",l)}}),children:w.jsx(KDe,{initialValues:r,onFormInstanceReady:l=>{a(l)}})})}const JDe=({data:n,onRefresh:e})=>{const[t,r]=P.useState(!1),i=l=>n5(),a=l=>(console.log("Received values of form: ",l),i()),o=()=>r(!0),s=()=>r(!1);return w.jsxs(w.Fragment,{children:[w.jsx(lr,{type:"link",size:"small",onClick:o,children:"编辑"}),w.jsx(ZDe,{open:t,initialValues:n,onCreate:a,onCancel:s})]})};function QDe(){const n=P.useRef(void 0),e=[{title:"角色标识",dataIndex:"code",key:"code"},{title:"权限名称",dataIndex:"name",key:"name"},{title:"备注",dataIndex:"description",key:"description"},{title:"创建时间",dataIndex:"created_at",key:"created_at",render:(t,r)=>$P(r.created_at),search:!1},{title:"操作",dataIndex:"id",search:!1,key:"id",render:(t,r)=>w.jsxs(Ra,{children:[w.jsx(JDe,{data:r,onRefresh:()=>{var i;(i=n.current)==null||i.reload()}}),w.jsx(lr,{type:"link",children:"权限"})]})}];return w.jsx(ih,{title:"角色管理",children:w.jsxs("div",{children:[w.jsx("div",{className:"left",children:w.jsx(_m,{actionRef:n,search:{filterType:"query"},columns:e,rowKey:"id",request:(t,r,i)=>Bt(this,null,function*(){const a=yield Uwe(qe({current:t.current,pageSize:t.pageSize},t));return{data:(a==null?void 0:a.items)||[],total:(a==null?void 0:a.total)||0}})})}),w.jsx("div",{className:"right"})]})})}const{slice:eLe,forEach:tLe}=[];function nLe(n){return tLe.call(eLe.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}function rLe(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(n))}const JN=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,iLe=function(n,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let a=`${n}=${i}`;if(r.maxAge>0){const o=r.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(o)}`}if(r.domain){if(!JN.test(r.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${r.domain}`}if(r.path){if(!JN.test(r.path))throw new TypeError("option path is invalid");a+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(a+="; Partitioned"),a},QN={create(n,e,t,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+t*60*1e3)),r&&(i.domain=r),document.cookie=iLe(n,e,i)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let r=0;r<t.length;r++){let i=t[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(n,e){this.create(n,"",-1,e)}};var aLe={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document!="undefined")return QN.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:r,cookieDomain:i,cookieOptions:a}=e;t&&typeof document!="undefined"&&QN.create(t,n,r,i,a)}},oLe={name:"querystring",lookup(n){var r;let{lookupQuerystring:e}=n,t;if(typeof window!="undefined"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const o=i.substring(1).split("&");for(let s=0;s<o.length;s++){const l=o[s].indexOf("=");l>0&&o[s].substring(0,l)===e&&(t=o[s].substring(l+1))}}return t}},sLe={name:"hash",lookup(n){var i;let{lookupHash:e,lookupFromHashIndex:t}=n,r;if(typeof window!="undefined"){const{hash:a}=window.location;if(a&&a.length>2){const o=a.substring(1);if(e){const s=o.split("&");for(let l=0;l<s.length;l++){const c=s[l].indexOf("=");c>0&&s[l].substring(0,c)===e&&(r=s[l].substring(c+1))}}if(r)return r;if(!r&&t>-1){const s=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(s)?(i=s[typeof t=="number"?t:0])==null?void 0:i.replace("/",""):void 0}}}return r}};let Vp=null;const e3=()=>{if(Vp!==null)return Vp;try{if(Vp=typeof window!="undefined"&&window.localStorage!==null,!Vp)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch(n){Vp=!1}return Vp};var lLe={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&e3())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&e3()&&window.localStorage.setItem(t,n)}};let Gp=null;const t3=()=>{if(Gp!==null)return Gp;try{if(Gp=typeof window!="undefined"&&window.sessionStorage!==null,!Gp)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch(n){Gp=!1}return Gp};var cLe={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&t3())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&t3()&&window.sessionStorage.setItem(t,n)}},uLe={name:"navigator",lookup(n){const e=[];if(typeof navigator!="undefined"){const{languages:t,userLanguage:r,language:i}=navigator;if(t)for(let a=0;a<t.length;a++)e.push(t[a]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},dLe={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const r=e||(typeof document!="undefined"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},fLe={name:"path",lookup(n){var i;let{lookupFromPathIndex:e}=n;if(typeof window=="undefined")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(i=t[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},hLe={name:"subdomain",lookup(n){var i,a;let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,r=typeof window!="undefined"&&((a=(i=window.location)==null?void 0:i.hostname)==null?void 0:a.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[t]}};let zk=!1;try{document.cookie,zk=!0}catch(n){}const Hk=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];zk||Hk.splice(1,1);const pLe=()=>({order:Hk,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class kk{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=nLe(t,this.options||{},pLe()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(aLe),this.addDetector(oLe),this.addDetector(lLe),this.addDetector(cLe),this.addDetector(uLe),this.addDetector(dLe),this.addDetector(fLe),this.addDetector(hLe),this.addDetector(sLe)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(t=t.concat(i))}}),t=t.filter(r=>r!=null&&!rLe(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}kk.type="languageDetector";const mLe={landing:{welcome:"Welcome FastUmi",desc:` Lumos intelligent training system is a data collection, management, and annotation system designed for the embodied intelligent field.
          It aims to provide high-quality, scalable data services for VLA model training.
          The platform adopts a storage and business separation architecture, allowing data to be flexibly stored in public cloud object storage or private cloud object storage.
          In a local private cloud deployment environment, the platform has stably supported over 300TB of data annotation, import, and export, fully validating the high scalability and reliability of the architecture.`,monitoringTools:"Monitoring Tools",dataCollector:"Data Collector"},title:"Title","landing.title":"Index Page","dataCollector.title":"FastUMI Data Collector","systemManagement.title":"System Management","userManagement.title":"User Management","permissionManagement.title":"Permission Management","roleManagement.title":"Role Management","dataOpen.title":"Data Open","dataOpen.detail":"Open Documentation","dataReplay.title":"Data Replay","dataReplayDetail.title":"Data Preview","dataCollector.pageTitle":"Data Collector","dataCollector.versionSelectorTitle":"Version Selection","dataCollector.versionSelector.cardTitle":"Version Selection","dataCollector.versionSelector.portableTitle":"Portable Version","dataCollector.versionSelector.portableDesc":"Portable Version","dataCollector.versionSelector.fullFunctionTitle":"Full Function Version","dataCollector.versionSelector.fullFunctionDesc":"Full Function Version","dataCollector.equipmentType.portable":"Portable","dataCollector.equipmentType.pro":"Professional","dataCollector.visualizationArea":"Visualization Area","dataCollector.videoStream.leftHandRGB":"Left Hand - RGB","dataCollector.videoStream.leftHandTOF":"Left Hand - TOF","dataCollector.videoStream.rightHandRGB":"Right Hand - RGB","dataCollector.videoStream.rightHandTOF":"Right Hand - TOF","dataCollector.videoStream.headsetRGB":"Headset - RGB","dataCollector.videoStream.headsetTOF":"Headset - TOF","dataCollector.videoStream.waitingStream":"Waiting for video stream...","dataCollector.videoStream.notConnectedTip":'Not connected.... Click "Connect Device" above to start video stream',"dataCollector.slamPose.leftHandTitle":"Left Hand SLAM 3D Pose","dataCollector.slamPose.rightHandTitle":"Right Hand SLAM 3D Pose","dataCollector.slamPose.leftDataTitle":"Left Hand SLAM Data","dataCollector.slamPose.rightDataTitle":"Right Hand SLAM Data","dataCollector.slamTable.columnTime":"Time","dataCollector.slamTable.columnCoordX":"Coordinate X","dataCollector.slamTable.columnCoordY":"Coordinate Y","dataCollector.slamTable.columnCoordZ":"Coordinate Z","dataCollector.slamTable.columnQX":"QX","dataCollector.slamTable.columnQY":"QY","dataCollector.slamTable.columnQZ":"QZ","dataCollector.slamTable.columnQW":"QW","dataCollector.messageToast.slamConnectFailed":"SLAM WebSocket connection failed.","dataCollector.messageToast.tofConnectFailed":"TOF WebSocket connection failed.","dataCollector.messageToast.rightSlamConnectFailed":"Right hand SLAM WebSocket connection failed.","dataCollector.messageToast.rightTofConnectFailed":"Right hand TOF WebSocket connection failed.","dataCollector.messageToast.webrtcConnectionFailed":"WebRTC connection failed","dataCollector.cardTitle":"Control Panel","dataCollector.collapse":"Collapse","dataCollector.expand":"Expand","dataCollector.coreOperations":"Core Operations","dataCollector.startDevice":"Start Device","dataCollector.stopDevice":"Stop Device","dataCollector.connectDevice":"Connect Device","dataCollector.disconnectDevice":"Disconnect","dataCollector.startCollection":"Start Collection","dataCollector.stopCollection":"Stop Collection","dataCollector.saving":"Saving...","dataCollector.deviceConfig":"Device Configuration","dataCollector.autoPairing":"✋🏻 Auto Pairing","dataCollector.leftHand":"Left Hand","dataCollector.rightHand":"Right Hand","dataCollector.selectLeftDevice":"Select left hand device","dataCollector.selectRightDevice":"Select right hand device","dataCollector.statusMonitoring":"Status Monitoring","dataCollector.stepDisconnected":"Disconnected","dataCollector.stepDisconnectedDesc":"Device disconnected","dataCollector.stepConnected":"Connected","dataCollector.stepConnectedDesc":"Waiting to start collection","dataCollector.stepCollecting":"Collecting","dataCollector.stepCollectingDesc":"Data collection in progress","dataCollector.connectionStatus":"Connection Status","dataCollector.notConnected":"Not Connected","dataCollector.connecting":"Connecting…","dataCollector.connected":"Connected","dataCollector.laserSensor":"Laser Sensor","dataCollector.visualOdometer":"Visual Odometer","dataCollector.videoStreamStatus":"Video Stream","dataCollector.depthSensor":"Depth Sensor","dataCollector.pairingTitle":"🖐️ Automatic Device Pairing Wizard","dataCollector.cancel":"Cancel","dataCollector.close":"Close","dataCollector.startPairing":"Start Pairing","dataCollector.detecting":"Detecting...","dataCollector.analyzingData":"Analyzing motion data...","dataCollector.shakeLeftDevice":"Please keep shaking the [Left Hand] device!","dataCollector.singleDeviceNote":"(Will skip this step if only single device detected)","dataCollector.pairingIntro":"This feature will automatically identify left and right hand devices.","dataCollector.smartPairingLogic":"Smart Pairing Logic:","dataCollector.singleDeviceMode":"Single Device Mode:","dataCollector.singleDeviceModeDesc":"If only one device is detected, it will be automatically assigned as left hand.","dataCollector.dualDeviceMode":"Dual Device Mode:","dataCollector.dualDeviceModeDesc":"After clicking start, shake the left hand device to distinguish.","dataCollector.msgAlreadyConnected":"Please disconnect before restarting device","dataCollector.msgStarting":"Sending start command...","dataCollector.msgStartSuccess":"Command sent successfully: ","dataCollector.msgInitializing":"Initializing...","dataCollector.msgStartFailed":"Start failed: ","dataCollector.msgStopRequest":"Start request denied","dataCollector.msgDeviceNotStarted":"Device not started, no need to stop","dataCollector.msgStopping":"Sending stop command, cleaning processes...","dataCollector.msgStopSuccess":"Device stopped successfully: ","dataCollector.msgStopFailed":"Device stop failed: ","dataCollector.msgStopRequestDenied":"Stop request denied","dataCollector.msgStartingWait":"Device starting, please wait and refresh page","dataCollector.msgStartCollectionSuccess":"Collection started, file: ","dataCollector.msgStartCollectionFailed":"Failed to start collection","dataCollector.msgStartCollectionError":"Start collection error: ","dataCollector.msgStopCollecting":"Stopping collection and saving data...","dataCollector.msgStopCollectionSuccess":"Stopped successfully","dataCollector.msgStopCollectionFailed":"Failed to stop recording","dataCollector.msgStopCollectionError":"Stop request error: ","dataCollector.msgPairingError":"Pairing error","dataCollector.msgLoadingLocalConfig":"Trying to load local config again...","dataCollector.msgLocalConfigLoaded":"Local history config loaded","dataCollector.msgCannotConnect":"Cannot connect to service or local config is empty","dataCollector.msgPairingSuccess":"Pairing successful! Config updated","dataCollector.msgPairingFailed":"Pairing failed","dataCollector.evaluateResults":"Evaluate Results","dataCollector.evaluateSuccess":"Evaluate Passed","dataCollector.evaluateFailed":"Evaluate Fail","dataCollector.Evaluating":"Evaluating","dataCollector.failureReasons":"Failure Reasons","dataCollector.msgPrepareStartCollectionError":"Pre-collection exception:"},gLe={landing:{welcome:"欢迎使用Lumos智能采训系统",desc:` Lumos智能采训系统是一款专为具身智能领域打造的数据采集、管理与标注系统，致力于为VLA模型训练提供高质量、可扩展的数据服务能力。
          平台采用存储与业务分离架构，数据可灵活存储于公有云或私有云对象存储。在本地私有云部署环境下，平台已稳定支撑超过300TB数据的标注、导入与导出，充分验证了架构的高可扩展性与可靠性。`,monitoringTools:"监控工具",dataCollector:"数据采集"},title:"标题","landing.title":"首页","dataCollector.title":"FastUMI数据采集","systemManagement.title":"系统管理","userManagement.title":"用户管理","permissionManagement.title":"权限管理","roleManagement.title":"角色管理","dataOpen.title":"数据开放","dataOpen.detail":"开放文档","dataReplay.title":"数据回放","dataReplayDetail.title":"数据预览","dataCollector.pageTitle":"数据采集器","dataCollector.versionSelectorTitle":"版本选择","dataCollector.versionSelector.cardTitle":"版本选择","dataCollector.versionSelector.portableTitle":"便携版本","dataCollector.versionSelector.portableDesc":"便携版本","dataCollector.versionSelector.fullFunctionTitle":"全功能版本","dataCollector.versionSelector.fullFunctionDesc":"全功能版本","dataCollector.equipmentType.portable":"便携版","dataCollector.equipmentType.pro":"专业版","dataCollector.visualizationArea":"可视化区域","dataCollector.videoStream.leftHandRGB":"左手-RGB","dataCollector.videoStream.leftHandTOF":"左手-TOF","dataCollector.videoStream.rightHandRGB":"右手-RGB","dataCollector.videoStream.rightHandTOF":"右手-TOF","dataCollector.videoStream.headsetRGB":"头戴-RGB","dataCollector.videoStream.headsetTOF":"头戴-TOF","dataCollector.videoStream.waitingStream":"等待视频流...","dataCollector.videoStream.notConnectedTip":'未连接.... 点击上方 "连接设备" 开始视频流',"dataCollector.slamPose.leftHandTitle":"左手SLAM 3D位姿","dataCollector.slamPose.rightHandTitle":"右手SLAM 3D位姿","dataCollector.slamPose.leftDataTitle":"左手SLAM 数据","dataCollector.slamPose.rightDataTitle":"右手SLAM 数据","dataCollector.slamTable.columnTime":"时间","dataCollector.slamTable.columnCoordX":"坐标X","dataCollector.slamTable.columnCoordY":"坐标Y","dataCollector.slamTable.columnCoordZ":"坐标Z","dataCollector.slamTable.columnQX":"QX","dataCollector.slamTable.columnQY":"QY","dataCollector.slamTable.columnQZ":"QZ","dataCollector.slamTable.columnQW":"QW","dataCollector.messageToast.slamConnectFailed":"SLAM WebSocket 连接失败。","dataCollector.messageToast.tofConnectFailed":"TOF WebSocket 连接失败。","dataCollector.messageToast.rightSlamConnectFailed":"右手 SLAM WebSocket 连接失败。","dataCollector.messageToast.rightTofConnectFailed":"右手 TOF WebSocket 连接失败。","dataCollector.messageToast.webrtcConnectionFailed":"WebRTC 连接失败","dataCollector.cardTitle":"操作栏","dataCollector.collapse":"收起","dataCollector.expand":"展开","dataCollector.coreOperations":"核心操作","dataCollector.startDevice":"启动设备","dataCollector.stopDevice":"关闭设备","dataCollector.connectDevice":"连接设备","dataCollector.disconnectDevice":"断开连接","dataCollector.startCollection":"开始采集","dataCollector.stopCollection":"停止采集","dataCollector.saving":"保存中...","dataCollector.deviceConfig":"设备配置","dataCollector.autoPairing":"✋🏻 自动配对","dataCollector.leftHand":"左手","dataCollector.rightHand":"右手","dataCollector.selectLeftDevice":"选择左手设备","dataCollector.selectRightDevice":"选择右手设备","dataCollector.statusMonitoring":"状态监控","dataCollector.stepDisconnected":"未连接","dataCollector.stepDisconnectedDesc":"设备已断开","dataCollector.stepConnected":"已连接","dataCollector.stepConnectedDesc":"等待开始采集","dataCollector.stepCollecting":"采集中","dataCollector.stepCollectingDesc":"数据正在采集中","dataCollector.connectionStatus":"连接状态","dataCollector.notConnected":"未连接","dataCollector.connecting":"连接中…","dataCollector.connected":"已连接","dataCollector.laserSensor":"激光传感器","dataCollector.visualOdometer":"视觉里程计","dataCollector.videoStreamStatus":"视频流状态","dataCollector.depthSensor":"深度传感器","dataCollector.pairingTitle":"🖐️ 设备自动配对向导","dataCollector.cancel":"取消","dataCollector.close":"关闭","dataCollector.startPairing":"开始配对","dataCollector.detecting":"正在检测...","dataCollector.analyzingData":"正在分析运动数据...","dataCollector.shakeLeftDevice":"请持续摇晃 【左手】 设备！","dataCollector.singleDeviceNote":"(若只检测到单设备,将自动跳过此步骤)","dataCollector.pairingIntro":"此功能将自动识别左手和右手设备。","dataCollector.smartPairingLogic":"智能配对逻辑：","dataCollector.singleDeviceMode":"单设备模式：","dataCollector.singleDeviceModeDesc":"若仅检测到一台设备,自动将其分配为左手。","dataCollector.dualDeviceMode":"双设备模式：","dataCollector.dualDeviceModeDesc":"请点击开始后,摇晃左手设备进行区分。","dataCollector.msgAlreadyConnected":"请先断开连接再重启设备","dataCollector.msgStarting":"正在发送启动指令...","dataCollector.msgStartSuccess":"指令发送成功：","dataCollector.msgInitializing":"正在初始化...","dataCollector.msgStartFailed":"启动失败：","dataCollector.msgStopRequest":"启动请求被拒绝","dataCollector.msgDeviceNotStarted":"设备未启动,无需中断","dataCollector.msgStopping":"正在发送中断指令,清理进程...","dataCollector.msgStopSuccess":"设备已成功中断：","dataCollector.msgStopFailed":"设备中断失败：","dataCollector.msgStopRequestDenied":"中断请求被拒绝","dataCollector.msgStartingWait":"设备启动中,请稍等后刷新页面","dataCollector.msgStartCollectionSuccess":"开始采集,文件：","dataCollector.msgStartCollectionFailed":"开始采集失败","dataCollector.msgStartCollectionError":"开始采集异常：","dataCollector.msgStopCollecting":"正在停止采集并保存数据...","dataCollector.msgStopCollectionSuccess":"停止成功","dataCollector.msgStopCollectionFailed":"停止录制失败","dataCollector.msgStopCollectionError":"停止请求异常：","dataCollector.msgPairingError":"配对异常","dataCollector.msgLoadingLocalConfig":"尝试再次加载本地配置...","dataCollector.msgLocalConfigLoaded":"已加载本地历史配置","dataCollector.msgCannotConnect":"无法连接服务或本地配置为空","dataCollector.msgPairingSuccess":"配对成功！配置已更新","dataCollector.msgPairingFailed":"配对失败","dataCollector.evaluateResults":"评估结果","dataCollector.evaluateSuccess":"评估通过","dataCollector.evaluateFailed":"评估失败","dataCollector.Evaluating":"正在评估","dataCollector.failureReasons":"失败原因","dataCollector.msgPrepareStartCollectionError":"预采集异常："},vLe={en:{translation:mLe},zh:{translation:gLe}};Oa.use(kk).use(Y1e).init({resources:vLe,lng:typeof window!="undefined"&&localStorage.getItem("i18next_language")||"zh",fallbackLng:"zh",supportedLngs:["zh","en"],nonExplicitSupportedLngs:!0,load:"currentOnly",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","cookie","navigator","htmlTag"],caches:["localStorage","cookie"],cookieOptions:{path:"/",maxAge:365*24*60*60,sameSite:"lax"},lookupLocalStorage:"i18next_language",lookupCookie:"i18next_language"},react:{useSuspense:!1,bindI18n:"languageChanged",bindI18nStore:""}});const yLe="_wrapper_17ylk_1",bLe="_cardWrapper_17ylk_1",xLe="_folderListWrapper_17ylk_5",_Le="_folderItem_17ylk_13",SLe="_folderIcon_17ylk_32",CLe="_folderName_17ylk_40",Wp={wrapper:yLe,cardWrapper:bLe,folderListWrapper:xLe,folderItem:_Le,folderIcon:SLe,folderName:CLe},wLe=()=>Bt(void 0,null,function*(){return Zy("api/v0/files/list").then(n=>n.data)}),TLe=n=>Bt(void 0,null,function*(){return Zy("api/v0/files/detail",n).then(e=>Bt(void 0,null,function*(){return e.data}))});function MLe(){var a;const{t:n}=ah(),{data:e,loading:t,run:r}=qP(wLe,{manual:!0}),i=bC();return P.useEffect(()=>{r()},[r]),w.jsx(ih,{loading:t,children:w.jsx("div",{className:Wp.wrapper,children:w.jsx(Ai,{className:Wp.cardWrapper,children:w.jsx("div",{className:Wp.folderListWrapper,children:(a=e==null?void 0:e.files)==null?void 0:a.map(o=>w.jsxs("div",{onClick:()=>{i(`${pi.dataReplayDetail}/${o}`)},className:`${Wp.folderItem}`,children:[w.jsx(gq,{className:`${Wp.folderIcon} `}),w.jsx("div",{className:Wp.folderName,title:o,children:o})]},o))})})})})}const ELe="_wrapper_1107y_1",ALe="_cardWrapper_1107y_1",RLe="_folderListWrapper_1107y_5",PLe="_folderItem_1107y_13",OLe="_folderIcon_1107y_32",FLe="_folderName_1107y_39",ILe="_videoCol_1107y_50",DLe="_videoPlayer_1107y_54",Zs={wrapper:ELe,cardWrapper:ALe,folderListWrapper:RLe,folderItem:PLe,folderIcon:OLe,folderName:FLe,videoCol:ILe,videoPlayer:DLe},LLe=n=>{var a;const e=["timestamp","pos_x","pos_y","pos_z","rot_x","rot_y","rot_z","quat_w"],t=[],r=n==null?void 0:n.split(`
`);return((a=r[0].trim())==null?void 0:a.split(/\s+/)).length!==e.length?(console.warn("格式异常，跳过"),[]):(r.forEach((o,s)=>{const l=o.trim();if(!l)return;const c=l==null?void 0:l.split(/\s+/);if(c.length!==e.length){console.warn(`第 ${s+1} 行列数异常，跳过`);return}try{const d={};e.forEach((h,m)=>{if(d[h]=parseFloat(c[m]),isNaN(d[h]))throw new Error(`${h} 转换失败`)}),t.push(d)}catch(d){console.warn(`第 ${s+1} 行解析失败：${d.message}`)}}),t)},NLe=(n,e=0)=>n.map(t=>({type:"slam",timestamp:t.timestamp,data:[t.pos_x,t.pos_y,t.pos_z,t.rot_x,t.rot_y,t.rot_z,t.quat_w]})),jk=n=>n&&n.split("/").filter(t=>t.trim()!=="").pop()||"",ULe=1,BLe=({url:n,name:e,onClose:t})=>{const[r,i]=P.useState(null),[a,o]=P.useState([]),[s,l]=P.useState(0),[c,d]=P.useState(0),{data:h,run:m}=qP(()=>fetch(`${n}`).then(b=>Bt(void 0,null,function*(){const _=yield b.text(),C=LLe(_);return NLe(C)})));P.useEffect(()=>{n&&m()},[m,n]),P.useEffect(()=>{if(h)if(h.length>0){const b=h[0].timestamp,_=h[h.length-1].timestamp,C=parseFloat((_-b).toFixed(3));l(C),d(0)}else l(0),d(0)},[h]);const v=50,g=5;P.useEffect(()=>{if(!(h!=null&&h.length))return;const b=h[0].timestamp;let _=0,C=null;const T=Date.now();let M=0;const O=()=>{const I=(Date.now()-T)/1e3*ULe;for(;_<h.length;){const U=h[_],F=U.timestamp-b;if(F<=I){if(_%g===0||_===0){const[L,D,z,$,Y,j,V]=U.data,B=new he(L,D,z),G=new ki($,Y,j,V),W={position:B,quaternion:G};i(W),d(parseFloat(F.toFixed(3))),o(Z=>{const J=[...Z,W];return J.length>v?J.slice(-v):J})}_++,M=F}else break}_<h.length?C=requestAnimationFrame(O):d(parseFloat(M.toFixed(3)))};return C=requestAnimationFrame(O),()=>{C&&cancelAnimationFrame(C)}},[h,v,g]);const x=()=>{i(null),o([]),d(0),m()};return w.jsx(w.Fragment,{children:w.jsxs(Ai,{style:{height:500,marginBottom:24,padding:0},styles:{body:{padding:0,height:"100%",position:"relative"}},children:[w.jsx(Kf.Title,{className:"absolute top-[8px] left-[8px] z-10",level:4,children:w.jsxs(Ra,{children:[jk(e),w.jsxs("span",{className:"text-[12px] text-[#999]",children:[c.toFixed(3),"/",s.toFixed(3),"s"]})]})}),w.jsx("div",{className:"absolute top-[8px] right-0 z-10",children:w.jsxs(Ra,{children:[w.jsx(lr,{onClick:x,size:"small",type:"link",children:w.jsx(Rq,{style:{fontSize:20}})}),w.jsx(lr,{onClick:()=>t==null?void 0:t(),size:"small",type:"link",children:w.jsx(Xp,{style:{fontSize:20,color:"red"}})})]})}),w.jsx(UR,{currentPose:r,history:a,trajectoryLength:v})]})})},n3=({fileList:n,title:e})=>{const t=o=>o==null?void 0:o.endsWith(".mp4"),r=o=>o==null?void 0:o.endsWith(".txt"),[i,a]=P.useState([]);return console.log(n),w.jsx("div",{className:Zs.wrapper,children:w.jsxs(Ai,{title:e,className:Zs.cardWrapper,children:[Rf(n)&&w.jsx(fO,{image:fO.PRESENTED_IMAGE_SIMPLE,description:w.jsx("span",{children:"暂无数据"})}),w.jsx("div",{className:Zs.folderListWrapper,children:n.map(o=>w.jsxs("div",{onClick:()=>{i.includes(o)||a(s=>[...s,o])},className:`${Zs.folderItem}`,children:[t(o)?w.jsx(Wq,{className:`${Zs.folderIcon}`}):w.jsx(fq,{className:HR(Zs.folderIcon)}),w.jsx("div",{className:Zs.folderName,title:o,children:jk(o)})]},o))}),w.jsx("div",{className:Zs.playContainer,children:w.jsx(zi,{gutter:12,children:i.map(o=>{if(r(o))return w.jsx(hn,{span:24,children:w.jsx(BLe,{url:`http://localhost:8000${o}`,name:o,onClose:()=>{a(s=>s.filter(l=>l!==o))}},o)},o);if(t(o))return w.jsxs(hn,{span:24,className:Zs.videoCol,children:[w.jsx("div",{className:"absolute top-[8px] right-3 z-10",children:w.jsx(Xp,{onClick:()=>{a(s=>s.filter(l=>l!==o))},style:{fontSize:20,color:"red"}})}),w.jsx("video",{src:`http://localhost:8000${o}`,className:Zs.videoPlayer,autoPlay:!0,height:500,controls:!0},o)]},o)})})})]})})};function zLe(){const{id:n}=zR(),{run:e,data:t,loading:r}=qP(o=>TLe(o),{manual:!0,onError:o=>{$n.error(o.message,5)}});P.useEffect(()=>{if(n)return e({folderName:n}),()=>{}},[n]);const i=Nc.values(t==null?void 0:t.left_hand).filter(o=>!Rf(o)),a=Nc.values(t==null?void 0:t.right_hand).filter(o=>!Rf(o));return w.jsx(ih,{loading:r,title:n,children:w.jsx("div",{className:Zs.wrapper,children:w.jsxs(zi,{gutter:24,children:[w.jsx(hn,{span:12,children:w.jsx(n3,{title:"LEFT",fileList:i})}),w.jsx(hn,{span:12,children:w.jsx(n3,{title:"RIGHT",fileList:a})})]})})})}const{t:hi}=Oa,pi={login:"/login",landing:"/landing",systemManagement:"/system-management",userManagement:"/system-management/user-management",userManagementDetail:"/system-management/user-management/detail",permissionManagement:"/system-management/permission-management",roleManagement:"/system-management/role-management",dataCollector:"/data-collector",dataOpen:"/data-open",dataOpenDetail:"/data-open/detail",dataReplay:"/data-replay",dataReplayDetail:"/data-replay/detail"},HLe={path:pi.landing,lazy:()=>Bt(void 0,null,function*(){return{Component:aCe}}),HydrateFallback:mo,handle:{title:hi("landing.title")}},kLe={path:pi.dataCollector,lazy:()=>Bt(void 0,null,function*(){return{Component:VDe}}),HydrateFallback:mo,handle:{title:hi("dataCollector.title"),crumb:()=>w.jsx(Qp,{to:pi.dataCollector,children:hi("dataCollector.title")})}},jLe={path:pi.systemManagement,access:["admin"],lazy:()=>Bt(void 0,null,function*(){return{Component:Kwe}}),HydrateFallback:mo,handle:{crumb:()=>w.jsx(w.Fragment,{children:hi("systemManagement.title")})},children:[{path:pi.userManagement,handle:{element:w.jsx(xC,{}),title:hi("userManagement.title"),crumb:()=>w.jsx(Qp,{to:pi.userManagement,children:hi("userManagement.title")})},children:[{index:!0,lazy:()=>Bt(void 0,null,function*(){return{Component:Ywe}}),HydrateFallback:mo,handle:{title:hi("userManagement.title")}},{path:`${pi.userManagementDetail}/:id`,lazy:()=>Bt(void 0,null,function*(){return{Component:tTe}}),HydrateFallback:mo,handle:{title:"用户详情",crumb:()=>"用户详情"}}]},{path:pi.permissionManagement,lazy:()=>Bt(void 0,null,function*(){return{Component:eTe}}),HydrateFallback:mo,handle:{title:hi("permissionManagement.title"),crumb:()=>w.jsx(Qp,{to:pi.permissionManagement,children:hi("permissionManagement.title")})}},{path:pi.roleManagement,lazy:()=>Bt(void 0,null,function*(){return{Component:QDe}}),HydrateFallback:mo,handle:{title:hi("roleManagement.title"),crumb:()=>w.jsx(Qp,{to:pi.roleManagement,children:hi("roleManagement.title")})}}]},$Le={path:pi.dataOpen,handle:{element:w.jsx(xC,{}),title:hi("dataOpen.title"),crumb:()=>w.jsx(Qp,{to:pi.dataOpen,children:hi("dataOpen.title")})},children:[{index:!0,lazy:()=>Bt(void 0,null,function*(){return{Component:XDe}}),HydrateFallback:mo,handle:{title:hi("dataOpen.title")}},{path:`${pi.dataOpenDetail}/:id`,lazy:()=>Bt(void 0,null,function*(){return{Component:YDe}}),HydrateFallback:mo,handle:{title:hi("dataOpenDetail"),crumb:()=>w.jsx(w.Fragment,{children:hi("dataOpenDetail")})}}]},VLe={path:pi.dataReplay,handle:{element:w.jsx(xC,{}),title:hi("dataReplay.title"),crumb:()=>w.jsx(Qp,{to:pi.dataReplay,children:hi("dataReplay.title")})},children:[{index:!0,lazy:()=>Bt(void 0,null,function*(){return{Component:MLe}}),HydrateFallback:mo,handle:{title:hi("dataReplay.title")}},{path:`${pi.dataReplayDetail}/:id`,lazy:()=>Bt(void 0,null,function*(){return{Component:zLe}}),HydrateFallback:mo,handle:{title:hi("dataReplayDetail.title"),crumb:()=>w.jsx(w.Fragment,{children:hi("dataReplayDetail.title")})}}]},GLe=({access:n,children:e})=>{const{userInfo:t}=yw(),r=i3();return!(t!=null&&t.roles)||!(t!=null&&t.permissions)?w.jsx(WE,{to:"/login",state:{from:r},replace:!0}):!n||n.length===0?w.jsx(w.Fragment,{children:e}):JTe(n.filter(Boolean))?w.jsx(w.Fragment,{children:e}):w.jsx(WE,{to:"/not-auth",replace:!0})},WLe=(n,e)=>t=>w.jsx(GLe,{access:e,children:w.jsx(n,qe({},t))}),$k=n=>n.map(e=>{const t=qe({},e);if(t.access&&t.lazy){const r=t.lazy;t.lazy=()=>Bt(void 0,null,function*(){const i=yield r();if(i.Component){const a=WLe(i.Component,t.access);return mn(qe({},i),{Component:a})}return i})}return t.children&&(t.children=$k(t.children)),t}),qLe=[{path:pi.login,lazy:()=>Bt(void 0,null,function*(){return{Component:(yield $x(()=>Bt(void 0,null,function*(){const{default:n}=yield import("./index-D6N9UFmz.js");return{default:n}}),__vite__mapDeps([0,1,2]))).default}}),HydrateFallback:mo},{path:"/",lazy:()=>Bt(void 0,null,function*(){return{Component:(yield $x(()=>Bt(void 0,null,function*(){const{default:n}=yield import("./index-CnJGsdlq.js");return{default:n}}),__vite__mapDeps([3,2,1]))).default}}),HydrateFallback:mo,children:[{index:!0,element:w.jsx(WE,{replace:!0,to:pi.landing})},HLe,kLe,jLe,$Le,VLe]},{path:"not-auth",lazy:()=>Bt(void 0,null,function*(){return{Component:(yield $x(()=>Bt(void 0,null,function*(){const{default:n}=yield import("./index-NfaKkn0Z.js");return{default:n}}),__vite__mapDeps([4,1,2]))).default}})},{path:"*",lazy:()=>Bt(void 0,null,function*(){return{Component:(yield $x(()=>Bt(void 0,null,function*(){const{default:n}=yield import("./index-B3rhn5qL.js");return{default:n}}),__vite__mapDeps([5,1,2]))).default}}),HydrateFallback:mo}],XLe=$k(qLe),YLe=R6(XLe,{basename:"/",future:{v7_relativeSplatPath:!0,v7_fetcherPersist:!0,v7_normalizeFormMethod:!0,v7_partialHydration:!0,v7_skipActionErrorRevalidation:!0}});function KLe(){return w.jsx(HG,{children:w.jsx(VV,{children:w.jsx(P6,{router:YLe})})})}GV.createRoot(document.getElementById("root")).render(w.jsx(P.StrictMode,{children:w.jsx(S8,{children:w.jsx(v3,{children:w.jsx(KLe,{})})})}));export{eNe as H,Ln as I,pi as R,ah as a,Nq as b,yw as c,JTe as h,Rf as i,w as j,ZTe as p,xNe as s,qP as u};
